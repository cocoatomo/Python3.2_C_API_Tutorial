<html>
<head>
<title>Modules/cjkcodecs/multibytecodec.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/<a href='../files/3388.html'>cjkcodecs</a>/multibytecodec.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L54'>[^]</a><a href='#L1832'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L54' title='Defined at 54.'>make_tuple</a>
<li><a href='#L79' title='Defined at 79.'>internal_error_callback</a>
<li><a href='#L92' title='Defined at 92.'>call_error_callback</a>
<li><a href='#L121' title='Defined at 121.'>codecctx_errors_get</a>
<li><a href='#L140' title='Defined at 140.'>codecctx_errors_set</a>
<li><a href='#L173' title='Defined at 173.'>expand_encodebuffer</a>
<li><a href='#L201' title='Defined at 201.'>expand_decodebuffer</a>
<li><a href='#L229' title='Defined at 229.'>multibytecodec_encerror</a>
<li><a href='#L367' title='Defined at 367.'>multibytecodec_decerror</a>
<li><a href='#L474' title='Defined at 474.'>multibytecodec_encode</a>
<li><a href='#L549' title='Defined at 549.'>MultibyteCodec_Encode</a>
<li><a href='#L605' title='Defined at 605.'>MultibyteCodec_Decode</a>
<li><a href='#L693' title='Defined at 693.'>multibytecodec_dealloc</a>
<li><a href='#L739' title='Defined at 739.'>encoder_encode_stateful</a>
<li><a href='#L825' title='Defined at 825.'>decoder_append_pending</a>
<li><a href='#L842' title='Defined at 842.'>decoder_prepare_buffer</a>
<li><a href='#L860' title='Defined at 860.'>decoder_feed_buffer</a>
<li><a href='#L887' title='Defined at 887.'>mbiencoder_encode</a>
<li><a href='#L901' title='Defined at 901.'>mbiencoder_reset</a>
<li><a href='#L920' title='Defined at 920.'>mbiencoder_new</a>
<li><a href='#L961' title='Defined at 961.'>mbiencoder_init</a>
<li><a href='#L967' title='Defined at 967.'>mbiencoder_traverse</a>
<li><a href='#L976' title='Defined at 976.'>mbiencoder_dealloc</a>
<li><a href='#L1032' title='Defined at 1032.'>mbidecoder_decode</a>
<li><a href='#L1110' title='Defined at 1110.'>mbidecoder_reset</a>
<li><a href='#L1129' title='Defined at 1129.'>mbidecoder_new</a>
<li><a href='#L1170' title='Defined at 1170.'>mbidecoder_init</a>
<li><a href='#L1176' title='Defined at 1176.'>mbidecoder_traverse</a>
<li><a href='#L1185' title='Defined at 1185.'>mbidecoder_dealloc</a>
<li><a href='#L1241' title='Defined at 1241.'>mbstreamreader_iread</a>
<li><a href='#L1347' title='Defined at 1347.'>mbstreamreader_read</a>
<li><a href='#L1371' title='Defined at 1371.'>mbstreamreader_readline</a>
<li><a href='#L1395' title='Defined at 1395.'>mbstreamreader_readlines</a>
<li><a href='#L1425' title='Defined at 1425.'>mbstreamreader_reset</a>
<li><a href='#L1455' title='Defined at 1455.'>mbstreamreader_new</a>
<li><a href='#L1498' title='Defined at 1498.'>mbstreamreader_init</a>
<li><a href='#L1504' title='Defined at 1504.'>mbstreamreader_traverse</a>
<li><a href='#L1514' title='Defined at 1514.'>mbstreamreader_dealloc</a>
<li><a href='#L1571' title='Defined at 1571.'>mbstreamwriter_iwrite</a>
<li><a href='#L1590' title='Defined at 1590.'>mbstreamwriter_write</a>
<li><a href='#L1599' title='Defined at 1599.'>mbstreamwriter_writelines</a>
<li><a href='#L1626' title='Defined at 1626.'>mbstreamwriter_reset</a>
<li><a href='#L1658' title='Defined at 1658.'>mbstreamwriter_new</a>
<li><a href='#L1701' title='Defined at 1701.'>mbstreamwriter_init</a>
<li><a href='#L1707' title='Defined at 1707.'>mbstreamwriter_traverse</a>
<li><a href='#L1717' title='Defined at 1717.'>mbstreamwriter_dealloc</a>
<li><a href='#L1791' title='Defined at 1791.'>__create_codec</a>
<li><a href='#L1832' title='Defined at 1832.'>PyInit__multibytecodec</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*</font></i>
<a name='L2'><i><font color='green'> * multibytecodec.c: Common Multibyte Codec Implementation</font></i>
<a name='L3'><i><font color='green'> *</font></i>
<a name='L4'><i><font color='green'> * Written by Hye-Shik Chang &lt;perky@FreeBSD.org&gt;</font></i>
<a name='L5'><i><font color='green'> */</font></i>
<a name='L6'>
<a name='L7'><font color='darkred'>#define</font> <a href='../R/2388.html' title='Multiple refered from 2 places.'>PY_SSIZE_T_CLEAN</a>
<a name='L8'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L9'><font color='darkred'>#include</font> "<a href='577.html'>structmember.h</a>"
<a name='L10'><font color='darkred'>#include</font> "<a href='2643.html'>multibytecodec.h</a>"
<a name='L11'>
<a name='L12'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L13'>    <b>const</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>    *inbuf, *inbuf_top, *inbuf_end;
<a name='L14'>    <b>unsigned</b> <b>char</b>       *outbuf, *outbuf_end;
<a name='L15'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>            *excobj, *outobj;
<a name='L16'><font color='red'>}</font> <a href='../S/2642.html#L479' title='Refered from 479 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteEncodeBuffer</a>;
<a name='L17'>
<a name='L18'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L19'>    <b>const</b> <b>unsigned</b> <b>char</b> *inbuf, *inbuf_top, *inbuf_end;
<a name='L20'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>          *outbuf, *outbuf_end;
<a name='L21'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>            *excobj, *outobj;
<a name='L22'><font color='red'>}</font> <a href='../R/2030.html' title='Multiple refered from 3 places.'>MultibyteDecodeBuffer</a>;
<a name='L23'>
<a name='L24'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(MultibyteCodec_Encode__doc__,
<a name='L25'>"I.encode(unicode[, errors]) -&gt; (string, length consumed)\n\
<a name='L26'>\n\
<a name='L27'>Return an encoded string version of `unicode'. errors may be given to\n\
<a name='L28'>set a different error handling scheme. Default is 'strict' meaning that\n\
<a name='L29'>encoding errors raise a UnicodeEncodeError. Other possible values are\n\
<a name='L30'>'ignore', 'replace' and 'xmlcharrefreplace' as well as any other name\n\
<a name='L31'>registered with codecs.register_error that can handle UnicodeEncodeErrors.");
<a name='L32'>
<a name='L33'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(MultibyteCodec_Decode__doc__,
<a name='L34'>"I.decode(string[, errors]) -&gt; (unicodeobject, length consumed)\n\
<a name='L35'>\n\
<a name='L36'>Decodes `string' using I, an MultibyteCodec instance. errors may be given\n\
<a name='L37'>to set a different error handling scheme. Default is 'strict' meaning\n\
<a name='L38'>that encoding errors raise a UnicodeDecodeError. Other possible values\n\
<a name='L39'>are 'ignore' and 'replace' as well as any other name registered with\n\
<a name='L40'>codecs.register_error that is able to handle UnicodeDecodeErrors.");
<a name='L41'>
<a name='L42'><b>static</b> <b>char</b> *codeckwarglist[] = <font color='red'>{</font>"input", "errors", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L43'><b>static</b> <b>char</b> *incnewkwarglist[] = <font color='red'>{</font>"errors", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L44'><b>static</b> <b>char</b> *incrementalkwarglist[] = <font color='red'>{</font>"input", "final", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L45'><b>static</b> <b>char</b> *streamkwarglist[] = <font color='red'>{</font>"stream", "errors", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L46'>
<a name='L47'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2642.html#L474' title='Defined at 474 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_encode</a>(MultibyteCodec *,
<a name='L48'>                MultibyteCodec_State *, <b>const</b> Py_UNICODE **, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>,
<a name='L49'>                PyObject *, <b>int</b>);
<a name='L50'>
<a name='L51'><font color='darkred'>#define</font> <a href='../R/1890.html' title='Multiple refered from 2 places.'>MBENC_RESET</a>     <a href='../S/2643.html#L133' title='Defined at 133 in Modules/cjkcodecs/multibytecodec.h.'>MBENC_MAX</a>&lt;&lt;1 <i><font color='green'>/* reset after an encoding session */</font></i>
<a name='L52'>
<a name='L53'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L54'><a href='../R/8848.html' title='Multiple refered from 3 places.'>make_tuple</a>(PyObject *object, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len)
<a name='L55'><font color='red'>{</font>
<a name='L56'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v, *w;
<a name='L57'>
<a name='L58'>    <b>if</b> (<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L59'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L60'>
<a name='L61'>    v = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(2);
<a name='L62'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L63'>        Py_DECREF(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>);
<a name='L64'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L65'>    <font color='red'>}</font>
<a name='L66'>    PyTuple_SET_ITEM(v, 0, <a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>);
<a name='L67'>
<a name='L68'>    w = <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(len);
<a name='L69'>    <b>if</b> (w == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L70'>        Py_DECREF(v);
<a name='L71'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L72'>    <font color='red'>}</font>
<a name='L73'>    PyTuple_SET_ITEM(v, 1, w);
<a name='L74'>
<a name='L75'>    <b>return</b> v;
<a name='L76'><font color='red'>}</font>
<a name='L77'>
<a name='L78'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L79'><a href='../R/8447.html' title='Multiple refered from 7 places.'>internal_error_callback</a>(<b>const</b> <b>char</b> *errors)
<a name='L80'><font color='red'>{</font>
<a name='L81'>    <b>if</b> (errors == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || strcmp(errors, "strict") == 0)
<a name='L82'>        <b>return</b> <a href='../S/2643.html#L122' title='Defined at 122 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_STRICT</a>;
<a name='L83'>    <b>else</b> <b>if</b> (strcmp(errors, "ignore") == 0)
<a name='L84'>        <b>return</b> <a href='../S/2643.html#L123' title='Defined at 123 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_IGNORE</a>;
<a name='L85'>    <b>else</b> <b>if</b> (strcmp(errors, "replace") == 0)
<a name='L86'>        <b>return</b> <a href='../S/2643.html#L124' title='Defined at 124 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_REPLACE</a>;
<a name='L87'>    <b>else</b>
<a name='L88'>        <b>return</b> <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(errors);
<a name='L89'><font color='red'>}</font>
<a name='L90'>
<a name='L91'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L92'><a href='../R/6552.html' title='Multiple refered from 2 places.'>call_error_callback</a>(PyObject *errors, PyObject *exc)
<a name='L93'><font color='red'>{</font>
<a name='L94'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, *cb, *r;
<a name='L95'>    <b>const</b> <b>char</b> *str;
<a name='L96'>
<a name='L97'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyUnicode_Check(errors));
<a name='L98'>    str = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(errors);
<a name='L99'>    <b>if</b> (str == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L100'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L101'>    cb = <a href='../S/3093.html#L448' title='Defined at 448 in Python/codecs.c.'>PyCodec_LookupError</a>(str);
<a name='L102'>    <b>if</b> (cb == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L103'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L104'>
<a name='L105'>    <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(1);
<a name='L106'>    <b>if</b> (<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L107'>        Py_DECREF(cb);
<a name='L108'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L109'>    <font color='red'>}</font>
<a name='L110'>
<a name='L111'>    PyTuple_SET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0, exc);
<a name='L112'>    Py_INCREF(exc);
<a name='L113'>
<a name='L114'>    r = <a href='../S/2775.html#L2135' title='Defined at 2135 in Objects/abstract.c.'>PyObject_CallObject</a>(cb, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L115'>    Py_DECREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L116'>    Py_DECREF(cb);
<a name='L117'>    <b>return</b> r;
<a name='L118'><font color='red'>}</font>
<a name='L119'>
<a name='L120'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L121'><a href='../S/2642.html#L166' title='Refered from 166 in Modules/cjkcodecs/multibytecodec.c.'>codecctx_errors_get</a>(MultibyteStatefulCodecContext *self)
<a name='L122'><font color='red'>{</font>
<a name='L123'>    <b>const</b> <b>char</b> *errors;
<a name='L124'>
<a name='L125'>    <b>if</b> (self-&gt;errors == <a href='../S/2643.html#L122' title='Defined at 122 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_STRICT</a>)
<a name='L126'>        errors = "strict";
<a name='L127'>    <b>else</b> <b>if</b> (self-&gt;errors == <a href='../S/2643.html#L123' title='Defined at 123 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_IGNORE</a>)
<a name='L128'>        errors = "ignore";
<a name='L129'>    <b>else</b> <b>if</b> (self-&gt;errors == <a href='../S/2643.html#L124' title='Defined at 124 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_REPLACE</a>)
<a name='L130'>        errors = "replace";
<a name='L131'>    <b>else</b> <font color='red'>{</font>
<a name='L132'>        Py_INCREF(self-&gt;errors);
<a name='L133'>        <b>return</b> self-&gt;errors;
<a name='L134'>    <font color='red'>}</font>
<a name='L135'>
<a name='L136'>    <b>return</b> <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(errors);
<a name='L137'><font color='red'>}</font>
<a name='L138'>
<a name='L139'><b>static</b> <b>int</b>
<a name='L140'><a href='../S/2642.html#L167' title='Refered from 167 in Modules/cjkcodecs/multibytecodec.c.'>codecctx_errors_set</a>(MultibyteStatefulCodecContext *self, PyObject *value,
<a name='L141'>                    <b>void</b> *closure)
<a name='L142'><font color='red'>{</font>
<a name='L143'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *cb;
<a name='L144'>    <b>const</b> <b>char</b> *str;
<a name='L145'>
<a name='L146'>    <b>if</b> (!PyUnicode_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L147'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "errors must be a string");
<a name='L148'>        <b>return</b> -1;
<a name='L149'>    <font color='red'>}</font>
<a name='L150'>
<a name='L151'>    str = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L152'>    <b>if</b> (str == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L153'>        <b>return</b> -1;
<a name='L154'>
<a name='L155'>    cb = <a href='../S/2642.html#L79' title='Defined at 79 in Modules/cjkcodecs/multibytecodec.c.'>internal_error_callback</a>(str);
<a name='L156'>    <b>if</b> (cb == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L157'>        <b>return</b> -1;
<a name='L158'>
<a name='L159'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(self-&gt;errors);
<a name='L160'>    self-&gt;errors = cb;
<a name='L161'>    <b>return</b> 0;
<a name='L162'><font color='red'>}</font>
<a name='L163'>
<a name='L164'><i><font color='green'>/* This getset handlers list is used by all the stateful codec objects */</font></i>
<a name='L165'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> codecctx_getsets[] = <font color='red'>{</font>
<a name='L166'>    <font color='red'>{</font>"errors",          (getter)<a href='../S/2642.html#L121' title='Defined at 121 in Modules/cjkcodecs/multibytecodec.c.'>codecctx_errors_get</a>,
<a name='L167'>                    (setter)<a href='../S/2642.html#L140' title='Defined at 140 in Modules/cjkcodecs/multibytecodec.c.'>codecctx_errors_set</a>,
<a name='L168'>                    <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("how to treat errors")<font color='red'>}</font>,
<a name='L169'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,<font color='red'>}</font>
<a name='L170'><font color='red'>}</font>;
<a name='L171'>
<a name='L172'><b>static</b> <b>int</b>
<a name='L173'><a href='../S/2642.html#L196' title='Refered from 196 in Modules/cjkcodecs/multibytecodec.c.'>expand_encodebuffer</a>(MultibyteEncodeBuffer *buf, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> esize)
<a name='L174'><font color='red'>{</font>
<a name='L175'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> orgpos, orgsize, incsize;
<a name='L176'>
<a name='L177'>    orgpos = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)((<b>char</b> *)buf-&gt;outbuf -
<a name='L178'>                            PyBytes_AS_STRING(buf-&gt;outobj));
<a name='L179'>    orgsize = PyBytes_GET_SIZE(buf-&gt;outobj);
<a name='L180'>    incsize = (esize &lt; (orgsize &gt;&gt; 1) ? (orgsize &gt;&gt; 1) | 1 : esize);
<a name='L181'>
<a name='L182'>    <b>if</b> (orgsize &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - incsize)
<a name='L183'>        <b>return</b> -1;
<a name='L184'>
<a name='L185'>    <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;buf-&gt;outobj, orgsize + incsize) == -1)
<a name='L186'>        <b>return</b> -1;
<a name='L187'>
<a name='L188'>    buf-&gt;outbuf = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(buf-&gt;outobj) +orgpos;
<a name='L189'>    buf-&gt;outbuf_end = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(buf-&gt;outobj)
<a name='L190'>        + PyBytes_GET_SIZE(buf-&gt;outobj);
<a name='L191'>
<a name='L192'>    <b>return</b> 0;
<a name='L193'><font color='red'>}</font>
<a name='L194'><font color='darkred'>#define</font> <a href='../R/3946.html' title='Multiple refered from 4 places.'>REQUIRE_ENCODEBUFFER</a>(buf, s) <font color='red'>{</font>                                  \
<a name='L195'>    <b>if</b> ((s) &lt; 1 || (buf)-&gt;outbuf + (s) &gt; (buf)-&gt;outbuf_end)             \
<a name='L196'>        <b>if</b> (<a href='../S/2642.html#L173' title='Defined at 173 in Modules/cjkcodecs/multibytecodec.c.'>expand_encodebuffer</a>(buf, s) == -1)                          \
<a name='L197'>            <b>goto</b> errorexit;                                             \
<a name='L198'><font color='red'>}</font>
<a name='L199'>
<a name='L200'><b>static</b> <b>int</b>
<a name='L201'><a href='../S/2642.html#L219' title='Refered from 219 in Modules/cjkcodecs/multibytecodec.c.'>expand_decodebuffer</a>(MultibyteDecodeBuffer *buf, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> esize)
<a name='L202'><font color='red'>{</font>
<a name='L203'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> orgpos, orgsize;
<a name='L204'>
<a name='L205'>    orgpos = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;outbuf - <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(buf-&gt;outobj));
<a name='L206'>    orgsize = <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(buf-&gt;outobj);
<a name='L207'>    <b>if</b> (<a href='../D/4031.html' title='Multiple defined in 3 places.'>PyUnicode_Resize</a>(&amp;buf-&gt;outobj, orgsize + (
<a name='L208'>        esize &lt; (orgsize &gt;&gt; 1) ? (orgsize &gt;&gt; 1) | 1 : esize)) == -1)
<a name='L209'>        <b>return</b> -1;
<a name='L210'>
<a name='L211'>    buf-&gt;outbuf = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(buf-&gt;outobj) + orgpos;
<a name='L212'>    buf-&gt;outbuf_end = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(buf-&gt;outobj)
<a name='L213'>                      + <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(buf-&gt;outobj);
<a name='L214'>
<a name='L215'>    <b>return</b> 0;
<a name='L216'><font color='red'>}</font>
<a name='L217'><font color='darkred'>#define</font> <a href='../R/3945.html' title='Multiple refered from 3 places.'>REQUIRE_DECODEBUFFER</a>(buf, s) <font color='red'>{</font>                                  \
<a name='L218'>    <b>if</b> ((s) &lt; 1 || (buf)-&gt;outbuf + (s) &gt; (buf)-&gt;outbuf_end)             \
<a name='L219'>        <b>if</b> (<a href='../S/2642.html#L201' title='Defined at 201 in Modules/cjkcodecs/multibytecodec.c.'>expand_decodebuffer</a>(buf, s) == -1)                          \
<a name='L220'>            <b>goto</b> errorexit;                                             \
<a name='L221'><font color='red'>}</font>
<a name='L222'>
<a name='L223'>
<a name='L224'><i><font color='green'>/**</font></i>
<a name='L225'><i><font color='green'> * MultibyteCodec object</font></i>
<a name='L226'><i><font color='green'> */</font></i>
<a name='L227'>
<a name='L228'><b>static</b> <b>int</b>
<a name='L229'><a href='../R/9155.html' title='Multiple refered from 2 places.'>multibytecodec_encerror</a>(MultibyteCodec *codec,
<a name='L230'>                        MultibyteCodec_State *state,
<a name='L231'>                        MultibyteEncodeBuffer *buf,
<a name='L232'>                        PyObject *errors, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> e)
<a name='L233'><font color='red'>{</font>
<a name='L234'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *retobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *retstr = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *tobj;
<a name='L235'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> retstrsize, newpos;
<a name='L236'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> esize, start, end;
<a name='L237'>    <b>const</b> <b>char</b> *reason;
<a name='L238'>
<a name='L239'>    <b>if</b> (e &gt; 0) <font color='red'>{</font>
<a name='L240'>        reason = "illegal multibyte sequence";
<a name='L241'>        esize = e;
<a name='L242'>    <font color='red'>}</font>
<a name='L243'>    <b>else</b> <font color='red'>{</font>
<a name='L244'>        <b>switch</b> (e) <font color='red'>{</font>
<a name='L245'>        <b>case</b> <a href='../S/2643.html#L118' title='Defined at 118 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOSMALL</a>:
<a name='L246'>            <a href='../S/2642.html#L194' title='Defined at 194 in Modules/cjkcodecs/multibytecodec.c.'>REQUIRE_ENCODEBUFFER</a>(buf, -1);
<a name='L247'>            <b>return</b> 0; <i><font color='green'>/* retry it */</font></i>
<a name='L248'>        <b>case</b> <a href='../S/2643.html#L119' title='Defined at 119 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOFEW</a>:
<a name='L249'>            reason = "incomplete multibyte sequence";
<a name='L250'>            esize = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf_end - buf-&gt;inbuf);
<a name='L251'>            <b>break</b>;
<a name='L252'>        <b>case</b> <a href='../S/2643.html#L120' title='Defined at 120 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_INTERNAL</a>:
<a name='L253'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError,
<a name='L254'>                            "internal codec error");
<a name='L255'>            <b>return</b> -1;
<a name='L256'>        <b>default</b>:
<a name='L257'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError,
<a name='L258'>                            "unknown runtime error");
<a name='L259'>            <b>return</b> -1;
<a name='L260'>        <font color='red'>}</font>
<a name='L261'>    <font color='red'>}</font>
<a name='L262'>
<a name='L263'>    <b>if</b> (errors == <a href='../S/2643.html#L124' title='Defined at 124 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_REPLACE</a>) <font color='red'>{</font>
<a name='L264'>        <b>const</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> replchar = '?', *inbuf = &amp;replchar;
<a name='L265'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> r;
<a name='L266'>
<a name='L267'>        <b>for</b> (;;) <font color='red'>{</font>
<a name='L268'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> outleft;
<a name='L269'>
<a name='L270'>            outleft = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;outbuf_end - buf-&gt;outbuf);
<a name='L271'>            r = codec-&gt;encode(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>, &amp;inbuf, 1,
<a name='L272'>                              &amp;buf-&gt;outbuf, outleft, 0);
<a name='L273'>            <b>if</b> (r == <a href='../S/2643.html#L118' title='Defined at 118 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOSMALL</a>) <font color='red'>{</font>
<a name='L274'>                <a href='../S/2642.html#L194' title='Defined at 194 in Modules/cjkcodecs/multibytecodec.c.'>REQUIRE_ENCODEBUFFER</a>(buf, -1);
<a name='L275'>                <b>continue</b>;
<a name='L276'>            <font color='red'>}</font>
<a name='L277'>            <b>else</b>
<a name='L278'>                <b>break</b>;
<a name='L279'>        <font color='red'>}</font>
<a name='L280'>
<a name='L281'>        <b>if</b> (r != 0) <font color='red'>{</font>
<a name='L282'>            <a href='../S/2642.html#L194' title='Defined at 194 in Modules/cjkcodecs/multibytecodec.c.'>REQUIRE_ENCODEBUFFER</a>(buf, 1);
<a name='L283'>            *buf-&gt;outbuf++ = '?';
<a name='L284'>        <font color='red'>}</font>
<a name='L285'>    <font color='red'>}</font>
<a name='L286'>    <b>if</b> (errors == <a href='../S/2643.html#L123' title='Defined at 123 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_IGNORE</a> || errors == <a href='../S/2643.html#L124' title='Defined at 124 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_REPLACE</a>) <font color='red'>{</font>
<a name='L287'>        buf-&gt;inbuf += esize;
<a name='L288'>        <b>return</b> 0;
<a name='L289'>    <font color='red'>}</font>
<a name='L290'>
<a name='L291'>    start = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf - buf-&gt;inbuf_top);
<a name='L292'>    end = start + esize;
<a name='L293'>
<a name='L294'>    <i><font color='green'>/* use cached exception object if available */</font></i>
<a name='L295'>    <b>if</b> (buf-&gt;excobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L296'>        buf-&gt;excobj = <a href='../S/2789.html#L1509' title='Defined at 1509 in Objects/exceptions.c.'>PyUnicodeEncodeError_Create</a>(codec-&gt;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>,
<a name='L297'>                        buf-&gt;inbuf_top,
<a name='L298'>                        buf-&gt;inbuf_end - buf-&gt;inbuf_top,
<a name='L299'>                        start, end, reason);
<a name='L300'>        <b>if</b> (buf-&gt;excobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L301'>            <b>goto</b> errorexit;
<a name='L302'>    <font color='red'>}</font>
<a name='L303'>    <b>else</b>
<a name='L304'>        <b>if</b> (<a href='../S/2789.html#L1236' title='Defined at 1236 in Objects/exceptions.c.'>PyUnicodeEncodeError_SetStart</a>(buf-&gt;excobj, start) != 0 ||
<a name='L305'>            <a href='../S/2789.html#L1304' title='Defined at 1304 in Objects/exceptions.c.'>PyUnicodeEncodeError_SetEnd</a>(buf-&gt;excobj, end) != 0 ||
<a name='L306'>            <a href='../S/2789.html#L1348' title='Defined at 1348 in Objects/exceptions.c.'>PyUnicodeEncodeError_SetReason</a>(buf-&gt;excobj, reason) != 0)
<a name='L307'>            <b>goto</b> errorexit;
<a name='L308'>
<a name='L309'>    <b>if</b> (errors == <a href='../S/2643.html#L122' title='Defined at 122 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_STRICT</a>) <font color='red'>{</font>
<a name='L310'>        <a href='../S/3093.html#L480' title='Defined at 480 in Python/codecs.c.'>PyCodec_StrictErrors</a>(buf-&gt;excobj);
<a name='L311'>        <b>goto</b> errorexit;
<a name='L312'>    <font color='red'>}</font>
<a name='L313'>
<a name='L314'>    retobj = <a href='../S/2642.html#L92' title='Defined at 92 in Modules/cjkcodecs/multibytecodec.c.'>call_error_callback</a>(errors, buf-&gt;excobj);
<a name='L315'>    <b>if</b> (retobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L316'>        <b>goto</b> errorexit;
<a name='L317'>
<a name='L318'>    <b>if</b> (!PyTuple_Check(retobj) || PyTuple_GET_SIZE(retobj) != 2 ||
<a name='L319'>        !PyUnicode_Check((tobj = PyTuple_GET_ITEM(retobj, 0))) ||
<a name='L320'>        !PyLong_Check(PyTuple_GET_ITEM(retobj, 1))) <font color='red'>{</font>
<a name='L321'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L322'>                        "encoding error handler must return "
<a name='L323'>                        "(unicode, int) tuple");
<a name='L324'>        <b>goto</b> errorexit;
<a name='L325'>    <font color='red'>}</font>
<a name='L326'>
<a name='L327'>    <font color='red'>{</font>
<a name='L328'>        <b>const</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *uraw = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(tobj);
<a name='L329'>
<a name='L330'>        retstr = <a href='../S/2642.html#L474' title='Defined at 474 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_encode</a>(codec, <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, &amp;uraw,
<a name='L331'>                        <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(tobj), <a href='../S/2643.html#L122' title='Defined at 122 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_STRICT</a>,
<a name='L332'>                        <a href='../S/2643.html#L132' title='Defined at 132 in Modules/cjkcodecs/multibytecodec.h.'>MBENC_FLUSH</a>);
<a name='L333'>        <b>if</b> (retstr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L334'>            <b>goto</b> errorexit;
<a name='L335'>    <font color='red'>}</font>
<a name='L336'>
<a name='L337'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyBytes_Check(retstr));
<a name='L338'>    retstrsize = PyBytes_GET_SIZE(retstr);
<a name='L339'>    <a href='../S/2642.html#L194' title='Defined at 194 in Modules/cjkcodecs/multibytecodec.c.'>REQUIRE_ENCODEBUFFER</a>(buf, retstrsize);
<a name='L340'>
<a name='L341'>    <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(buf-&gt;outbuf, PyBytes_AS_STRING(retstr), retstrsize);
<a name='L342'>    buf-&gt;outbuf += retstrsize;
<a name='L343'>
<a name='L344'>    newpos = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(PyTuple_GET_ITEM(retobj, 1));
<a name='L345'>    <b>if</b> (newpos &lt; 0 &amp;&amp; !<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L346'>        newpos += (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf_end - buf-&gt;inbuf_top);
<a name='L347'>    <b>if</b> (newpos &lt; 0 || buf-&gt;inbuf_top + newpos &gt; buf-&gt;inbuf_end) <font color='red'>{</font>
<a name='L348'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L349'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_IndexError,
<a name='L350'>                     "position %zd from error handler out of bounds",
<a name='L351'>                     newpos);
<a name='L352'>        <b>goto</b> errorexit;
<a name='L353'>    <font color='red'>}</font>
<a name='L354'>    buf-&gt;inbuf = buf-&gt;inbuf_top + newpos;
<a name='L355'>
<a name='L356'>    Py_DECREF(retobj);
<a name='L357'>    Py_DECREF(retstr);
<a name='L358'>    <b>return</b> 0;
<a name='L359'>
<a name='L360'>errorexit:
<a name='L361'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(retobj);
<a name='L362'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(retstr);
<a name='L363'>    <b>return</b> -1;
<a name='L364'><font color='red'>}</font>
<a name='L365'>
<a name='L366'><b>static</b> <b>int</b>
<a name='L367'><a href='../R/9154.html' title='Multiple refered from 4 places.'>multibytecodec_decerror</a>(MultibyteCodec *codec,
<a name='L368'>                        MultibyteCodec_State *state,
<a name='L369'>                        MultibyteDecodeBuffer *buf,
<a name='L370'>                        PyObject *errors, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> e)
<a name='L371'><font color='red'>{</font>
<a name='L372'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *retobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *retuni = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L373'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> retunisize, newpos;
<a name='L374'>    <b>const</b> <b>char</b> *reason;
<a name='L375'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> esize, start, end;
<a name='L376'>
<a name='L377'>    <b>if</b> (e &gt; 0) <font color='red'>{</font>
<a name='L378'>        reason = "illegal multibyte sequence";
<a name='L379'>        esize = e;
<a name='L380'>    <font color='red'>}</font>
<a name='L381'>    <b>else</b> <font color='red'>{</font>
<a name='L382'>        <b>switch</b> (e) <font color='red'>{</font>
<a name='L383'>        <b>case</b> <a href='../S/2643.html#L118' title='Defined at 118 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOSMALL</a>:
<a name='L384'>            <a href='../S/2642.html#L217' title='Defined at 217 in Modules/cjkcodecs/multibytecodec.c.'>REQUIRE_DECODEBUFFER</a>(buf, -1);
<a name='L385'>            <b>return</b> 0; <i><font color='green'>/* retry it */</font></i>
<a name='L386'>        <b>case</b> <a href='../S/2643.html#L119' title='Defined at 119 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOFEW</a>:
<a name='L387'>            reason = "incomplete multibyte sequence";
<a name='L388'>            esize = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf_end - buf-&gt;inbuf);
<a name='L389'>            <b>break</b>;
<a name='L390'>        <b>case</b> <a href='../S/2643.html#L120' title='Defined at 120 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_INTERNAL</a>:
<a name='L391'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError,
<a name='L392'>                            "internal codec error");
<a name='L393'>            <b>return</b> -1;
<a name='L394'>        <b>default</b>:
<a name='L395'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError,
<a name='L396'>                            "unknown runtime error");
<a name='L397'>            <b>return</b> -1;
<a name='L398'>        <font color='red'>}</font>
<a name='L399'>    <font color='red'>}</font>
<a name='L400'>
<a name='L401'>    <b>if</b> (errors == <a href='../S/2643.html#L124' title='Defined at 124 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_REPLACE</a>) <font color='red'>{</font>
<a name='L402'>        <a href='../S/2642.html#L217' title='Defined at 217 in Modules/cjkcodecs/multibytecodec.c.'>REQUIRE_DECODEBUFFER</a>(buf, 1);
<a name='L403'>        *buf-&gt;outbuf++ = <a href='../S/587.html#L421' title='Defined at 421 in Include/unicodeobject.h.'>Py_UNICODE_REPLACEMENT_CHARACTER</a>;
<a name='L404'>    <font color='red'>}</font>
<a name='L405'>    <b>if</b> (errors == <a href='../S/2643.html#L123' title='Defined at 123 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_IGNORE</a> || errors == <a href='../S/2643.html#L124' title='Defined at 124 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_REPLACE</a>) <font color='red'>{</font>
<a name='L406'>        buf-&gt;inbuf += esize;
<a name='L407'>        <b>return</b> 0;
<a name='L408'>    <font color='red'>}</font>
<a name='L409'>
<a name='L410'>    start = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf - buf-&gt;inbuf_top);
<a name='L411'>    end = start + esize;
<a name='L412'>
<a name='L413'>    <i><font color='green'>/* use cached exception object if available */</font></i>
<a name='L414'>    <b>if</b> (buf-&gt;excobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L415'>        buf-&gt;excobj = <a href='../S/2789.html#L1621' title='Defined at 1621 in Objects/exceptions.c.'>PyUnicodeDecodeError_Create</a>(codec-&gt;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>,
<a name='L416'>                        (<b>const</b> <b>char</b> *)buf-&gt;inbuf_top,
<a name='L417'>                        (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf_end - buf-&gt;inbuf_top),
<a name='L418'>                        start, end, reason);
<a name='L419'>        <b>if</b> (buf-&gt;excobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L420'>            <b>goto</b> errorexit;
<a name='L421'>    <font color='red'>}</font>
<a name='L422'>    <b>else</b>
<a name='L423'>        <b>if</b> (<a href='../S/2789.html#L1244' title='Defined at 1244 in Objects/exceptions.c.'>PyUnicodeDecodeError_SetStart</a>(buf-&gt;excobj, start) ||
<a name='L424'>            <a href='../S/2789.html#L1312' title='Defined at 1312 in Objects/exceptions.c.'>PyUnicodeDecodeError_SetEnd</a>(buf-&gt;excobj, end) ||
<a name='L425'>            <a href='../S/2789.html#L1356' title='Defined at 1356 in Objects/exceptions.c.'>PyUnicodeDecodeError_SetReason</a>(buf-&gt;excobj, reason))
<a name='L426'>            <b>goto</b> errorexit;
<a name='L427'>
<a name='L428'>    <b>if</b> (errors == <a href='../S/2643.html#L122' title='Defined at 122 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_STRICT</a>) <font color='red'>{</font>
<a name='L429'>        <a href='../S/3093.html#L480' title='Defined at 480 in Python/codecs.c.'>PyCodec_StrictErrors</a>(buf-&gt;excobj);
<a name='L430'>        <b>goto</b> errorexit;
<a name='L431'>    <font color='red'>}</font>
<a name='L432'>
<a name='L433'>    retobj = <a href='../S/2642.html#L92' title='Defined at 92 in Modules/cjkcodecs/multibytecodec.c.'>call_error_callback</a>(errors, buf-&gt;excobj);
<a name='L434'>    <b>if</b> (retobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L435'>        <b>goto</b> errorexit;
<a name='L436'>
<a name='L437'>    <b>if</b> (!PyTuple_Check(retobj) || PyTuple_GET_SIZE(retobj) != 2 ||
<a name='L438'>        !PyUnicode_Check((retuni = PyTuple_GET_ITEM(retobj, 0))) ||
<a name='L439'>        !PyLong_Check(PyTuple_GET_ITEM(retobj, 1))) <font color='red'>{</font>
<a name='L440'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L441'>                        "decoding error handler must return "
<a name='L442'>                        "(unicode, int) tuple");
<a name='L443'>        <b>goto</b> errorexit;
<a name='L444'>    <font color='red'>}</font>
<a name='L445'>
<a name='L446'>    retunisize = <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(retuni);
<a name='L447'>    <b>if</b> (retunisize &gt; 0) <font color='red'>{</font>
<a name='L448'>        <a href='../S/2642.html#L217' title='Defined at 217 in Modules/cjkcodecs/multibytecodec.c.'>REQUIRE_DECODEBUFFER</a>(buf, retunisize);
<a name='L449'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>((<b>char</b> *)buf-&gt;outbuf, <a href='../S/587.html#L410' title='Defined at 410 in Include/unicodeobject.h.'>PyUnicode_AS_DATA</a>(retuni),
<a name='L450'>                        retunisize * <a href='../D/4282.html' title='Multiple defined in 3 places.'>Py_UNICODE_SIZE</a>);
<a name='L451'>        buf-&gt;outbuf += retunisize;
<a name='L452'>    <font color='red'>}</font>
<a name='L453'>
<a name='L454'>    newpos = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(PyTuple_GET_ITEM(retobj, 1));
<a name='L455'>    <b>if</b> (newpos &lt; 0 &amp;&amp; !<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L456'>        newpos += (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf_end - buf-&gt;inbuf_top);
<a name='L457'>    <b>if</b> (newpos &lt; 0 || buf-&gt;inbuf_top + newpos &gt; buf-&gt;inbuf_end) <font color='red'>{</font>
<a name='L458'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L459'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_IndexError,
<a name='L460'>                     "position %zd from error handler out of bounds",
<a name='L461'>                     newpos);
<a name='L462'>        <b>goto</b> errorexit;
<a name='L463'>    <font color='red'>}</font>
<a name='L464'>    buf-&gt;inbuf = buf-&gt;inbuf_top + newpos;
<a name='L465'>    Py_DECREF(retobj);
<a name='L466'>    <b>return</b> 0;
<a name='L467'>
<a name='L468'>errorexit:
<a name='L469'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(retobj);
<a name='L470'>    <b>return</b> -1;
<a name='L471'><font color='red'>}</font>
<a name='L472'>
<a name='L473'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L474'><a href='../R/9156.html' title='Multiple refered from 5 places.'>multibytecodec_encode</a>(MultibyteCodec *codec,
<a name='L475'>                      MultibyteCodec_State *state,
<a name='L476'>                      <b>const</b> Py_UNICODE **data, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> datalen,
<a name='L477'>                      PyObject *errors, <b>int</b> flags)
<a name='L478'><font color='red'>{</font>
<a name='L479'>    <a href='../S/2642.html#L16' title='Defined at 16 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteEncodeBuffer</a> buf;
<a name='L480'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> finalsize, r = 0;
<a name='L481'>
<a name='L482'>    <b>if</b> (datalen == 0)
<a name='L483'>        <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0);
<a name='L484'>
<a name='L485'>    buf.excobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L486'>    buf.inbuf = buf.inbuf_top = *data;
<a name='L487'>    buf.inbuf_end = buf.inbuf_top + datalen;
<a name='L488'>
<a name='L489'>    <b>if</b> (datalen &gt; (<a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - 16) / 2) <font color='red'>{</font>
<a name='L490'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L491'>        <b>goto</b> errorexit;
<a name='L492'>    <font color='red'>}</font>
<a name='L493'>
<a name='L494'>    buf.outobj = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, datalen * 2 + 16);
<a name='L495'>    <b>if</b> (buf.outobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L496'>        <b>goto</b> errorexit;
<a name='L497'>    buf.outbuf = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(buf.outobj);
<a name='L498'>    buf.outbuf_end = buf.outbuf + PyBytes_GET_SIZE(buf.outobj);
<a name='L499'>
<a name='L500'>    <b>while</b> (buf.inbuf &lt; buf.inbuf_end) <font color='red'>{</font>
<a name='L501'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> inleft, outleft;
<a name='L502'>
<a name='L503'>        <i><font color='green'>/* we don't reuse inleft and outleft here.</font></i>
<a name='L504'><i><font color='green'>         * error callbacks can relocate the cursor anywhere on buffer*/</font></i>
<a name='L505'>        inleft = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf.inbuf_end - buf.inbuf);
<a name='L506'>        outleft = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf.outbuf_end - buf.outbuf);
<a name='L507'>        r = codec-&gt;encode(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>, &amp;buf.inbuf, inleft,
<a name='L508'>                          &amp;buf.outbuf, outleft, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L509'>        <b>if</b> ((r == 0) || (r == <a href='../S/2643.html#L119' title='Defined at 119 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOFEW</a> &amp;&amp; !(<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> &amp; <a href='../S/2643.html#L132' title='Defined at 132 in Modules/cjkcodecs/multibytecodec.h.'>MBENC_FLUSH</a>)))
<a name='L510'>            <b>break</b>;
<a name='L511'>        <b>else</b> <b>if</b> (<a href='../S/2642.html#L229' title='Defined at 229 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_encerror</a>(codec, <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, &amp;buf, errors,r))
<a name='L512'>            <b>goto</b> errorexit;
<a name='L513'>        <b>else</b> <b>if</b> (r == <a href='../S/2643.html#L119' title='Defined at 119 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOFEW</a>)
<a name='L514'>            <b>break</b>;
<a name='L515'>    <font color='red'>}</font>
<a name='L516'>
<a name='L517'>    <b>if</b> (codec-&gt;encreset != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L518'>        <b>for</b> (;;) <font color='red'>{</font>
<a name='L519'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> outleft;
<a name='L520'>
<a name='L521'>            outleft = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf.outbuf_end - buf.outbuf);
<a name='L522'>            r = codec-&gt;encreset(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>, &amp;buf.outbuf,
<a name='L523'>                                outleft);
<a name='L524'>            <b>if</b> (r == 0)
<a name='L525'>                <b>break</b>;
<a name='L526'>            <b>else</b> <b>if</b> (<a href='../S/2642.html#L229' title='Defined at 229 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_encerror</a>(codec, <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>,
<a name='L527'>                                             &amp;buf, errors, r))
<a name='L528'>                <b>goto</b> errorexit;
<a name='L529'>        <font color='red'>}</font>
<a name='L530'>
<a name='L531'>    finalsize = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)((<b>char</b> *)buf.outbuf -
<a name='L532'>                             PyBytes_AS_STRING(buf.outobj));
<a name='L533'>
<a name='L534'>    <b>if</b> (finalsize != PyBytes_GET_SIZE(buf.outobj))
<a name='L535'>        <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;buf.outobj, finalsize) == -1)
<a name='L536'>            <b>goto</b> errorexit;
<a name='L537'>
<a name='L538'>    *data = buf.inbuf;
<a name='L539'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.excobj);
<a name='L540'>    <b>return</b> buf.outobj;
<a name='L541'>
<a name='L542'>errorexit:
<a name='L543'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.excobj);
<a name='L544'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.outobj);
<a name='L545'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L546'><font color='red'>}</font>
<a name='L547'>
<a name='L548'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L549'><a href='../S/2642.html#L683' title='Refered from 683 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteCodec_Encode</a>(MultibyteCodecObject *self,
<a name='L550'>                      PyObject *args, PyObject *kwargs)
<a name='L551'><font color='red'>{</font>
<a name='L552'>    <a href='../S/2643.html#L31' title='Defined at 31 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_State</a> <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>;
<a name='L553'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *data;
<a name='L554'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *errorcb, *r, *<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, *ucvt;
<a name='L555'>    <b>const</b> <b>char</b> *errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L556'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> datalen;
<a name='L557'>
<a name='L558'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwargs, "O|z:encode",
<a name='L559'>                            codeckwarglist, &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, &amp;errors))
<a name='L560'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L561'>
<a name='L562'>    <b>if</b> (PyUnicode_Check(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>))
<a name='L563'>        ucvt = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L564'>    <b>else</b> <font color='red'>{</font>
<a name='L565'>        <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = ucvt = <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L566'>        <b>if</b> (<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L567'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L568'>        <b>else</b> <b>if</b> (!PyUnicode_Check(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)) <font color='red'>{</font>
<a name='L569'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L570'>                "couldn't convert the object to unicode.");
<a name='L571'>            Py_DECREF(ucvt);
<a name='L572'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L573'>        <font color='red'>}</font>
<a name='L574'>    <font color='red'>}</font>
<a name='L575'>
<a name='L576'>    data = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L577'>    datalen = <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L578'>
<a name='L579'>    errorcb = <a href='../S/2642.html#L79' title='Defined at 79 in Modules/cjkcodecs/multibytecodec.c.'>internal_error_callback</a>(errors);
<a name='L580'>    <b>if</b> (errorcb == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L581'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(ucvt);
<a name='L582'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L583'>    <font color='red'>}</font>
<a name='L584'>
<a name='L585'>    <b>if</b> (self-&gt;codec-&gt;encinit != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L586'>        self-&gt;codec-&gt;encinit(&amp;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L587'>        <b>goto</b> errorexit;
<a name='L588'>    r = <a href='../S/2642.html#L474' title='Defined at 474 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_encode</a>(self-&gt;codec, &amp;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>,
<a name='L589'>                    (<b>const</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> **)&amp;data, datalen, errorcb,
<a name='L590'>                    <a href='../S/2643.html#L132' title='Defined at 132 in Modules/cjkcodecs/multibytecodec.h.'>MBENC_FLUSH</a> | <a href='../S/2642.html#L51' title='Defined at 51 in Modules/cjkcodecs/multibytecodec.c.'>MBENC_RESET</a>);
<a name='L591'>    <b>if</b> (r == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L592'>        <b>goto</b> errorexit;
<a name='L593'>
<a name='L594'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(errorcb);
<a name='L595'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(ucvt);
<a name='L596'>    <b>return</b> <a href='../S/2642.html#L54' title='Defined at 54 in Modules/cjkcodecs/multibytecodec.c.'>make_tuple</a>(r, datalen);
<a name='L597'>
<a name='L598'>errorexit:
<a name='L599'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(errorcb);
<a name='L600'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(ucvt);
<a name='L601'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L602'><font color='red'>}</font>
<a name='L603'>
<a name='L604'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L605'><a href='../S/2642.html#L686' title='Refered from 686 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteCodec_Decode</a>(MultibyteCodecObject *self,
<a name='L606'>                      PyObject *args, PyObject *kwargs)
<a name='L607'><font color='red'>{</font>
<a name='L608'>    <a href='../S/2643.html#L31' title='Defined at 31 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_State</a> <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>;
<a name='L609'>    <a href='../S/2642.html#L22' title='Defined at 22 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteDecodeBuffer</a> buf;
<a name='L610'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *errorcb;
<a name='L611'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pdata;
<a name='L612'>    <b>const</b> <b>char</b> *data, *errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L613'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> datalen, finalsize;
<a name='L614'>
<a name='L615'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwargs, "y*|z:decode",
<a name='L616'>                            codeckwarglist, &amp;pdata, &amp;errors))
<a name='L617'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L618'>    data = pdata.buf;
<a name='L619'>    datalen = pdata.len;
<a name='L620'>
<a name='L621'>    errorcb = <a href='../S/2642.html#L79' title='Defined at 79 in Modules/cjkcodecs/multibytecodec.c.'>internal_error_callback</a>(errors);
<a name='L622'>    <b>if</b> (errorcb == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L623'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L624'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L625'>    <font color='red'>}</font>
<a name='L626'>
<a name='L627'>    <b>if</b> (datalen == 0) <font color='red'>{</font>
<a name='L628'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L629'>        <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(errorcb);
<a name='L630'>        <b>return</b> <a href='../S/2642.html#L54' title='Defined at 54 in Modules/cjkcodecs/multibytecodec.c.'>make_tuple</a>(<a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0), 0);
<a name='L631'>    <font color='red'>}</font>
<a name='L632'>
<a name='L633'>    buf.excobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L634'>    buf.inbuf = buf.inbuf_top = (<b>unsigned</b> <b>char</b> *)data;
<a name='L635'>    buf.inbuf_end = buf.inbuf_top + datalen;
<a name='L636'>    buf.outobj = <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, datalen);
<a name='L637'>    <b>if</b> (buf.outobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L638'>        <b>goto</b> errorexit;
<a name='L639'>    buf.outbuf = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(buf.outobj);
<a name='L640'>    buf.outbuf_end = buf.outbuf + <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(buf.outobj);
<a name='L641'>
<a name='L642'>    <b>if</b> (self-&gt;codec-&gt;decinit != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L643'>        self-&gt;codec-&gt;decinit(&amp;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L644'>        <b>goto</b> errorexit;
<a name='L645'>
<a name='L646'>    <b>while</b> (buf.inbuf &lt; buf.inbuf_end) <font color='red'>{</font>
<a name='L647'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> inleft, outleft, r;
<a name='L648'>
<a name='L649'>        inleft = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf.inbuf_end - buf.inbuf);
<a name='L650'>        outleft = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf.outbuf_end - buf.outbuf);
<a name='L651'>
<a name='L652'>        r = self-&gt;codec-&gt;decode(&amp;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>,
<a name='L653'>                        &amp;buf.inbuf, inleft, &amp;buf.outbuf, outleft);
<a name='L654'>        <b>if</b> (r == 0)
<a name='L655'>            <b>break</b>;
<a name='L656'>        <b>else</b> <b>if</b> (<a href='../S/2642.html#L367' title='Defined at 367 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_decerror</a>(self-&gt;codec, &amp;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>,
<a name='L657'>                                         &amp;buf, errorcb, r))
<a name='L658'>            <b>goto</b> errorexit;
<a name='L659'>    <font color='red'>}</font>
<a name='L660'>
<a name='L661'>    finalsize = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf.outbuf -
<a name='L662'>                             <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(buf.outobj));
<a name='L663'>
<a name='L664'>    <b>if</b> (finalsize != <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(buf.outobj))
<a name='L665'>        <b>if</b> (<a href='../D/4031.html' title='Multiple defined in 3 places.'>PyUnicode_Resize</a>(&amp;buf.outobj, finalsize) == -1)
<a name='L666'>            <b>goto</b> errorexit;
<a name='L667'>
<a name='L668'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L669'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.excobj);
<a name='L670'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(errorcb);
<a name='L671'>    <b>return</b> <a href='../S/2642.html#L54' title='Defined at 54 in Modules/cjkcodecs/multibytecodec.c.'>make_tuple</a>(buf.outobj, datalen);
<a name='L672'>
<a name='L673'>errorexit:
<a name='L674'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L675'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(errorcb);
<a name='L676'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.excobj);
<a name='L677'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.outobj);
<a name='L678'>
<a name='L679'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L680'><font color='red'>}</font>
<a name='L681'>
<a name='L682'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> multibytecodec_methods[] = <font color='red'>{</font>
<a name='L683'>    <font color='red'>{</font>"encode",          (PyCFunction)<a href='../S/2642.html#L549' title='Defined at 549 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteCodec_Encode</a>,
<a name='L684'>                    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L685'>                    MultibyteCodec_Encode__doc__<font color='red'>}</font>,
<a name='L686'>    <font color='red'>{</font>"decode",          (PyCFunction)<a href='../S/2642.html#L605' title='Defined at 605 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteCodec_Decode</a>,
<a name='L687'>                    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L688'>                    MultibyteCodec_Decode__doc__<font color='red'>}</font>,
<a name='L689'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,              <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L690'><font color='red'>}</font>;
<a name='L691'>
<a name='L692'><b>static</b> <b>void</b>
<a name='L693'><a href='../S/2642.html#L704' title='Refered from 704 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_dealloc</a>(MultibyteCodecObject *self)
<a name='L694'><font color='red'>{</font>
<a name='L695'>    PyObject_Del(self);
<a name='L696'><font color='red'>}</font>
<a name='L697'>
<a name='L698'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> MultibyteCodec_Type = <font color='red'>{</font>
<a name='L699'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L700'>    "MultibyteCodec",                   <i><font color='green'>/* tp_name */</font></i>
<a name='L701'>    <b>sizeof</b>(<a href='../S/2643.html#L68' title='Defined at 68 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodecObject</a>),       <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L702'>    0,                                  <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L703'>    <i><font color='green'>/* methods */</font></i>
<a name='L704'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2642.html#L693' title='Defined at 693 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_dealloc</a>, <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L705'>    0,                                  <i><font color='green'>/* tp_print */</font></i>
<a name='L706'>    0,                                  <i><font color='green'>/* tp_getattr */</font></i>
<a name='L707'>    0,                                  <i><font color='green'>/* tp_setattr */</font></i>
<a name='L708'>    0,                                  <i><font color='green'>/* tp_reserved */</font></i>
<a name='L709'>    0,                                  <i><font color='green'>/* tp_repr */</font></i>
<a name='L710'>    0,                                  <i><font color='green'>/* tp_as_number */</font></i>
<a name='L711'>    0,                                  <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L712'>    0,                                  <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L713'>    0,                                  <i><font color='green'>/* tp_hash */</font></i>
<a name='L714'>    0,                                  <i><font color='green'>/* tp_call */</font></i>
<a name='L715'>    0,                                  <i><font color='green'>/* tp_str */</font></i>
<a name='L716'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,            <i><font color='green'>/* tp_getattro */</font></i>
<a name='L717'>    0,                                  <i><font color='green'>/* tp_setattro */</font></i>
<a name='L718'>    0,                                  <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L719'>    Py_TPFLAGS_DEFAULT,                 <i><font color='green'>/* tp_flags */</font></i>
<a name='L720'>    0,                                  <i><font color='green'>/* tp_doc */</font></i>
<a name='L721'>    0,                                  <i><font color='green'>/* tp_traverse */</font></i>
<a name='L722'>    0,                                  <i><font color='green'>/* tp_clear */</font></i>
<a name='L723'>    0,                                  <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L724'>    0,                                  <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L725'>    0,                                  <i><font color='green'>/* tp_iter */</font></i>
<a name='L726'>    0,                                  <i><font color='green'>/* tp_iterext */</font></i>
<a name='L727'>    multibytecodec_methods,             <i><font color='green'>/* tp_methods */</font></i>
<a name='L728'><font color='red'>}</font>;
<a name='L729'>
<a name='L730'>
<a name='L731'><i><font color='green'>/**</font></i>
<a name='L732'><i><font color='green'> * Utility functions for stateful codec mechanism</font></i>
<a name='L733'><i><font color='green'> */</font></i>
<a name='L734'>
<a name='L735'><font color='darkred'>#define</font> <a href='../R/4336.html' title='Multiple refered from 3 places.'>STATEFUL_DCTX</a>(o)        ((<a href='../S/2643.html#L97' title='Defined at 97 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStatefulDecoderContext</a> *)(o))
<a name='L736'><font color='darkred'>#define</font> <a href='../R/4337.html' title='Multiple refered from 2 places.'>STATEFUL_ECTX</a>(o)        ((<a href='../S/2643.html#L88' title='Defined at 88 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStatefulEncoderContext</a> *)(o))
<a name='L737'>
<a name='L738'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L739'><a href='../R/7551.html' title='Multiple refered from 2 places.'>encoder_encode_stateful</a>(MultibyteStatefulEncoderContext *ctx,
<a name='L740'>                        PyObject *unistr, <b>int</b> final)
<a name='L741'><font color='red'>{</font>
<a name='L742'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ucvt, *r = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L743'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *inbuf, *inbuf_end, *inbuf_tmp = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L744'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> datalen, origpending;
<a name='L745'>
<a name='L746'>    <b>if</b> (PyUnicode_Check(unistr))
<a name='L747'>        ucvt = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L748'>    <b>else</b> <font color='red'>{</font>
<a name='L749'>        unistr = ucvt = <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>(unistr);
<a name='L750'>        <b>if</b> (unistr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L751'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L752'>        <b>else</b> <b>if</b> (!PyUnicode_Check(unistr)) <font color='red'>{</font>
<a name='L753'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L754'>                "couldn't convert the object to unicode.");
<a name='L755'>            Py_DECREF(ucvt);
<a name='L756'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L757'>        <font color='red'>}</font>
<a name='L758'>    <font color='red'>}</font>
<a name='L759'>
<a name='L760'>    datalen = <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(unistr);
<a name='L761'>    origpending = ctx-&gt;pendingsize;
<a name='L762'>
<a name='L763'>    <b>if</b> (origpending &gt; 0) <font color='red'>{</font>
<a name='L764'>        <b>if</b> (datalen &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - ctx-&gt;pendingsize) <font color='red'>{</font>
<a name='L765'>            <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L766'>            <i><font color='green'>/* inbuf_tmp == NULL */</font></i>
<a name='L767'>            <b>goto</b> errorexit;
<a name='L768'>        <font color='red'>}</font>
<a name='L769'>        inbuf_tmp = PyMem_New(<a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>, datalen + ctx-&gt;pendingsize);
<a name='L770'>        <b>if</b> (inbuf_tmp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L771'>            <b>goto</b> errorexit;
<a name='L772'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(inbuf_tmp, ctx-&gt;pending,
<a name='L773'>            <a href='../D/4282.html' title='Multiple defined in 3 places.'>Py_UNICODE_SIZE</a> * ctx-&gt;pendingsize);
<a name='L774'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(inbuf_tmp + ctx-&gt;pendingsize,
<a name='L775'>            <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(unistr),
<a name='L776'>            <a href='../D/4282.html' title='Multiple defined in 3 places.'>Py_UNICODE_SIZE</a> * datalen);
<a name='L777'>        datalen += ctx-&gt;pendingsize;
<a name='L778'>        ctx-&gt;pendingsize = 0;
<a name='L779'>        inbuf = inbuf_tmp;
<a name='L780'>    <font color='red'>}</font>
<a name='L781'>    <b>else</b>
<a name='L782'>        inbuf = (<a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *)<a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(unistr);
<a name='L783'>
<a name='L784'>    inbuf_end = inbuf + datalen;
<a name='L785'>
<a name='L786'>    r = <a href='../S/2642.html#L474' title='Defined at 474 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_encode</a>(ctx-&gt;codec, &amp;ctx-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>,
<a name='L787'>                    (<b>const</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> **)&amp;inbuf,
<a name='L788'>                    datalen, ctx-&gt;errors, final ? <a href='../S/2643.html#L132' title='Defined at 132 in Modules/cjkcodecs/multibytecodec.h.'>MBENC_FLUSH</a> : 0);
<a name='L789'>    <b>if</b> (r == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L790'>        <i><font color='green'>/* recover the original pending buffer */</font></i>
<a name='L791'>        <b>if</b> (origpending &gt; 0)
<a name='L792'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(ctx-&gt;pending, inbuf_tmp,
<a name='L793'>                <a href='../D/4282.html' title='Multiple defined in 3 places.'>Py_UNICODE_SIZE</a> * origpending);
<a name='L794'>        ctx-&gt;pendingsize = origpending;
<a name='L795'>        <b>goto</b> errorexit;
<a name='L796'>    <font color='red'>}</font>
<a name='L797'>
<a name='L798'>    <b>if</b> (inbuf &lt; inbuf_end) <font color='red'>{</font>
<a name='L799'>        ctx-&gt;pendingsize = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(inbuf_end - inbuf);
<a name='L800'>        <b>if</b> (ctx-&gt;pendingsize &gt; <a href='../S/2643.html#L81' title='Defined at 81 in Modules/cjkcodecs/multibytecodec.h.'>MAXENCPENDING</a>) <font color='red'>{</font>
<a name='L801'>            <i><font color='green'>/* normal codecs can't reach here */</font></i>
<a name='L802'>            ctx-&gt;pendingsize = 0;
<a name='L803'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_UnicodeError,
<a name='L804'>                            "pending buffer overflow");
<a name='L805'>            <b>goto</b> errorexit;
<a name='L806'>        <font color='red'>}</font>
<a name='L807'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(ctx-&gt;pending, inbuf,
<a name='L808'>            ctx-&gt;pendingsize * <a href='../D/4282.html' title='Multiple defined in 3 places.'>Py_UNICODE_SIZE</a>);
<a name='L809'>    <font color='red'>}</font>
<a name='L810'>
<a name='L811'>    <b>if</b> (inbuf_tmp != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L812'>        PyMem_Del(inbuf_tmp);
<a name='L813'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(ucvt);
<a name='L814'>    <b>return</b> r;
<a name='L815'>
<a name='L816'>errorexit:
<a name='L817'>    <b>if</b> (inbuf_tmp != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L818'>        PyMem_Del(inbuf_tmp);
<a name='L819'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(r);
<a name='L820'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(ucvt);
<a name='L821'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L822'><font color='red'>}</font>
<a name='L823'>
<a name='L824'><b>static</b> <b>int</b>
<a name='L825'><a href='../R/7201.html' title='Multiple refered from 2 places.'>decoder_append_pending</a>(MultibyteStatefulDecoderContext *ctx,
<a name='L826'>                       MultibyteDecodeBuffer *buf)
<a name='L827'><font color='red'>{</font>
<a name='L828'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> npendings;
<a name='L829'>
<a name='L830'>    npendings = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf_end - buf-&gt;inbuf);
<a name='L831'>    <b>if</b> (npendings + ctx-&gt;pendingsize &gt; <a href='../S/2643.html#L90' title='Defined at 90 in Modules/cjkcodecs/multibytecodec.h.'>MAXDECPENDING</a> ||
<a name='L832'>        npendings &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - ctx-&gt;pendingsize) <font color='red'>{</font>
<a name='L833'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_UnicodeError, "pending buffer overflow");
<a name='L834'>            <b>return</b> -1;
<a name='L835'>    <font color='red'>}</font>
<a name='L836'>    <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(ctx-&gt;pending + ctx-&gt;pendingsize, buf-&gt;inbuf, npendings);
<a name='L837'>    ctx-&gt;pendingsize += npendings;
<a name='L838'>    <b>return</b> 0;
<a name='L839'><font color='red'>}</font>
<a name='L840'>
<a name='L841'><b>static</b> <b>int</b>
<a name='L842'><a href='../R/7203.html' title='Multiple refered from 2 places.'>decoder_prepare_buffer</a>(MultibyteDecodeBuffer *buf, <b>const</b> <b>char</b> *data,
<a name='L843'>                       <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size)
<a name='L844'><font color='red'>{</font>
<a name='L845'>    buf-&gt;inbuf = buf-&gt;inbuf_top = (<b>const</b> <b>unsigned</b> <b>char</b> *)data;
<a name='L846'>    buf-&gt;inbuf_end = buf-&gt;inbuf_top + size;
<a name='L847'>    <b>if</b> (buf-&gt;outobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font> <i><font color='green'>/* only if outobj is not allocated yet */</font></i>
<a name='L848'>        buf-&gt;outobj = <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, size);
<a name='L849'>        <b>if</b> (buf-&gt;outobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L850'>            <b>return</b> -1;
<a name='L851'>        buf-&gt;outbuf = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(buf-&gt;outobj);
<a name='L852'>        buf-&gt;outbuf_end = buf-&gt;outbuf +
<a name='L853'>                          <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(buf-&gt;outobj);
<a name='L854'>    <font color='red'>}</font>
<a name='L855'>
<a name='L856'>    <b>return</b> 0;
<a name='L857'><font color='red'>}</font>
<a name='L858'>
<a name='L859'><b>static</b> <b>int</b>
<a name='L860'><a href='../R/7202.html' title='Multiple refered from 2 places.'>decoder_feed_buffer</a>(MultibyteStatefulDecoderContext *ctx,
<a name='L861'>                    MultibyteDecodeBuffer *buf)
<a name='L862'><font color='red'>{</font>
<a name='L863'>    <b>while</b> (buf-&gt;inbuf &lt; buf-&gt;inbuf_end) <font color='red'>{</font>
<a name='L864'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> inleft, outleft;
<a name='L865'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> r;
<a name='L866'>
<a name='L867'>        inleft = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;inbuf_end - buf-&gt;inbuf);
<a name='L868'>        outleft = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf-&gt;outbuf_end - buf-&gt;outbuf);
<a name='L869'>
<a name='L870'>        r = ctx-&gt;codec-&gt;decode(&amp;ctx-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, ctx-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>,
<a name='L871'>            &amp;buf-&gt;inbuf, inleft, &amp;buf-&gt;outbuf, outleft);
<a name='L872'>        <b>if</b> (r == 0 || r == <a href='../S/2643.html#L119' title='Defined at 119 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOFEW</a>)
<a name='L873'>            <b>break</b>;
<a name='L874'>        <b>else</b> <b>if</b> (<a href='../S/2642.html#L367' title='Defined at 367 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_decerror</a>(ctx-&gt;codec, &amp;ctx-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>,
<a name='L875'>                                         buf, ctx-&gt;errors, r))
<a name='L876'>            <b>return</b> -1;
<a name='L877'>    <font color='red'>}</font>
<a name='L878'>    <b>return</b> 0;
<a name='L879'><font color='red'>}</font>
<a name='L880'>
<a name='L881'>
<a name='L882'><i><font color='green'>/**</font></i>
<a name='L883'><i><font color='green'> * MultibyteIncrementalEncoder object</font></i>
<a name='L884'><i><font color='green'> */</font></i>
<a name='L885'>
<a name='L886'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L887'><a href='../S/2642.html#L912' title='Refered from 912 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_encode</a>(MultibyteIncrementalEncoderObject *self,
<a name='L888'>                  PyObject *args, PyObject *kwargs)
<a name='L889'><font color='red'>{</font>
<a name='L890'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *data;
<a name='L891'>    <b>int</b> final = 0;
<a name='L892'>
<a name='L893'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwargs, "O|i:encode",
<a name='L894'>                    incrementalkwarglist, &amp;data, &amp;final))
<a name='L895'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L896'>
<a name='L897'>    <b>return</b> <a href='../S/2642.html#L739' title='Defined at 739 in Modules/cjkcodecs/multibytecodec.c.'>encoder_encode_stateful</a>(<a href='../S/2642.html#L736' title='Defined at 736 in Modules/cjkcodecs/multibytecodec.c.'>STATEFUL_ECTX</a>(self), data, final);
<a name='L898'><font color='red'>}</font>
<a name='L899'>
<a name='L900'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L901'><a href='../S/2642.html#L914' title='Refered from 914 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_reset</a>(MultibyteIncrementalEncoderObject *self)
<a name='L902'><font color='red'>{</font>
<a name='L903'>    <b>if</b> (self-&gt;codec-&gt;decreset != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L904'>        self-&gt;codec-&gt;decreset(&amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L905'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L906'>    self-&gt;pendingsize = 0;
<a name='L907'>
<a name='L908'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L909'><font color='red'>}</font>
<a name='L910'>
<a name='L911'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> mbiencoder_methods[] = <font color='red'>{</font>
<a name='L912'>    <font color='red'>{</font>"encode",          (PyCFunction)<a href='../S/2642.html#L887' title='Defined at 887 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_encode</a>,
<a name='L913'>                    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L914'>    <font color='red'>{</font>"reset",           (PyCFunction)<a href='../S/2642.html#L901' title='Defined at 901 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_reset</a>,
<a name='L915'>                    <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L916'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,              <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L917'><font color='red'>}</font>;
<a name='L918'>
<a name='L919'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L920'><a href='../S/2642.html#L1023' title='Refered from 1023 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_new</a>(PyTypeObject *type, PyObject *args, PyObject *kwds)
<a name='L921'><font color='red'>{</font>
<a name='L922'>    <a href='../S/2643.html#L101' title='Defined at 101 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteIncrementalEncoderObject</a> *self;
<a name='L923'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *codec = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L924'>    <b>char</b> *errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L925'>
<a name='L926'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "|s:IncrementalEncoder",
<a name='L927'>                                     incnewkwarglist, &amp;errors))
<a name='L928'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L929'>
<a name='L930'>    self = (<a href='../S/2643.html#L101' title='Defined at 101 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteIncrementalEncoderObject</a> *)type-&gt;tp_alloc(type, 0);
<a name='L931'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L932'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L933'>
<a name='L934'>    codec = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)type, "codec");
<a name='L935'>    <b>if</b> (codec == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L936'>        <b>goto</b> errorexit;
<a name='L937'>    <b>if</b> (!<a href='../S/2643.html#L70' title='Defined at 70 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_Check</a>(codec)) <font color='red'>{</font>
<a name='L938'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "codec is unexpected type");
<a name='L939'>        <b>goto</b> errorexit;
<a name='L940'>    <font color='red'>}</font>
<a name='L941'>
<a name='L942'>    self-&gt;codec = ((<a href='../S/2643.html#L68' title='Defined at 68 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodecObject</a> *)codec)-&gt;codec;
<a name='L943'>    self-&gt;pendingsize = 0;
<a name='L944'>    self-&gt;errors = <a href='../S/2642.html#L79' title='Defined at 79 in Modules/cjkcodecs/multibytecodec.c.'>internal_error_callback</a>(errors);
<a name='L945'>    <b>if</b> (self-&gt;errors == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L946'>        <b>goto</b> errorexit;
<a name='L947'>    <b>if</b> (self-&gt;codec-&gt;encinit != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L948'>        self-&gt;codec-&gt;encinit(&amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L949'>        <b>goto</b> errorexit;
<a name='L950'>
<a name='L951'>    Py_DECREF(codec);
<a name='L952'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L953'>
<a name='L954'>errorexit:
<a name='L955'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self);
<a name='L956'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(codec);
<a name='L957'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L958'><font color='red'>}</font>
<a name='L959'>
<a name='L960'><b>static</b> <b>int</b>
<a name='L961'><a href='../S/2642.html#L1021' title='Refered from 1021 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_init</a>(PyObject *self, PyObject *args, PyObject *kwds)
<a name='L962'><font color='red'>{</font>
<a name='L963'>    <b>return</b> 0;
<a name='L964'><font color='red'>}</font>
<a name='L965'>
<a name='L966'><b>static</b> <b>int</b>
<a name='L967'><a href='../S/2642.html#L1007' title='Refered from 1007 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_traverse</a>(MultibyteIncrementalEncoderObject *self,
<a name='L968'>                    visitproc visit, <b>void</b> *arg)
<a name='L969'><font color='red'>{</font>
<a name='L970'>    <b>if</b> (<a href='../S/2643.html#L125' title='Defined at 125 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_ISCUSTOM</a>(self-&gt;errors))
<a name='L971'>        Py_VISIT(self-&gt;errors);
<a name='L972'>    <b>return</b> 0;
<a name='L973'><font color='red'>}</font>
<a name='L974'>
<a name='L975'><b>static</b> <b>void</b>
<a name='L976'><a href='../S/2642.html#L989' title='Refered from 989 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_dealloc</a>(MultibyteIncrementalEncoderObject *self)
<a name='L977'><font color='red'>{</font>
<a name='L978'>    <a href='../D/3619.html' title='Multiple defined in 2 places.'>PyObject_GC_UnTrack</a>(self);
<a name='L979'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(self-&gt;errors);
<a name='L980'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free(self);
<a name='L981'><font color='red'>}</font>
<a name='L982'>
<a name='L983'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> MultibyteIncrementalEncoder_Type = <font color='red'>{</font>
<a name='L984'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L985'>    "MultibyteIncrementalEncoder",      <i><font color='green'>/* tp_name */</font></i>
<a name='L986'>    <b>sizeof</b>(<a href='../S/2643.html#L101' title='Defined at 101 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteIncrementalEncoderObject</a>), <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L987'>    0,                                  <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L988'>    <i><font color='green'>/*  methods  */</font></i>
<a name='L989'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2642.html#L976' title='Defined at 976 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_dealloc</a>, <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L990'>    0,                                  <i><font color='green'>/* tp_print */</font></i>
<a name='L991'>    0,                                  <i><font color='green'>/* tp_getattr */</font></i>
<a name='L992'>    0,                                  <i><font color='green'>/* tp_setattr */</font></i>
<a name='L993'>    0,                                  <i><font color='green'>/* tp_reserved */</font></i>
<a name='L994'>    0,                                  <i><font color='green'>/* tp_repr */</font></i>
<a name='L995'>    0,                                  <i><font color='green'>/* tp_as_number */</font></i>
<a name='L996'>    0,                                  <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L997'>    0,                                  <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L998'>    0,                                  <i><font color='green'>/* tp_hash */</font></i>
<a name='L999'>    0,                                  <i><font color='green'>/* tp_call */</font></i>
<a name='L1000'>    0,                                  <i><font color='green'>/* tp_str */</font></i>
<a name='L1001'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,            <i><font color='green'>/* tp_getattro */</font></i>
<a name='L1002'>    0,                                  <i><font color='green'>/* tp_setattro */</font></i>
<a name='L1003'>    0,                                  <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L1004'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC
<a name='L1005'>        | Py_TPFLAGS_BASETYPE,          <i><font color='green'>/* tp_flags */</font></i>
<a name='L1006'>    0,                                  <i><font color='green'>/* tp_doc */</font></i>
<a name='L1007'>    (traverseproc)<a href='../S/2642.html#L967' title='Defined at 967 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_traverse</a>,          <i><font color='green'>/* tp_traverse */</font></i>
<a name='L1008'>    0,                                  <i><font color='green'>/* tp_clear */</font></i>
<a name='L1009'>    0,                                  <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L1010'>    0,                                  <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L1011'>    0,                                  <i><font color='green'>/* tp_iter */</font></i>
<a name='L1012'>    0,                                  <i><font color='green'>/* tp_iterext */</font></i>
<a name='L1013'>    mbiencoder_methods,                 <i><font color='green'>/* tp_methods */</font></i>
<a name='L1014'>    0,                                  <i><font color='green'>/* tp_members */</font></i>
<a name='L1015'>    codecctx_getsets,                   <i><font color='green'>/* tp_getset */</font></i>
<a name='L1016'>    0,                                  <i><font color='green'>/* tp_base */</font></i>
<a name='L1017'>    0,                                  <i><font color='green'>/* tp_dict */</font></i>
<a name='L1018'>    0,                                  <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L1019'>    0,                                  <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L1020'>    0,                                  <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L1021'>    <a href='../S/2642.html#L961' title='Defined at 961 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_init</a>,                    <i><font color='green'>/* tp_init */</font></i>
<a name='L1022'>    0,                                  <i><font color='green'>/* tp_alloc */</font></i>
<a name='L1023'>    <a href='../S/2642.html#L920' title='Defined at 920 in Modules/cjkcodecs/multibytecodec.c.'>mbiencoder_new</a>,                     <i><font color='green'>/* tp_new */</font></i>
<a name='L1024'><font color='red'>}</font>;
<a name='L1025'>
<a name='L1026'>
<a name='L1027'><i><font color='green'>/**</font></i>
<a name='L1028'><i><font color='green'> * MultibyteIncrementalDecoder object</font></i>
<a name='L1029'><i><font color='green'> */</font></i>
<a name='L1030'>
<a name='L1031'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1032'><a href='../S/2642.html#L1121' title='Refered from 1121 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_decode</a>(MultibyteIncrementalDecoderObject *self,
<a name='L1033'>                  PyObject *args, PyObject *kwargs)
<a name='L1034'><font color='red'>{</font>
<a name='L1035'>    <a href='../S/2642.html#L22' title='Defined at 22 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteDecodeBuffer</a> buf;
<a name='L1036'>    <b>char</b> *data, *wdata = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1037'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pdata;
<a name='L1038'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> wsize, finalsize = 0, size, origpending;
<a name='L1039'>    <b>int</b> final = 0;
<a name='L1040'>
<a name='L1041'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwargs, "y*|i:decode",
<a name='L1042'>                    incrementalkwarglist, &amp;pdata, &amp;final))
<a name='L1043'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1044'>    data = pdata.buf;
<a name='L1045'>    size = pdata.len;
<a name='L1046'>
<a name='L1047'>    buf.outobj = buf.excobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1048'>    origpending = self-&gt;pendingsize;
<a name='L1049'>
<a name='L1050'>    <b>if</b> (self-&gt;pendingsize == 0) <font color='red'>{</font>
<a name='L1051'>        wsize = size;
<a name='L1052'>        wdata = data;
<a name='L1053'>    <font color='red'>}</font>
<a name='L1054'>    <b>else</b> <font color='red'>{</font>
<a name='L1055'>        <b>if</b> (size &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - self-&gt;pendingsize) <font color='red'>{</font>
<a name='L1056'>            <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L1057'>            <b>goto</b> errorexit;
<a name='L1058'>        <font color='red'>}</font>
<a name='L1059'>        wsize = size + self-&gt;pendingsize;
<a name='L1060'>        wdata = <a href='../S/2803.html#L1769' title='Defined at 1769 in Objects/object.c.'>PyMem_Malloc</a>(wsize);
<a name='L1061'>        <b>if</b> (wdata == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1062'>            <b>goto</b> errorexit;
<a name='L1063'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(wdata, self-&gt;pending, self-&gt;pendingsize);
<a name='L1064'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(wdata + self-&gt;pendingsize, data, size);
<a name='L1065'>        self-&gt;pendingsize = 0;
<a name='L1066'>    <font color='red'>}</font>
<a name='L1067'>
<a name='L1068'>    <b>if</b> (<a href='../S/2642.html#L842' title='Defined at 842 in Modules/cjkcodecs/multibytecodec.c.'>decoder_prepare_buffer</a>(&amp;buf, wdata, wsize) != 0)
<a name='L1069'>        <b>goto</b> errorexit;
<a name='L1070'>
<a name='L1071'>    <b>if</b> (<a href='../S/2642.html#L860' title='Defined at 860 in Modules/cjkcodecs/multibytecodec.c.'>decoder_feed_buffer</a>(<a href='../S/2642.html#L735' title='Defined at 735 in Modules/cjkcodecs/multibytecodec.c.'>STATEFUL_DCTX</a>(self), &amp;buf))
<a name='L1072'>        <b>goto</b> errorexit;
<a name='L1073'>
<a name='L1074'>    <b>if</b> (final &amp;&amp; buf.inbuf &lt; buf.inbuf_end) <font color='red'>{</font>
<a name='L1075'>        <b>if</b> (<a href='../S/2642.html#L367' title='Defined at 367 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_decerror</a>(self-&gt;codec, &amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>,
<a name='L1076'>                        &amp;buf, self-&gt;errors, <a href='../S/2643.html#L119' title='Defined at 119 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOFEW</a>)) <font color='red'>{</font>
<a name='L1077'>            <i><font color='green'>/* recover the original pending buffer */</font></i>
<a name='L1078'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(self-&gt;pending, wdata, origpending);
<a name='L1079'>            self-&gt;pendingsize = origpending;
<a name='L1080'>            <b>goto</b> errorexit;
<a name='L1081'>        <font color='red'>}</font>
<a name='L1082'>    <font color='red'>}</font>
<a name='L1083'>
<a name='L1084'>    <b>if</b> (buf.inbuf &lt; buf.inbuf_end) <font color='red'>{</font> <i><font color='green'>/* pending sequence still exists */</font></i>
<a name='L1085'>        <b>if</b> (<a href='../S/2642.html#L825' title='Defined at 825 in Modules/cjkcodecs/multibytecodec.c.'>decoder_append_pending</a>(<a href='../S/2642.html#L735' title='Defined at 735 in Modules/cjkcodecs/multibytecodec.c.'>STATEFUL_DCTX</a>(self), &amp;buf) != 0)
<a name='L1086'>            <b>goto</b> errorexit;
<a name='L1087'>    <font color='red'>}</font>
<a name='L1088'>
<a name='L1089'>    finalsize = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf.outbuf - <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(buf.outobj));
<a name='L1090'>    <b>if</b> (finalsize != <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(buf.outobj))
<a name='L1091'>        <b>if</b> (<a href='../D/4031.html' title='Multiple defined in 3 places.'>PyUnicode_Resize</a>(&amp;buf.outobj, finalsize) == -1)
<a name='L1092'>            <b>goto</b> errorexit;
<a name='L1093'>
<a name='L1094'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L1095'>    <b>if</b> (wdata != data)
<a name='L1096'>        PyMem_Del(wdata);
<a name='L1097'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.excobj);
<a name='L1098'>    <b>return</b> buf.outobj;
<a name='L1099'>
<a name='L1100'>errorexit:
<a name='L1101'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L1102'>    <b>if</b> (wdata != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; wdata != data)
<a name='L1103'>        PyMem_Del(wdata);
<a name='L1104'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.excobj);
<a name='L1105'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.outobj);
<a name='L1106'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1107'><font color='red'>}</font>
<a name='L1108'>
<a name='L1109'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1110'><a href='../S/2642.html#L1123' title='Refered from 1123 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_reset</a>(MultibyteIncrementalDecoderObject *self)
<a name='L1111'><font color='red'>{</font>
<a name='L1112'>    <b>if</b> (self-&gt;codec-&gt;decreset != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L1113'>        self-&gt;codec-&gt;decreset(&amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L1114'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1115'>    self-&gt;pendingsize = 0;
<a name='L1116'>
<a name='L1117'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1118'><font color='red'>}</font>
<a name='L1119'>
<a name='L1120'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> mbidecoder_methods[] = <font color='red'>{</font>
<a name='L1121'>    <font color='red'>{</font>"decode",          (PyCFunction)<a href='../S/2642.html#L1032' title='Defined at 1032 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_decode</a>,
<a name='L1122'>                    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1123'>    <font color='red'>{</font>"reset",           (PyCFunction)<a href='../S/2642.html#L1110' title='Defined at 1110 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_reset</a>,
<a name='L1124'>                    <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1125'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,              <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1126'><font color='red'>}</font>;
<a name='L1127'>
<a name='L1128'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1129'><a href='../S/2642.html#L1232' title='Refered from 1232 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_new</a>(PyTypeObject *type, PyObject *args, PyObject *kwds)
<a name='L1130'><font color='red'>{</font>
<a name='L1131'>    <a href='../S/2643.html#L105' title='Defined at 105 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteIncrementalDecoderObject</a> *self;
<a name='L1132'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *codec = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1133'>    <b>char</b> *errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1134'>
<a name='L1135'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "|s:IncrementalDecoder",
<a name='L1136'>                                     incnewkwarglist, &amp;errors))
<a name='L1137'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1138'>
<a name='L1139'>    self = (<a href='../S/2643.html#L105' title='Defined at 105 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteIncrementalDecoderObject</a> *)type-&gt;tp_alloc(type, 0);
<a name='L1140'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1141'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1142'>
<a name='L1143'>    codec = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)type, "codec");
<a name='L1144'>    <b>if</b> (codec == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1145'>        <b>goto</b> errorexit;
<a name='L1146'>    <b>if</b> (!<a href='../S/2643.html#L70' title='Defined at 70 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_Check</a>(codec)) <font color='red'>{</font>
<a name='L1147'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "codec is unexpected type");
<a name='L1148'>        <b>goto</b> errorexit;
<a name='L1149'>    <font color='red'>}</font>
<a name='L1150'>
<a name='L1151'>    self-&gt;codec = ((<a href='../S/2643.html#L68' title='Defined at 68 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodecObject</a> *)codec)-&gt;codec;
<a name='L1152'>    self-&gt;pendingsize = 0;
<a name='L1153'>    self-&gt;errors = <a href='../S/2642.html#L79' title='Defined at 79 in Modules/cjkcodecs/multibytecodec.c.'>internal_error_callback</a>(errors);
<a name='L1154'>    <b>if</b> (self-&gt;errors == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1155'>        <b>goto</b> errorexit;
<a name='L1156'>    <b>if</b> (self-&gt;codec-&gt;decinit != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L1157'>        self-&gt;codec-&gt;decinit(&amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L1158'>        <b>goto</b> errorexit;
<a name='L1159'>
<a name='L1160'>    Py_DECREF(codec);
<a name='L1161'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L1162'>
<a name='L1163'>errorexit:
<a name='L1164'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self);
<a name='L1165'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(codec);
<a name='L1166'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1167'><font color='red'>}</font>
<a name='L1168'>
<a name='L1169'><b>static</b> <b>int</b>
<a name='L1170'><a href='../S/2642.html#L1230' title='Refered from 1230 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_init</a>(PyObject *self, PyObject *args, PyObject *kwds)
<a name='L1171'><font color='red'>{</font>
<a name='L1172'>    <b>return</b> 0;
<a name='L1173'><font color='red'>}</font>
<a name='L1174'>
<a name='L1175'><b>static</b> <b>int</b>
<a name='L1176'><a href='../S/2642.html#L1216' title='Refered from 1216 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_traverse</a>(MultibyteIncrementalDecoderObject *self,
<a name='L1177'>                    visitproc visit, <b>void</b> *arg)
<a name='L1178'><font color='red'>{</font>
<a name='L1179'>    <b>if</b> (<a href='../S/2643.html#L125' title='Defined at 125 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_ISCUSTOM</a>(self-&gt;errors))
<a name='L1180'>        Py_VISIT(self-&gt;errors);
<a name='L1181'>    <b>return</b> 0;
<a name='L1182'><font color='red'>}</font>
<a name='L1183'>
<a name='L1184'><b>static</b> <b>void</b>
<a name='L1185'><a href='../S/2642.html#L1198' title='Refered from 1198 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_dealloc</a>(MultibyteIncrementalDecoderObject *self)
<a name='L1186'><font color='red'>{</font>
<a name='L1187'>    <a href='../D/3619.html' title='Multiple defined in 2 places.'>PyObject_GC_UnTrack</a>(self);
<a name='L1188'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(self-&gt;errors);
<a name='L1189'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free(self);
<a name='L1190'><font color='red'>}</font>
<a name='L1191'>
<a name='L1192'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> MultibyteIncrementalDecoder_Type = <font color='red'>{</font>
<a name='L1193'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L1194'>    "MultibyteIncrementalDecoder",      <i><font color='green'>/* tp_name */</font></i>
<a name='L1195'>    <b>sizeof</b>(<a href='../S/2643.html#L105' title='Defined at 105 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteIncrementalDecoderObject</a>), <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L1196'>    0,                                  <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L1197'>    <i><font color='green'>/*  methods  */</font></i>
<a name='L1198'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2642.html#L1185' title='Defined at 1185 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_dealloc</a>, <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L1199'>    0,                                  <i><font color='green'>/* tp_print */</font></i>
<a name='L1200'>    0,                                  <i><font color='green'>/* tp_getattr */</font></i>
<a name='L1201'>    0,                                  <i><font color='green'>/* tp_setattr */</font></i>
<a name='L1202'>    0,                                  <i><font color='green'>/* tp_reserved */</font></i>
<a name='L1203'>    0,                                  <i><font color='green'>/* tp_repr */</font></i>
<a name='L1204'>    0,                                  <i><font color='green'>/* tp_as_number */</font></i>
<a name='L1205'>    0,                                  <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L1206'>    0,                                  <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L1207'>    0,                                  <i><font color='green'>/* tp_hash */</font></i>
<a name='L1208'>    0,                                  <i><font color='green'>/* tp_call */</font></i>
<a name='L1209'>    0,                                  <i><font color='green'>/* tp_str */</font></i>
<a name='L1210'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,            <i><font color='green'>/* tp_getattro */</font></i>
<a name='L1211'>    0,                                  <i><font color='green'>/* tp_setattro */</font></i>
<a name='L1212'>    0,                                  <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L1213'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC
<a name='L1214'>        | Py_TPFLAGS_BASETYPE,          <i><font color='green'>/* tp_flags */</font></i>
<a name='L1215'>    0,                                  <i><font color='green'>/* tp_doc */</font></i>
<a name='L1216'>    (traverseproc)<a href='../S/2642.html#L1176' title='Defined at 1176 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_traverse</a>,          <i><font color='green'>/* tp_traverse */</font></i>
<a name='L1217'>    0,                                  <i><font color='green'>/* tp_clear */</font></i>
<a name='L1218'>    0,                                  <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L1219'>    0,                                  <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L1220'>    0,                                  <i><font color='green'>/* tp_iter */</font></i>
<a name='L1221'>    0,                                  <i><font color='green'>/* tp_iterext */</font></i>
<a name='L1222'>    mbidecoder_methods,                 <i><font color='green'>/* tp_methods */</font></i>
<a name='L1223'>    0,                                  <i><font color='green'>/* tp_members */</font></i>
<a name='L1224'>    codecctx_getsets,                   <i><font color='green'>/* tp_getset */</font></i>
<a name='L1225'>    0,                                  <i><font color='green'>/* tp_base */</font></i>
<a name='L1226'>    0,                                  <i><font color='green'>/* tp_dict */</font></i>
<a name='L1227'>    0,                                  <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L1228'>    0,                                  <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L1229'>    0,                                  <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L1230'>    <a href='../S/2642.html#L1170' title='Defined at 1170 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_init</a>,                    <i><font color='green'>/* tp_init */</font></i>
<a name='L1231'>    0,                                  <i><font color='green'>/* tp_alloc */</font></i>
<a name='L1232'>    <a href='../S/2642.html#L1129' title='Defined at 1129 in Modules/cjkcodecs/multibytecodec.c.'>mbidecoder_new</a>,                     <i><font color='green'>/* tp_new */</font></i>
<a name='L1233'><font color='red'>}</font>;
<a name='L1234'>
<a name='L1235'>
<a name='L1236'><i><font color='green'>/**</font></i>
<a name='L1237'><i><font color='green'> * MultibyteStreamReader object</font></i>
<a name='L1238'><i><font color='green'> */</font></i>
<a name='L1239'>
<a name='L1240'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1241'><a href='../R/8946.html' title='Multiple refered from 3 places.'>mbstreamreader_iread</a>(MultibyteStreamReaderObject *self,
<a name='L1242'>                     <b>const</b> <b>char</b> *method, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> sizehint)
<a name='L1243'><font color='red'>{</font>
<a name='L1244'>    <a href='../S/2642.html#L22' title='Defined at 22 in Modules/cjkcodecs/multibytecodec.c.'>MultibyteDecodeBuffer</a> buf;
<a name='L1245'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *cres;
<a name='L1246'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> rsize, finalsize = 0;
<a name='L1247'>
<a name='L1248'>    <b>if</b> (sizehint == 0)
<a name='L1249'>        <b>return</b> <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0);
<a name='L1250'>
<a name='L1251'>    buf.outobj = buf.excobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1252'>    cres = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1253'>
<a name='L1254'>    <b>for</b> (;;) <font color='red'>{</font>
<a name='L1255'>        <b>int</b> endoffile;
<a name='L1256'>
<a name='L1257'>        <b>if</b> (sizehint &lt; 0)
<a name='L1258'>            cres = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(self-&gt;stream,
<a name='L1259'>                            (<b>char</b> *)method, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1260'>        <b>else</b>
<a name='L1261'>            cres = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(self-&gt;stream,
<a name='L1262'>                            (<b>char</b> *)method, "i", sizehint);
<a name='L1263'>        <b>if</b> (cres == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1264'>            <b>goto</b> errorexit;
<a name='L1265'>
<a name='L1266'>        <b>if</b> (!PyBytes_Check(cres)) <font color='red'>{</font>
<a name='L1267'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L1268'>                         "stream function returned a "
<a name='L1269'>                         "non-bytes object (%.100s)",
<a name='L1270'>                         cres-&gt;ob_type-&gt;tp_name);
<a name='L1271'>            <b>goto</b> errorexit;
<a name='L1272'>        <font color='red'>}</font>
<a name='L1273'>
<a name='L1274'>        endoffile = (PyBytes_GET_SIZE(cres) == 0);
<a name='L1275'>
<a name='L1276'>        <b>if</b> (self-&gt;pendingsize &gt; 0) <font color='red'>{</font>
<a name='L1277'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ctr;
<a name='L1278'>            <b>char</b> *ctrdata;
<a name='L1279'>
<a name='L1280'>            <b>if</b> (PyBytes_GET_SIZE(cres) &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - self-&gt;pendingsize) <font color='red'>{</font>
<a name='L1281'>                <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L1282'>                <b>goto</b> errorexit;
<a name='L1283'>        <font color='red'>}</font>
<a name='L1284'>                    rsize = PyBytes_GET_SIZE(cres) + self-&gt;pendingsize;
<a name='L1285'>                    ctr = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, rsize);
<a name='L1286'>                    <b>if</b> (ctr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1287'>                            <b>goto</b> errorexit;
<a name='L1288'>                    ctrdata = PyBytes_AS_STRING(ctr);
<a name='L1289'>                    <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(ctrdata, self-&gt;pending, self-&gt;pendingsize);
<a name='L1290'>                    <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(ctrdata + self-&gt;pendingsize,
<a name='L1291'>                            PyBytes_AS_STRING(cres),
<a name='L1292'>                            PyBytes_GET_SIZE(cres));
<a name='L1293'>                    Py_DECREF(cres);
<a name='L1294'>                    cres = ctr;
<a name='L1295'>                    self-&gt;pendingsize = 0;
<a name='L1296'>        <font color='red'>}</font>
<a name='L1297'>
<a name='L1298'>        rsize = PyBytes_GET_SIZE(cres);
<a name='L1299'>        <b>if</b> (<a href='../S/2642.html#L842' title='Defined at 842 in Modules/cjkcodecs/multibytecodec.c.'>decoder_prepare_buffer</a>(&amp;buf, PyBytes_AS_STRING(cres),
<a name='L1300'>                                   rsize) != 0)
<a name='L1301'>            <b>goto</b> errorexit;
<a name='L1302'>
<a name='L1303'>        <b>if</b> (rsize &gt; 0 &amp;&amp; <a href='../S/2642.html#L860' title='Defined at 860 in Modules/cjkcodecs/multibytecodec.c.'>decoder_feed_buffer</a>(
<a name='L1304'>                        (<a href='../S/2643.html#L97' title='Defined at 97 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStatefulDecoderContext</a> *)self, &amp;buf))
<a name='L1305'>            <b>goto</b> errorexit;
<a name='L1306'>
<a name='L1307'>        <b>if</b> (endoffile || sizehint &lt; 0) <font color='red'>{</font>
<a name='L1308'>            <b>if</b> (buf.inbuf &lt; buf.inbuf_end &amp;&amp;
<a name='L1309'>                <a href='../S/2642.html#L367' title='Defined at 367 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_decerror</a>(self-&gt;codec, &amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>,
<a name='L1310'>                            &amp;buf, self-&gt;errors, <a href='../S/2643.html#L119' title='Defined at 119 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOFEW</a>))
<a name='L1311'>                <b>goto</b> errorexit;
<a name='L1312'>        <font color='red'>}</font>
<a name='L1313'>
<a name='L1314'>        <b>if</b> (buf.inbuf &lt; buf.inbuf_end) <font color='red'>{</font> <i><font color='green'>/* pending sequence exists */</font></i>
<a name='L1315'>            <b>if</b> (<a href='../S/2642.html#L825' title='Defined at 825 in Modules/cjkcodecs/multibytecodec.c.'>decoder_append_pending</a>(<a href='../S/2642.html#L735' title='Defined at 735 in Modules/cjkcodecs/multibytecodec.c.'>STATEFUL_DCTX</a>(self),
<a name='L1316'>                                       &amp;buf) != 0)
<a name='L1317'>                <b>goto</b> errorexit;
<a name='L1318'>        <font color='red'>}</font>
<a name='L1319'>
<a name='L1320'>        finalsize = (<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)(buf.outbuf -
<a name='L1321'>                        <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(buf.outobj));
<a name='L1322'>        Py_DECREF(cres);
<a name='L1323'>        cres = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1324'>
<a name='L1325'>        <b>if</b> (sizehint &lt; 0 || finalsize != 0 || rsize == 0)
<a name='L1326'>            <b>break</b>;
<a name='L1327'>
<a name='L1328'>        sizehint = 1; <i><font color='green'>/* read 1 more byte and retry */</font></i>
<a name='L1329'>    <font color='red'>}</font>
<a name='L1330'>
<a name='L1331'>    <b>if</b> (finalsize != <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(buf.outobj))
<a name='L1332'>        <b>if</b> (<a href='../D/4031.html' title='Multiple defined in 3 places.'>PyUnicode_Resize</a>(&amp;buf.outobj, finalsize) == -1)
<a name='L1333'>            <b>goto</b> errorexit;
<a name='L1334'>
<a name='L1335'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(cres);
<a name='L1336'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.excobj);
<a name='L1337'>    <b>return</b> buf.outobj;
<a name='L1338'>
<a name='L1339'>errorexit:
<a name='L1340'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(cres);
<a name='L1341'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.excobj);
<a name='L1342'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf.outobj);
<a name='L1343'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1344'><font color='red'>}</font>
<a name='L1345'>
<a name='L1346'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1347'><a href='../S/2642.html#L1436' title='Refered from 1436 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_read</a>(MultibyteStreamReaderObject *self, PyObject *args)
<a name='L1348'><font color='red'>{</font>
<a name='L1349'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *sizeobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1350'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size;
<a name='L1351'>
<a name='L1352'>    <b>if</b> (!<a href='../S/3112.html#L1712' title='Defined at 1712 in Python/getargs.c.'>PyArg_UnpackTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "read", 0, 1, &amp;sizeobj))
<a name='L1353'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1354'>
<a name='L1355'>    <b>if</b> (sizeobj == Py_None || sizeobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1356'>        size = -1;
<a name='L1357'>    <b>else</b> <b>if</b> (PyLong_Check(sizeobj))
<a name='L1358'>        size = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(sizeobj);
<a name='L1359'>    <b>else</b> <font color='red'>{</font>
<a name='L1360'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "arg 1 must be an integer");
<a name='L1361'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1362'>    <font color='red'>}</font>
<a name='L1363'>
<a name='L1364'>    <b>if</b> (size == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1365'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1366'>
<a name='L1367'>    <b>return</b> <a href='../S/2642.html#L1241' title='Defined at 1241 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_iread</a>(self, "read", size);
<a name='L1368'><font color='red'>}</font>
<a name='L1369'>
<a name='L1370'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1371'><a href='../S/2642.html#L1438' title='Refered from 1438 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_readline</a>(MultibyteStreamReaderObject *self, PyObject *args)
<a name='L1372'><font color='red'>{</font>
<a name='L1373'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *sizeobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1374'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size;
<a name='L1375'>
<a name='L1376'>    <b>if</b> (!<a href='../S/3112.html#L1712' title='Defined at 1712 in Python/getargs.c.'>PyArg_UnpackTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "readline", 0, 1, &amp;sizeobj))
<a name='L1377'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1378'>
<a name='L1379'>    <b>if</b> (sizeobj == Py_None || sizeobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1380'>        size = -1;
<a name='L1381'>    <b>else</b> <b>if</b> (PyLong_Check(sizeobj))
<a name='L1382'>        size = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(sizeobj);
<a name='L1383'>    <b>else</b> <font color='red'>{</font>
<a name='L1384'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "arg 1 must be an integer");
<a name='L1385'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1386'>    <font color='red'>}</font>
<a name='L1387'>
<a name='L1388'>    <b>if</b> (size == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1389'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1390'>
<a name='L1391'>    <b>return</b> <a href='../S/2642.html#L1241' title='Defined at 1241 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_iread</a>(self, "readline", size);
<a name='L1392'><font color='red'>}</font>
<a name='L1393'>
<a name='L1394'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1395'><a href='../S/2642.html#L1440' title='Refered from 1440 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_readlines</a>(MultibyteStreamReaderObject *self, PyObject *args)
<a name='L1396'><font color='red'>{</font>
<a name='L1397'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *sizehintobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *r, *sr;
<a name='L1398'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> sizehint;
<a name='L1399'>
<a name='L1400'>    <b>if</b> (!<a href='../S/3112.html#L1712' title='Defined at 1712 in Python/getargs.c.'>PyArg_UnpackTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "readlines", 0, 1, &amp;sizehintobj))
<a name='L1401'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1402'>
<a name='L1403'>    <b>if</b> (sizehintobj == Py_None || sizehintobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1404'>        sizehint = -1;
<a name='L1405'>    <b>else</b> <b>if</b> (PyLong_Check(sizehintobj))
<a name='L1406'>        sizehint = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(sizehintobj);
<a name='L1407'>    <b>else</b> <font color='red'>{</font>
<a name='L1408'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "arg 1 must be an integer");
<a name='L1409'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1410'>    <font color='red'>}</font>
<a name='L1411'>
<a name='L1412'>    <b>if</b> (sizehint == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1413'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1414'>
<a name='L1415'>    r = <a href='../S/2642.html#L1241' title='Defined at 1241 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_iread</a>(self, "read", sizehint);
<a name='L1416'>    <b>if</b> (r == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1417'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1418'>
<a name='L1419'>    sr = <a href='../D/4034.html' title='Multiple defined in 3 places.'>PyUnicode_Splitlines</a>(r, 1);
<a name='L1420'>    Py_DECREF(r);
<a name='L1421'>    <b>return</b> sr;
<a name='L1422'><font color='red'>}</font>
<a name='L1423'>
<a name='L1424'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1425'><a href='../S/2642.html#L1442' title='Refered from 1442 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_reset</a>(MultibyteStreamReaderObject *self)
<a name='L1426'><font color='red'>{</font>
<a name='L1427'>    <b>if</b> (self-&gt;codec-&gt;decreset != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L1428'>        self-&gt;codec-&gt;decreset(&amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L1429'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1430'>    self-&gt;pendingsize = 0;
<a name='L1431'>
<a name='L1432'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1433'><font color='red'>}</font>
<a name='L1434'>
<a name='L1435'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> mbstreamreader_methods[] = <font color='red'>{</font>
<a name='L1436'>    <font color='red'>{</font>"read",            (PyCFunction)<a href='../S/2642.html#L1347' title='Defined at 1347 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_read</a>,
<a name='L1437'>                    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1438'>    <font color='red'>{</font>"readline",        (PyCFunction)<a href='../S/2642.html#L1371' title='Defined at 1371 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_readline</a>,
<a name='L1439'>                    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1440'>    <font color='red'>{</font>"readlines",       (PyCFunction)<a href='../S/2642.html#L1395' title='Defined at 1395 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_readlines</a>,
<a name='L1441'>                    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1442'>    <font color='red'>{</font>"reset",           (PyCFunction)<a href='../S/2642.html#L1425' title='Defined at 1425 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_reset</a>,
<a name='L1443'>                    <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1444'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,              <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1445'><font color='red'>}</font>;
<a name='L1446'>
<a name='L1447'><b>static</b> <a href='../D/3506.html' title='Multiple defined in 2 places.'>PyMemberDef</a> mbstreamreader_members[] = <font color='red'>{</font>
<a name='L1448'>    <font color='red'>{</font>"stream",          <a href='../S/577.html#L44' title='Defined at 44 in Include/structmember.h.'>T_OBJECT</a>,
<a name='L1449'>                    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2643.html#L110' title='Defined at 110 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStreamReaderObject</a>, stream),
<a name='L1450'>                    <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1451'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,<font color='red'>}</font>
<a name='L1452'><font color='red'>}</font>;
<a name='L1453'>
<a name='L1454'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1455'><a href='../S/2642.html#L1562' title='Refered from 1562 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_new</a>(PyTypeObject *type, PyObject *args, PyObject *kwds)
<a name='L1456'><font color='red'>{</font>
<a name='L1457'>    <a href='../S/2643.html#L110' title='Defined at 110 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStreamReaderObject</a> *self;
<a name='L1458'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *stream, *codec = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1459'>    <b>char</b> *errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1460'>
<a name='L1461'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "O|s:StreamReader",
<a name='L1462'>                            streamkwarglist, &amp;stream, &amp;errors))
<a name='L1463'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1464'>
<a name='L1465'>    self = (<a href='../S/2643.html#L110' title='Defined at 110 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStreamReaderObject</a> *)type-&gt;tp_alloc(type, 0);
<a name='L1466'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1467'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1468'>
<a name='L1469'>    codec = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)type, "codec");
<a name='L1470'>    <b>if</b> (codec == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1471'>        <b>goto</b> errorexit;
<a name='L1472'>    <b>if</b> (!<a href='../S/2643.html#L70' title='Defined at 70 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_Check</a>(codec)) <font color='red'>{</font>
<a name='L1473'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "codec is unexpected type");
<a name='L1474'>        <b>goto</b> errorexit;
<a name='L1475'>    <font color='red'>}</font>
<a name='L1476'>
<a name='L1477'>    self-&gt;codec = ((<a href='../S/2643.html#L68' title='Defined at 68 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodecObject</a> *)codec)-&gt;codec;
<a name='L1478'>    self-&gt;stream = stream;
<a name='L1479'>    Py_INCREF(stream);
<a name='L1480'>    self-&gt;pendingsize = 0;
<a name='L1481'>    self-&gt;errors = <a href='../S/2642.html#L79' title='Defined at 79 in Modules/cjkcodecs/multibytecodec.c.'>internal_error_callback</a>(errors);
<a name='L1482'>    <b>if</b> (self-&gt;errors == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1483'>        <b>goto</b> errorexit;
<a name='L1484'>    <b>if</b> (self-&gt;codec-&gt;decinit != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L1485'>        self-&gt;codec-&gt;decinit(&amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L1486'>        <b>goto</b> errorexit;
<a name='L1487'>
<a name='L1488'>    Py_DECREF(codec);
<a name='L1489'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L1490'>
<a name='L1491'>errorexit:
<a name='L1492'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self);
<a name='L1493'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(codec);
<a name='L1494'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1495'><font color='red'>}</font>
<a name='L1496'>
<a name='L1497'><b>static</b> <b>int</b>
<a name='L1498'><a href='../S/2642.html#L1560' title='Refered from 1560 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_init</a>(PyObject *self, PyObject *args, PyObject *kwds)
<a name='L1499'><font color='red'>{</font>
<a name='L1500'>    <b>return</b> 0;
<a name='L1501'><font color='red'>}</font>
<a name='L1502'>
<a name='L1503'><b>static</b> <b>int</b>
<a name='L1504'><a href='../S/2642.html#L1546' title='Refered from 1546 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_traverse</a>(MultibyteStreamReaderObject *self,
<a name='L1505'>                        visitproc visit, <b>void</b> *arg)
<a name='L1506'><font color='red'>{</font>
<a name='L1507'>    <b>if</b> (<a href='../S/2643.html#L125' title='Defined at 125 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_ISCUSTOM</a>(self-&gt;errors))
<a name='L1508'>        Py_VISIT(self-&gt;errors);
<a name='L1509'>    Py_VISIT(self-&gt;stream);
<a name='L1510'>    <b>return</b> 0;
<a name='L1511'><font color='red'>}</font>
<a name='L1512'>
<a name='L1513'><b>static</b> <b>void</b>
<a name='L1514'><a href='../S/2642.html#L1528' title='Refered from 1528 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_dealloc</a>(MultibyteStreamReaderObject *self)
<a name='L1515'><font color='red'>{</font>
<a name='L1516'>    <a href='../D/3619.html' title='Multiple defined in 2 places.'>PyObject_GC_UnTrack</a>(self);
<a name='L1517'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(self-&gt;errors);
<a name='L1518'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;stream);
<a name='L1519'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free(self);
<a name='L1520'><font color='red'>}</font>
<a name='L1521'>
<a name='L1522'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> MultibyteStreamReader_Type = <font color='red'>{</font>
<a name='L1523'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L1524'>    "MultibyteStreamReader",            <i><font color='green'>/* tp_name */</font></i>
<a name='L1525'>    <b>sizeof</b>(<a href='../S/2643.html#L110' title='Defined at 110 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStreamReaderObject</a>), <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L1526'>    0,                                  <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L1527'>    <i><font color='green'>/*  methods  */</font></i>
<a name='L1528'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2642.html#L1514' title='Defined at 1514 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_dealloc</a>, <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L1529'>    0,                                  <i><font color='green'>/* tp_print */</font></i>
<a name='L1530'>    0,                                  <i><font color='green'>/* tp_getattr */</font></i>
<a name='L1531'>    0,                                  <i><font color='green'>/* tp_setattr */</font></i>
<a name='L1532'>    0,                                  <i><font color='green'>/* tp_reserved */</font></i>
<a name='L1533'>    0,                                  <i><font color='green'>/* tp_repr */</font></i>
<a name='L1534'>    0,                                  <i><font color='green'>/* tp_as_number */</font></i>
<a name='L1535'>    0,                                  <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L1536'>    0,                                  <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L1537'>    0,                                  <i><font color='green'>/* tp_hash */</font></i>
<a name='L1538'>    0,                                  <i><font color='green'>/* tp_call */</font></i>
<a name='L1539'>    0,                                  <i><font color='green'>/* tp_str */</font></i>
<a name='L1540'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,            <i><font color='green'>/* tp_getattro */</font></i>
<a name='L1541'>    0,                                  <i><font color='green'>/* tp_setattro */</font></i>
<a name='L1542'>    0,                                  <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L1543'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC
<a name='L1544'>        | Py_TPFLAGS_BASETYPE,          <i><font color='green'>/* tp_flags */</font></i>
<a name='L1545'>    0,                                  <i><font color='green'>/* tp_doc */</font></i>
<a name='L1546'>    (traverseproc)<a href='../S/2642.html#L1504' title='Defined at 1504 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_traverse</a>,      <i><font color='green'>/* tp_traverse */</font></i>
<a name='L1547'>    0,                                  <i><font color='green'>/* tp_clear */</font></i>
<a name='L1548'>    0,                                  <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L1549'>    0,                                  <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L1550'>    0,                                  <i><font color='green'>/* tp_iter */</font></i>
<a name='L1551'>    0,                                  <i><font color='green'>/* tp_iterext */</font></i>
<a name='L1552'>    mbstreamreader_methods,             <i><font color='green'>/* tp_methods */</font></i>
<a name='L1553'>    mbstreamreader_members,             <i><font color='green'>/* tp_members */</font></i>
<a name='L1554'>    codecctx_getsets,                   <i><font color='green'>/* tp_getset */</font></i>
<a name='L1555'>    0,                                  <i><font color='green'>/* tp_base */</font></i>
<a name='L1556'>    0,                                  <i><font color='green'>/* tp_dict */</font></i>
<a name='L1557'>    0,                                  <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L1558'>    0,                                  <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L1559'>    0,                                  <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L1560'>    <a href='../S/2642.html#L1498' title='Defined at 1498 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_init</a>,                <i><font color='green'>/* tp_init */</font></i>
<a name='L1561'>    0,                                  <i><font color='green'>/* tp_alloc */</font></i>
<a name='L1562'>    <a href='../S/2642.html#L1455' title='Defined at 1455 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamreader_new</a>,                 <i><font color='green'>/* tp_new */</font></i>
<a name='L1563'><font color='red'>}</font>;
<a name='L1564'>
<a name='L1565'>
<a name='L1566'><i><font color='green'>/**</font></i>
<a name='L1567'><i><font color='green'> * MultibyteStreamWriter object</font></i>
<a name='L1568'><i><font color='green'> */</font></i>
<a name='L1569'>
<a name='L1570'><b>static</b> <b>int</b>
<a name='L1571'><a href='../R/8955.html' title='Multiple refered from 2 places.'>mbstreamwriter_iwrite</a>(MultibyteStreamWriterObject *self,
<a name='L1572'>                      PyObject *unistr)
<a name='L1573'><font color='red'>{</font>
<a name='L1574'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *str, *wr;
<a name='L1575'>
<a name='L1576'>    str = <a href='../S/2642.html#L739' title='Defined at 739 in Modules/cjkcodecs/multibytecodec.c.'>encoder_encode_stateful</a>(<a href='../S/2642.html#L736' title='Defined at 736 in Modules/cjkcodecs/multibytecodec.c.'>STATEFUL_ECTX</a>(self), unistr, 0);
<a name='L1577'>    <b>if</b> (str == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1578'>        <b>return</b> -1;
<a name='L1579'>
<a name='L1580'>    wr = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(self-&gt;stream, "write", "O", str);
<a name='L1581'>    Py_DECREF(str);
<a name='L1582'>    <b>if</b> (wr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1583'>        <b>return</b> -1;
<a name='L1584'>
<a name='L1585'>    Py_DECREF(wr);
<a name='L1586'>    <b>return</b> 0;
<a name='L1587'><font color='red'>}</font>
<a name='L1588'>
<a name='L1589'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1590'><a href='../S/2642.html#L1726' title='Refered from 1726 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_write</a>(MultibyteStreamWriterObject *self, PyObject *strobj)
<a name='L1591'><font color='red'>{</font>
<a name='L1592'>    <b>if</b> (<a href='../S/2642.html#L1571' title='Defined at 1571 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_iwrite</a>(self, strobj))
<a name='L1593'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1594'>    <b>else</b>
<a name='L1595'>        <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1596'><font color='red'>}</font>
<a name='L1597'>
<a name='L1598'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1599'><a href='../S/2642.html#L1728' title='Refered from 1728 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_writelines</a>(MultibyteStreamWriterObject *self, PyObject *lines)
<a name='L1600'><font color='red'>{</font>
<a name='L1601'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *strobj;
<a name='L1602'>    <b>int</b> i, r;
<a name='L1603'>
<a name='L1604'>    <b>if</b> (!<a href='../S/2775.html#L1443' title='Defined at 1443 in Objects/abstract.c.'>PySequence_Check</a>(lines)) <font color='red'>{</font>
<a name='L1605'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L1606'>                        "arg must be a sequence object");
<a name='L1607'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1608'>    <font color='red'>}</font>
<a name='L1609'>
<a name='L1610'>    <b>for</b> (i = 0; i &lt; <a href='../D/3757.html' title='Multiple defined in 3 places.'>PySequence_Length</a>(lines); i++) <font color='red'>{</font>
<a name='L1611'>        <i><font color='green'>/* length can be changed even within this loop */</font></i>
<a name='L1612'>        strobj = <a href='../S/2775.html#L1584' title='Defined at 1584 in Objects/abstract.c.'>PySequence_GetItem</a>(lines, i);
<a name='L1613'>        <b>if</b> (strobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1614'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1615'>
<a name='L1616'>        r = <a href='../S/2642.html#L1571' title='Defined at 1571 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_iwrite</a>(self, strobj);
<a name='L1617'>        Py_DECREF(strobj);
<a name='L1618'>        <b>if</b> (r == -1)
<a name='L1619'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1620'>    <font color='red'>}</font>
<a name='L1621'>
<a name='L1622'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1623'><font color='red'>}</font>
<a name='L1624'>
<a name='L1625'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1626'><a href='../S/2642.html#L1730' title='Refered from 1730 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_reset</a>(MultibyteStreamWriterObject *self)
<a name='L1627'><font color='red'>{</font>
<a name='L1628'>    <b>const</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *pending;
<a name='L1629'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pwrt;
<a name='L1630'>
<a name='L1631'>    pending = self-&gt;pending;
<a name='L1632'>    pwrt = <a href='../S/2642.html#L474' title='Defined at 474 in Modules/cjkcodecs/multibytecodec.c.'>multibytecodec_encode</a>(self-&gt;codec, &amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>,
<a name='L1633'>                    &amp;pending, self-&gt;pendingsize, self-&gt;errors,
<a name='L1634'>                    <a href='../S/2643.html#L132' title='Defined at 132 in Modules/cjkcodecs/multibytecodec.h.'>MBENC_FLUSH</a> | <a href='../S/2642.html#L51' title='Defined at 51 in Modules/cjkcodecs/multibytecodec.c.'>MBENC_RESET</a>);
<a name='L1635'>    <i><font color='green'>/* some pending buffer can be truncated when UnicodeEncodeError is</font></i>
<a name='L1636'><i><font color='green'>     * raised on 'strict' mode. but, 'reset' method is designed to</font></i>
<a name='L1637'><i><font color='green'>     * reset the pending buffer or states so failed string sequence</font></i>
<a name='L1638'><i><font color='green'>     * ought to be missed */</font></i>
<a name='L1639'>    self-&gt;pendingsize = 0;
<a name='L1640'>    <b>if</b> (pwrt == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1641'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1642'>
<a name='L1643'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyBytes_Check(pwrt));
<a name='L1644'>    <b>if</b> (<a href='../S/2779.html#L506' title='Defined at 506 in Objects/bytesobject.c.'>PyBytes_Size</a>(pwrt) &gt; 0) <font color='red'>{</font>
<a name='L1645'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *wr;
<a name='L1646'>        wr = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(self-&gt;stream, "write", "O", pwrt);
<a name='L1647'>        <b>if</b> (wr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1648'>            Py_DECREF(pwrt);
<a name='L1649'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1650'>        <font color='red'>}</font>
<a name='L1651'>    <font color='red'>}</font>
<a name='L1652'>    Py_DECREF(pwrt);
<a name='L1653'>
<a name='L1654'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1655'><font color='red'>}</font>
<a name='L1656'>
<a name='L1657'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1658'><a href='../S/2642.html#L1782' title='Refered from 1782 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_new</a>(PyTypeObject *type, PyObject *args, PyObject *kwds)
<a name='L1659'><font color='red'>{</font>
<a name='L1660'>    <a href='../S/2643.html#L115' title='Defined at 115 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStreamWriterObject</a> *self;
<a name='L1661'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *stream, *codec = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1662'>    <b>char</b> *errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1663'>
<a name='L1664'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "O|s:StreamWriter",
<a name='L1665'>                            streamkwarglist, &amp;stream, &amp;errors))
<a name='L1666'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1667'>
<a name='L1668'>    self = (<a href='../S/2643.html#L115' title='Defined at 115 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStreamWriterObject</a> *)type-&gt;tp_alloc(type, 0);
<a name='L1669'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1670'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1671'>
<a name='L1672'>    codec = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)type, "codec");
<a name='L1673'>    <b>if</b> (codec == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1674'>        <b>goto</b> errorexit;
<a name='L1675'>    <b>if</b> (!<a href='../S/2643.html#L70' title='Defined at 70 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_Check</a>(codec)) <font color='red'>{</font>
<a name='L1676'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "codec is unexpected type");
<a name='L1677'>        <b>goto</b> errorexit;
<a name='L1678'>    <font color='red'>}</font>
<a name='L1679'>
<a name='L1680'>    self-&gt;codec = ((<a href='../S/2643.html#L68' title='Defined at 68 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodecObject</a> *)codec)-&gt;codec;
<a name='L1681'>    self-&gt;stream = stream;
<a name='L1682'>    Py_INCREF(stream);
<a name='L1683'>    self-&gt;pendingsize = 0;
<a name='L1684'>    self-&gt;errors = <a href='../S/2642.html#L79' title='Defined at 79 in Modules/cjkcodecs/multibytecodec.c.'>internal_error_callback</a>(errors);
<a name='L1685'>    <b>if</b> (self-&gt;errors == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1686'>        <b>goto</b> errorexit;
<a name='L1687'>    <b>if</b> (self-&gt;codec-&gt;encinit != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L1688'>        self-&gt;codec-&gt;encinit(&amp;self-&gt;<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, self-&gt;codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L1689'>        <b>goto</b> errorexit;
<a name='L1690'>
<a name='L1691'>    Py_DECREF(codec);
<a name='L1692'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L1693'>
<a name='L1694'>errorexit:
<a name='L1695'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self);
<a name='L1696'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(codec);
<a name='L1697'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1698'><font color='red'>}</font>
<a name='L1699'>
<a name='L1700'><b>static</b> <b>int</b>
<a name='L1701'><a href='../S/2642.html#L1780' title='Refered from 1780 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_init</a>(PyObject *self, PyObject *args, PyObject *kwds)
<a name='L1702'><font color='red'>{</font>
<a name='L1703'>    <b>return</b> 0;
<a name='L1704'><font color='red'>}</font>
<a name='L1705'>
<a name='L1706'><b>static</b> <b>int</b>
<a name='L1707'><a href='../S/2642.html#L1766' title='Refered from 1766 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_traverse</a>(MultibyteStreamWriterObject *self,
<a name='L1708'>                        visitproc visit, <b>void</b> *arg)
<a name='L1709'><font color='red'>{</font>
<a name='L1710'>    <b>if</b> (<a href='../S/2643.html#L125' title='Defined at 125 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_ISCUSTOM</a>(self-&gt;errors))
<a name='L1711'>        Py_VISIT(self-&gt;errors);
<a name='L1712'>    Py_VISIT(self-&gt;stream);
<a name='L1713'>    <b>return</b> 0;
<a name='L1714'><font color='red'>}</font>
<a name='L1715'>
<a name='L1716'><b>static</b> <b>void</b>
<a name='L1717'><a href='../S/2642.html#L1748' title='Refered from 1748 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_dealloc</a>(MultibyteStreamWriterObject *self)
<a name='L1718'><font color='red'>{</font>
<a name='L1719'>    <a href='../D/3619.html' title='Multiple defined in 2 places.'>PyObject_GC_UnTrack</a>(self);
<a name='L1720'>    <a href='../S/2643.html#L126' title='Defined at 126 in Modules/cjkcodecs/multibytecodec.h.'>ERROR_DECREF</a>(self-&gt;errors);
<a name='L1721'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;stream);
<a name='L1722'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free(self);
<a name='L1723'><font color='red'>}</font>
<a name='L1724'>
<a name='L1725'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> mbstreamwriter_methods[] = <font color='red'>{</font>
<a name='L1726'>    <font color='red'>{</font>"write",           (PyCFunction)<a href='../S/2642.html#L1590' title='Defined at 1590 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_write</a>,
<a name='L1727'>                    METH_O, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1728'>    <font color='red'>{</font>"writelines",      (PyCFunction)<a href='../S/2642.html#L1599' title='Defined at 1599 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_writelines</a>,
<a name='L1729'>                    METH_O, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1730'>    <font color='red'>{</font>"reset",           (PyCFunction)<a href='../S/2642.html#L1626' title='Defined at 1626 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_reset</a>,
<a name='L1731'>                    <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1732'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,              <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1733'><font color='red'>}</font>;
<a name='L1734'>
<a name='L1735'><b>static</b> <a href='../D/3506.html' title='Multiple defined in 2 places.'>PyMemberDef</a> mbstreamwriter_members[] = <font color='red'>{</font>
<a name='L1736'>    <font color='red'>{</font>"stream",          <a href='../S/577.html#L44' title='Defined at 44 in Include/structmember.h.'>T_OBJECT</a>,
<a name='L1737'>                    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2643.html#L115' title='Defined at 115 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStreamWriterObject</a>, stream),
<a name='L1738'>                    <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1739'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,<font color='red'>}</font>
<a name='L1740'><font color='red'>}</font>;
<a name='L1741'>
<a name='L1742'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> MultibyteStreamWriter_Type = <font color='red'>{</font>
<a name='L1743'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L1744'>    "MultibyteStreamWriter",            <i><font color='green'>/* tp_name */</font></i>
<a name='L1745'>    <b>sizeof</b>(<a href='../S/2643.html#L115' title='Defined at 115 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteStreamWriterObject</a>), <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L1746'>    0,                                  <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L1747'>    <i><font color='green'>/*  methods  */</font></i>
<a name='L1748'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2642.html#L1717' title='Defined at 1717 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_dealloc</a>, <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L1749'>    0,                                  <i><font color='green'>/* tp_print */</font></i>
<a name='L1750'>    0,                                  <i><font color='green'>/* tp_getattr */</font></i>
<a name='L1751'>    0,                                  <i><font color='green'>/* tp_setattr */</font></i>
<a name='L1752'>    0,                                  <i><font color='green'>/* tp_reserved */</font></i>
<a name='L1753'>    0,                                  <i><font color='green'>/* tp_repr */</font></i>
<a name='L1754'>    0,                                  <i><font color='green'>/* tp_as_number */</font></i>
<a name='L1755'>    0,                                  <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L1756'>    0,                                  <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L1757'>    0,                                  <i><font color='green'>/* tp_hash */</font></i>
<a name='L1758'>    0,                                  <i><font color='green'>/* tp_call */</font></i>
<a name='L1759'>    0,                                  <i><font color='green'>/* tp_str */</font></i>
<a name='L1760'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,            <i><font color='green'>/* tp_getattro */</font></i>
<a name='L1761'>    0,                                  <i><font color='green'>/* tp_setattro */</font></i>
<a name='L1762'>    0,                                  <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L1763'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC
<a name='L1764'>        | Py_TPFLAGS_BASETYPE,          <i><font color='green'>/* tp_flags */</font></i>
<a name='L1765'>    0,                                  <i><font color='green'>/* tp_doc */</font></i>
<a name='L1766'>    (traverseproc)<a href='../S/2642.html#L1707' title='Defined at 1707 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_traverse</a>,      <i><font color='green'>/* tp_traverse */</font></i>
<a name='L1767'>    0,                                  <i><font color='green'>/* tp_clear */</font></i>
<a name='L1768'>    0,                                  <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L1769'>    0,                                  <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L1770'>    0,                                  <i><font color='green'>/* tp_iter */</font></i>
<a name='L1771'>    0,                                  <i><font color='green'>/* tp_iterext */</font></i>
<a name='L1772'>    mbstreamwriter_methods,             <i><font color='green'>/* tp_methods */</font></i>
<a name='L1773'>    mbstreamwriter_members,             <i><font color='green'>/* tp_members */</font></i>
<a name='L1774'>    codecctx_getsets,                   <i><font color='green'>/* tp_getset */</font></i>
<a name='L1775'>    0,                                  <i><font color='green'>/* tp_base */</font></i>
<a name='L1776'>    0,                                  <i><font color='green'>/* tp_dict */</font></i>
<a name='L1777'>    0,                                  <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L1778'>    0,                                  <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L1779'>    0,                                  <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L1780'>    <a href='../S/2642.html#L1701' title='Defined at 1701 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_init</a>,                <i><font color='green'>/* tp_init */</font></i>
<a name='L1781'>    0,                                  <i><font color='green'>/* tp_alloc */</font></i>
<a name='L1782'>    <a href='../S/2642.html#L1658' title='Defined at 1658 in Modules/cjkcodecs/multibytecodec.c.'>mbstreamwriter_new</a>,                 <i><font color='green'>/* tp_new */</font></i>
<a name='L1783'><font color='red'>}</font>;
<a name='L1784'>
<a name='L1785'>
<a name='L1786'><i><font color='green'>/**</font></i>
<a name='L1787'><i><font color='green'> * Exposed factory function</font></i>
<a name='L1788'><i><font color='green'> */</font></i>
<a name='L1789'>
<a name='L1790'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1791'><a href='../S/2642.html#L1814' title='Refered from 1814 in Modules/cjkcodecs/multibytecodec.c.'>__create_codec</a>(PyObject *ignore, PyObject *arg)
<a name='L1792'><font color='red'>{</font>
<a name='L1793'>    <a href='../S/2643.html#L68' title='Defined at 68 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodecObject</a> *self;
<a name='L1794'>    <a href='../S/2643.html#L63' title='Defined at 63 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec</a> *codec;
<a name='L1795'>
<a name='L1796'>    <b>if</b> (!<a href='../S/2780.html#L68' title='Defined at 68 in Objects/capsule.c.'>PyCapsule_IsValid</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, <a href='../S/2643.html#L135' title='Defined at 135 in Modules/cjkcodecs/multibytecodec.h.'>PyMultibyteCodec_CAPSULE_NAME</a>)) <font color='red'>{</font>
<a name='L1797'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "argument type invalid");
<a name='L1798'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1799'>    <font color='red'>}</font>
<a name='L1800'>
<a name='L1801'>    codec = <a href='../S/2780.html#L80' title='Defined at 80 in Objects/capsule.c.'>PyCapsule_GetPointer</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, <a href='../S/2643.html#L135' title='Defined at 135 in Modules/cjkcodecs/multibytecodec.h.'>PyMultibyteCodec_CAPSULE_NAME</a>);
<a name='L1802'>    <b>if</b> (codec-&gt;codecinit != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; codec-&gt;codecinit(codec-&gt;<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>) != 0)
<a name='L1803'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1804'>
<a name='L1805'>    self = PyObject_New(<a href='../S/2643.html#L68' title='Defined at 68 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodecObject</a>, &amp;MultibyteCodec_Type);
<a name='L1806'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1807'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1808'>    self-&gt;codec = codec;
<a name='L1809'>
<a name='L1810'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L1811'><font color='red'>}</font>
<a name='L1812'>
<a name='L1813'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> __methods[] = <font color='red'>{</font>
<a name='L1814'>    <font color='red'>{</font>"__create_codec", (PyCFunction)<a href='../S/2642.html#L1791' title='Defined at 1791 in Modules/cjkcodecs/multibytecodec.c.'>__create_codec</a>, METH_O<font color='red'>}</font>,
<a name='L1815'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1816'><font color='red'>}</font>;
<a name='L1817'>
<a name='L1818'>
<a name='L1819'><b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> _multibytecodecmodule = <font color='red'>{</font>
<a name='L1820'>    <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,
<a name='L1821'>    "_multibytecodec",
<a name='L1822'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1823'>    -1,
<a name='L1824'>    __methods,
<a name='L1825'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1826'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1827'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1828'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L1829'><font color='red'>}</font>;
<a name='L1830'>
<a name='L1831'><a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L1832'><a href='../R/3032.html' title='Multiple refered from 2 places.'>PyInit__multibytecodec</a>(<b>void</b>)
<a name='L1833'><font color='red'>{</font>
<a name='L1834'>    <b>int</b> i;
<a name='L1835'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m;
<a name='L1836'>    <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> *typelist[] = <font color='red'>{</font>
<a name='L1837'>        &amp;MultibyteIncrementalEncoder_Type,
<a name='L1838'>        &amp;MultibyteIncrementalDecoder_Type,
<a name='L1839'>        &amp;MultibyteStreamReader_Type,
<a name='L1840'>        &amp;MultibyteStreamWriter_Type,
<a name='L1841'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L1842'>    <font color='red'>}</font>;
<a name='L1843'>
<a name='L1844'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;MultibyteCodec_Type) &lt; 0)
<a name='L1845'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1846'>
<a name='L1847'>    m = PyModule_Create(&amp;_multibytecodecmodule);
<a name='L1848'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1849'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1850'>
<a name='L1851'>    <b>for</b> (i = 0; typelist[i] != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; i++) <font color='red'>{</font>
<a name='L1852'>        <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(typelist[i]) &lt; 0)
<a name='L1853'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1854'>        Py_INCREF(typelist[i]);
<a name='L1855'>        <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, typelist[i]-&gt;tp_name,
<a name='L1856'>                           (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)typelist[i]);
<a name='L1857'>    <font color='red'>}</font>
<a name='L1858'>
<a name='L1859'>    <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L1860'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("can't initialize the _multibytecodec module");
<a name='L1861'>        Py_DECREF(m);
<a name='L1862'>        m = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1863'>    <font color='red'>}</font>
<a name='L1864'>    <b>return</b> m;
<a name='L1865'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L54'>[^]</a><a href='#L1832'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
