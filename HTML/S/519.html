<html>
<head>
<title>Include/dynamic_annotations.h</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3349.html'>Include</a>/dynamic_annotations.h</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L473'>[^]</a>[v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2><a href='../J/30.html' title='Multiple included from 2 places.'>INCLUDED FROM</a></h2>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L473' title='Defined at 473.'>_Py_ANNOTATE_UNPROTECTED_READ</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/* Copyright (c) 2008-2009, Google Inc.</font></i>
<a name='L2'><i><font color='green'> * All rights reserved.</font></i>
<a name='L3'><i><font color='green'> *</font></i>
<a name='L4'><i><font color='green'> * Redistribution and use in source and binary forms, with or without</font></i>
<a name='L5'><i><font color='green'> * modification, are permitted provided that the following conditions are</font></i>
<a name='L6'><i><font color='green'> * met:</font></i>
<a name='L7'><i><font color='green'> *</font></i>
<a name='L8'><i><font color='green'> *     * Redistributions of source code must retain the above copyright</font></i>
<a name='L9'><i><font color='green'> * notice, this list of conditions and the following disclaimer.</font></i>
<a name='L10'><i><font color='green'> *     * Neither the name of Google Inc. nor the names of its</font></i>
<a name='L11'><i><font color='green'> * contributors may be used to endorse or promote products derived from</font></i>
<a name='L12'><i><font color='green'> * this software without specific prior written permission.</font></i>
<a name='L13'><i><font color='green'> *</font></i>
<a name='L14'><i><font color='green'> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</font></i>
<a name='L15'><i><font color='green'> * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</font></i>
<a name='L16'><i><font color='green'> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</font></i>
<a name='L17'><i><font color='green'> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</font></i>
<a name='L18'><i><font color='green'> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</font></i>
<a name='L19'><i><font color='green'> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</font></i>
<a name='L20'><i><font color='green'> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</font></i>
<a name='L21'><i><font color='green'> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</font></i>
<a name='L22'><i><font color='green'> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</font></i>
<a name='L23'><i><font color='green'> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</font></i>
<a name='L24'><i><font color='green'> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</font></i>
<a name='L25'><i><font color='green'> *</font></i>
<a name='L26'><i><font color='green'> * ---</font></i>
<a name='L27'><i><font color='green'> * Author: Kostya Serebryany</font></i>
<a name='L28'><i><font color='green'> * Copied to CPython by Jeffrey Yasskin, with all macros renamed to</font></i>
<a name='L29'><i><font color='green'> * start with _Py_ to avoid colliding with users embedding Python, and</font></i>
<a name='L30'><i><font color='green'> * with deprecated macros removed.</font></i>
<a name='L31'><i><font color='green'> */</font></i>
<a name='L32'>
<a name='L33'><i><font color='green'>/* This file defines dynamic annotations for use with dynamic analysis</font></i>
<a name='L34'><i><font color='green'>   tool such as valgrind, PIN, etc.</font></i>
<a name='L35'><i><font color='green'></font></i>
<a name='L36'><i><font color='green'>   Dynamic annotation is a source code annotation that affects</font></i>
<a name='L37'><i><font color='green'>   the generated code (that is, the annotation is not a comment).</font></i>
<a name='L38'><i><font color='green'>   Each such annotation is attached to a particular</font></i>
<a name='L39'><i><font color='green'>   instruction and/or to a particular object (address) in the program.</font></i>
<a name='L40'><i><font color='green'></font></i>
<a name='L41'><i><font color='green'>   The annotations that should be used by users are macros in all upper-case</font></i>
<a name='L42'><i><font color='green'>   (e.g., _Py_ANNOTATE_NEW_MEMORY).</font></i>
<a name='L43'><i><font color='green'></font></i>
<a name='L44'><i><font color='green'>   Actual implementation of these macros may differ depending on the</font></i>
<a name='L45'><i><font color='green'>   dynamic analysis tool being used.</font></i>
<a name='L46'><i><font color='green'></font></i>
<a name='L47'><i><font color='green'>   See http://code.google.com/p/data-race-test/  for more information.</font></i>
<a name='L48'><i><font color='green'></font></i>
<a name='L49'><i><font color='green'>   This file supports the following dynamic analysis tools:</font></i>
<a name='L50'><i><font color='green'>   - None (DYNAMIC_ANNOTATIONS_ENABLED is not defined or zero).</font></i>
<a name='L51'><i><font color='green'>      Macros are defined empty.</font></i>
<a name='L52'><i><font color='green'>   - ThreadSanitizer, Helgrind, DRD (DYNAMIC_ANNOTATIONS_ENABLED is 1).</font></i>
<a name='L53'><i><font color='green'>      Macros are defined as calls to non-inlinable empty functions</font></i>
<a name='L54'><i><font color='green'>      that are intercepted by Valgrind. */</font></i>
<a name='L55'>
<a name='L56'><font color='darkred'>#ifndef</font> <a href='../S/519.html#L57' title='Defined at 57 in Include/dynamic_annotations.h.'>__DYNAMIC_ANNOTATIONS_H__</a>
<a name='L57'><font color='darkred'>#define</font> <a href='../S/519.html#L56' title='Refered from 56 in Include/dynamic_annotations.h.'>__DYNAMIC_ANNOTATIONS_H__</a>
<a name='L58'>
<a name='L59'><font color='darkred'>#ifndef</font> <a href='../S/519.html#L60' title='Defined at 60 in Include/dynamic_annotations.h.'>DYNAMIC_ANNOTATIONS_ENABLED</a>
<a name='L60'><font color='darkred'># define</font> <a href='../R/777.html' title='Multiple refered from 4 places.'>DYNAMIC_ANNOTATIONS_ENABLED</a> 0
<a name='L61'><font color='darkred'>#endif</font>
<a name='L62'>
<a name='L63'><font color='darkred'>#if</font> <a href='../S/519.html#L60' title='Defined at 60 in Include/dynamic_annotations.h.'>DYNAMIC_ANNOTATIONS_ENABLED</a> != 0
<a name='L64'>
<a name='L65'>  <i><font color='green'>/* -------------------------------------------------------------</font></i>
<a name='L66'><i><font color='green'>     Annotations useful when implementing condition variables such as CondVar,</font></i>
<a name='L67'><i><font color='green'>     using conditional critical sections (Await/LockWhen) and when constructing</font></i>
<a name='L68'><i><font color='green'>     user-defined synchronization mechanisms.</font></i>
<a name='L69'><i><font color='green'></font></i>
<a name='L70'><i><font color='green'>     The annotations _Py_ANNOTATE_HAPPENS_BEFORE() and</font></i>
<a name='L71'><i><font color='green'>     _Py_ANNOTATE_HAPPENS_AFTER() can be used to define happens-before arcs in</font></i>
<a name='L72'><i><font color='green'>     user-defined synchronization mechanisms: the race detector will infer an</font></i>
<a name='L73'><i><font color='green'>     arc from the former to the latter when they share the same argument</font></i>
<a name='L74'><i><font color='green'>     pointer.</font></i>
<a name='L75'><i><font color='green'></font></i>
<a name='L76'><i><font color='green'>     Example 1 (reference counting):</font></i>
<a name='L77'><i><font color='green'></font></i>
<a name='L78'><i><font color='green'>     void Unref() {</font></i>
<a name='L79'><i><font color='green'>       _Py_ANNOTATE_HAPPENS_BEFORE(&amp;refcount_);</font></i>
<a name='L80'><i><font color='green'>       if (AtomicDecrementByOne(&amp;refcount_) == 0) {</font></i>
<a name='L81'><i><font color='green'>         _Py_ANNOTATE_HAPPENS_AFTER(&amp;refcount_);</font></i>
<a name='L82'><i><font color='green'>         delete this;</font></i>
<a name='L83'><i><font color='green'>       }</font></i>
<a name='L84'><i><font color='green'>     }</font></i>
<a name='L85'><i><font color='green'></font></i>
<a name='L86'><i><font color='green'>     Example 2 (message queue):</font></i>
<a name='L87'><i><font color='green'></font></i>
<a name='L88'><i><font color='green'>     void MyQueue::Put(Type *e) {</font></i>
<a name='L89'><i><font color='green'>       MutexLock lock(&amp;mu_);</font></i>
<a name='L90'><i><font color='green'>       _Py_ANNOTATE_HAPPENS_BEFORE(e);</font></i>
<a name='L91'><i><font color='green'>       PutElementIntoMyQueue(e);</font></i>
<a name='L92'><i><font color='green'>     }</font></i>
<a name='L93'><i><font color='green'></font></i>
<a name='L94'><i><font color='green'>     Type *MyQueue::Get() {</font></i>
<a name='L95'><i><font color='green'>       MutexLock lock(&amp;mu_);</font></i>
<a name='L96'><i><font color='green'>       Type *e = GetElementFromMyQueue();</font></i>
<a name='L97'><i><font color='green'>       _Py_ANNOTATE_HAPPENS_AFTER(e);</font></i>
<a name='L98'><i><font color='green'>       return e;</font></i>
<a name='L99'><i><font color='green'>     }</font></i>
<a name='L100'><i><font color='green'></font></i>
<a name='L101'><i><font color='green'>     Note: when possible, please use the existing reference counting and message</font></i>
<a name='L102'><i><font color='green'>     queue implementations instead of inventing new ones. */</font></i>
<a name='L103'>
<a name='L104'>  <i><font color='green'>/* Report that wait on the condition variable at address "cv" has succeeded</font></i>
<a name='L105'><i><font color='green'>     and the lock at address "lock" is held. */</font></i>
<a name='L106'><font color='darkred'>  #define</font> _Py_ANNOTATE_CONDVAR_LOCK_WAIT(cv, lock) \
<a name='L107'>    <a href='../S/3097.html#L66' title='Defined at 66 in Python/dynamic_annotations.c.'>AnnotateCondVarWait</a>(__FILE__, __LINE__, cv, <a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>)
<a name='L108'>
<a name='L109'>  <i><font color='green'>/* Report that wait on the condition variable at "cv" has succeeded.  Variant</font></i>
<a name='L110'><i><font color='green'>     w/o lock. */</font></i>
<a name='L111'><font color='darkred'>  #define</font> <a href='../S/519.html#L125' title='Refered from 125 in Include/dynamic_annotations.h.'>_Py_ANNOTATE_CONDVAR_WAIT</a>(cv) \
<a name='L112'>    <a href='../S/3097.html#L66' title='Defined at 66 in Python/dynamic_annotations.c.'>AnnotateCondVarWait</a>(__FILE__, __LINE__, cv, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L113'>
<a name='L114'>  <i><font color='green'>/* Report that we are about to signal on the condition variable at address</font></i>
<a name='L115'><i><font color='green'>     "cv". */</font></i>
<a name='L116'><font color='darkred'>  #define</font> <a href='../S/519.html#L124' title='Refered from 124 in Include/dynamic_annotations.h.'>_Py_ANNOTATE_CONDVAR_SIGNAL</a>(cv) \
<a name='L117'>    <a href='../S/3097.html#L69' title='Defined at 69 in Python/dynamic_annotations.c.'>AnnotateCondVarSignal</a>(__FILE__, __LINE__, cv)
<a name='L118'>
<a name='L119'>  <i><font color='green'>/* Report that we are about to signal_all on the condition variable at "cv". */</font></i>
<a name='L120'><font color='darkred'>  #define</font> _Py_ANNOTATE_CONDVAR_SIGNAL_ALL(cv) \
<a name='L121'>    <a href='../S/3097.html#L71' title='Defined at 71 in Python/dynamic_annotations.c.'>AnnotateCondVarSignalAll</a>(__FILE__, __LINE__, cv)
<a name='L122'>
<a name='L123'>  <i><font color='green'>/* Annotations for user-defined synchronization mechanisms. */</font></i>
<a name='L124'><font color='darkred'>  #define</font> <a href='../S/554.html#L65' title='Refered from 65 in Include/pyatomic.h.'>_Py_ANNOTATE_HAPPENS_BEFORE</a>(obj) <a href='../D/6243.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_CONDVAR_SIGNAL</a>(obj)
<a name='L125'><font color='darkred'>  #define</font> <a href='../S/554.html#L74' title='Refered from 74 in Include/pyatomic.h.'>_Py_ANNOTATE_HAPPENS_AFTER</a>(obj)  <a href='../D/6245.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_CONDVAR_WAIT</a>(obj)
<a name='L126'>
<a name='L127'>  <i><font color='green'>/* Report that the bytes in the range [pointer, pointer+size) are about</font></i>
<a name='L128'><i><font color='green'>     to be published safely. The race checker will create a happens-before</font></i>
<a name='L129'><i><font color='green'>     arc from the call _Py_ANNOTATE_PUBLISH_MEMORY_RANGE(pointer, size) to</font></i>
<a name='L130'><i><font color='green'>     subsequent accesses to this memory.</font></i>
<a name='L131'><i><font color='green'>     Note: this annotation may not work properly if the race detector uses</font></i>
<a name='L132'><i><font color='green'>     sampling, i.e. does not observe all memory accesses.</font></i>
<a name='L133'><i><font color='green'>     */</font></i>
<a name='L134'><font color='darkred'>  #define</font> _Py_ANNOTATE_PUBLISH_MEMORY_RANGE(pointer, size) \
<a name='L135'>    <a href='../S/3097.html#L73' title='Defined at 73 in Python/dynamic_annotations.c.'>AnnotatePublishMemoryRange</a>(__FILE__, __LINE__, <a href='../S/2250.html#L1764' title='Defined at 1764 in Modules/_ctypes/callproc.c.'>pointer</a>, size)
<a name='L136'>
<a name='L137'>  <i><font color='green'>/* Instruct the tool to create a happens-before arc between mu-&gt;Unlock() and</font></i>
<a name='L138'><i><font color='green'>     mu-&gt;Lock(). This annotation may slow down the race detector and hide real</font></i>
<a name='L139'><i><font color='green'>     races. Normally it is used only when it would be difficult to annotate each</font></i>
<a name='L140'><i><font color='green'>     of the mutex's critical sections individually using the annotations above.</font></i>
<a name='L141'><i><font color='green'>     This annotation makes sense only for hybrid race detectors. For pure</font></i>
<a name='L142'><i><font color='green'>     happens-before detectors this is a no-op. For more details see</font></i>
<a name='L143'><i><font color='green'>     http://code.google.com/p/data-race-test/wiki/PureHappensBeforeVsHybrid . */</font></i>
<a name='L144'><font color='darkred'>  #define</font> <a href='../S/3152.html#L412' title='Refered from 412 in Python/thread_pthread.h.'>_Py_ANNOTATE_PURE_HAPPENS_BEFORE_MUTEX</a>(mu) \
<a name='L145'>    <a href='../S/3097.html#L100' title='Defined at 100 in Python/dynamic_annotations.c.'>AnnotateMutexIsUsedAsCondVar</a>(__FILE__, __LINE__, mu)
<a name='L146'>
<a name='L147'>  <i><font color='green'>/* -------------------------------------------------------------</font></i>
<a name='L148'><i><font color='green'>     Annotations useful when defining memory allocators, or when memory that</font></i>
<a name='L149'><i><font color='green'>     was protected in one way starts to be protected in another. */</font></i>
<a name='L150'>
<a name='L151'>  <i><font color='green'>/* Report that a new memory at "address" of size "size" has been allocated.</font></i>
<a name='L152'><i><font color='green'>     This might be used when the memory has been retrieved from a free list and</font></i>
<a name='L153'><i><font color='green'>     is about to be reused, or when a the locking discipline for a variable</font></i>
<a name='L154'><i><font color='green'>     changes. */</font></i>
<a name='L155'><font color='darkred'>  #define</font> _Py_ANNOTATE_NEW_MEMORY(address, size) \
<a name='L156'>    <a href='../S/3097.html#L87' title='Defined at 87 in Python/dynamic_annotations.c.'>AnnotateNewMemory</a>(__FILE__, __LINE__, address, size)
<a name='L157'>
<a name='L158'>  <i><font color='green'>/* -------------------------------------------------------------</font></i>
<a name='L159'><i><font color='green'>     Annotations useful when defining FIFO queues that transfer data between</font></i>
<a name='L160'><i><font color='green'>     threads. */</font></i>
<a name='L161'>
<a name='L162'>  <i><font color='green'>/* Report that the producer-consumer queue (such as ProducerConsumerQueue) at</font></i>
<a name='L163'><i><font color='green'>     address "pcq" has been created.  The _Py_ANNOTATE_PCQ_* annotations should</font></i>
<a name='L164'><i><font color='green'>     be used only for FIFO queues.  For non-FIFO queues use</font></i>
<a name='L165'><i><font color='green'>     _Py_ANNOTATE_HAPPENS_BEFORE (for put) and _Py_ANNOTATE_HAPPENS_AFTER (for</font></i>
<a name='L166'><i><font color='green'>     get). */</font></i>
<a name='L167'><font color='darkred'>  #define</font> _Py_ANNOTATE_PCQ_CREATE(pcq) \
<a name='L168'>    <a href='../S/3097.html#L79' title='Defined at 79 in Python/dynamic_annotations.c.'>AnnotatePCQCreate</a>(__FILE__, __LINE__, pcq)
<a name='L169'>
<a name='L170'>  <i><font color='green'>/* Report that the queue at address "pcq" is about to be destroyed. */</font></i>
<a name='L171'><font color='darkred'>  #define</font> _Py_ANNOTATE_PCQ_DESTROY(pcq) \
<a name='L172'>    <a href='../S/3097.html#L81' title='Defined at 81 in Python/dynamic_annotations.c.'>AnnotatePCQDestroy</a>(__FILE__, __LINE__, pcq)
<a name='L173'>
<a name='L174'>  <i><font color='green'>/* Report that we are about to put an element into a FIFO queue at address</font></i>
<a name='L175'><i><font color='green'>     "pcq". */</font></i>
<a name='L176'><font color='darkred'>  #define</font> _Py_ANNOTATE_PCQ_PUT(pcq) \
<a name='L177'>    <a href='../S/3097.html#L83' title='Defined at 83 in Python/dynamic_annotations.c.'>AnnotatePCQPut</a>(__FILE__, __LINE__, pcq)
<a name='L178'>
<a name='L179'>  <i><font color='green'>/* Report that we've just got an element from a FIFO queue at address "pcq". */</font></i>
<a name='L180'><font color='darkred'>  #define</font> _Py_ANNOTATE_PCQ_GET(pcq) \
<a name='L181'>    <a href='../S/3097.html#L85' title='Defined at 85 in Python/dynamic_annotations.c.'>AnnotatePCQGet</a>(__FILE__, __LINE__, pcq)
<a name='L182'>
<a name='L183'>  <i><font color='green'>/* -------------------------------------------------------------</font></i>
<a name='L184'><i><font color='green'>     Annotations that suppress errors.  It is usually better to express the</font></i>
<a name='L185'><i><font color='green'>     program's synchronization using the other annotations, but these can</font></i>
<a name='L186'><i><font color='green'>     be used when all else fails. */</font></i>
<a name='L187'>
<a name='L188'>  <i><font color='green'>/* Report that we may have a benign race at "pointer", with size</font></i>
<a name='L189'><i><font color='green'>     "sizeof(*(pointer))". "pointer" must be a non-void* pointer.  Insert at the</font></i>
<a name='L190'><i><font color='green'>     point where "pointer" has been allocated, preferably close to the point</font></i>
<a name='L191'><i><font color='green'>     where the race happens.  See also _Py_ANNOTATE_BENIGN_RACE_STATIC. */</font></i>
<a name='L192'><font color='darkred'>  #define</font> _Py_ANNOTATE_BENIGN_RACE(pointer, description) \
<a name='L193'>    <a href='../S/3097.html#L96' title='Defined at 96 in Python/dynamic_annotations.c.'>AnnotateBenignRaceSized</a>(__FILE__, __LINE__, <a href='../S/2250.html#L1764' title='Defined at 1764 in Modules/_ctypes/callproc.c.'>pointer</a>, \
<a name='L194'>                            <b>sizeof</b>(*(<a href='../S/2250.html#L1764' title='Defined at 1764 in Modules/_ctypes/callproc.c.'>pointer</a>)), description)
<a name='L195'>
<a name='L196'>  <i><font color='green'>/* Same as _Py_ANNOTATE_BENIGN_RACE(address, description), but applies to</font></i>
<a name='L197'><i><font color='green'>     the memory range [address, address+size). */</font></i>
<a name='L198'><font color='darkred'>  #define</font> <a href='../S/519.html#L485' title='Refered from 485 in Include/dynamic_annotations.h.'>_Py_ANNOTATE_BENIGN_RACE_SIZED</a>(address, size, description) \
<a name='L199'>    <a href='../S/3097.html#L96' title='Defined at 96 in Python/dynamic_annotations.c.'>AnnotateBenignRaceSized</a>(__FILE__, __LINE__, address, size, description)
<a name='L200'>
<a name='L201'>  <i><font color='green'>/* Request the analysis tool to ignore all reads in the current thread</font></i>
<a name='L202'><i><font color='green'>     until _Py_ANNOTATE_IGNORE_READS_END is called.</font></i>
<a name='L203'><i><font color='green'>     Useful to ignore intentional racey reads, while still checking</font></i>
<a name='L204'><i><font color='green'>     other reads and all writes.</font></i>
<a name='L205'><i><font color='green'>     See also _Py_ANNOTATE_UNPROTECTED_READ. */</font></i>
<a name='L206'><font color='darkred'>  #define</font> <a href='../R/5545.html' title='Multiple refered from 3 places.'>_Py_ANNOTATE_IGNORE_READS_BEGIN</a>() \
<a name='L207'>    <a href='../S/3097.html#L106' title='Defined at 106 in Python/dynamic_annotations.c.'>AnnotateIgnoreReadsBegin</a>(__FILE__, __LINE__)
<a name='L208'>
<a name='L209'>  <i><font color='green'>/* Stop ignoring reads. */</font></i>
<a name='L210'><font color='darkred'>  #define</font> <a href='../R/5546.html' title='Multiple refered from 3 places.'>_Py_ANNOTATE_IGNORE_READS_END</a>() \
<a name='L211'>    <a href='../S/3097.html#L107' title='Defined at 107 in Python/dynamic_annotations.c.'>AnnotateIgnoreReadsEnd</a>(__FILE__, __LINE__)
<a name='L212'>
<a name='L213'>  <i><font color='green'>/* Similar to _Py_ANNOTATE_IGNORE_READS_BEGIN, but ignore writes. */</font></i>
<a name='L214'><font color='darkred'>  #define</font> <a href='../R/5547.html' title='Multiple refered from 2 places.'>_Py_ANNOTATE_IGNORE_WRITES_BEGIN</a>() \
<a name='L215'>    <a href='../S/3097.html#L108' title='Defined at 108 in Python/dynamic_annotations.c.'>AnnotateIgnoreWritesBegin</a>(__FILE__, __LINE__)
<a name='L216'>
<a name='L217'>  <i><font color='green'>/* Stop ignoring writes. */</font></i>
<a name='L218'><font color='darkred'>  #define</font> <a href='../R/5548.html' title='Multiple refered from 2 places.'>_Py_ANNOTATE_IGNORE_WRITES_END</a>() \
<a name='L219'>    <a href='../S/3097.html#L109' title='Defined at 109 in Python/dynamic_annotations.c.'>AnnotateIgnoreWritesEnd</a>(__FILE__, __LINE__)
<a name='L220'>
<a name='L221'>  <i><font color='green'>/* Start ignoring all memory accesses (reads and writes). */</font></i>
<a name='L222'><font color='darkred'>  #define</font> _Py_ANNOTATE_IGNORE_READS_AND_WRITES_BEGIN() \
<a name='L223'>    <b>do</b> <font color='red'>{</font>\
<a name='L224'>      <a href='../D/6253.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_IGNORE_READS_BEGIN</a>();\
<a name='L225'>      <a href='../D/6257.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_IGNORE_WRITES_BEGIN</a>();\
<a name='L226'>    <font color='red'>}</font><b>while</b>(0)\
<a name='L227'>
<a name='L228'>  <i><font color='green'>/* Stop ignoring all memory accesses. */</font></i>
<a name='L229'><font color='darkred'>  #define</font> _Py_ANNOTATE_IGNORE_READS_AND_WRITES_END() \
<a name='L230'>    <b>do</b> <font color='red'>{</font>\
<a name='L231'>      <a href='../D/6258.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_IGNORE_WRITES_END</a>();\
<a name='L232'>      <a href='../D/6254.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_IGNORE_READS_END</a>();\
<a name='L233'>    <font color='red'>}</font><b>while</b>(0)\
<a name='L234'>
<a name='L235'>  <i><font color='green'>/* Similar to _Py_ANNOTATE_IGNORE_READS_BEGIN, but ignore synchronization events:</font></i>
<a name='L236'><i><font color='green'>     RWLOCK* and CONDVAR*. */</font></i>
<a name='L237'><font color='darkred'>  #define</font> _Py_ANNOTATE_IGNORE_SYNC_BEGIN() \
<a name='L238'>    <a href='../S/3097.html#L110' title='Defined at 110 in Python/dynamic_annotations.c.'>AnnotateIgnoreSyncBegin</a>(__FILE__, __LINE__)
<a name='L239'>
<a name='L240'>  <i><font color='green'>/* Stop ignoring sync events. */</font></i>
<a name='L241'><font color='darkred'>  #define</font> _Py_ANNOTATE_IGNORE_SYNC_END() \
<a name='L242'>    <a href='../S/3097.html#L111' title='Defined at 111 in Python/dynamic_annotations.c.'>AnnotateIgnoreSyncEnd</a>(__FILE__, __LINE__)
<a name='L243'>
<a name='L244'>
<a name='L245'>  <i><font color='green'>/* Enable (enable!=0) or disable (enable==0) race detection for all threads.</font></i>
<a name='L246'><i><font color='green'>     This annotation could be useful if you want to skip expensive race analysis</font></i>
<a name='L247'><i><font color='green'>     during some period of program execution, e.g. during initialization. */</font></i>
<a name='L248'><font color='darkred'>  #define</font> _Py_ANNOTATE_ENABLE_RACE_DETECTION(enable) \
<a name='L249'>    <a href='../S/3097.html#L112' title='Defined at 112 in Python/dynamic_annotations.c.'>AnnotateEnableRaceDetection</a>(__FILE__, __LINE__, enable)
<a name='L250'>
<a name='L251'>  <i><font color='green'>/* -------------------------------------------------------------</font></i>
<a name='L252'><i><font color='green'>     Annotations useful for debugging. */</font></i>
<a name='L253'>
<a name='L254'>  <i><font color='green'>/* Request to trace every access to "address". */</font></i>
<a name='L255'><font color='darkred'>  #define</font> _Py_ANNOTATE_TRACE_MEMORY(address) \
<a name='L256'>    <a href='../S/3097.html#L102' title='Defined at 102 in Python/dynamic_annotations.c.'>AnnotateTraceMemory</a>(__FILE__, __LINE__, address)
<a name='L257'>
<a name='L258'>  <i><font color='green'>/* Report the current thread name to a race detector. */</font></i>
<a name='L259'><font color='darkred'>  #define</font> _Py_ANNOTATE_THREAD_NAME(name) \
<a name='L260'>    <a href='../S/3097.html#L104' title='Defined at 104 in Python/dynamic_annotations.c.'>AnnotateThreadName</a>(__FILE__, __LINE__, name)
<a name='L261'>
<a name='L262'>  <i><font color='green'>/* -------------------------------------------------------------</font></i>
<a name='L263'><i><font color='green'>     Annotations useful when implementing locks.  They are not</font></i>
<a name='L264'><i><font color='green'>     normally needed by modules that merely use locks.</font></i>
<a name='L265'><i><font color='green'>     The "lock" argument is a pointer to the lock object. */</font></i>
<a name='L266'>
<a name='L267'>  <i><font color='green'>/* Report that a lock has been created at address "lock". */</font></i>
<a name='L268'><font color='darkred'>  #define</font> <a href='../S/3092.html#L310' title='Refered from 310 in Python/ceval_gil.h.'>_Py_ANNOTATE_RWLOCK_CREATE</a>(lock) \
<a name='L269'>    <a href='../S/3097.html#L48' title='Defined at 48 in Python/dynamic_annotations.c.'>AnnotateRWLockCreate</a>(__FILE__, __LINE__, <a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>)
<a name='L270'>
<a name='L271'>  <i><font color='green'>/* Report that the lock at address "lock" is about to be destroyed. */</font></i>
<a name='L272'><font color='darkred'>  #define</font> <a href='../R/5553.html' title='Multiple refered from 2 places.'>_Py_ANNOTATE_RWLOCK_DESTROY</a>(lock) \
<a name='L273'>    <a href='../S/3097.html#L50' title='Defined at 50 in Python/dynamic_annotations.c.'>AnnotateRWLockDestroy</a>(__FILE__, __LINE__, <a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>)
<a name='L274'>
<a name='L275'>  <i><font color='green'>/* Report that the lock at address "lock" has been acquired.</font></i>
<a name='L276'><i><font color='green'>     is_w=1 for writer lock, is_w=0 for reader lock. */</font></i>
<a name='L277'><font color='darkred'>  #define</font> <a href='../S/3092.html#L403' title='Refered from 403 in Python/ceval_gil.h.'>_Py_ANNOTATE_RWLOCK_ACQUIRED</a>(lock, is_w) \
<a name='L278'>    <a href='../S/3097.html#L52' title='Defined at 52 in Python/dynamic_annotations.c.'>AnnotateRWLockAcquired</a>(__FILE__, __LINE__, <a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>, is_w)
<a name='L279'>
<a name='L280'>  <i><font color='green'>/* Report that the lock at address "lock" is about to be released. */</font></i>
<a name='L281'><font color='darkred'>  #define</font> <a href='../S/3092.html#L348' title='Refered from 348 in Python/ceval_gil.h.'>_Py_ANNOTATE_RWLOCK_RELEASED</a>(lock, is_w) \
<a name='L282'>    <a href='../S/3097.html#L54' title='Defined at 54 in Python/dynamic_annotations.c.'>AnnotateRWLockReleased</a>(__FILE__, __LINE__, <a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>, is_w)
<a name='L283'>
<a name='L284'>  <i><font color='green'>/* -------------------------------------------------------------</font></i>
<a name='L285'><i><font color='green'>     Annotations useful when implementing barriers.  They are not</font></i>
<a name='L286'><i><font color='green'>     normally needed by modules that merely use barriers.</font></i>
<a name='L287'><i><font color='green'>     The "barrier" argument is a pointer to the barrier object. */</font></i>
<a name='L288'>
<a name='L289'>  <i><font color='green'>/* Report that the "barrier" has been initialized with initial "count".</font></i>
<a name='L290'><i><font color='green'>   If 'reinitialization_allowed' is true, initialization is allowed to happen</font></i>
<a name='L291'><i><font color='green'>   multiple times w/o calling barrier_destroy() */</font></i>
<a name='L292'><font color='darkred'>  #define</font> _Py_ANNOTATE_BARRIER_INIT(barrier, count, reinitialization_allowed) \
<a name='L293'>    <a href='../S/3097.html#L56' title='Defined at 56 in Python/dynamic_annotations.c.'>AnnotateBarrierInit</a>(__FILE__, __LINE__, barrier, count, \
<a name='L294'>                        reinitialization_allowed)
<a name='L295'>
<a name='L296'>  <i><font color='green'>/* Report that we are about to enter barrier_wait("barrier"). */</font></i>
<a name='L297'><font color='darkred'>  #define</font> _Py_ANNOTATE_BARRIER_WAIT_BEFORE(barrier) \
<a name='L298'>    <a href='../S/3097.html#L59' title='Defined at 59 in Python/dynamic_annotations.c.'>AnnotateBarrierWaitBefore</a>(__FILE__, __LINE__, barrier)
<a name='L299'>
<a name='L300'>  <i><font color='green'>/* Report that we just exited barrier_wait("barrier"). */</font></i>
<a name='L301'><font color='darkred'>  #define</font> _Py_ANNOTATE_BARRIER_WAIT_AFTER(barrier) \
<a name='L302'>    <a href='../S/3097.html#L61' title='Defined at 61 in Python/dynamic_annotations.c.'>AnnotateBarrierWaitAfter</a>(__FILE__, __LINE__, barrier)
<a name='L303'>
<a name='L304'>  <i><font color='green'>/* Report that the "barrier" has been destroyed. */</font></i>
<a name='L305'><font color='darkred'>  #define</font> _Py_ANNOTATE_BARRIER_DESTROY(barrier) \
<a name='L306'>    <a href='../S/3097.html#L63' title='Defined at 63 in Python/dynamic_annotations.c.'>AnnotateBarrierDestroy</a>(__FILE__, __LINE__, barrier)
<a name='L307'>
<a name='L308'>  <i><font color='green'>/* -------------------------------------------------------------</font></i>
<a name='L309'><i><font color='green'>     Annotations useful for testing race detectors. */</font></i>
<a name='L310'>
<a name='L311'>  <i><font color='green'>/* Report that we expect a race on the variable at "address".</font></i>
<a name='L312'><i><font color='green'>     Use only in unit tests for a race detector. */</font></i>
<a name='L313'><font color='darkred'>  #define</font> _Py_ANNOTATE_EXPECT_RACE(address, description) \
<a name='L314'>    <a href='../S/3097.html#L90' title='Defined at 90 in Python/dynamic_annotations.c.'>AnnotateExpectRace</a>(__FILE__, __LINE__, address, description)
<a name='L315'>
<a name='L316'>  <i><font color='green'>/* A no-op. Insert where you like to test the interceptors. */</font></i>
<a name='L317'><font color='darkred'>  #define</font> _Py_ANNOTATE_NO_OP(arg) \
<a name='L318'>    <a href='../S/3097.html#L113' title='Defined at 113 in Python/dynamic_annotations.c.'>AnnotateNoOp</a>(__FILE__, __LINE__, <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)
<a name='L319'>
<a name='L320'>  <i><font color='green'>/* Force the race detector to flush its state. The actual effect depends on</font></i>
<a name='L321'><i><font color='green'>   * the implementation of the detector. */</font></i>
<a name='L322'><font color='darkred'>  #define</font> _Py_ANNOTATE_FLUSH_STATE() \
<a name='L323'>    <a href='../S/3097.html#L115' title='Defined at 115 in Python/dynamic_annotations.c.'>AnnotateFlushState</a>(__FILE__, __LINE__)
<a name='L324'>
<a name='L325'>
<a name='L326'><font color='darkred'>#else</font>  <i><font color='green'>/* DYNAMIC_ANNOTATIONS_ENABLED == 0 */</font></i>
<a name='L327'>
<a name='L328'><font color='darkred'>  #define</font> <a href='../S/3092.html#L310' title='Refered from 310 in Python/ceval_gil.h.'>_Py_ANNOTATE_RWLOCK_CREATE</a>(lock) <i><font color='green'>/* empty */</font></i>
<a name='L329'><font color='darkred'>  #define</font> <a href='../R/5553.html' title='Multiple refered from 2 places.'>_Py_ANNOTATE_RWLOCK_DESTROY</a>(lock) <i><font color='green'>/* empty */</font></i>
<a name='L330'><font color='darkred'>  #define</font> <a href='../S/3092.html#L403' title='Refered from 403 in Python/ceval_gil.h.'>_Py_ANNOTATE_RWLOCK_ACQUIRED</a>(lock, is_w) <i><font color='green'>/* empty */</font></i>
<a name='L331'><font color='darkred'>  #define</font> <a href='../S/3092.html#L348' title='Refered from 348 in Python/ceval_gil.h.'>_Py_ANNOTATE_RWLOCK_RELEASED</a>(lock, is_w) <i><font color='green'>/* empty */</font></i>
<a name='L332'><font color='darkred'>  #define</font> _Py_ANNOTATE_BARRIER_INIT(barrier, count, reinitialization_allowed) <i><font color='green'>/* */</font></i>
<a name='L333'><font color='darkred'>  #define</font> _Py_ANNOTATE_BARRIER_WAIT_BEFORE(barrier) <i><font color='green'>/* empty */</font></i>
<a name='L334'><font color='darkred'>  #define</font> _Py_ANNOTATE_BARRIER_WAIT_AFTER(barrier) <i><font color='green'>/* empty */</font></i>
<a name='L335'><font color='darkred'>  #define</font> _Py_ANNOTATE_BARRIER_DESTROY(barrier) <i><font color='green'>/* empty */</font></i>
<a name='L336'><font color='darkred'>  #define</font> _Py_ANNOTATE_CONDVAR_LOCK_WAIT(cv, lock) <i><font color='green'>/* empty */</font></i>
<a name='L337'><font color='darkred'>  #define</font> <a href='../S/519.html#L125' title='Refered from 125 in Include/dynamic_annotations.h.'>_Py_ANNOTATE_CONDVAR_WAIT</a>(cv) <i><font color='green'>/* empty */</font></i>
<a name='L338'><font color='darkred'>  #define</font> <a href='../S/519.html#L124' title='Refered from 124 in Include/dynamic_annotations.h.'>_Py_ANNOTATE_CONDVAR_SIGNAL</a>(cv) <i><font color='green'>/* empty */</font></i>
<a name='L339'><font color='darkred'>  #define</font> _Py_ANNOTATE_CONDVAR_SIGNAL_ALL(cv) <i><font color='green'>/* empty */</font></i>
<a name='L340'><font color='darkred'>  #define</font> <a href='../S/554.html#L65' title='Refered from 65 in Include/pyatomic.h.'>_Py_ANNOTATE_HAPPENS_BEFORE</a>(obj) <i><font color='green'>/* empty */</font></i>
<a name='L341'><font color='darkred'>  #define</font> <a href='../S/554.html#L74' title='Refered from 74 in Include/pyatomic.h.'>_Py_ANNOTATE_HAPPENS_AFTER</a>(obj) <i><font color='green'>/* empty */</font></i>
<a name='L342'><font color='darkred'>  #define</font> _Py_ANNOTATE_PUBLISH_MEMORY_RANGE(address, size) <i><font color='green'>/* empty */</font></i>
<a name='L343'><font color='darkred'>  #define</font> _Py_ANNOTATE_UNPUBLISH_MEMORY_RANGE(address, size)  <i><font color='green'>/* empty */</font></i>
<a name='L344'><font color='darkred'>  #define</font> _Py_ANNOTATE_SWAP_MEMORY_RANGE(address, size)  <i><font color='green'>/* empty */</font></i>
<a name='L345'><font color='darkred'>  #define</font> _Py_ANNOTATE_PCQ_CREATE(pcq) <i><font color='green'>/* empty */</font></i>
<a name='L346'><font color='darkred'>  #define</font> _Py_ANNOTATE_PCQ_DESTROY(pcq) <i><font color='green'>/* empty */</font></i>
<a name='L347'><font color='darkred'>  #define</font> _Py_ANNOTATE_PCQ_PUT(pcq) <i><font color='green'>/* empty */</font></i>
<a name='L348'><font color='darkred'>  #define</font> _Py_ANNOTATE_PCQ_GET(pcq) <i><font color='green'>/* empty */</font></i>
<a name='L349'><font color='darkred'>  #define</font> _Py_ANNOTATE_NEW_MEMORY(address, size) <i><font color='green'>/* empty */</font></i>
<a name='L350'><font color='darkred'>  #define</font> _Py_ANNOTATE_EXPECT_RACE(address, description) <i><font color='green'>/* empty */</font></i>
<a name='L351'><font color='darkred'>  #define</font> _Py_ANNOTATE_BENIGN_RACE(address, description) <i><font color='green'>/* empty */</font></i>
<a name='L352'><font color='darkred'>  #define</font> <a href='../S/519.html#L485' title='Refered from 485 in Include/dynamic_annotations.h.'>_Py_ANNOTATE_BENIGN_RACE_SIZED</a>(address, size, description) <i><font color='green'>/* empty */</font></i>
<a name='L353'><font color='darkred'>  #define</font> <a href='../S/3152.html#L412' title='Refered from 412 in Python/thread_pthread.h.'>_Py_ANNOTATE_PURE_HAPPENS_BEFORE_MUTEX</a>(mu) <i><font color='green'>/* empty */</font></i>
<a name='L354'><font color='darkred'>  #define</font> _Py_ANNOTATE_MUTEX_IS_USED_AS_CONDVAR(mu) <i><font color='green'>/* empty */</font></i>
<a name='L355'><font color='darkred'>  #define</font> _Py_ANNOTATE_TRACE_MEMORY(arg) <i><font color='green'>/* empty */</font></i>
<a name='L356'><font color='darkred'>  #define</font> _Py_ANNOTATE_THREAD_NAME(name) <i><font color='green'>/* empty */</font></i>
<a name='L357'><font color='darkred'>  #define</font> <a href='../R/5545.html' title='Multiple refered from 3 places.'>_Py_ANNOTATE_IGNORE_READS_BEGIN</a>() <i><font color='green'>/* empty */</font></i>
<a name='L358'><font color='darkred'>  #define</font> <a href='../R/5546.html' title='Multiple refered from 3 places.'>_Py_ANNOTATE_IGNORE_READS_END</a>() <i><font color='green'>/* empty */</font></i>
<a name='L359'><font color='darkred'>  #define</font> <a href='../R/5547.html' title='Multiple refered from 2 places.'>_Py_ANNOTATE_IGNORE_WRITES_BEGIN</a>() <i><font color='green'>/* empty */</font></i>
<a name='L360'><font color='darkred'>  #define</font> <a href='../R/5548.html' title='Multiple refered from 2 places.'>_Py_ANNOTATE_IGNORE_WRITES_END</a>() <i><font color='green'>/* empty */</font></i>
<a name='L361'><font color='darkred'>  #define</font> _Py_ANNOTATE_IGNORE_READS_AND_WRITES_BEGIN() <i><font color='green'>/* empty */</font></i>
<a name='L362'><font color='darkred'>  #define</font> _Py_ANNOTATE_IGNORE_READS_AND_WRITES_END() <i><font color='green'>/* empty */</font></i>
<a name='L363'><font color='darkred'>  #define</font> _Py_ANNOTATE_IGNORE_SYNC_BEGIN() <i><font color='green'>/* empty */</font></i>
<a name='L364'><font color='darkred'>  #define</font> _Py_ANNOTATE_IGNORE_SYNC_END() <i><font color='green'>/* empty */</font></i>
<a name='L365'><font color='darkred'>  #define</font> _Py_ANNOTATE_ENABLE_RACE_DETECTION(enable) <i><font color='green'>/* empty */</font></i>
<a name='L366'><font color='darkred'>  #define</font> _Py_ANNOTATE_NO_OP(arg) <i><font color='green'>/* empty */</font></i>
<a name='L367'><font color='darkred'>  #define</font> _Py_ANNOTATE_FLUSH_STATE() <i><font color='green'>/* empty */</font></i>
<a name='L368'>
<a name='L369'><font color='darkred'>#endif</font>  <i><font color='green'>/* DYNAMIC_ANNOTATIONS_ENABLED */</font></i>
<a name='L370'>
<a name='L371'><i><font color='green'>/* Use the macros above rather than using these functions directly. */</font></i>
<a name='L372'><font color='darkred'>#ifdef</font> __cplusplus
<a name='L373'><b>extern</b> "C" <font color='red'>{</font>
<a name='L374'><font color='darkred'>#endif</font>
<a name='L375'><b>void</b> <a href='../S/3097.html#L48' title='Defined at 48 in Python/dynamic_annotations.c.'>AnnotateRWLockCreate</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L376'>                          <b>const</b> <b>volatile</b> <b>void</b> *lock);
<a name='L377'><b>void</b> <a href='../S/3097.html#L50' title='Defined at 50 in Python/dynamic_annotations.c.'>AnnotateRWLockDestroy</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L378'>                           <b>const</b> <b>volatile</b> <b>void</b> *lock);
<a name='L379'><b>void</b> <a href='../S/3097.html#L52' title='Defined at 52 in Python/dynamic_annotations.c.'>AnnotateRWLockAcquired</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L380'>                            <b>const</b> <b>volatile</b> <b>void</b> *lock, <b>long</b> is_w);
<a name='L381'><b>void</b> <a href='../S/3097.html#L54' title='Defined at 54 in Python/dynamic_annotations.c.'>AnnotateRWLockReleased</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L382'>                            <b>const</b> <b>volatile</b> <b>void</b> *lock, <b>long</b> is_w);
<a name='L383'><b>void</b> <a href='../S/3097.html#L56' title='Defined at 56 in Python/dynamic_annotations.c.'>AnnotateBarrierInit</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L384'>                         <b>const</b> <b>volatile</b> <b>void</b> *barrier, <b>long</b> count,
<a name='L385'>                         <b>long</b> reinitialization_allowed);
<a name='L386'><b>void</b> <a href='../S/3097.html#L59' title='Defined at 59 in Python/dynamic_annotations.c.'>AnnotateBarrierWaitBefore</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L387'>                               <b>const</b> <b>volatile</b> <b>void</b> *barrier);
<a name='L388'><b>void</b> <a href='../S/3097.html#L61' title='Defined at 61 in Python/dynamic_annotations.c.'>AnnotateBarrierWaitAfter</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L389'>                              <b>const</b> <b>volatile</b> <b>void</b> *barrier);
<a name='L390'><b>void</b> <a href='../S/3097.html#L63' title='Defined at 63 in Python/dynamic_annotations.c.'>AnnotateBarrierDestroy</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L391'>                            <b>const</b> <b>volatile</b> <b>void</b> *barrier);
<a name='L392'><b>void</b> <a href='../S/3097.html#L66' title='Defined at 66 in Python/dynamic_annotations.c.'>AnnotateCondVarWait</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L393'>                         <b>const</b> <b>volatile</b> <b>void</b> *cv,
<a name='L394'>                         <b>const</b> <b>volatile</b> <b>void</b> *lock);
<a name='L395'><b>void</b> <a href='../S/3097.html#L69' title='Defined at 69 in Python/dynamic_annotations.c.'>AnnotateCondVarSignal</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L396'>                           <b>const</b> <b>volatile</b> <b>void</b> *cv);
<a name='L397'><b>void</b> <a href='../S/3097.html#L71' title='Defined at 71 in Python/dynamic_annotations.c.'>AnnotateCondVarSignalAll</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L398'>                              <b>const</b> <b>volatile</b> <b>void</b> *cv);
<a name='L399'><b>void</b> <a href='../S/3097.html#L73' title='Defined at 73 in Python/dynamic_annotations.c.'>AnnotatePublishMemoryRange</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L400'>                                <b>const</b> <b>volatile</b> <b>void</b> *address,
<a name='L401'>                                <b>long</b> size);
<a name='L402'><b>void</b> <a href='../S/3097.html#L76' title='Defined at 76 in Python/dynamic_annotations.c.'>AnnotateUnpublishMemoryRange</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L403'>                                  <b>const</b> <b>volatile</b> <b>void</b> *address,
<a name='L404'>                                  <b>long</b> size);
<a name='L405'><b>void</b> <a href='../S/3097.html#L79' title='Defined at 79 in Python/dynamic_annotations.c.'>AnnotatePCQCreate</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L406'>                       <b>const</b> <b>volatile</b> <b>void</b> *pcq);
<a name='L407'><b>void</b> <a href='../S/3097.html#L81' title='Defined at 81 in Python/dynamic_annotations.c.'>AnnotatePCQDestroy</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L408'>                        <b>const</b> <b>volatile</b> <b>void</b> *pcq);
<a name='L409'><b>void</b> <a href='../S/3097.html#L83' title='Defined at 83 in Python/dynamic_annotations.c.'>AnnotatePCQPut</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L410'>                    <b>const</b> <b>volatile</b> <b>void</b> *pcq);
<a name='L411'><b>void</b> <a href='../S/3097.html#L85' title='Defined at 85 in Python/dynamic_annotations.c.'>AnnotatePCQGet</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L412'>                    <b>const</b> <b>volatile</b> <b>void</b> *pcq);
<a name='L413'><b>void</b> <a href='../S/3097.html#L87' title='Defined at 87 in Python/dynamic_annotations.c.'>AnnotateNewMemory</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L414'>                       <b>const</b> <b>volatile</b> <b>void</b> *address,
<a name='L415'>                       <b>long</b> size);
<a name='L416'><b>void</b> <a href='../S/3097.html#L90' title='Defined at 90 in Python/dynamic_annotations.c.'>AnnotateExpectRace</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L417'>                        <b>const</b> <b>volatile</b> <b>void</b> *address,
<a name='L418'>                        <b>const</b> <b>char</b> *description);
<a name='L419'><b>void</b> <a href='../S/3097.html#L93' title='Defined at 93 in Python/dynamic_annotations.c.'>AnnotateBenignRace</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L420'>                        <b>const</b> <b>volatile</b> <b>void</b> *address,
<a name='L421'>                        <b>const</b> <b>char</b> *description);
<a name='L422'><b>void</b> <a href='../S/3097.html#L96' title='Defined at 96 in Python/dynamic_annotations.c.'>AnnotateBenignRaceSized</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L423'>                        <b>const</b> <b>volatile</b> <b>void</b> *address,
<a name='L424'>                        <b>long</b> size,
<a name='L425'>                        <b>const</b> <b>char</b> *description);
<a name='L426'><b>void</b> <a href='../S/3097.html#L100' title='Defined at 100 in Python/dynamic_annotations.c.'>AnnotateMutexIsUsedAsCondVar</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L427'>                                  <b>const</b> <b>volatile</b> <b>void</b> *mu);
<a name='L428'><b>void</b> <a href='../S/3097.html#L102' title='Defined at 102 in Python/dynamic_annotations.c.'>AnnotateTraceMemory</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L429'>                         <b>const</b> <b>volatile</b> <b>void</b> *arg);
<a name='L430'><b>void</b> <a href='../S/3097.html#L104' title='Defined at 104 in Python/dynamic_annotations.c.'>AnnotateThreadName</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L431'>                        <b>const</b> <b>char</b> *name);
<a name='L432'><b>void</b> <a href='../S/3097.html#L106' title='Defined at 106 in Python/dynamic_annotations.c.'>AnnotateIgnoreReadsBegin</a>(<b>const</b> <b>char</b> *file, <b>int</b> line);
<a name='L433'><b>void</b> <a href='../S/3097.html#L107' title='Defined at 107 in Python/dynamic_annotations.c.'>AnnotateIgnoreReadsEnd</a>(<b>const</b> <b>char</b> *file, <b>int</b> line);
<a name='L434'><b>void</b> <a href='../S/3097.html#L108' title='Defined at 108 in Python/dynamic_annotations.c.'>AnnotateIgnoreWritesBegin</a>(<b>const</b> <b>char</b> *file, <b>int</b> line);
<a name='L435'><b>void</b> <a href='../S/3097.html#L109' title='Defined at 109 in Python/dynamic_annotations.c.'>AnnotateIgnoreWritesEnd</a>(<b>const</b> <b>char</b> *file, <b>int</b> line);
<a name='L436'><b>void</b> <a href='../S/3097.html#L112' title='Defined at 112 in Python/dynamic_annotations.c.'>AnnotateEnableRaceDetection</a>(<b>const</b> <b>char</b> *file, <b>int</b> line, <b>int</b> enable);
<a name='L437'><b>void</b> <a href='../S/3097.html#L113' title='Defined at 113 in Python/dynamic_annotations.c.'>AnnotateNoOp</a>(<b>const</b> <b>char</b> *file, <b>int</b> line,
<a name='L438'>                  <b>const</b> <b>volatile</b> <b>void</b> *arg);
<a name='L439'><b>void</b> <a href='../S/3097.html#L115' title='Defined at 115 in Python/dynamic_annotations.c.'>AnnotateFlushState</a>(<b>const</b> <b>char</b> *file, <b>int</b> line);
<a name='L440'>
<a name='L441'><i><font color='green'>/* Return non-zero value if running under valgrind.</font></i>
<a name='L442'><i><font color='green'></font></i>
<a name='L443'><i><font color='green'>  If "valgrind.h" is included into dynamic_annotations.c,</font></i>
<a name='L444'><i><font color='green'>  the regular valgrind mechanism will be used.</font></i>
<a name='L445'><i><font color='green'>  See http://valgrind.org/docs/manual/manual-core-adv.html about</font></i>
<a name='L446'><i><font color='green'>  RUNNING_ON_VALGRIND and other valgrind "client requests".</font></i>
<a name='L447'><i><font color='green'>  The file "valgrind.h" may be obtained by doing</font></i>
<a name='L448'><i><font color='green'>     svn co svn://svn.valgrind.org/valgrind/trunk/include</font></i>
<a name='L449'><i><font color='green'></font></i>
<a name='L450'><i><font color='green'>  If for some reason you can't use "valgrind.h" or want to fake valgrind,</font></i>
<a name='L451'><i><font color='green'>  there are two ways to make this function return non-zero:</font></i>
<a name='L452'><i><font color='green'>    - Use environment variable: export RUNNING_ON_VALGRIND=1</font></i>
<a name='L453'><i><font color='green'>    - Make your tool intercept the function RunningOnValgrind() and</font></i>
<a name='L454'><i><font color='green'>      change its return value.</font></i>
<a name='L455'><i><font color='green'> */</font></i>
<a name='L456'><b>int</b> <a href='../S/3097.html#L144' title='Defined at 144 in Python/dynamic_annotations.c.'>RunningOnValgrind</a>(<b>void</b>);
<a name='L457'>
<a name='L458'><font color='darkred'>#ifdef</font> __cplusplus
<a name='L459'><font color='red'>}</font>
<a name='L460'><font color='darkred'>#endif</font>
<a name='L461'>
<a name='L462'><font color='darkred'>#if</font> <a href='../S/519.html#L60' title='Defined at 60 in Include/dynamic_annotations.h.'>DYNAMIC_ANNOTATIONS_ENABLED</a> != 0 &amp;&amp; <b>defined</b>(__cplusplus)
<a name='L463'>
<a name='L464'>  <i><font color='green'>/* _Py_ANNOTATE_UNPROTECTED_READ is the preferred way to annotate racey reads.</font></i>
<a name='L465'><i><font color='green'></font></i>
<a name='L466'><i><font color='green'>     Instead of doing</font></i>
<a name='L467'><i><font color='green'>        _Py_ANNOTATE_IGNORE_READS_BEGIN();</font></i>
<a name='L468'><i><font color='green'>        ... = x;</font></i>
<a name='L469'><i><font color='green'>        _Py_ANNOTATE_IGNORE_READS_END();</font></i>
<a name='L470'><i><font color='green'>     one can use</font></i>
<a name='L471'><i><font color='green'>        ... = _Py_ANNOTATE_UNPROTECTED_READ(x); */</font></i>
<a name='L472'>  template &lt;class T&gt;
<a name='L473'>  <b>inline</b> T _Py_ANNOTATE_UNPROTECTED_READ(<b>const</b> <b>volatile</b> T &amp;x) <font color='red'>{</font>
<a name='L474'>    <a href='../D/6253.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_IGNORE_READS_BEGIN</a>();
<a name='L475'>    T res = x;
<a name='L476'>    <a href='../D/6254.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_IGNORE_READS_END</a>();
<a name='L477'>    <b>return</b> res;
<a name='L478'>  <font color='red'>}</font>
<a name='L479'>  <i><font color='green'>/* Apply _Py_ANNOTATE_BENIGN_RACE_SIZED to a static variable. */</font></i>
<a name='L480'><font color='darkred'>  #define</font> _Py_ANNOTATE_BENIGN_RACE_STATIC(static_var, description)        \
<a name='L481'>    namespace <font color='red'>{</font>                                                       \
<a name='L482'>      class static_var ## _annotator <font color='red'>{</font>                                \
<a name='L483'>       public:                                                        \
<a name='L484'>        static_var ## _annotator() <font color='red'>{</font>                                  \
<a name='L485'>          <a href='../D/6240.html' title='Multiple defined in 2 places.'>_Py_ANNOTATE_BENIGN_RACE_SIZED</a>(&amp;static_var,                     \
<a name='L486'>                                      <b>sizeof</b>(static_var),             \
<a name='L487'>            # static_var ": " description);                           \
<a name='L488'>        <font color='red'>}</font>                                                             \
<a name='L489'>      <font color='red'>}</font>;                                                              \
<a name='L490'>      <b>static</b> static_var ## _annotator the ## static_var ## _annotator;\
<a name='L491'>    <font color='red'>}</font>
<a name='L492'><font color='darkred'>#else</font> <i><font color='green'>/* DYNAMIC_ANNOTATIONS_ENABLED == 0 */</font></i>
<a name='L493'>
<a name='L494'><font color='darkred'>  #define</font> _Py_ANNOTATE_UNPROTECTED_READ(x) (x)
<a name='L495'><font color='darkred'>  #define</font> _Py_ANNOTATE_BENIGN_RACE_STATIC(static_var, description)  <i><font color='green'>/* empty */</font></i>
<a name='L496'>
<a name='L497'><font color='darkred'>#endif</font> <i><font color='green'>/* DYNAMIC_ANNOTATIONS_ENABLED */</font></i>
<a name='L498'>
<a name='L499'><font color='darkred'>#endif</font>  <i><font color='green'>/* __DYNAMIC_ANNOTATIONS_H__ */</font></i>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;][^]<a href='#L473'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
