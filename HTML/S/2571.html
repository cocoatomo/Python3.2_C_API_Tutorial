<html>
<head>
<title>Modules/_io/bytesio.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/<a href='../files/3385.html'>_io</a>/bytesio.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L41'>[^]</a><a href='#L971'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L41' title='Defined at 41.'>get_line</a>
<li><a href='#L74' title='Defined at 74.'>resize_buffer</a>
<li><a href='#L126' title='Defined at 126.'>write_bytes</a>
<li><a href='#L164' title='Defined at 164.'>bytesio_get_closed</a>
<li><a href='#L176' title='Defined at 176.'>return_true</a>
<li><a href='#L185' title='Defined at 185.'>bytesio_flush</a>
<li><a href='#L197' title='Defined at 197.'>bytesio_getbuffer</a>
<li><a href='#L221' title='Defined at 221.'>bytesio_getvalue</a>
<li><a href='#L234' title='Defined at 234.'>bytesio_isatty</a>
<li><a href='#L244' title='Defined at 244.'>bytesio_tell</a>
<li><a href='#L257' title='Defined at 257.'>bytesio_read</a>
<li><a href='#L306' title='Defined at 306.'>bytesio_read1</a>
<li><a href='#L326' title='Defined at 326.'>bytesio_readline</a>
<li><a href='#L371' title='Defined at 371.'>bytesio_readlines</a>
<li><a href='#L430' title='Defined at 430.'>bytesio_readinto</a>
<li><a href='#L463' title='Defined at 463.'>bytesio_truncate</a>
<li><a href='#L505' title='Defined at 505.'>bytesio_iternext</a>
<li><a href='#L530' title='Defined at 530.'>bytesio_seek</a>
<li><a href='#L584' title='Defined at 584.'>bytesio_write</a>
<li><a href='#L613' title='Defined at 613.'>bytesio_writelines</a>
<li><a href='#L646' title='Defined at 646.'>bytesio_close</a>
<li><a href='#L671' title='Defined at 671.'>bytesio_getstate</a>
<li><a href='#L695' title='Defined at 695.'>bytesio_setstate</a>
<li><a href='#L771' title='Defined at 771.'>bytesio_dealloc</a>
<li><a href='#L790' title='Defined at 790.'>bytesio_new</a>
<li><a href='#L812' title='Defined at 812.'>bytesio_init</a>
<li><a href='#L838' title='Defined at 838.'>bytesio_traverse</a>
<li><a href='#L845' title='Defined at 845.'>bytesio_clear</a>
<li><a href='#L938' title='Defined at 938.'>bytesiobuf_getbuffer</a>
<li><a href='#L957' title='Defined at 957.'>bytesiobuf_releasebuffer</a>
<li><a href='#L964' title='Defined at 964.'>bytesiobuf_traverse</a>
<li><a href='#L971' title='Defined at 971.'>bytesiobuf_dealloc</a>
</ol>
<hr>
<pre>
<a name='L1'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L2'><font color='darkred'>#include</font> "<a href='577.html'>structmember.h</a>"       <i><font color='green'>/* for offsetof() */</font></i>
<a name='L3'><font color='darkred'>#include</font> "<a href='2569.html'>_iomodule.h</a>"
<a name='L4'>
<a name='L5'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L6'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L7'>    <b>char</b> *buf;
<a name='L8'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> pos;
<a name='L9'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> string_size;
<a name='L10'>    <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> buf_size;
<a name='L11'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *dict;
<a name='L12'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *weakreflist;
<a name='L13'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> exports;
<a name='L14'><font color='red'>}</font> <a href='../R/6482.html' title='Multiple refered from 8 places.'>bytesio</a>;
<a name='L15'>
<a name='L16'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L17'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L18'>    <a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a> *source;
<a name='L19'><font color='red'>}</font> <a href='../R/6507.html' title='Multiple refered from 3 places.'>bytesiobuf</a>;
<a name='L20'>
<a name='L21'>
<a name='L22'><font color='darkred'>#define</font> <a href='../R/487.html' title='Multiple refered from 35 places.'>CHECK_CLOSED</a>(self)                                  \
<a name='L23'>    <b>if</b> ((self)-&gt;buf == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>                              \
<a name='L24'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,                   \
<a name='L25'>                        "I/O operation on closed file.");   \
<a name='L26'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;                                        \
<a name='L27'>    <font color='red'>}</font>
<a name='L28'>
<a name='L29'><font color='darkred'>#define</font> <a href='../R/491.html' title='Multiple refered from 3 places.'>CHECK_EXPORTS</a>(self) \
<a name='L30'>    <b>if</b> ((self)-&gt;exports &gt; 0) <font color='red'>{</font> \
<a name='L31'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_BufferError, \
<a name='L32'>                        "Existing exports of data: object cannot be re-sized"); \
<a name='L33'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; \
<a name='L34'>    <font color='red'>}</font>
<a name='L35'>
<a name='L36'>
<a name='L37'><i><font color='green'>/* Internal routine to get a line from the buffer of a BytesIO</font></i>
<a name='L38'><i><font color='green'>   object. Returns the length between the current position to the</font></i>
<a name='L39'><i><font color='green'>   next newline character. */</font></i>
<a name='L40'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L41'><a href='../R/8066.html' title='Multiple refered from 3 places.'>get_line</a>(bytesio *self, <b>char</b> **output)
<a name='L42'><font color='red'>{</font>
<a name='L43'>    <b>char</b> *n;
<a name='L44'>    <b>const</b> <b>char</b> *str_end;
<a name='L45'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len;
<a name='L46'>
<a name='L47'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(self-&gt;buf != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L48'>
<a name='L49'>    <i><font color='green'>/* Move to the end of the line, up to the end of the string, s. */</font></i>
<a name='L50'>    str_end = self-&gt;buf + self-&gt;string_size;
<a name='L51'>    <b>for</b> (n = self-&gt;buf + self-&gt;pos;
<a name='L52'>         n &lt; str_end &amp;&amp; *n != '\n';
<a name='L53'>         n++);
<a name='L54'>
<a name='L55'>    <i><font color='green'>/* Skip the newline character */</font></i>
<a name='L56'>    <b>if</b> (n &lt; str_end)
<a name='L57'>        n++;
<a name='L58'>
<a name='L59'>    <i><font color='green'>/* Get the length from the current position to the end of the line. */</font></i>
<a name='L60'>    len = n - (self-&gt;buf + self-&gt;pos);
<a name='L61'>    *output = self-&gt;buf + self-&gt;pos;
<a name='L62'>
<a name='L63'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(len &gt;= 0);
<a name='L64'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(self-&gt;pos &lt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - len);
<a name='L65'>    self-&gt;pos += len;
<a name='L66'>
<a name='L67'>    <b>return</b> len;
<a name='L68'><font color='red'>}</font>
<a name='L69'>
<a name='L70'><i><font color='green'>/* Internal routine for changing the size of the buffer of BytesIO objects.</font></i>
<a name='L71'><i><font color='green'>   The caller should ensure that the 'size' argument is non-negative.  Returns</font></i>
<a name='L72'><i><font color='green'>   0 on success, -1 otherwise. */</font></i>
<a name='L73'><b>static</b> <b>int</b>
<a name='L74'><a href='../R/10024.html' title='Multiple refered from 8 places.'>resize_buffer</a>(bytesio *self, <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> size)
<a name='L75'><font color='red'>{</font>
<a name='L76'>    <i><font color='green'>/* Here, unsigned types are used to avoid dealing with signed integer</font></i>
<a name='L77'><i><font color='green'>       overflow, which is undefined in C. */</font></i>
<a name='L78'>    <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> alloc = self-&gt;buf_size;
<a name='L79'>    <b>char</b> *new_buf = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L80'>
<a name='L81'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(self-&gt;buf != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L82'>
<a name='L83'>    <i><font color='green'>/* For simplicity, stay in the range of the signed type. Anyway, Python</font></i>
<a name='L84'><i><font color='green'>       doesn't allow strings to be longer than this. */</font></i>
<a name='L85'>    <b>if</b> (size &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>)
<a name='L86'>        <b>goto</b> <a href='../S/2674.html#L167' title='Defined at 167 in Modules/fpetestmodule.c.'>overflow</a>;
<a name='L87'>
<a name='L88'>    <b>if</b> (size &lt; alloc / 2) <font color='red'>{</font>
<a name='L89'>        <i><font color='green'>/* Major downsize; resize down to exact size. */</font></i>
<a name='L90'>        alloc = size + 1;
<a name='L91'>    <font color='red'>}</font>
<a name='L92'>    <b>else</b> <b>if</b> (size &lt; alloc) <font color='red'>{</font>
<a name='L93'>        <i><font color='green'>/* Within allocated size; quick exit */</font></i>
<a name='L94'>        <b>return</b> 0;
<a name='L95'>    <font color='red'>}</font>
<a name='L96'>    <b>else</b> <b>if</b> (size &lt;= alloc * 1.125) <font color='red'>{</font>
<a name='L97'>        <i><font color='green'>/* Moderate upsize; overallocate similar to list_resize() */</font></i>
<a name='L98'>        alloc = size + (size &gt;&gt; 3) + (size &lt; 9 ? 3 : 6);
<a name='L99'>    <font color='red'>}</font>
<a name='L100'>    <b>else</b> <font color='red'>{</font>
<a name='L101'>        <i><font color='green'>/* Major upsize; resize up to exact size */</font></i>
<a name='L102'>        alloc = size + 1;
<a name='L103'>    <font color='red'>}</font>
<a name='L104'>
<a name='L105'>    <b>if</b> (alloc &gt; ((<a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a>)-1) / <b>sizeof</b>(<b>char</b>))
<a name='L106'>        <b>goto</b> <a href='../S/2674.html#L167' title='Defined at 167 in Modules/fpetestmodule.c.'>overflow</a>;
<a name='L107'>    new_buf = (<b>char</b> *)<a href='../S/2803.html#L1775' title='Defined at 1775 in Objects/object.c.'>PyMem_Realloc</a>(self-&gt;buf, alloc * <b>sizeof</b>(<b>char</b>));
<a name='L108'>    <b>if</b> (new_buf == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L109'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L110'>        <b>return</b> -1;
<a name='L111'>    <font color='red'>}</font>
<a name='L112'>    self-&gt;buf_size = alloc;
<a name='L113'>    self-&gt;buf = new_buf;
<a name='L114'>
<a name='L115'>    <b>return</b> 0;
<a name='L116'>
<a name='L117'>  <a href='../S/2674.html#L167' title='Defined at 167 in Modules/fpetestmodule.c.'>overflow</a>:
<a name='L118'>    <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L119'>                    "new buffer size too large");
<a name='L120'>    <b>return</b> -1;
<a name='L121'><font color='red'>}</font>
<a name='L122'>
<a name='L123'><i><font color='green'>/* Internal routine for writing a string of bytes to the buffer of a BytesIO</font></i>
<a name='L124'><i><font color='green'>   object. Returns the number of bytes wrote, or -1 on error. */</font></i>
<a name='L125'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L126'><a href='../S/2571.html#L597' title='Refered from 597 in Modules/_io/bytesio.c.'>write_bytes</a>(bytesio *self, <b>const</b> <b>char</b> *bytes, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len)
<a name='L127'><font color='red'>{</font>
<a name='L128'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(self-&gt;buf != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L129'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(self-&gt;pos &gt;= 0);
<a name='L130'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(len &gt;= 0);
<a name='L131'>
<a name='L132'>    <b>if</b> ((<a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a>)self-&gt;pos + len &gt; self-&gt;buf_size) <font color='red'>{</font>
<a name='L133'>        <b>if</b> (<a href='../D/10872.html' title='Multiple defined in 2 places.'>resize_buffer</a>(self, (<a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a>)self-&gt;pos + len) &lt; 0)
<a name='L134'>            <b>return</b> -1;
<a name='L135'>    <font color='red'>}</font>
<a name='L136'>
<a name='L137'>    <b>if</b> (self-&gt;pos &gt; self-&gt;string_size) <font color='red'>{</font>
<a name='L138'>        <i><font color='green'>/* In case of overseek, pad with null bytes the buffer region between</font></i>
<a name='L139'><i><font color='green'>           the end of stream and the current position.</font></i>
<a name='L140'><i><font color='green'></font></i>
<a name='L141'><i><font color='green'>          0   lo      string_size                           hi</font></i>
<a name='L142'><i><font color='green'>          |   |&lt;---used---&gt;|&lt;----------available-----------&gt;|</font></i>
<a name='L143'><i><font color='green'>          |   |            &lt;--to pad--&gt;|&lt;---to write---&gt;    |</font></i>
<a name='L144'><i><font color='green'>          0   buf                   position</font></i>
<a name='L145'><i><font color='green'>        */</font></i>
<a name='L146'>        memset(self-&gt;buf + self-&gt;string_size, '\0',
<a name='L147'>               (self-&gt;pos - self-&gt;string_size) * <b>sizeof</b>(<b>char</b>));
<a name='L148'>    <font color='red'>}</font>
<a name='L149'>
<a name='L150'>    <i><font color='green'>/* Copy the data to the internal buffer, overwriting some of the existing</font></i>
<a name='L151'><i><font color='green'>       data if self-&gt;pos &lt; self-&gt;string_size. */</font></i>
<a name='L152'>    <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(self-&gt;buf + self-&gt;pos, <a href='../D/7205.html' title='Multiple defined in 2 places.'>bytes</a>, len);
<a name='L153'>    self-&gt;pos += len;
<a name='L154'>
<a name='L155'>    <i><font color='green'>/* Set the new length of the internal string if it has changed. */</font></i>
<a name='L156'>    <b>if</b> (self-&gt;string_size &lt; self-&gt;pos) <font color='red'>{</font>
<a name='L157'>        self-&gt;string_size = self-&gt;pos;
<a name='L158'>    <font color='red'>}</font>
<a name='L159'>
<a name='L160'>    <b>return</b> len;
<a name='L161'><font color='red'>}</font>
<a name='L162'>
<a name='L163'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L164'><a href='../S/2571.html#L853' title='Refered from 853 in Modules/_io/bytesio.c.'>bytesio_get_closed</a>(bytesio *self)
<a name='L165'><font color='red'>{</font>
<a name='L166'>    <b>if</b> (self-&gt;buf == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L167'>        Py_RETURN_TRUE;
<a name='L168'>    <font color='red'>}</font>
<a name='L169'>    <b>else</b> <font color='red'>{</font>
<a name='L170'>        Py_RETURN_FALSE;
<a name='L171'>    <font color='red'>}</font>
<a name='L172'><font color='red'>}</font>
<a name='L173'>
<a name='L174'><i><font color='green'>/* Generic getter for the writable, readable and seekable properties */</font></i>
<a name='L175'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L176'><a href='../R/10038.html' title='Multiple refered from 3 places.'>return_true</a>(bytesio *self)
<a name='L177'><font color='red'>{</font>
<a name='L178'>    Py_RETURN_TRUE;
<a name='L179'><font color='red'>}</font>
<a name='L180'>
<a name='L181'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(flush_doc,
<a name='L182'>"flush() -&gt; None.  Does nothing.");
<a name='L183'>
<a name='L184'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L185'><a href='../S/2571.html#L863' title='Refered from 863 in Modules/_io/bytesio.c.'>bytesio_flush</a>(bytesio *self)
<a name='L186'><font color='red'>{</font>
<a name='L187'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L188'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L189'><font color='red'>}</font>
<a name='L190'>
<a name='L191'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(getbuffer_doc,
<a name='L192'>"getbuffer() -&gt; bytes.\n"
<a name='L193'>"\n"
<a name='L194'>"Get a read-write view over the contents of the BytesIO object.");
<a name='L195'>
<a name='L196'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L197'><a href='../S/2571.html#L873' title='Refered from 873 in Modules/_io/bytesio.c.'>bytesio_getbuffer</a>(bytesio *self)
<a name='L198'><font color='red'>{</font>
<a name='L199'>    <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> *type = &amp;_PyBytesIOBuffer_Type;
<a name='L200'>    <a href='../S/2571.html#L19' title='Defined at 19 in Modules/_io/bytesio.c.'>bytesiobuf</a> *buf;
<a name='L201'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *view;
<a name='L202'>
<a name='L203'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L204'>
<a name='L205'>    buf = (<a href='../S/2571.html#L19' title='Defined at 19 in Modules/_io/bytesio.c.'>bytesiobuf</a> *) type-&gt;tp_alloc(type, 0);
<a name='L206'>    <b>if</b> (buf == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L207'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L208'>    Py_INCREF(self);
<a name='L209'>    buf-&gt;source = self;
<a name='L210'>    view = <a href='../S/2800.html#L90' title='Defined at 90 in Objects/memoryobject.c.'>PyMemoryView_FromObject</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) buf);
<a name='L211'>    Py_DECREF(buf);
<a name='L212'>    <b>return</b> view;
<a name='L213'><font color='red'>}</font>
<a name='L214'>
<a name='L215'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(getval_doc,
<a name='L216'>"getvalue() -&gt; bytes.\n"
<a name='L217'>"\n"
<a name='L218'>"Retrieve the entire contents of the BytesIO object.");
<a name='L219'>
<a name='L220'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L221'><a href='../R/6490.html' title='Multiple refered from 2 places.'>bytesio_getvalue</a>(bytesio *self)
<a name='L222'><font color='red'>{</font>
<a name='L223'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L224'>    <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(self-&gt;buf, self-&gt;string_size);
<a name='L225'><font color='red'>}</font>
<a name='L226'>
<a name='L227'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(isatty_doc,
<a name='L228'>"isatty() -&gt; False.\n"
<a name='L229'>"\n"
<a name='L230'>"Always returns False since BytesIO objects are not connected\n"
<a name='L231'>"to a tty-like device.");
<a name='L232'>
<a name='L233'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L234'><a href='../S/2571.html#L864' title='Refered from 864 in Modules/_io/bytesio.c.'>bytesio_isatty</a>(bytesio *self)
<a name='L235'><font color='red'>{</font>
<a name='L236'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L237'>    Py_RETURN_FALSE;
<a name='L238'><font color='red'>}</font>
<a name='L239'>
<a name='L240'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(tell_doc,
<a name='L241'>"tell() -&gt; current file position, an integer\n");
<a name='L242'>
<a name='L243'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L244'><a href='../S/2571.html#L865' title='Refered from 865 in Modules/_io/bytesio.c.'>bytesio_tell</a>(bytesio *self)
<a name='L245'><font color='red'>{</font>
<a name='L246'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L247'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(self-&gt;pos);
<a name='L248'><font color='red'>}</font>
<a name='L249'>
<a name='L250'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(read_doc,
<a name='L251'>"read([size]) -&gt; read at most size bytes, returned as a string.\n"
<a name='L252'>"\n"
<a name='L253'>"If the size argument is negative, read until EOF is reached.\n"
<a name='L254'>"Return an empty string at EOF.");
<a name='L255'>
<a name='L256'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L257'><a href='../R/6495.html' title='Multiple refered from 2 places.'>bytesio_read</a>(bytesio *self, PyObject *args)
<a name='L258'><font color='red'>{</font>
<a name='L259'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size, n;
<a name='L260'>    <b>char</b> *output;
<a name='L261'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = Py_None;
<a name='L262'>
<a name='L263'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L264'>
<a name='L265'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|O:read", &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>))
<a name='L266'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L267'>
<a name='L268'>    <b>if</b> (PyLong_Check(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)) <font color='red'>{</font>
<a name='L269'>        size = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L270'>        <b>if</b> (size == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L271'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L272'>    <font color='red'>}</font>
<a name='L273'>    <b>else</b> <b>if</b> (<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> == Py_None) <font color='red'>{</font>
<a name='L274'>        <i><font color='green'>/* Read until EOF is reached, by default. */</font></i>
<a name='L275'>        size = -1;
<a name='L276'>    <font color='red'>}</font>
<a name='L277'>    <b>else</b> <font color='red'>{</font>
<a name='L278'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError, "integer argument expected, got '%s'",
<a name='L279'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)-&gt;tp_name);
<a name='L280'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L281'>    <font color='red'>}</font>
<a name='L282'>
<a name='L283'>    <i><font color='green'>/* adjust invalid sizes */</font></i>
<a name='L284'>    n = self-&gt;string_size - self-&gt;pos;
<a name='L285'>    <b>if</b> (size &lt; 0 || size &gt; n) <font color='red'>{</font>
<a name='L286'>        size = n;
<a name='L287'>        <b>if</b> (size &lt; 0)
<a name='L288'>            size = 0;
<a name='L289'>    <font color='red'>}</font>
<a name='L290'>
<a name='L291'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(self-&gt;buf != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L292'>    output = self-&gt;buf + self-&gt;pos;
<a name='L293'>    self-&gt;pos += size;
<a name='L294'>
<a name='L295'>    <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(output, size);
<a name='L296'><font color='red'>}</font>
<a name='L297'>
<a name='L298'>
<a name='L299'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(read1_doc,
<a name='L300'>"read1(size) -&gt; read at most size bytes, returned as a string.\n"
<a name='L301'>"\n"
<a name='L302'>"If the size argument is negative or omitted, read until EOF is reached.\n"
<a name='L303'>"Return an empty string at EOF.");
<a name='L304'>
<a name='L305'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L306'><a href='../S/2571.html#L868' title='Refered from 868 in Modules/_io/bytesio.c.'>bytesio_read1</a>(bytesio *self, PyObject *n)
<a name='L307'><font color='red'>{</font>
<a name='L308'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, *res;
<a name='L309'>
<a name='L310'>    <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = <a href='../S/2823.html#L186' title='Defined at 186 in Objects/tupleobject.c.'>PyTuple_Pack</a>(1, n);
<a name='L311'>    <b>if</b> (<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L312'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L313'>    res  = <a href='../S/2571.html#L257' title='Defined at 257 in Modules/_io/bytesio.c.'>bytesio_read</a>(self, <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L314'>    Py_DECREF(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L315'>    <b>return</b> res;
<a name='L316'><font color='red'>}</font>
<a name='L317'>
<a name='L318'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(readline_doc,
<a name='L319'>"readline([size]) -&gt; next line from the file, as a string.\n"
<a name='L320'>"\n"
<a name='L321'>"Retain newline.  A non-negative size argument limits the maximum\n"
<a name='L322'>"number of bytes to return (an incomplete line may be returned then).\n"
<a name='L323'>"Return an empty string at EOF.\n");
<a name='L324'>
<a name='L325'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L326'><a href='../S/2571.html#L870' title='Refered from 870 in Modules/_io/bytesio.c.'>bytesio_readline</a>(bytesio *self, PyObject *args)
<a name='L327'><font color='red'>{</font>
<a name='L328'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size, n;
<a name='L329'>    <b>char</b> *output;
<a name='L330'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = Py_None;
<a name='L331'>
<a name='L332'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L333'>
<a name='L334'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|O:readline", &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>))
<a name='L335'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L336'>
<a name='L337'>    <b>if</b> (PyLong_Check(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)) <font color='red'>{</font>
<a name='L338'>        size = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L339'>        <b>if</b> (size == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L340'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L341'>    <font color='red'>}</font>
<a name='L342'>    <b>else</b> <b>if</b> (<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> == Py_None) <font color='red'>{</font>
<a name='L343'>        <i><font color='green'>/* No size limit, by default. */</font></i>
<a name='L344'>        size = -1;
<a name='L345'>    <font color='red'>}</font>
<a name='L346'>    <b>else</b> <font color='red'>{</font>
<a name='L347'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError, "integer argument expected, got '%s'",
<a name='L348'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)-&gt;tp_name);
<a name='L349'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L350'>    <font color='red'>}</font>
<a name='L351'>
<a name='L352'>    n = <a href='../S/2571.html#L41' title='Defined at 41 in Modules/_io/bytesio.c.'>get_line</a>(self, &amp;output);
<a name='L353'>
<a name='L354'>    <b>if</b> (size &gt;= 0 &amp;&amp; size &lt; n) <font color='red'>{</font>
<a name='L355'>        size = n - size;
<a name='L356'>        n -= size;
<a name='L357'>        self-&gt;pos -= size;
<a name='L358'>    <font color='red'>}</font>
<a name='L359'>
<a name='L360'>    <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(output, n);
<a name='L361'><font color='red'>}</font>
<a name='L362'>
<a name='L363'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(readlines_doc,
<a name='L364'>"readlines([size]) -&gt; list of strings, each a line from the file.\n"
<a name='L365'>"\n"
<a name='L366'>"Call readline() repeatedly and return a list of the lines so read.\n"
<a name='L367'>"The optional size argument, if given, is an approximate bound on the\n"
<a name='L368'>"total number of bytes in the lines returned.\n");
<a name='L369'>
<a name='L370'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L371'><a href='../S/2571.html#L871' title='Refered from 871 in Modules/_io/bytesio.c.'>bytesio_readlines</a>(bytesio *self, PyObject *args)
<a name='L372'><font color='red'>{</font>
<a name='L373'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxsize, size, n;
<a name='L374'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, *line;
<a name='L375'>    <b>char</b> *output;
<a name='L376'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = Py_None;
<a name='L377'>
<a name='L378'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L379'>
<a name='L380'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|O:readlines", &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>))
<a name='L381'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L382'>
<a name='L383'>    <b>if</b> (PyLong_Check(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)) <font color='red'>{</font>
<a name='L384'>        maxsize = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L385'>        <b>if</b> (maxsize == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L386'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L387'>    <font color='red'>}</font>
<a name='L388'>    <b>else</b> <b>if</b> (<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> == Py_None) <font color='red'>{</font>
<a name='L389'>        <i><font color='green'>/* No size limit, by default. */</font></i>
<a name='L390'>        maxsize = -1;
<a name='L391'>    <font color='red'>}</font>
<a name='L392'>    <b>else</b> <font color='red'>{</font>
<a name='L393'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError, "integer argument expected, got '%s'",
<a name='L394'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)-&gt;tp_name);
<a name='L395'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L396'>    <font color='red'>}</font>
<a name='L397'>
<a name='L398'>    size = 0;
<a name='L399'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L400'>    <b>if</b> (!<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L401'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L402'>
<a name='L403'>    <b>while</b> ((n = <a href='../S/2571.html#L41' title='Defined at 41 in Modules/_io/bytesio.c.'>get_line</a>(self, &amp;output)) != 0) <font color='red'>{</font>
<a name='L404'>        line = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(output, n);
<a name='L405'>        <b>if</b> (!line)
<a name='L406'>            <b>goto</b> on_error;
<a name='L407'>        <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, line) == -1) <font color='red'>{</font>
<a name='L408'>            Py_DECREF(line);
<a name='L409'>            <b>goto</b> on_error;
<a name='L410'>        <font color='red'>}</font>
<a name='L411'>        Py_DECREF(line);
<a name='L412'>        size += n;
<a name='L413'>        <b>if</b> (maxsize &gt; 0 &amp;&amp; size &gt;= maxsize)
<a name='L414'>            <b>break</b>;
<a name='L415'>    <font color='red'>}</font>
<a name='L416'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L417'>
<a name='L418'>  on_error:
<a name='L419'>    Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L420'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L421'><font color='red'>}</font>
<a name='L422'>
<a name='L423'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(readinto_doc,
<a name='L424'>"readinto(bytearray) -&gt; int.  Read up to len(b) bytes into b.\n"
<a name='L425'>"\n"
<a name='L426'>"Returns number of bytes read (0 for EOF), or None if the object\n"
<a name='L427'>"is set not to block as has no data to read.");
<a name='L428'>
<a name='L429'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L430'><a href='../S/2571.html#L869' title='Refered from 869 in Modules/_io/bytesio.c.'>bytesio_readinto</a>(bytesio *self, PyObject *buffer)
<a name='L431'><font color='red'>{</font>
<a name='L432'>    <b>void</b> *raw_buffer;
<a name='L433'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len, n;
<a name='L434'>
<a name='L435'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L436'>
<a name='L437'>    <b>if</b> (<a href='../S/2775.html#L299' title='Defined at 299 in Objects/abstract.c.'>PyObject_AsWriteBuffer</a>(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>, &amp;raw_buffer, &amp;len) == -1)
<a name='L438'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L439'>
<a name='L440'>    <i><font color='green'>/* adjust invalid sizes */</font></i>
<a name='L441'>    n = self-&gt;string_size - self-&gt;pos;
<a name='L442'>    <b>if</b> (len &gt; n) <font color='red'>{</font>
<a name='L443'>        len = n;
<a name='L444'>        <b>if</b> (len &lt; 0)
<a name='L445'>            len = 0;
<a name='L446'>    <font color='red'>}</font>
<a name='L447'>
<a name='L448'>    <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(raw_buffer, self-&gt;buf + self-&gt;pos, len);
<a name='L449'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(self-&gt;pos + len &lt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>);
<a name='L450'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(len &gt;= 0);
<a name='L451'>    self-&gt;pos += len;
<a name='L452'>
<a name='L453'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(len);
<a name='L454'><font color='red'>}</font>
<a name='L455'>
<a name='L456'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(truncate_doc,
<a name='L457'>"truncate([size]) -&gt; int.  Truncate the file to at most size bytes.\n"
<a name='L458'>"\n"
<a name='L459'>"Size defaults to the current file position, as returned by tell().\n"
<a name='L460'>"The current file position is unchanged.  Returns the new size.\n");
<a name='L461'>
<a name='L462'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L463'><a href='../S/2571.html#L876' title='Refered from 876 in Modules/_io/bytesio.c.'>bytesio_truncate</a>(bytesio *self, PyObject *args)
<a name='L464'><font color='red'>{</font>
<a name='L465'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size;
<a name='L466'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = Py_None;
<a name='L467'>
<a name='L468'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L469'>    <a href='../S/2571.html#L29' title='Defined at 29 in Modules/_io/bytesio.c.'>CHECK_EXPORTS</a>(self);
<a name='L470'>
<a name='L471'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|O:truncate", &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>))
<a name='L472'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L473'>
<a name='L474'>    <b>if</b> (PyLong_Check(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)) <font color='red'>{</font>
<a name='L475'>        size = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L476'>        <b>if</b> (size == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L477'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L478'>    <font color='red'>}</font>
<a name='L479'>    <b>else</b> <b>if</b> (<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> == Py_None) <font color='red'>{</font>
<a name='L480'>        <i><font color='green'>/* Truncate to current position if no argument is passed. */</font></i>
<a name='L481'>        size = self-&gt;pos;
<a name='L482'>    <font color='red'>}</font>
<a name='L483'>    <b>else</b> <font color='red'>{</font>
<a name='L484'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError, "integer argument expected, got '%s'",
<a name='L485'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)-&gt;tp_name);
<a name='L486'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L487'>    <font color='red'>}</font>
<a name='L488'>
<a name='L489'>    <b>if</b> (size &lt; 0) <font color='red'>{</font>
<a name='L490'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError,
<a name='L491'>                     "negative size value %zd", size);
<a name='L492'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L493'>    <font color='red'>}</font>
<a name='L494'>
<a name='L495'>    <b>if</b> (size &lt; self-&gt;string_size) <font color='red'>{</font>
<a name='L496'>        self-&gt;string_size = size;
<a name='L497'>        <b>if</b> (<a href='../D/10872.html' title='Multiple defined in 2 places.'>resize_buffer</a>(self, size) &lt; 0)
<a name='L498'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L499'>    <font color='red'>}</font>
<a name='L500'>
<a name='L501'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(size);
<a name='L502'><font color='red'>}</font>
<a name='L503'>
<a name='L504'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L505'><a href='../S/2571.html#L916' title='Refered from 916 in Modules/_io/bytesio.c.'>bytesio_iternext</a>(bytesio *self)
<a name='L506'><font color='red'>{</font>
<a name='L507'>    <b>char</b> *next;
<a name='L508'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n;
<a name='L509'>
<a name='L510'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L511'>
<a name='L512'>    n = <a href='../S/2571.html#L41' title='Defined at 41 in Modules/_io/bytesio.c.'>get_line</a>(self, &amp;next);
<a name='L513'>
<a name='L514'>    <b>if</b> (!next || n == 0)
<a name='L515'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L516'>
<a name='L517'>    <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(next, n);
<a name='L518'><font color='red'>}</font>
<a name='L519'>
<a name='L520'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(seek_doc,
<a name='L521'>"seek(pos, whence=0) -&gt; int.  Change stream position.\n"
<a name='L522'>"\n"
<a name='L523'>"Seek to byte offset pos relative to position indicated by whence:\n"
<a name='L524'>"     0  Start of stream (the default).  pos should be &gt;= 0;\n"
<a name='L525'>"     1  Current position - pos may be negative;\n"
<a name='L526'>"     2  End of stream - pos usually negative.\n"
<a name='L527'>"Returns the new absolute position.");
<a name='L528'>
<a name='L529'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L530'><a href='../S/2571.html#L875' title='Refered from 875 in Modules/_io/bytesio.c.'>bytesio_seek</a>(bytesio *self, PyObject *args)
<a name='L531'><font color='red'>{</font>
<a name='L532'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> pos;
<a name='L533'>    <b>int</b> mode = 0;
<a name='L534'>
<a name='L535'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L536'>
<a name='L537'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "n|i:seek", &amp;pos, &amp;mode))
<a name='L538'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L539'>
<a name='L540'>    <b>if</b> (pos &lt; 0 &amp;&amp; mode == 0) <font color='red'>{</font>
<a name='L541'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError,
<a name='L542'>                     "negative seek value %zd", pos);
<a name='L543'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L544'>    <font color='red'>}</font>
<a name='L545'>
<a name='L546'>    <i><font color='green'>/* mode 0: offset relative to beginning of the string.</font></i>
<a name='L547'><i><font color='green'>       mode 1: offset relative to current position.</font></i>
<a name='L548'><i><font color='green'>       mode 2: offset relative the end of the string. */</font></i>
<a name='L549'>    <b>if</b> (mode == 1) <font color='red'>{</font>
<a name='L550'>        <b>if</b> (pos &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - self-&gt;pos) <font color='red'>{</font>
<a name='L551'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L552'>                            "new position too large");
<a name='L553'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L554'>        <font color='red'>}</font>
<a name='L555'>        pos += self-&gt;pos;
<a name='L556'>    <font color='red'>}</font>
<a name='L557'>    <b>else</b> <b>if</b> (mode == 2) <font color='red'>{</font>
<a name='L558'>        <b>if</b> (pos &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - self-&gt;string_size) <font color='red'>{</font>
<a name='L559'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L560'>                            "new position too large");
<a name='L561'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L562'>        <font color='red'>}</font>
<a name='L563'>        pos += self-&gt;string_size;
<a name='L564'>    <font color='red'>}</font>
<a name='L565'>    <b>else</b> <b>if</b> (mode != 0) <font color='red'>{</font>
<a name='L566'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError,
<a name='L567'>                     "invalid whence (%i, should be 0, 1 or 2)", mode);
<a name='L568'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L569'>    <font color='red'>}</font>
<a name='L570'>
<a name='L571'>    <b>if</b> (pos &lt; 0)
<a name='L572'>        pos = 0;
<a name='L573'>    self-&gt;pos = pos;
<a name='L574'>
<a name='L575'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(self-&gt;pos);
<a name='L576'><font color='red'>}</font>
<a name='L577'>
<a name='L578'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(write_doc,
<a name='L579'>"write(bytes) -&gt; int.  Write bytes to file.\n"
<a name='L580'>"\n"
<a name='L581'>"Return the number of bytes written.");
<a name='L582'>
<a name='L583'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L584'><a href='../R/6505.html' title='Multiple refered from 4 places.'>bytesio_write</a>(bytesio *self, PyObject *obj)
<a name='L585'><font color='red'>{</font>
<a name='L586'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n = 0;
<a name='L587'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> buf;
<a name='L588'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L589'>
<a name='L590'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L591'>    <a href='../S/2571.html#L29' title='Defined at 29 in Modules/_io/bytesio.c.'>CHECK_EXPORTS</a>(self);
<a name='L592'>
<a name='L593'>    <b>if</b> (<a href='../S/2775.html#L330' title='Defined at 330 in Objects/abstract.c.'>PyObject_GetBuffer</a>(obj, &amp;buf, <a href='../S/544.html#L182' title='Defined at 182 in Include/object.h.'>PyBUF_CONTIG_RO</a>) &lt; 0)
<a name='L594'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L595'>
<a name='L596'>    <b>if</b> (buf.len != 0)
<a name='L597'>        n = <a href='../S/2571.html#L126' title='Defined at 126 in Modules/_io/bytesio.c.'>write_bytes</a>(self, buf.buf, buf.len);
<a name='L598'>    <b>if</b> (n &gt;= 0)
<a name='L599'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(n);
<a name='L600'>
<a name='L601'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;buf);
<a name='L602'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L603'><font color='red'>}</font>
<a name='L604'>
<a name='L605'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(writelines_doc,
<a name='L606'>"writelines(sequence_of_strings) -&gt; None.  Write strings to the file.\n"
<a name='L607'>"\n"
<a name='L608'>"Note that newlines are not added.  The sequence can be any iterable\n"
<a name='L609'>"object producing strings. This is equivalent to calling write() for\n"
<a name='L610'>"each string.");
<a name='L611'>
<a name='L612'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L613'><a href='../S/2571.html#L867' title='Refered from 867 in Modules/_io/bytesio.c.'>bytesio_writelines</a>(bytesio *self, PyObject *v)
<a name='L614'><font color='red'>{</font>
<a name='L615'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *it, *item;
<a name='L616'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ret;
<a name='L617'>
<a name='L618'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self);
<a name='L619'>
<a name='L620'>    it = <a href='../S/2775.html#L2668' title='Defined at 2668 in Objects/abstract.c.'>PyObject_GetIter</a>(v);
<a name='L621'>    <b>if</b> (it == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L622'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L623'>
<a name='L624'>    <b>while</b> ((item = <a href='../S/2775.html#L2700' title='Defined at 2700 in Objects/abstract.c.'>PyIter_Next</a>(it)) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L625'>        ret = <a href='../S/2571.html#L584' title='Defined at 584 in Modules/_io/bytesio.c.'>bytesio_write</a>(self, item);
<a name='L626'>        Py_DECREF(item);
<a name='L627'>        <b>if</b> (ret == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L628'>            Py_DECREF(it);
<a name='L629'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L630'>        <font color='red'>}</font>
<a name='L631'>        Py_DECREF(ret);
<a name='L632'>    <font color='red'>}</font>
<a name='L633'>    Py_DECREF(it);
<a name='L634'>
<a name='L635'>    <i><font color='green'>/* See if PyIter_Next failed */</font></i>
<a name='L636'>    <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L637'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L638'>
<a name='L639'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L640'><font color='red'>}</font>
<a name='L641'>
<a name='L642'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(close_doc,
<a name='L643'>"close() -&gt; None.  Disable all I/O operations.");
<a name='L644'>
<a name='L645'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L646'><a href='../S/2571.html#L862' title='Refered from 862 in Modules/_io/bytesio.c.'>bytesio_close</a>(bytesio *self)
<a name='L647'><font color='red'>{</font>
<a name='L648'>    <b>if</b> (self-&gt;buf != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L649'>        <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(self-&gt;buf);
<a name='L650'>        self-&gt;buf = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L651'>    <font color='red'>}</font>
<a name='L652'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L653'><font color='red'>}</font>
<a name='L654'>
<a name='L655'><i><font color='green'>/* Pickling support.</font></i>
<a name='L656'><i><font color='green'></font></i>
<a name='L657'><i><font color='green'>   Note that only pickle protocol 2 and onward are supported since we use</font></i>
<a name='L658'><i><font color='green'>   extended __reduce__ API of PEP 307 to make BytesIO instances picklable.</font></i>
<a name='L659'><i><font color='green'></font></i>
<a name='L660'><i><font color='green'>   Providing support for protocol &lt; 2 would require the __reduce_ex__ method</font></i>
<a name='L661'><i><font color='green'>   which is notably long-winded when defined properly.</font></i>
<a name='L662'><i><font color='green'></font></i>
<a name='L663'><i><font color='green'>   For BytesIO, the implementation would similar to one coded for</font></i>
<a name='L664'><i><font color='green'>   object.__reduce_ex__, but slightly less general. To be more specific, we</font></i>
<a name='L665'><i><font color='green'>   could call bytesio_getstate directly and avoid checking for the presence of</font></i>
<a name='L666'><i><font color='green'>   a fallback __reduce__ method. However, we would still need a __newobj__</font></i>
<a name='L667'><i><font color='green'>   function to use the efficient instance representation of PEP 307.</font></i>
<a name='L668'><i><font color='green'> */</font></i>
<a name='L669'>
<a name='L670'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L671'><a href='../S/2571.html#L877' title='Refered from 877 in Modules/_io/bytesio.c.'>bytesio_getstate</a>(bytesio *self)
<a name='L672'><font color='red'>{</font>
<a name='L673'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *initvalue = <a href='../S/2571.html#L221' title='Defined at 221 in Modules/_io/bytesio.c.'>bytesio_getvalue</a>(self);
<a name='L674'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *dict;
<a name='L675'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>;
<a name='L676'>
<a name='L677'>    <b>if</b> (initvalue == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L678'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L679'>    <b>if</b> (self-&gt;dict == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L680'>        Py_INCREF(Py_None);
<a name='L681'>        dict = Py_None;
<a name='L682'>    <font color='red'>}</font>
<a name='L683'>    <b>else</b> <font color='red'>{</font>
<a name='L684'>        dict = <a href='../S/2787.html#L1602' title='Defined at 1602 in Objects/dictobject.c.'>PyDict_Copy</a>(self-&gt;dict);
<a name='L685'>        <b>if</b> (dict == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L686'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L687'>    <font color='red'>}</font>
<a name='L688'>
<a name='L689'>    <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(OnN)", initvalue, self-&gt;pos, dict);
<a name='L690'>    Py_DECREF(initvalue);
<a name='L691'>    <b>return</b> <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>;
<a name='L692'><font color='red'>}</font>
<a name='L693'>
<a name='L694'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L695'><a href='../S/2571.html#L878' title='Refered from 878 in Modules/_io/bytesio.c.'>bytesio_setstate</a>(bytesio *self, PyObject *state)
<a name='L696'><font color='red'>{</font>
<a name='L697'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L698'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *position_obj;
<a name='L699'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *dict;
<a name='L700'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> pos;
<a name='L701'>
<a name='L702'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L703'>
<a name='L704'>    <i><font color='green'>/* We allow the state tuple to be longer than 3, because we may need</font></i>
<a name='L705'><i><font color='green'>       someday to extend the object's state without breaking</font></i>
<a name='L706'><i><font color='green'>       backward-compatibility. */</font></i>
<a name='L707'>    <b>if</b> (!PyTuple_Check(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>) || <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>) &lt; 3) <font color='red'>{</font>
<a name='L708'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L709'>                     "%.200s.__setstate__ argument should be 3-tuple, got %.200s",
<a name='L710'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name, <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>)-&gt;tp_name);
<a name='L711'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L712'>    <font color='red'>}</font>
<a name='L713'>    <a href='../S/2571.html#L29' title='Defined at 29 in Modules/_io/bytesio.c.'>CHECK_EXPORTS</a>(self);
<a name='L714'>    <i><font color='green'>/* Reset the object to its default state. This is only needed to handle</font></i>
<a name='L715'><i><font color='green'>       the case of repeated calls to __setstate__. */</font></i>
<a name='L716'>    self-&gt;string_size = 0;
<a name='L717'>    self-&gt;pos = 0;
<a name='L718'>
<a name='L719'>    <i><font color='green'>/* Set the value of the internal buffer. If state[0] does not support the</font></i>
<a name='L720'><i><font color='green'>       buffer protocol, bytesio_write will raise the appropriate TypeError. */</font></i>
<a name='L721'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2571.html#L584' title='Defined at 584 in Modules/_io/bytesio.c.'>bytesio_write</a>(self, PyTuple_GET_ITEM(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, 0));
<a name='L722'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L723'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L724'>    Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L725'>
<a name='L726'>    <i><font color='green'>/* Set carefully the position value. Alternatively, we could use the seek</font></i>
<a name='L727'><i><font color='green'>       method instead of modifying self-&gt;pos directly to better protect the</font></i>
<a name='L728'><i><font color='green'>       object internal state against errneous (or malicious) inputs. */</font></i>
<a name='L729'>    position_obj = PyTuple_GET_ITEM(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, 1);
<a name='L730'>    <b>if</b> (!PyLong_Check(position_obj)) <font color='red'>{</font>
<a name='L731'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L732'>                     "second item of state must be an integer, not %.200s",
<a name='L733'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(position_obj)-&gt;tp_name);
<a name='L734'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L735'>    <font color='red'>}</font>
<a name='L736'>    pos = <a href='../S/2799.html#L433' title='Defined at 433 in Objects/longobject.c.'>PyLong_AsSsize_t</a>(position_obj);
<a name='L737'>    <b>if</b> (pos == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L738'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L739'>    <b>if</b> (pos &lt; 0) <font color='red'>{</font>
<a name='L740'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L741'>                        "position value cannot be negative");
<a name='L742'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L743'>    <font color='red'>}</font>
<a name='L744'>    self-&gt;pos = pos;
<a name='L745'>
<a name='L746'>    <i><font color='green'>/* Set the dictionary of the instance variables. */</font></i>
<a name='L747'>    dict = PyTuple_GET_ITEM(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, 2);
<a name='L748'>    <b>if</b> (dict != Py_None) <font color='red'>{</font>
<a name='L749'>        <b>if</b> (!PyDict_Check(dict)) <font color='red'>{</font>
<a name='L750'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L751'>                         "third item of state should be a dict, got a %.200s",
<a name='L752'>                         <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(dict)-&gt;tp_name);
<a name='L753'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L754'>        <font color='red'>}</font>
<a name='L755'>        <b>if</b> (self-&gt;dict) <font color='red'>{</font>
<a name='L756'>            <i><font color='green'>/* Alternatively, we could replace the internal dictionary</font></i>
<a name='L757'><i><font color='green'>               completely. However, it seems more practical to just update it. */</font></i>
<a name='L758'>            <b>if</b> (<a href='../S/2787.html#L1493' title='Defined at 1493 in Objects/dictobject.c.'>PyDict_Update</a>(self-&gt;dict, dict) &lt; 0)
<a name='L759'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L760'>        <font color='red'>}</font>
<a name='L761'>        <b>else</b> <font color='red'>{</font>
<a name='L762'>            Py_INCREF(dict);
<a name='L763'>            self-&gt;dict = dict;
<a name='L764'>        <font color='red'>}</font>
<a name='L765'>    <font color='red'>}</font>
<a name='L766'>
<a name='L767'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L768'><font color='red'>}</font>
<a name='L769'>
<a name='L770'><b>static</b> <b>void</b>
<a name='L771'><a href='../S/2571.html#L893' title='Refered from 893 in Modules/_io/bytesio.c.'>bytesio_dealloc</a>(bytesio *self)
<a name='L772'><font color='red'>{</font>
<a name='L773'>    <a href='../S/545.html#L281' title='Defined at 281 in Include/objimpl.h.'>_PyObject_GC_UNTRACK</a>(self);
<a name='L774'>    <b>if</b> (self-&gt;exports &gt; 0) <font color='red'>{</font>
<a name='L775'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_SystemError,
<a name='L776'>                        "deallocated BytesIO object has exported buffers");
<a name='L777'>        <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L778'>    <font color='red'>}</font>
<a name='L779'>    <b>if</b> (self-&gt;buf != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L780'>        <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(self-&gt;buf);
<a name='L781'>        self-&gt;buf = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L782'>    <font color='red'>}</font>
<a name='L783'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;dict);
<a name='L784'>    <b>if</b> (self-&gt;weakreflist != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L785'>        <a href='../S/2830.html#L872' title='Defined at 872 in Objects/weakrefobject.c.'>PyObject_ClearWeakRefs</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self);
<a name='L786'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free(self);
<a name='L787'><font color='red'>}</font>
<a name='L788'>
<a name='L789'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L790'><a href='../S/2571.html#L927' title='Refered from 927 in Modules/_io/bytesio.c.'>bytesio_new</a>(PyTypeObject *type, PyObject *args, PyObject *kwds)
<a name='L791'><font color='red'>{</font>
<a name='L792'>    <a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a> *self;
<a name='L793'>
<a name='L794'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(type != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; type-&gt;tp_alloc != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L795'>    self = (<a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a> *)type-&gt;tp_alloc(type, 0);
<a name='L796'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L797'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L798'>
<a name='L799'>    <i><font color='green'>/* tp_alloc initializes all the fields to zero. So we don't have to</font></i>
<a name='L800'><i><font color='green'>       initialize them here. */</font></i>
<a name='L801'>
<a name='L802'>    self-&gt;buf = (<b>char</b> *)<a href='../S/2803.html#L1769' title='Defined at 1769 in Objects/object.c.'>PyMem_Malloc</a>(0);
<a name='L803'>    <b>if</b> (self-&gt;buf == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L804'>        Py_DECREF(self);
<a name='L805'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L806'>    <font color='red'>}</font>
<a name='L807'>
<a name='L808'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L809'><font color='red'>}</font>
<a name='L810'>
<a name='L811'><b>static</b> <b>int</b>
<a name='L812'><a href='../S/2571.html#L925' title='Refered from 925 in Modules/_io/bytesio.c.'>bytesio_init</a>(bytesio *self, PyObject *args, PyObject *kwds)
<a name='L813'><font color='red'>{</font>
<a name='L814'>    <b>char</b> *kwlist[] = <font color='red'>{</font>"initial_bytes", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L815'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *initvalue = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L816'>
<a name='L817'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "|O:BytesIO", kwlist,
<a name='L818'>                                     &amp;initvalue))
<a name='L819'>        <b>return</b> -1;
<a name='L820'>
<a name='L821'>    <i><font color='green'>/* In case, __init__ is called multiple times. */</font></i>
<a name='L822'>    self-&gt;string_size = 0;
<a name='L823'>    self-&gt;pos = 0;
<a name='L824'>
<a name='L825'>    <b>if</b> (initvalue &amp;&amp; initvalue != Py_None) <font color='red'>{</font>
<a name='L826'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res;
<a name='L827'>        res = <a href='../S/2571.html#L584' title='Defined at 584 in Modules/_io/bytesio.c.'>bytesio_write</a>(self, initvalue);
<a name='L828'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L829'>            <b>return</b> -1;
<a name='L830'>        Py_DECREF(res);
<a name='L831'>        self-&gt;pos = 0;
<a name='L832'>    <font color='red'>}</font>
<a name='L833'>
<a name='L834'>    <b>return</b> 0;
<a name='L835'><font color='red'>}</font>
<a name='L836'>
<a name='L837'><b>static</b> <b>int</b>
<a name='L838'><a href='../S/2571.html#L911' title='Refered from 911 in Modules/_io/bytesio.c.'>bytesio_traverse</a>(bytesio *self, visitproc visit, <b>void</b> *arg)
<a name='L839'><font color='red'>{</font>
<a name='L840'>    Py_VISIT(self-&gt;dict);
<a name='L841'>    <b>return</b> 0;
<a name='L842'><font color='red'>}</font>
<a name='L843'>
<a name='L844'><b>static</b> <b>int</b>
<a name='L845'><a href='../S/2571.html#L912' title='Refered from 912 in Modules/_io/bytesio.c.'>bytesio_clear</a>(bytesio *self)
<a name='L846'><font color='red'>{</font>
<a name='L847'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;dict);
<a name='L848'>    <b>return</b> 0;
<a name='L849'><font color='red'>}</font>
<a name='L850'>
<a name='L851'>
<a name='L852'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> bytesio_getsetlist[] = <font color='red'>{</font>
<a name='L853'>    <font color='red'>{</font>"closed",  (getter)<a href='../S/2571.html#L164' title='Defined at 164 in Modules/_io/bytesio.c.'>bytesio_get_closed</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L854'>     "True if the file is closed."<font color='red'>}</font>,
<a name='L855'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,            <i><font color='green'>/* sentinel */</font></i>
<a name='L856'><font color='red'>}</font>;
<a name='L857'>
<a name='L858'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> bytesio_methods[] = <font color='red'>{</font>
<a name='L859'>    <font color='red'>{</font>"readable",   (PyCFunction)<a href='../S/2571.html#L176' title='Defined at 176 in Modules/_io/bytesio.c.'>return_true</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L860'>    <font color='red'>{</font>"seekable",   (PyCFunction)<a href='../S/2571.html#L176' title='Defined at 176 in Modules/_io/bytesio.c.'>return_true</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L861'>    <font color='red'>{</font>"writable",   (PyCFunction)<a href='../S/2571.html#L176' title='Defined at 176 in Modules/_io/bytesio.c.'>return_true</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L862'>    <font color='red'>{</font>"close",      (PyCFunction)<a href='../S/2571.html#L646' title='Defined at 646 in Modules/_io/bytesio.c.'>bytesio_close</a>,      <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, close_doc<font color='red'>}</font>,
<a name='L863'>    <font color='red'>{</font>"flush",      (PyCFunction)<a href='../S/2571.html#L185' title='Defined at 185 in Modules/_io/bytesio.c.'>bytesio_flush</a>,      <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, flush_doc<font color='red'>}</font>,
<a name='L864'>    <font color='red'>{</font>"isatty",     (PyCFunction)<a href='../S/2571.html#L234' title='Defined at 234 in Modules/_io/bytesio.c.'>bytesio_isatty</a>,     <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, isatty_doc<font color='red'>}</font>,
<a name='L865'>    <font color='red'>{</font>"tell",       (PyCFunction)<a href='../S/2571.html#L244' title='Defined at 244 in Modules/_io/bytesio.c.'>bytesio_tell</a>,       <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, tell_doc<font color='red'>}</font>,
<a name='L866'>    <font color='red'>{</font>"write",      (PyCFunction)<a href='../S/2571.html#L584' title='Defined at 584 in Modules/_io/bytesio.c.'>bytesio_write</a>,      METH_O, write_doc<font color='red'>}</font>,
<a name='L867'>    <font color='red'>{</font>"writelines", (PyCFunction)<a href='../S/2571.html#L613' title='Defined at 613 in Modules/_io/bytesio.c.'>bytesio_writelines</a>, METH_O, writelines_doc<font color='red'>}</font>,
<a name='L868'>    <font color='red'>{</font>"read1",      (PyCFunction)<a href='../S/2571.html#L306' title='Defined at 306 in Modules/_io/bytesio.c.'>bytesio_read1</a>,      METH_O, read1_doc<font color='red'>}</font>,
<a name='L869'>    <font color='red'>{</font>"readinto",   (PyCFunction)<a href='../S/2571.html#L430' title='Defined at 430 in Modules/_io/bytesio.c.'>bytesio_readinto</a>,   METH_O, readinto_doc<font color='red'>}</font>,
<a name='L870'>    <font color='red'>{</font>"readline",   (PyCFunction)<a href='../S/2571.html#L326' title='Defined at 326 in Modules/_io/bytesio.c.'>bytesio_readline</a>,   <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, readline_doc<font color='red'>}</font>,
<a name='L871'>    <font color='red'>{</font>"readlines",  (PyCFunction)<a href='../S/2571.html#L371' title='Defined at 371 in Modules/_io/bytesio.c.'>bytesio_readlines</a>,  <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, readlines_doc<font color='red'>}</font>,
<a name='L872'>    <font color='red'>{</font>"read",       (PyCFunction)<a href='../S/2571.html#L257' title='Defined at 257 in Modules/_io/bytesio.c.'>bytesio_read</a>,       <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, read_doc<font color='red'>}</font>,
<a name='L873'>    <font color='red'>{</font>"getbuffer",  (PyCFunction)<a href='../S/2571.html#L197' title='Defined at 197 in Modules/_io/bytesio.c.'>bytesio_getbuffer</a>,  <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,  getbuffer_doc<font color='red'>}</font>,
<a name='L874'>    <font color='red'>{</font>"getvalue",   (PyCFunction)<a href='../S/2571.html#L221' title='Defined at 221 in Modules/_io/bytesio.c.'>bytesio_getvalue</a>,   <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,  getval_doc<font color='red'>}</font>,
<a name='L875'>    <font color='red'>{</font>"seek",       (PyCFunction)<a href='../S/2571.html#L530' title='Defined at 530 in Modules/_io/bytesio.c.'>bytesio_seek</a>,       <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, seek_doc<font color='red'>}</font>,
<a name='L876'>    <font color='red'>{</font>"truncate",   (PyCFunction)<a href='../S/2571.html#L463' title='Defined at 463 in Modules/_io/bytesio.c.'>bytesio_truncate</a>,   <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, truncate_doc<font color='red'>}</font>,
<a name='L877'>    <font color='red'>{</font>"__getstate__",  (PyCFunction)<a href='../S/2571.html#L671' title='Defined at 671 in Modules/_io/bytesio.c.'>bytesio_getstate</a>,  <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L878'>    <font color='red'>{</font>"__setstate__",  (PyCFunction)<a href='../S/2571.html#L695' title='Defined at 695 in Modules/_io/bytesio.c.'>bytesio_setstate</a>,  METH_O, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L879'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>        <i><font color='green'>/* sentinel */</font></i>
<a name='L880'><font color='red'>}</font>;
<a name='L881'>
<a name='L882'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bytesio_doc,
<a name='L883'>"BytesIO([buffer]) -&gt; object\n"
<a name='L884'>"\n"
<a name='L885'>"Create a buffered I/O implementation using an in-memory bytes\n"
<a name='L886'>"buffer, ready for reading and writing.");
<a name='L887'>
<a name='L888'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyBytesIO_Type = <font color='red'>{</font>
<a name='L889'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L890'>    "_io.BytesIO",                             <i><font color='green'>/*tp_name*/</font></i>
<a name='L891'>    <b>sizeof</b>(<a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a>),                     <i><font color='green'>/*tp_basicsize*/</font></i>
<a name='L892'>    0,                                         <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L893'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2571.html#L771' title='Defined at 771 in Modules/_io/bytesio.c.'>bytesio_dealloc</a>,               <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L894'>    0,                                         <i><font color='green'>/*tp_print*/</font></i>
<a name='L895'>    0,                                         <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L896'>    0,                                         <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L897'>    0,                                         <i><font color='green'>/*tp_reserved*/</font></i>
<a name='L898'>    0,                                         <i><font color='green'>/*tp_repr*/</font></i>
<a name='L899'>    0,                                         <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L900'>    0,                                         <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L901'>    0,                                         <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L902'>    0,                                         <i><font color='green'>/*tp_hash*/</font></i>
<a name='L903'>    0,                                         <i><font color='green'>/*tp_call*/</font></i>
<a name='L904'>    0,                                         <i><font color='green'>/*tp_str*/</font></i>
<a name='L905'>    0,                                         <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L906'>    0,                                         <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L907'>    0,                                         <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L908'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE |
<a name='L909'>    Py_TPFLAGS_HAVE_GC,                        <i><font color='green'>/*tp_flags*/</font></i>
<a name='L910'>    bytesio_doc,                               <i><font color='green'>/*tp_doc*/</font></i>
<a name='L911'>    (traverseproc)<a href='../S/2571.html#L838' title='Defined at 838 in Modules/_io/bytesio.c.'>bytesio_traverse</a>,            <i><font color='green'>/*tp_traverse*/</font></i>
<a name='L912'>    (inquiry)<a href='../S/2571.html#L845' title='Defined at 845 in Modules/_io/bytesio.c.'>bytesio_clear</a>,                    <i><font color='green'>/*tp_clear*/</font></i>
<a name='L913'>    0,                                         <i><font color='green'>/*tp_richcompare*/</font></i>
<a name='L914'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a>, weakreflist),      <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L915'>    <a href='../S/2803.html#L933' title='Defined at 933 in Objects/object.c.'>PyObject_SelfIter</a>,                         <i><font color='green'>/*tp_iter*/</font></i>
<a name='L916'>    (iternextfunc)<a href='../S/2571.html#L505' title='Defined at 505 in Modules/_io/bytesio.c.'>bytesio_iternext</a>,            <i><font color='green'>/*tp_iternext*/</font></i>
<a name='L917'>    bytesio_methods,                           <i><font color='green'>/*tp_methods*/</font></i>
<a name='L918'>    0,                                         <i><font color='green'>/*tp_members*/</font></i>
<a name='L919'>    bytesio_getsetlist,                        <i><font color='green'>/*tp_getset*/</font></i>
<a name='L920'>    0,                                         <i><font color='green'>/*tp_base*/</font></i>
<a name='L921'>    0,                                         <i><font color='green'>/*tp_dict*/</font></i>
<a name='L922'>    0,                                         <i><font color='green'>/*tp_descr_get*/</font></i>
<a name='L923'>    0,                                         <i><font color='green'>/*tp_descr_set*/</font></i>
<a name='L924'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a>, dict),             <i><font color='green'>/*tp_dictoffset*/</font></i>
<a name='L925'>    (initproc)<a href='../S/2571.html#L812' title='Defined at 812 in Modules/_io/bytesio.c.'>bytesio_init</a>,                    <i><font color='green'>/*tp_init*/</font></i>
<a name='L926'>    0,                                         <i><font color='green'>/*tp_alloc*/</font></i>
<a name='L927'>    <a href='../S/2571.html#L790' title='Defined at 790 in Modules/_io/bytesio.c.'>bytesio_new</a>,                               <i><font color='green'>/*tp_new*/</font></i>
<a name='L928'><font color='red'>}</font>;
<a name='L929'>
<a name='L930'>
<a name='L931'><i><font color='green'>/*</font></i>
<a name='L932'><i><font color='green'> * Implementation of the small intermediate object used by getbuffer().</font></i>
<a name='L933'><i><font color='green'> * getbuffer() returns a memoryview over this object, which should make it</font></i>
<a name='L934'><i><font color='green'> * invisible from Python code.</font></i>
<a name='L935'><i><font color='green'> */</font></i>
<a name='L936'>
<a name='L937'><b>static</b> <b>int</b>
<a name='L938'><a href='../S/2571.html#L978' title='Refered from 978 in Modules/_io/bytesio.c.'>bytesiobuf_getbuffer</a>(bytesiobuf *obj, Py_buffer *view, <b>int</b> flags)
<a name='L939'><font color='red'>{</font>
<a name='L940'>    <b>int</b> ret;
<a name='L941'>    <b>void</b> *ptr;
<a name='L942'>    <a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a> *<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a> = (<a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a> *) obj-&gt;source;
<a name='L943'>    <b>if</b> (view == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L944'>        <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;exports++;
<a name='L945'>        <b>return</b> 0;
<a name='L946'>    <font color='red'>}</font>
<a name='L947'>    ptr = (<b>void</b> *) obj;
<a name='L948'>    ret = <a href='../S/2775.html#L650' title='Defined at 650 in Objects/abstract.c.'>PyBuffer_FillInfo</a>(view, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)obj, <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;buf, <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;string_size,
<a name='L949'>                            0, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L950'>    <b>if</b> (ret &gt;= 0) <font color='red'>{</font>
<a name='L951'>        <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;exports++;
<a name='L952'>    <font color='red'>}</font>
<a name='L953'>    <b>return</b> ret;
<a name='L954'><font color='red'>}</font>
<a name='L955'>
<a name='L956'><b>static</b> <b>void</b>
<a name='L957'><a href='../S/2571.html#L979' title='Refered from 979 in Modules/_io/bytesio.c.'>bytesiobuf_releasebuffer</a>(bytesiobuf *obj, Py_buffer *view)
<a name='L958'><font color='red'>{</font>
<a name='L959'>    <a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a> *<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a> = (<a href='../S/2571.html#L14' title='Defined at 14 in Modules/_io/bytesio.c.'>bytesio</a> *) obj-&gt;source;
<a name='L960'>    <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;exports--;
<a name='L961'><font color='red'>}</font>
<a name='L962'>
<a name='L963'><b>static</b> <b>int</b>
<a name='L964'><a href='../S/2571.html#L1004' title='Refered from 1004 in Modules/_io/bytesio.c.'>bytesiobuf_traverse</a>(bytesiobuf *self, visitproc visit, <b>void</b> *arg)
<a name='L965'><font color='red'>{</font>
<a name='L966'>    Py_VISIT(self-&gt;source);
<a name='L967'>    <b>return</b> 0;
<a name='L968'><font color='red'>}</font>
<a name='L969'>
<a name='L970'><b>static</b> <b>void</b>
<a name='L971'><a href='../S/2571.html#L987' title='Refered from 987 in Modules/_io/bytesio.c.'>bytesiobuf_dealloc</a>(bytesiobuf *self)
<a name='L972'><font color='red'>{</font>
<a name='L973'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;source);
<a name='L974'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free(self);
<a name='L975'><font color='red'>}</font>
<a name='L976'>
<a name='L977'><b>static</b> <a href='../S/544.html#L273' title='Defined at 273 in Include/object.h.'>PyBufferProcs</a> bytesiobuf_as_buffer = <font color='red'>{</font>
<a name='L978'>    (getbufferproc) <a href='../S/2571.html#L938' title='Defined at 938 in Modules/_io/bytesio.c.'>bytesiobuf_getbuffer</a>,
<a name='L979'>    (releasebufferproc) <a href='../S/2571.html#L957' title='Defined at 957 in Modules/_io/bytesio.c.'>bytesiobuf_releasebuffer</a>,
<a name='L980'><font color='red'>}</font>;
<a name='L981'>
<a name='L982'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> _PyBytesIOBuffer_Type = <font color='red'>{</font>
<a name='L983'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L984'>    "_io._BytesIOBuffer",                      <i><font color='green'>/*tp_name*/</font></i>
<a name='L985'>    <b>sizeof</b>(<a href='../S/2571.html#L19' title='Defined at 19 in Modules/_io/bytesio.c.'>bytesiobuf</a>),                        <i><font color='green'>/*tp_basicsize*/</font></i>
<a name='L986'>    0,                                         <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L987'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2571.html#L971' title='Defined at 971 in Modules/_io/bytesio.c.'>bytesiobuf_dealloc</a>,            <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L988'>    0,                                         <i><font color='green'>/*tp_print*/</font></i>
<a name='L989'>    0,                                         <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L990'>    0,                                         <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L991'>    0,                                         <i><font color='green'>/*tp_reserved*/</font></i>
<a name='L992'>    0,                                         <i><font color='green'>/*tp_repr*/</font></i>
<a name='L993'>    0,                                         <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L994'>    0,                                         <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L995'>    0,                                         <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L996'>    0,                                         <i><font color='green'>/*tp_hash*/</font></i>
<a name='L997'>    0,                                         <i><font color='green'>/*tp_call*/</font></i>
<a name='L998'>    0,                                         <i><font color='green'>/*tp_str*/</font></i>
<a name='L999'>    0,                                         <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L1000'>    0,                                         <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L1001'>    &amp;bytesiobuf_as_buffer,                     <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L1002'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC,   <i><font color='green'>/*tp_flags*/</font></i>
<a name='L1003'>    0,                                         <i><font color='green'>/*tp_doc*/</font></i>
<a name='L1004'>    (traverseproc)<a href='../S/2571.html#L964' title='Defined at 964 in Modules/_io/bytesio.c.'>bytesiobuf_traverse</a>,         <i><font color='green'>/*tp_traverse*/</font></i>
<a name='L1005'>    0,                                         <i><font color='green'>/*tp_clear*/</font></i>
<a name='L1006'>    0,                                         <i><font color='green'>/*tp_richcompare*/</font></i>
<a name='L1007'>    0,                                         <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L1008'>    0,                                         <i><font color='green'>/*tp_iter*/</font></i>
<a name='L1009'>    0,                                         <i><font color='green'>/*tp_iternext*/</font></i>
<a name='L1010'>    0,                                         <i><font color='green'>/*tp_methods*/</font></i>
<a name='L1011'>    0,                                         <i><font color='green'>/*tp_members*/</font></i>
<a name='L1012'>    0,                                         <i><font color='green'>/*tp_getset*/</font></i>
<a name='L1013'>    0,                                         <i><font color='green'>/*tp_base*/</font></i>
<a name='L1014'>    0,                                         <i><font color='green'>/*tp_dict*/</font></i>
<a name='L1015'>    0,                                         <i><font color='green'>/*tp_descr_get*/</font></i>
<a name='L1016'>    0,                                         <i><font color='green'>/*tp_descr_set*/</font></i>
<a name='L1017'>    0,                                         <i><font color='green'>/*tp_dictoffset*/</font></i>
<a name='L1018'>    0,                                         <i><font color='green'>/*tp_init*/</font></i>
<a name='L1019'>    0,                                         <i><font color='green'>/*tp_alloc*/</font></i>
<a name='L1020'>    0,                                         <i><font color='green'>/*tp_new*/</font></i>
<a name='L1021'><font color='red'>}</font>;
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L41'>[^]</a><a href='#L971'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
