<html>
<head>
<title>Modules/_tkinter.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/_tkinter.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L289'>[^]</a><a href='#L3091'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L289' title='Defined at 289.'>Tkinter_Error</a>
<li><a href='#L307' title='Defined at 307.'>Sleep</a>
<li><a href='#L320' title='Defined at 320.'>WaitForMainloop</a>
<li><a href='#L339' title='Defined at 339.'>AsString</a>
<li><a href='#L372' title='Defined at 372.'>Merge</a>
<li><a href='#L450' title='Defined at 450.'>Split</a>
<li><a href='#L495' title='Defined at 495.'>SplitObj</a>
<li><a href='#L557' title='Defined at 557.'>Tcl_AppInit</a>
<li><a href='#L603' title='Defined at 603.'>Tkapp_New</a>
<li><a href='#L737' title='Defined at 737.'>Tkapp_ThreadSend</a>
<li><a href='#L763' title='Defined at 763.'>newPyTclObject</a>
<li><a href='#L776' title='Defined at 776.'>PyTclObject_dealloc</a>
<li><a href='#L784' title='Defined at 784.'>PyTclObject_TclString</a>
<li><a href='#L794' title='Defined at 794.'>PyTclObject_string</a>
<li><a href='#L809' title='Defined at 809.'>PyTclObject_str</a>
<li><a href='#L823' title='Defined at 823.'>PyTclObject_repr</a>
<li><a href='#L832' title='Defined at 832.'>PyTclObject_richcompare</a>
<li><a href='#L887' title='Defined at 887.'>get_typename</a>
<li><a href='#L945' title='Defined at 945.'>AsObj</a>
<li><a href='#L1027' title='Defined at 1027.'>FromObj</a>
<li><a href='#L1117' title='Defined at 1117.'>TCL_DECLARE_MUTEX</a>
<li><a href='#L1131' title='Defined at 1131.'>Tkapp_CallDeallocArgs</a>
<li><a href='#L1144' title='Defined at 1144.'>Tkapp_CallArgs</a>
<li><a href='#L1196' title='Defined at 1196.'>Tkapp_CallResult</a>
<li><a href='#L1223' title='Defined at 1223.'>Tkapp_CallProc</a>
<li><a href='#L1277' title='Defined at 1277.'>Tkapp_Call</a>
<li><a href='#L1349' title='Defined at 1349.'>Tkapp_GlobalCall</a>
<li><a href='#L1380' title='Defined at 1380.'>Tkapp_Eval</a>
<li><a href='#L1403' title='Defined at 1403.'>Tkapp_GlobalEval</a>
<li><a href='#L1426' title='Defined at 1426.'>Tkapp_EvalFile</a>
<li><a href='#L1450' title='Defined at 1450.'>Tkapp_Record</a>
<li><a href='#L1473' title='Defined at 1473.'>Tkapp_AddErrorInfo</a>
<li><a href='#L1496' title='Defined at 1496.'>TCL_DECLARE_MUTEX</a>
<li><a href='#L1512' title='Defined at 1512.'>varname_converter</a>
<li><a href='#L1534' title='Defined at 1534.'>var_perform</a>
<li><a href='#L1549' title='Defined at 1549.'>var_proc</a>
<li><a href='#L1563' title='Defined at 1563.'>var_invoke</a>
<li><a href='#L1606' title='Defined at 1606.'>SetVar</a>
<li><a href='#L1656' title='Defined at 1656.'>Tkapp_SetVar</a>
<li><a href='#L1662' title='Defined at 1662.'>Tkapp_GlobalSetVar</a>
<li><a href='#L1670' title='Defined at 1670.'>GetVar</a>
<li><a href='#L1698' title='Defined at 1698.'>Tkapp_GetVar</a>
<li><a href='#L1704' title='Defined at 1704.'>Tkapp_GlobalGetVar</a>
<li><a href='#L1712' title='Defined at 1712.'>UnsetVar</a>
<li><a href='#L1735' title='Defined at 1735.'>Tkapp_UnsetVar</a>
<li><a href='#L1741' title='Defined at 1741.'>Tkapp_GlobalUnsetVar</a>
<li><a href='#L1751' title='Defined at 1751.'>Tkapp_GetInt</a>
<li><a href='#L1771' title='Defined at 1771.'>Tkapp_GetDouble</a>
<li><a href='#L1791' title='Defined at 1791.'>Tkapp_GetBoolean</a>
<li><a href='#L1811' title='Defined at 1811.'>Tkapp_ExprString</a>
<li><a href='#L1834' title='Defined at 1834.'>Tkapp_ExprLong</a>
<li><a href='#L1858' title='Defined at 1858.'>Tkapp_ExprDouble</a>
<li><a href='#L1882' title='Defined at 1882.'>Tkapp_ExprBoolean</a>
<li><a href='#L1906' title='Defined at 1906.'>Tkapp_SplitList</a>
<li><a href='#L1949' title='Defined at 1949.'>Tkapp_Split</a>
<li><a href='#L1969' title='Defined at 1969.'>Tkapp_Merge</a>
<li><a href='#L1993' title='Defined at 1993.'>PythonCmd_Error</a>
<li><a href='#L2005' title='Defined at 2005.'>PythonCmd</a>
<li><a href='#L2055' title='Defined at 2055.'>PythonCmdDelete</a>
<li><a href='#L2070' title='Defined at 2070.'>TCL_DECLARE_MUTEX</a>
<li><a href='#L2083' title='Defined at 2083.'>Tkapp_CommandProc</a>
<li><a href='#L2099' title='Defined at 2099.'>Tkapp_CreateCommand</a>
<li><a href='#L2163' title='Defined at 2163.'>Tkapp_DeleteCommand</a>
<li><a href='#L2217' title='Defined at 2217.'>NewFHCD</a>
<li><a href='#L2234' title='Defined at 2234.'>DeleteFHCD</a>
<li><a href='#L2252' title='Defined at 2252.'>FileHandler</a>
<li><a href='#L2274' title='Defined at 2274.'>Tkapp_CreateFileHandler</a>
<li><a href='#L2308' title='Defined at 2308.'>Tkapp_DeleteFileHandler</a>
<li><a href='#L2345' title='Defined at 2345.'>Tktt_DeleteTimerHandler</a>
<li><a href='#L2372' title='Defined at 2372.'>Tktt_New</a>
<li><a href='#L2390' title='Defined at 2390.'>Tktt_Dealloc</a>
<li><a href='#L2401' title='Defined at 2401.'>Tktt_Repr</a>
<li><a href='#L2448' title='Defined at 2448.'>TimerHandler</a>
<li><a href='#L2476' title='Defined at 2476.'>Tkapp_CreateTimerHandler</a>
<li><a href='#L2505' title='Defined at 2505.'>Tkapp_MainLoop</a>
<li><a href='#L2569' title='Defined at 2569.'>Tkapp_DoOneEvent</a>
<li><a href='#L2584' title='Defined at 2584.'>Tkapp_Quit</a>
<li><a href='#L2596' title='Defined at 2596.'>Tkapp_InterpAddr</a>
<li><a href='#L2606' title='Defined at 2606.'>Tkapp_TkInit</a>
<li><a href='#L2654' title='Defined at 2654.'>Tkapp_WantObjects</a>
<li><a href='#L2669' title='Defined at 2669.'>Tkapp_WillDispatch</a>
<li><a href='#L2728' title='Defined at 2728.'>Tkapp_Dealloc</a>
<li><a href='#L2781' title='Defined at 2781.'>_bump</a>
<li><a href='#L2797' title='Defined at 2797.'>_flatten1</a>
<li><a href='#L2856' title='Defined at 2856.'>Tkinter_Flatten</a>
<li><a href='#L2886' title='Defined at 2886.'>Tkinter_Create</a>
<li><a href='#L2912' title='Defined at 2912.'>Tkinter_setbusywaitinterval</a>
<li><a href='#L2936' title='Defined at 2936.'>Tkinter_getbusywaitinterval</a>
<li><a href='#L2964' title='Defined at 2964.'>MyFileProc</a>
<li><a href='#L2975' title='Defined at 2975.'>EventHook</a>
<li><a href='#L3034' title='Defined at 3034.'>EnableEventHook</a>
<li><a href='#L3047' title='Defined at 3047.'>DisableEventHook</a>
<li><a href='#L3059' title='Defined at 3059.'>ins_long</a>
<li><a href='#L3068' title='Defined at 3068.'>ins_string</a>
<li><a href='#L3091' title='Defined at 3091.'>PyInit__tkinter</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/***********************************************************</font></i>
<a name='L2'><i><font color='green'>Copyright (C) 1994 Steen Lumholt.</font></i>
<a name='L3'><i><font color='green'></font></i>
<a name='L4'><i><font color='green'>                        All Rights Reserved</font></i>
<a name='L5'><i><font color='green'></font></i>
<a name='L6'><i><font color='green'>******************************************************************/</font></i>
<a name='L7'>
<a name='L8'><i><font color='green'>/* _tkinter.c -- Interface to libtk.a and libtcl.a. */</font></i>
<a name='L9'>
<a name='L10'><i><font color='green'>/* TCL/TK VERSION INFO:</font></i>
<a name='L11'><i><font color='green'></font></i>
<a name='L12'><i><font color='green'>    Only Tcl/Tk 8.3.1 and later are supported.  Older versions are not</font></i>
<a name='L13'><i><font color='green'>    supported. Use Python 2.6 or older if you cannot upgrade your</font></i>
<a name='L14'><i><font color='green'>    Tcl/Tk libraries.</font></i>
<a name='L15'><i><font color='green'>*/</font></i>
<a name='L16'>
<a name='L17'><i><font color='green'>/* XXX Further speed-up ideas, involving Tcl 8.0 features:</font></i>
<a name='L18'><i><font color='green'></font></i>
<a name='L19'><i><font color='green'>   - Register a new Tcl type, "Python callable", which can be called more</font></i>
<a name='L20'><i><font color='green'>   efficiently and passed to Tcl_EvalObj() directly (if this is possible).</font></i>
<a name='L21'><i><font color='green'></font></i>
<a name='L22'><i><font color='green'>*/</font></i>
<a name='L23'>
<a name='L24'>
<a name='L25'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L26'><font color='darkred'>#include</font> &lt;<a href='2809.html'>ctype.h</a>&gt;
<a name='L27'>
<a name='L28'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L29'><font color='darkred'>#include</font> "<a href='572.html'>pythread.h</a>"
<a name='L30'><font color='darkred'>#endif</font>
<a name='L31'>
<a name='L32'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L33'><font color='darkred'>#include</font> &lt;windows.h&gt;
<a name='L34'><font color='darkred'>#endif</font>
<a name='L35'>
<a name='L36'><i><font color='green'>/* Allow using this code in Python 2.[12] */</font></i>
<a name='L37'><font color='darkred'>#ifndef</font> <a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>
<a name='L38'><font color='darkred'>#define</font> <a href='../R/2855.html' title='Multiple refered from 1129 places.'>PyDoc_STRVAR</a>(name,str) <b>static</b> <b>char</b> name[] = str
<a name='L39'><font color='darkred'>#endif</font>
<a name='L40'>
<a name='L41'><font color='darkred'>#ifndef</font> <a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L42'><font color='darkred'>#define</font> <a href='../R/3143.html' title='Multiple refered from 97 places.'>PyMODINIT_FUNC</a> <b>void</b>
<a name='L43'><font color='darkred'>#endif</font>
<a name='L44'>
<a name='L45'><font color='darkred'>#ifndef</font> <a href='../S/2618.html#L46' title='Defined at 46 in Modules/_tkinter.c.'>PyBool_Check</a>
<a name='L46'><font color='darkred'>#define</font> <a href='../R/2510.html' title='Multiple refered from 12 places.'>PyBool_Check</a>(o)       0
<a name='L47'><font color='darkred'>#define</font> <a href='../R/2511.html' title='Multiple refered from 129 places.'>PyBool_FromLong</a>       <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>
<a name='L48'><font color='darkred'>#endif</font>
<a name='L49'>
<a name='L50'><i><font color='green'>/* Starting with Tcl 8.4, many APIs offer const-correctness.  Unfortunately,</font></i>
<a name='L51'><i><font color='green'>   making _tkinter correct for this API means to break earlier</font></i>
<a name='L52'><i><font color='green'>   versions. USE_COMPAT_CONST allows to make _tkinter work with both 8.4 and</font></i>
<a name='L53'><i><font color='green'>   earlier versions. Once Tcl releases before 8.4 don't need to be supported</font></i>
<a name='L54'><i><font color='green'>   anymore, this should go. */</font></i>
<a name='L55'><font color='darkred'>#define</font> USE_COMPAT_CONST
<a name='L56'>
<a name='L57'><i><font color='green'>/* If Tcl is compiled for threads, we must also define TCL_THREAD. We define</font></i>
<a name='L58'><i><font color='green'>   it always; if Tcl is not threaded, the thread functions in</font></i>
<a name='L59'><i><font color='green'>   Tcl are empty.  */</font></i>
<a name='L60'><font color='darkred'>#define</font> <a href='../R/4526.html' title='Multiple refered from 2 places.'>TCL_THREADS</a>
<a name='L61'>
<a name='L62'><font color='darkred'>#ifdef</font> TK_FRAMEWORK
<a name='L63'><font color='darkred'>#include</font> &lt;Tcl/tcl.h&gt;
<a name='L64'><font color='darkred'>#include</font> &lt;Tk/tk.h&gt;
<a name='L65'><font color='darkred'>#else</font>
<a name='L66'><font color='darkred'>#include</font> &lt;tcl.h&gt;
<a name='L67'><font color='darkred'>#include</font> &lt;tk.h&gt;
<a name='L68'><font color='darkred'>#endif</font>
<a name='L69'>
<a name='L70'><font color='darkred'>#include</font> "<a href='2722.html'>tkinter.h</a>"
<a name='L71'>
<a name='L72'><i><font color='green'>/* For Tcl 8.2 and 8.3, CONST* is not defined (except on Cygwin). */</font></i>
<a name='L73'><font color='darkred'>#ifndef</font> <a href='../S/2618.html#L74' title='Defined at 74 in Modules/_tkinter.c.'>CONST84_RETURN</a>
<a name='L74'><font color='darkred'>#define</font> <a href='../S/2618.html#L73' title='Refered from 73 in Modules/_tkinter.c.'>CONST84_RETURN</a>
<a name='L75'><font color='darkred'>#undef</font> CONST
<a name='L76'><font color='darkred'>#define</font> CONST
<a name='L77'><font color='darkred'>#endif</font>
<a name='L78'>
<a name='L79'><font color='darkred'>#if</font> <a href='../S/2722.html#L14' title='Defined at 14 in Modules/tkinter.h.'>TK_VERSION_HEX</a> &lt; 0x08030102
<a name='L80'><font color='darkred'>#error</font> "Tk older than 8.3.1 not supported"
<a name='L81'><font color='darkred'>#endif</font>
<a name='L82'>
<a name='L83'><i><font color='green'>/* Unicode conversion assumes that Tcl_UniChar is two bytes.</font></i>
<a name='L84'><i><font color='green'>   We cannot test this directly, so we test UTF-8 size instead,</font></i>
<a name='L85'><i><font color='green'>   expecting that TCL_UTF_MAX is changed if Tcl ever supports</font></i>
<a name='L86'><i><font color='green'>   either UTF-16 or UCS-4.</font></i>
<a name='L87'><i><font color='green'>   Redhat 8 sets TCL_UTF_MAX to 6, and uses wchar_t for</font></i>
<a name='L88'><i><font color='green'>   Tcl_Unichar. This is also ok as long as Python uses UCS-4,</font></i>
<a name='L89'><i><font color='green'>   as well.</font></i>
<a name='L90'><i><font color='green'>*/</font></i>
<a name='L91'><font color='darkred'>#if</font> TCL_UTF_MAX != 3 &amp;&amp; !(<b>defined</b>(<a href='../S/587.html#L79' title='Defined at 79 in Include/unicodeobject.h.'>Py_UNICODE_WIDE</a>) &amp;&amp; TCL_UTF_MAX==6)
<a name='L92'><font color='darkred'>#error</font> "unsupported Tcl configuration"
<a name='L93'><font color='darkred'>#endif</font>
<a name='L94'>
<a name='L95'><font color='darkred'>#if</font> !(<b>defined</b>(<a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>) || <b>defined</b>(__CYGWIN__))
<a name='L96'><font color='darkred'>#define</font> <a href='../R/1323.html' title='Multiple refered from 3 places.'>HAVE_CREATEFILEHANDLER</a>
<a name='L97'><font color='darkred'>#endif</font>
<a name='L98'>
<a name='L99'><font color='darkred'>#ifdef</font> <a href='../S/2618.html#L96' title='Defined at 96 in Modules/_tkinter.c.'>HAVE_CREATEFILEHANDLER</a>
<a name='L100'>
<a name='L101'><i><font color='green'>/* This bit is to ensure that TCL_UNIX_FD is defined and doesn't interfere</font></i>
<a name='L102'><i><font color='green'>   with the proper calculation of FHANDLETYPE == TCL_UNIX_FD below. */</font></i>
<a name='L103'><font color='darkred'>#ifndef</font> <a href='../D/5135.html' title='Multiple defined in 2 places.'>TCL_UNIX_FD</a>
<a name='L104'><font color='darkred'>#  ifdef</font> TCL_WIN_SOCKET
<a name='L105'><font color='darkred'>#    define</font> <a href='../R/4527.html' title='Multiple refered from 3 places.'>TCL_UNIX_FD</a> (! TCL_WIN_SOCKET)
<a name='L106'><font color='darkred'>#  else</font>
<a name='L107'><font color='darkred'>#    define</font> <a href='../R/4527.html' title='Multiple refered from 3 places.'>TCL_UNIX_FD</a> 1
<a name='L108'><font color='darkred'>#  endif</font>
<a name='L109'><font color='darkred'>#endif</font>
<a name='L110'>
<a name='L111'><i><font color='green'>/* Tcl_CreateFileHandler() changed several times; these macros deal with the</font></i>
<a name='L112'><i><font color='green'>   messiness.  In Tcl 8.0 and later, it is not available on Windows (and on</font></i>
<a name='L113'><i><font color='green'>   Unix, only because Jack added it back); when available on Windows, it only</font></i>
<a name='L114'><i><font color='green'>   applies to sockets. */</font></i>
<a name='L115'>
<a name='L116'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L117'><font color='darkred'>#define</font> <a href='../S/2618.html#L125' title='Refered from 125 in Modules/_tkinter.c.'>FHANDLETYPE</a> TCL_WIN_SOCKET
<a name='L118'><font color='darkred'>#else</font>
<a name='L119'><font color='darkred'>#define</font> <a href='../S/2618.html#L125' title='Refered from 125 in Modules/_tkinter.c.'>FHANDLETYPE</a> <a href='../D/5135.html' title='Multiple defined in 2 places.'>TCL_UNIX_FD</a>
<a name='L120'><font color='darkred'>#endif</font>
<a name='L121'>
<a name='L122'><i><font color='green'>/* If Tcl can wait for a Unix file descriptor, define the EventHook() routine</font></i>
<a name='L123'><i><font color='green'>   which uses this to handle Tcl events while the user is typing commands. */</font></i>
<a name='L124'>
<a name='L125'><font color='darkred'>#if</font> <a href='../D/1234.html' title='Multiple defined in 2 places.'>FHANDLETYPE</a> == <a href='../D/5135.html' title='Multiple defined in 2 places.'>TCL_UNIX_FD</a>
<a name='L126'><font color='darkred'>#define</font> <a href='../R/4874.html' title='Multiple refered from 3 places.'>WAIT_FOR_STDIN</a>
<a name='L127'><font color='darkred'>#endif</font>
<a name='L128'>
<a name='L129'><font color='darkred'>#endif</font> <i><font color='green'>/* HAVE_CREATEFILEHANDLER */</font></i>
<a name='L130'>
<a name='L131'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L132'><font color='darkred'>#include</font> &lt;conio.h&gt;
<a name='L133'><font color='darkred'>#define</font> <a href='../R/4874.html' title='Multiple refered from 3 places.'>WAIT_FOR_STDIN</a>
<a name='L134'><font color='darkred'>#endif</font>
<a name='L135'>
<a name='L136'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L137'>
<a name='L138'><i><font color='green'>/* The threading situation is complicated.  Tcl is not thread-safe, except</font></i>
<a name='L139'><i><font color='green'>   when configured with --enable-threads.</font></i>
<a name='L140'><i><font color='green'>   So we need to use a lock around all uses of Tcl.  Previously, the Python</font></i>
<a name='L141'><i><font color='green'>   interpreter lock was used for this.  However, this causes problems when</font></i>
<a name='L142'><i><font color='green'>   other Python threads need to run while Tcl is blocked waiting for events.</font></i>
<a name='L143'><i><font color='green'></font></i>
<a name='L144'><i><font color='green'>   To solve this problem, a separate lock for Tcl is introduced.  Holding it</font></i>
<a name='L145'><i><font color='green'>   is incompatible with holding Python's interpreter lock.  The following four</font></i>
<a name='L146'><i><font color='green'>   macros manipulate both locks together.</font></i>
<a name='L147'><i><font color='green'></font></i>
<a name='L148'><i><font color='green'>   ENTER_TCL and LEAVE_TCL are brackets, just like Py_BEGIN_ALLOW_THREADS and</font></i>
<a name='L149'><i><font color='green'>   Py_END_ALLOW_THREADS.  They should be used whenever a call into Tcl is made</font></i>
<a name='L150'><i><font color='green'>   that could call an event handler, or otherwise affect the state of a Tcl</font></i>
<a name='L151'><i><font color='green'>   interpreter.  These assume that the surrounding code has the Python</font></i>
<a name='L152'><i><font color='green'>   interpreter lock; inside the brackets, the Python interpreter lock has been</font></i>
<a name='L153'><i><font color='green'>   released and the lock for Tcl has been acquired.</font></i>
<a name='L154'><i><font color='green'></font></i>
<a name='L155'><i><font color='green'>   Sometimes, it is necessary to have both the Python lock and the Tcl lock.</font></i>
<a name='L156'><i><font color='green'>   (For example, when transferring data from the Tcl interpreter result to a</font></i>
<a name='L157'><i><font color='green'>   Python string object.)  This can be done by using different macros to close</font></i>
<a name='L158'><i><font color='green'>   the ENTER_TCL block: ENTER_OVERLAP reacquires the Python lock (and restores</font></i>
<a name='L159'><i><font color='green'>   the thread state) but doesn't release the Tcl lock; LEAVE_OVERLAP_TCL</font></i>
<a name='L160'><i><font color='green'>   releases the Tcl lock.</font></i>
<a name='L161'><i><font color='green'></font></i>
<a name='L162'><i><font color='green'>   By contrast, ENTER_PYTHON and LEAVE_PYTHON are used in Tcl event</font></i>
<a name='L163'><i><font color='green'>   handlers when the handler needs to use Python.  Such event handlers are</font></i>
<a name='L164'><i><font color='green'>   entered while the lock for Tcl is held; the event handler presumably needs</font></i>
<a name='L165'><i><font color='green'>   to use Python.  ENTER_PYTHON releases the lock for Tcl and acquires</font></i>
<a name='L166'><i><font color='green'>   the Python interpreter lock, restoring the appropriate thread state, and</font></i>
<a name='L167'><i><font color='green'>   LEAVE_PYTHON releases the Python interpreter lock and re-acquires the lock</font></i>
<a name='L168'><i><font color='green'>   for Tcl.  It is okay for ENTER_TCL/LEAVE_TCL pairs to be contained inside</font></i>
<a name='L169'><i><font color='green'>   the code between ENTER_PYTHON and LEAVE_PYTHON.</font></i>
<a name='L170'><i><font color='green'></font></i>
<a name='L171'><i><font color='green'>   These locks expand to several statements and brackets; they should not be</font></i>
<a name='L172'><i><font color='green'>   used in branches of if statements and the like.</font></i>
<a name='L173'><i><font color='green'></font></i>
<a name='L174'><i><font color='green'>   If Tcl is threaded, this approach won't work anymore. The Tcl interpreter is</font></i>
<a name='L175'><i><font color='green'>   only valid in the thread that created it, and all Tk activity must happen in this</font></i>
<a name='L176'><i><font color='green'>   thread, also. That means that the mainloop must be invoked in the thread that</font></i>
<a name='L177'><i><font color='green'>   created the interpreter. Invoking commands from other threads is possible;</font></i>
<a name='L178'><i><font color='green'>   _tkinter will queue an event for the interpreter thread, which will then</font></i>
<a name='L179'><i><font color='green'>   execute the command and pass back the result. If the main thread is not in the</font></i>
<a name='L180'><i><font color='green'>   mainloop, and invoking commands causes an exception; if the main loop is running</font></i>
<a name='L181'><i><font color='green'>   but not processing events, the command invocation will block.</font></i>
<a name='L182'><i><font color='green'></font></i>
<a name='L183'><i><font color='green'>   In addition, for a threaded Tcl, a single global tcl_tstate won't be sufficient</font></i>
<a name='L184'><i><font color='green'>   anymore, since multiple Tcl interpreters may simultaneously dispatch in different</font></i>
<a name='L185'><i><font color='green'>   threads. So we use the Tcl TLS API.</font></i>
<a name='L186'><i><font color='green'></font></i>
<a name='L187'><i><font color='green'>*/</font></i>
<a name='L188'>
<a name='L189'><b>static</b> <a href='../S/572.html#L5' title='Defined at 5 in Include/pythread.h.'>PyThread_type_lock</a> tcl_lock = 0;
<a name='L190'>
<a name='L191'><font color='darkred'>#ifdef</font> <a href='../S/2618.html#L60' title='Defined at 60 in Modules/_tkinter.c.'>TCL_THREADS</a>
<a name='L192'><b>static</b> Tcl_ThreadDataKey state_key;
<a name='L193'><b>typedef</b> <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *ThreadSpecificData;
<a name='L194'><font color='darkred'>#define</font> <a href='../R/10742.html' title='Multiple refered from 10 places.'>tcl_tstate</a> (*(<a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a>**)Tcl_GetThreadData(&amp;state_key, <b>sizeof</b>(<a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a>*)))
<a name='L195'><font color='darkred'>#else</font>
<a name='L196'><b>static</b> <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *<a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L197'><font color='darkred'>#endif</font>
<a name='L198'>
<a name='L199'><font color='darkred'>#define</font> <a href='../R/872.html' title='Multiple refered from 23 places.'>ENTER_TCL</a> \
<a name='L200'>    <font color='red'>{</font> <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *tstate = <a href='../S/3134.html#L368' title='Defined at 368 in Python/pystate.c.'>PyThreadState_Get</a>(); <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a> \
<a name='L201'>        <b>if</b>(tcl_lock)<a href='../D/3846.html' title='Multiple defined in 10 places.'>PyThread_acquire_lock</a>(tcl_lock, 1); <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = tstate;
<a name='L202'>
<a name='L203'><font color='darkred'>#define</font> <a href='../R/1705.html' title='Multiple refered from 8 places.'>LEAVE_TCL</a> \
<a name='L204'>    <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; <b>if</b>(tcl_lock)<a href='../D/3858.html' title='Multiple defined in 11 places.'>PyThread_release_lock</a>(tcl_lock); <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a><font color='red'>}</font>
<a name='L205'>
<a name='L206'><font color='darkred'>#define</font> <a href='../R/870.html' title='Multiple refered from 15 places.'>ENTER_OVERLAP</a> \
<a name='L207'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L208'>
<a name='L209'><font color='darkred'>#define</font> <a href='../R/1703.html' title='Multiple refered from 15 places.'>LEAVE_OVERLAP_TCL</a> \
<a name='L210'>    <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; <b>if</b>(tcl_lock)<a href='../D/3858.html' title='Multiple defined in 11 places.'>PyThread_release_lock</a>(tcl_lock); <font color='red'>}</font>
<a name='L211'>
<a name='L212'><font color='darkred'>#define</font> <a href='../R/871.html' title='Multiple refered from 7 places.'>ENTER_PYTHON</a> \
<a name='L213'>    <font color='red'>{</font> <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *tstate = <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a>; <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; \
<a name='L214'>        <b>if</b>(tcl_lock)<a href='../D/3858.html' title='Multiple defined in 11 places.'>PyThread_release_lock</a>(tcl_lock); <a href='../S/3091.html#L435' title='Defined at 435 in Python/ceval.c.'>PyEval_RestoreThread</a>((tstate)); <font color='red'>}</font>
<a name='L215'>
<a name='L216'><font color='darkred'>#define</font> <a href='../R/1704.html' title='Multiple refered from 8 places.'>LEAVE_PYTHON</a> \
<a name='L217'>    <font color='red'>{</font> <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *tstate = <a href='../S/3091.html#L422' title='Defined at 422 in Python/ceval.c.'>PyEval_SaveThread</a>(); \
<a name='L218'>        <b>if</b>(tcl_lock)<a href='../D/3846.html' title='Multiple defined in 10 places.'>PyThread_acquire_lock</a>(tcl_lock, 1); <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = tstate; <font color='red'>}</font>
<a name='L219'>
<a name='L220'><font color='darkred'>#define</font> <a href='../R/506.html' title='Multiple refered from 15 places.'>CHECK_TCL_APPARTMENT</a> \
<a name='L221'>    <b>if</b> (((<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *)self)-&gt;threaded &amp;&amp; \
<a name='L222'>        ((<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *)self)-&gt;thread_id != Tcl_GetCurrentThread()) <font color='red'>{</font> \
<a name='L223'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError, "Calling Tcl from different appartment"); \
<a name='L224'>        <b>return</b> 0; \
<a name='L225'>    <font color='red'>}</font>
<a name='L226'>
<a name='L227'><font color='darkred'>#else</font>
<a name='L228'>
<a name='L229'><font color='darkred'>#define</font> <a href='../R/872.html' title='Multiple refered from 23 places.'>ENTER_TCL</a>
<a name='L230'><font color='darkred'>#define</font> <a href='../R/1705.html' title='Multiple refered from 8 places.'>LEAVE_TCL</a>
<a name='L231'><font color='darkred'>#define</font> <a href='../R/870.html' title='Multiple refered from 15 places.'>ENTER_OVERLAP</a>
<a name='L232'><font color='darkred'>#define</font> <a href='../R/1703.html' title='Multiple refered from 15 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L233'><font color='darkred'>#define</font> <a href='../R/871.html' title='Multiple refered from 7 places.'>ENTER_PYTHON</a>
<a name='L234'><font color='darkred'>#define</font> <a href='../R/1704.html' title='Multiple refered from 8 places.'>LEAVE_PYTHON</a>
<a name='L235'><font color='darkred'>#define</font> <a href='../R/506.html' title='Multiple refered from 15 places.'>CHECK_TCL_APPARTMENT</a>
<a name='L236'>
<a name='L237'><font color='darkred'>#endif</font>
<a name='L238'>
<a name='L239'><font color='darkred'>#ifndef</font> <a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a>
<a name='L240'><font color='darkred'>#define</font> <a href='../R/1160.html' title='Multiple refered from 10 places.'>FREECAST</a> (<b>char</b> *)
<a name='L241'><font color='darkred'>#endif</font>
<a name='L242'>
<a name='L243'><i><font color='green'>/**** Tkapp Object Declaration ****/</font></i>
<a name='L244'>
<a name='L245'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> Tkapp_Type;
<a name='L246'>
<a name='L247'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L248'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L249'>    Tcl_Interp *interp;
<a name='L250'>    <b>int</b> wantobjects;
<a name='L251'>    <b>int</b> threaded; <i><font color='green'>/* True if tcl_platform[threaded] */</font></i>
<a name='L252'>    Tcl_ThreadId thread_id;
<a name='L253'>    <b>int</b> dispatching;
<a name='L254'>    <i><font color='green'>/* We cannot include tclInt.h, as this is internal.</font></i>
<a name='L255'><i><font color='green'>       So we cache interesting types here. */</font></i>
<a name='L256'>    Tcl_ObjType *BooleanType;
<a name='L257'>    Tcl_ObjType *ByteArrayType;
<a name='L258'>    Tcl_ObjType *DoubleType;
<a name='L259'>    Tcl_ObjType *IntType;
<a name='L260'>    Tcl_ObjType *ListType;
<a name='L261'>    Tcl_ObjType *ProcBodyType;
<a name='L262'>    Tcl_ObjType *StringType;
<a name='L263'><font color='red'>}</font> <a href='../R/4638.html' title='Multiple refered from 20 places.'>TkappObject</a>;
<a name='L264'>
<a name='L265'><font color='darkred'>#define</font> Tkapp_Check(v) (<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(v) == &amp;Tkapp_Type)
<a name='L266'><font color='darkred'>#define</font> <a href='../R/4668.html' title='Multiple refered from 28 places.'>Tkapp_Interp</a>(v) (((<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *) (v))-&gt;interp)
<a name='L267'><font color='darkred'>#define</font> <a href='../R/4675.html' title='Multiple refered from 8 places.'>Tkapp_Result</a>(v) Tcl_GetStringResult(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(v))
<a name='L268'>
<a name='L269'><font color='darkred'>#define</font> DEBUG_REFCNT(v) (printf("DEBUG: id=%p, refcnt=%i\n", \
<a name='L270'>(<b>void</b> *) v, <a href='../D/4223.html' title='Multiple defined in 2 places.'>Py_REFCNT</a>(v)))
<a name='L271'>
<a name='L272'>
<a name='L273'>
<a name='L274'><i><font color='green'>/**** Error Handling ****/</font></i>
<a name='L275'>
<a name='L276'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *Tkinter_TclError;
<a name='L277'><b>static</b> <b>int</b> quitMainLoop = 0;
<a name='L278'><b>static</b> <b>int</b> errorInCmd = 0;
<a name='L279'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *excInCmd;
<a name='L280'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *valInCmd;
<a name='L281'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *trbInCmd;
<a name='L282'>
<a name='L283'><font color='darkred'>#ifdef</font> <a href='../S/2722.html#L22' title='Defined at 22 in Modules/tkinter.h.'>TKINTER_PROTECT_LOADTK</a>
<a name='L284'><b>static</b> <b>int</b> tk_load_failed = 0;
<a name='L285'><font color='darkred'>#endif</font>
<a name='L286'>
<a name='L287'>
<a name='L288'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L289'><a href='../R/4685.html' title='Multiple refered from 21 places.'>Tkinter_Error</a>(PyObject *v)
<a name='L290'><font color='red'>{</font>
<a name='L291'>    <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Tkinter_TclError, <a href='../S/2618.html#L267' title='Defined at 267 in Modules/_tkinter.c.'>Tkapp_Result</a>(v));
<a name='L292'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L293'><font color='red'>}</font>
<a name='L294'>
<a name='L295'>
<a name='L296'>
<a name='L297'><i><font color='green'>/**** Utils ****/</font></i>
<a name='L298'>
<a name='L299'><b>static</b> <b>int</b> Tkinter_busywaitinterval = 20;
<a name='L300'>
<a name='L301'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L302'><font color='darkred'>#ifndef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L303'>
<a name='L304'><i><font color='green'>/* Millisecond sleep() for Unix platforms. */</font></i>
<a name='L305'>
<a name='L306'><b>static</b> <b>void</b>
<a name='L307'><a href='../R/4489.html' title='Multiple refered from 10 places.'>Sleep</a>(<b>int</b> milli)
<a name='L308'><font color='red'>{</font>
<a name='L309'>    <i><font color='green'>/* XXX Too bad if you don't have select(). */</font></i>
<a name='L310'>    <b>struct</b> timeval t;
<a name='L311'>    t.tv_sec = milli/1000;
<a name='L312'>    t.tv_usec = (milli%1000) * 1000;
<a name='L313'>    select(0, (fd_set *)0, (fd_set *)0, (fd_set *)0, &amp;t);
<a name='L314'><font color='red'>}</font>
<a name='L315'><font color='darkred'>#endif</font> <i><font color='green'>/* MS_WINDOWS */</font></i>
<a name='L316'>
<a name='L317'><i><font color='green'>/* Wait up to 1s for the mainloop to come up. */</font></i>
<a name='L318'>
<a name='L319'><b>static</b> <b>int</b>
<a name='L320'><a href='../R/4927.html' title='Multiple refered from 3 places.'>WaitForMainloop</a>(TkappObject* self)
<a name='L321'><font color='red'>{</font>
<a name='L322'>    <b>int</b> i;
<a name='L323'>    <b>for</b> (i = 0; i &lt; 10; i++) <font color='red'>{</font>
<a name='L324'>        <b>if</b> (self-&gt;dispatching)
<a name='L325'>            <b>return</b> 1;
<a name='L326'>        <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L327'>        <a href='../S/2618.html#L307' title='Defined at 307 in Modules/_tkinter.c.'>Sleep</a>(100);
<a name='L328'>        <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L329'>    <font color='red'>}</font>
<a name='L330'>    <b>if</b> (self-&gt;dispatching)
<a name='L331'>        <b>return</b> 1;
<a name='L332'>    <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError, "main thread is not in main loop");
<a name='L333'>    <b>return</b> 0;
<a name='L334'><font color='red'>}</font>
<a name='L335'><font color='darkred'>#endif</font> <i><font color='green'>/* WITH_THREAD */</font></i>
<a name='L336'>
<a name='L337'>
<a name='L338'><b>static</b> <b>char</b> *
<a name='L339'><a href='../R/195.html' title='Multiple refered from 2 places.'>AsString</a>(PyObject *value, PyObject *tmp)
<a name='L340'><font color='red'>{</font>
<a name='L341'>    <b>if</b> (PyBytes_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>))
<a name='L342'>        <b>return</b> <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L343'>    <b>else</b> <b>if</b> (PyUnicode_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L344'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v = <a href='../D/3959.html' title='Multiple defined in 3 places.'>PyUnicode_AsUTF8String</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L345'>        <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L346'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L347'>        <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(tmp, v) != 0) <font color='red'>{</font>
<a name='L348'>            Py_DECREF(v);
<a name='L349'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L350'>        <font color='red'>}</font>
<a name='L351'>        Py_DECREF(v);
<a name='L352'>        <b>return</b> <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(v);
<a name='L353'>    <font color='red'>}</font>
<a name='L354'>    <b>else</b> <font color='red'>{</font>
<a name='L355'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v = <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L356'>        <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L357'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L358'>        <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(tmp, v) != 0) <font color='red'>{</font>
<a name='L359'>            Py_DECREF(v);
<a name='L360'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L361'>        <font color='red'>}</font>
<a name='L362'>        Py_DECREF(v);
<a name='L363'>        <b>return</b> <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(v);
<a name='L364'>    <font color='red'>}</font>
<a name='L365'><font color='red'>}</font>
<a name='L366'>
<a name='L367'>
<a name='L368'>
<a name='L369'><font color='darkred'>#define</font> <a href='../R/65.html' title='Multiple refered from 6 places.'>ARGSZ</a> 64
<a name='L370'>
<a name='L371'><b>static</b> <b>char</b> *
<a name='L372'><a href='../R/2015.html' title='Multiple refered from 3 places.'>Merge</a>(PyObject *args)
<a name='L373'><font color='red'>{</font>
<a name='L374'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tmp = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L375'>    <b>char</b> *argvStore[<a href='../S/2618.html#L369' title='Defined at 369 in Modules/_tkinter.c.'>ARGSZ</a>];
<a name='L376'>    <b>char</b> **argv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L377'>    <b>int</b> fvStore[<a href='../S/2618.html#L369' title='Defined at 369 in Modules/_tkinter.c.'>ARGSZ</a>];
<a name='L378'>    <b>int</b> *fv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L379'>    <b>int</b> argc = 0, fvc = 0, i;
<a name='L380'>    <b>char</b> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L381'>
<a name='L382'>    <b>if</b> (!(tmp = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0)))
<a name='L383'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L384'>
<a name='L385'>    argv = argvStore;
<a name='L386'>    fv = fvStore;
<a name='L387'>
<a name='L388'>    <b>if</b> (<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L389'>        argc = 0;
<a name='L390'>
<a name='L391'>    <b>else</b> <b>if</b> (!PyTuple_Check(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>)) <font color='red'>{</font>
<a name='L392'>        argc = 1;
<a name='L393'>        fv[0] = 0;
<a name='L394'>        <b>if</b> (!(argv[0] = <a href='../S/2618.html#L339' title='Defined at 339 in Modules/_tkinter.c.'>AsString</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, tmp)))
<a name='L395'>            <b>goto</b> finally;
<a name='L396'>    <font color='red'>}</font>
<a name='L397'>    <b>else</b> <font color='red'>{</font>
<a name='L398'>        argc = <a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L399'>
<a name='L400'>        <b>if</b> (argc &gt; <a href='../S/2618.html#L369' title='Defined at 369 in Modules/_tkinter.c.'>ARGSZ</a>) <font color='red'>{</font>
<a name='L401'>            argv = (<b>char</b> **)ckalloc(argc * <b>sizeof</b>(<b>char</b> *));
<a name='L402'>            fv = (<b>int</b> *)ckalloc(argc * <b>sizeof</b>(<b>int</b>));
<a name='L403'>            <b>if</b> (argv == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || fv == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L404'>                <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L405'>                <b>goto</b> finally;
<a name='L406'>            <font color='red'>}</font>
<a name='L407'>        <font color='red'>}</font>
<a name='L408'>
<a name='L409'>        <b>for</b> (i = 0; i &lt; argc; i++) <font color='red'>{</font>
<a name='L410'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, i);
<a name='L411'>            <b>if</b> (PyTuple_Check(v)) <font color='red'>{</font>
<a name='L412'>                fv[i] = 1;
<a name='L413'>                <b>if</b> (!(argv[i] = <a href='../S/2618.html#L372' title='Defined at 372 in Modules/_tkinter.c.'>Merge</a>(v)))
<a name='L414'>                    <b>goto</b> finally;
<a name='L415'>                fvc++;
<a name='L416'>            <font color='red'>}</font>
<a name='L417'>            <b>else</b> <b>if</b> (v == Py_None) <font color='red'>{</font>
<a name='L418'>                argc = i;
<a name='L419'>                <b>break</b>;
<a name='L420'>            <font color='red'>}</font>
<a name='L421'>            <b>else</b> <font color='red'>{</font>
<a name='L422'>                fv[i] = 0;
<a name='L423'>                <b>if</b> (!(argv[i] = <a href='../S/2618.html#L339' title='Defined at 339 in Modules/_tkinter.c.'>AsString</a>(v, tmp)))
<a name='L424'>                    <b>goto</b> finally;
<a name='L425'>                fvc++;
<a name='L426'>            <font color='red'>}</font>
<a name='L427'>        <font color='red'>}</font>
<a name='L428'>    <font color='red'>}</font>
<a name='L429'>    res = Tcl_Merge(argc, argv);
<a name='L430'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L431'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Tkinter_TclError, "merge failed");
<a name='L432'>
<a name='L433'>  finally:
<a name='L434'>    <b>for</b> (i = 0; i &lt; fvc; i++)
<a name='L435'>        <b>if</b> (fv[i]) <font color='red'>{</font>
<a name='L436'>            ckfree(argv[i]);
<a name='L437'>        <font color='red'>}</font>
<a name='L438'>    <b>if</b> (argv != argvStore)
<a name='L439'>        ckfree(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> argv);
<a name='L440'>    <b>if</b> (fv != fvStore)
<a name='L441'>        ckfree(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> fv);
<a name='L442'>
<a name='L443'>    Py_DECREF(tmp);
<a name='L444'>    <b>return</b> res;
<a name='L445'><font color='red'>}</font>
<a name='L446'>
<a name='L447'>
<a name='L448'>
<a name='L449'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L450'><a href='../R/4493.html' title='Multiple refered from 3 places.'>Split</a>(<b>char</b> *list)
<a name='L451'><font color='red'>{</font>
<a name='L452'>    <b>int</b> argc;
<a name='L453'>    <b>char</b> **argv;
<a name='L454'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L455'>
<a name='L456'>    <b>if</b> (list == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L457'>        Py_INCREF(Py_None);
<a name='L458'>        <b>return</b> Py_None;
<a name='L459'>    <font color='red'>}</font>
<a name='L460'>
<a name='L461'>    <b>if</b> (Tcl_SplitList((Tcl_Interp *)<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, list, &amp;argc, &amp;argv) != TCL_OK) <font color='red'>{</font>
<a name='L462'>        <i><font color='green'>/* Not a list.</font></i>
<a name='L463'><i><font color='green'>         * Could be a quoted string containing funnies, e.g. {"}.</font></i>
<a name='L464'><i><font color='green'>         * Return the string itself.</font></i>
<a name='L465'><i><font color='green'>         */</font></i>
<a name='L466'>        <b>return</b> <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(list);
<a name='L467'>    <font color='red'>}</font>
<a name='L468'>
<a name='L469'>    <b>if</b> (argc == 0)
<a name='L470'>        v = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("");
<a name='L471'>    <b>else</b> <b>if</b> (argc == 1)
<a name='L472'>        v = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(argv[0]);
<a name='L473'>    <b>else</b> <b>if</b> ((v = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(argc)) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L474'>        <b>int</b> i;
<a name='L475'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *w;
<a name='L476'>
<a name='L477'>        <b>for</b> (i = 0; i &lt; argc; i++) <font color='red'>{</font>
<a name='L478'>            <b>if</b> ((w = <a href='../S/2618.html#L450' title='Defined at 450 in Modules/_tkinter.c.'>Split</a>(argv[i])) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L479'>                Py_DECREF(v);
<a name='L480'>                v = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L481'>                <b>break</b>;
<a name='L482'>            <font color='red'>}</font>
<a name='L483'>            <a href='../S/2823.html#L137' title='Defined at 137 in Objects/tupleobject.c.'>PyTuple_SetItem</a>(v, i, w);
<a name='L484'>        <font color='red'>}</font>
<a name='L485'>    <font color='red'>}</font>
<a name='L486'>    Tcl_Free(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> argv);
<a name='L487'>    <b>return</b> v;
<a name='L488'><font color='red'>}</font>
<a name='L489'>
<a name='L490'><i><font color='green'>/* In some cases, Tcl will still return strings that are supposed to be</font></i>
<a name='L491'><i><font color='green'>   lists. SplitObj walks through a nested tuple, finding string objects that</font></i>
<a name='L492'><i><font color='green'>   need to be split. */</font></i>
<a name='L493'>
<a name='L494'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L495'><a href='../R/4494.html' title='Multiple refered from 2 places.'>SplitObj</a>(PyObject *arg)
<a name='L496'><font color='red'>{</font>
<a name='L497'>    <b>if</b> (PyTuple_Check(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)) <font color='red'>{</font>
<a name='L498'>        <b>int</b> i, size;
<a name='L499'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *elem, *newelem, *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L500'>
<a name='L501'>        size = <a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L502'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L503'>        <i><font color='green'>/* Recursively invoke SplitObj for all tuple items.</font></i>
<a name='L504'><i><font color='green'>           If this does not return a new object, no action is</font></i>
<a name='L505'><i><font color='green'>           needed. */</font></i>
<a name='L506'>        <b>for</b>(i = 0; i &lt; size; i++) <font color='red'>{</font>
<a name='L507'>            elem = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, i);
<a name='L508'>            newelem = <a href='../S/2618.html#L495' title='Defined at 495 in Modules/_tkinter.c.'>SplitObj</a>(elem);
<a name='L509'>            <b>if</b> (!newelem) <font color='red'>{</font>
<a name='L510'>                <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L511'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L512'>            <font color='red'>}</font>
<a name='L513'>            <b>if</b> (!<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>) <font color='red'>{</font>
<a name='L514'>                <b>int</b> k;
<a name='L515'>                <b>if</b> (newelem == elem) <font color='red'>{</font>
<a name='L516'>                    Py_DECREF(newelem);
<a name='L517'>                    <b>continue</b>;
<a name='L518'>                <font color='red'>}</font>
<a name='L519'>                <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(size);
<a name='L520'>                <b>if</b> (!<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L521'>                    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L522'>                <b>for</b>(k = 0; k &lt; i; k++) <font color='red'>{</font>
<a name='L523'>                    elem = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, k);
<a name='L524'>                    Py_INCREF(elem);
<a name='L525'>                    <a href='../S/2823.html#L137' title='Defined at 137 in Objects/tupleobject.c.'>PyTuple_SetItem</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, k, elem);
<a name='L526'>                <font color='red'>}</font>
<a name='L527'>            <font color='red'>}</font>
<a name='L528'>            <a href='../S/2823.html#L137' title='Defined at 137 in Objects/tupleobject.c.'>PyTuple_SetItem</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, i, newelem);
<a name='L529'>        <font color='red'>}</font>
<a name='L530'>        <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L531'>            <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L532'>        <i><font color='green'>/* Fall through, returning arg. */</font></i>
<a name='L533'>    <font color='red'>}</font>
<a name='L534'>    <b>else</b> <b>if</b> (PyBytes_Check(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>)) <font color='red'>{</font>
<a name='L535'>        <b>int</b> argc;
<a name='L536'>        <b>char</b> **argv;
<a name='L537'>        <b>char</b> *list = <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L538'>
<a name='L539'>        <b>if</b> (Tcl_SplitList((Tcl_Interp *)<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, list, &amp;argc, &amp;argv) != TCL_OK) <font color='red'>{</font>
<a name='L540'>            Py_INCREF(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L541'>            <b>return</b> <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>;
<a name='L542'>        <font color='red'>}</font>
<a name='L543'>        Tcl_Free(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> argv);
<a name='L544'>        <b>if</b> (argc &gt; 1)
<a name='L545'>            <b>return</b> <a href='../S/2618.html#L450' title='Defined at 450 in Modules/_tkinter.c.'>Split</a>(<a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>));
<a name='L546'>        <i><font color='green'>/* Fall through, returning arg. */</font></i>
<a name='L547'>    <font color='red'>}</font>
<a name='L548'>    Py_INCREF(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L549'>    <b>return</b> <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>;
<a name='L550'><font color='red'>}</font>
<a name='L551'>
<a name='L552'>
<a name='L553'><i><font color='green'>/**** Tkapp Object ****/</font></i>
<a name='L554'>
<a name='L555'><font color='darkred'>#ifndef</font> WITH_APPINIT
<a name='L556'><b>int</b>
<a name='L557'><a href='../S/2618.html#L711' title='Refered from 711 in Modules/_tkinter.c.'>Tcl_AppInit</a>(Tcl_Interp *interp)
<a name='L558'><font color='red'>{</font>
<a name='L559'>    <b>const</b> <b>char</b> * _tkinter_skip_tk_init;
<a name='L560'>
<a name='L561'>    <b>if</b> (Tcl_Init(interp) == TCL_ERROR) <font color='red'>{</font>
<a name='L562'>        <a href='../D/3819.html' title='Multiple defined in 2 places.'>PySys_WriteStderr</a>("Tcl_Init error: %s\n", Tcl_GetStringResult(interp));
<a name='L563'>        <b>return</b> TCL_ERROR;
<a name='L564'>    <font color='red'>}</font>
<a name='L565'>
<a name='L566'>    _tkinter_skip_tk_init = Tcl_GetVar(interp,
<a name='L567'>                    "_tkinter_skip_tk_init", TCL_GLOBAL_ONLY);
<a name='L568'>    <b>if</b> (_tkinter_skip_tk_init != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L569'>                    strcmp(_tkinter_skip_tk_init, "1") == 0) <font color='red'>{</font>
<a name='L570'>        <b>return</b> TCL_OK;
<a name='L571'>    <font color='red'>}</font>
<a name='L572'>
<a name='L573'><font color='darkred'>#ifdef</font> <a href='../S/2722.html#L22' title='Defined at 22 in Modules/tkinter.h.'>TKINTER_PROTECT_LOADTK</a>
<a name='L574'>    <b>if</b> (tk_load_failed) <font color='red'>{</font>
<a name='L575'>        <a href='../D/3819.html' title='Multiple defined in 2 places.'>PySys_WriteStderr</a>("Tk_Init error: %s\n", <a href='../S/2722.html#L23' title='Defined at 23 in Modules/tkinter.h.'>TKINTER_LOADTK_ERRMSG</a>);
<a name='L576'>        <b>return</b> TCL_ERROR;
<a name='L577'>    <font color='red'>}</font>
<a name='L578'><font color='darkred'>#endif</font>
<a name='L579'>
<a name='L580'>    <b>if</b> (Tk_Init(interp) == TCL_ERROR) <font color='red'>{</font>
<a name='L581'><font color='darkred'>#ifdef</font> <a href='../S/2722.html#L22' title='Defined at 22 in Modules/tkinter.h.'>TKINTER_PROTECT_LOADTK</a>
<a name='L582'>        tk_load_failed = 1;
<a name='L583'><font color='darkred'>#endif</font>
<a name='L584'>        <a href='../D/3819.html' title='Multiple defined in 2 places.'>PySys_WriteStderr</a>("Tk_Init error: %s\n", Tcl_GetStringResult(interp));
<a name='L585'>        <b>return</b> TCL_ERROR;
<a name='L586'>    <font color='red'>}</font>
<a name='L587'>
<a name='L588'>    <b>return</b> TCL_OK;
<a name='L589'><font color='red'>}</font>
<a name='L590'><font color='darkred'>#endif</font> <i><font color='green'>/* !WITH_APPINIT */</font></i>
<a name='L591'>
<a name='L592'>
<a name='L593'>
<a name='L594'>
<a name='L595'><i><font color='green'>/* Initialize the Tk application; see the `main' function in</font></i>
<a name='L596'><i><font color='green'> * `tkMain.c'.</font></i>
<a name='L597'><i><font color='green'> */</font></i>
<a name='L598'>
<a name='L599'><b>static</b> <b>void</b> <a href='../S/2618.html#L3034' title='Defined at 3034 in Modules/_tkinter.c.'>EnableEventHook</a>(<b>void</b>); <i><font color='green'>/* Forward */</font></i>
<a name='L600'><b>static</b> <b>void</b> <a href='../S/2618.html#L3047' title='Defined at 3047 in Modules/_tkinter.c.'>DisableEventHook</a>(<b>void</b>); <i><font color='green'>/* Forward */</font></i>
<a name='L601'>
<a name='L602'><b>static</b> <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *
<a name='L603'><a href='../S/2618.html#L2906' title='Refered from 2906 in Modules/_tkinter.c.'>Tkapp_New</a>(<b>char</b> *screenName, <b>char</b> *className,
<a name='L604'>          <b>int</b> interactive, <b>int</b> wantobjects, <b>int</b> wantTk, <b>int</b> sync, <b>char</b> *use)
<a name='L605'><font color='red'>{</font>
<a name='L606'>    <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *v;
<a name='L607'>    <b>char</b> *argv0;
<a name='L608'>
<a name='L609'>    v = PyObject_New(<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>, &amp;Tkapp_Type);
<a name='L610'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L611'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L612'>
<a name='L613'>    v-&gt;interp = Tcl_CreateInterp();
<a name='L614'>    v-&gt;wantobjects = wantobjects;
<a name='L615'>    v-&gt;threaded = Tcl_GetVar2Ex(v-&gt;interp, "tcl_platform", "threaded",
<a name='L616'>                                TCL_GLOBAL_ONLY) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L617'>    v-&gt;thread_id = Tcl_GetCurrentThread();
<a name='L618'>    v-&gt;dispatching = 0;
<a name='L619'>
<a name='L620'><font color='darkred'>#ifndef</font> <a href='../S/2618.html#L60' title='Defined at 60 in Modules/_tkinter.c.'>TCL_THREADS</a>
<a name='L621'>    <b>if</b> (v-&gt;threaded) <font color='red'>{</font>
<a name='L622'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError, "Tcl is threaded but _tkinter is not");
<a name='L623'>        Py_DECREF(v);
<a name='L624'>        <b>return</b> 0;
<a name='L625'>    <font color='red'>}</font>
<a name='L626'><font color='darkred'>#endif</font>
<a name='L627'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L628'>    <b>if</b> (v-&gt;threaded &amp;&amp; tcl_lock) <font color='red'>{</font>
<a name='L629'>        <i><font color='green'>/* If Tcl is threaded, we don't need the lock. */</font></i>
<a name='L630'>        <a href='../D/3853.html' title='Multiple defined in 11 places.'>PyThread_free_lock</a>(tcl_lock);
<a name='L631'>        tcl_lock = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L632'>    <font color='red'>}</font>
<a name='L633'><font color='darkred'>#endif</font>
<a name='L634'>
<a name='L635'>    v-&gt;BooleanType = Tcl_GetObjType("boolean");
<a name='L636'>    v-&gt;ByteArrayType = Tcl_GetObjType("bytearray");
<a name='L637'>    v-&gt;DoubleType = Tcl_GetObjType("double");
<a name='L638'>    v-&gt;IntType = Tcl_GetObjType("int");
<a name='L639'>    v-&gt;ListType = Tcl_GetObjType("list");
<a name='L640'>    v-&gt;ProcBodyType = Tcl_GetObjType("procbody");
<a name='L641'>    v-&gt;StringType = Tcl_GetObjType("string");
<a name='L642'>
<a name='L643'>    <i><font color='green'>/* Delete the 'exit' command, which can screw things up */</font></i>
<a name='L644'>    Tcl_DeleteCommand(v-&gt;interp, "exit");
<a name='L645'>
<a name='L646'>    <b>if</b> (screenName != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L647'>        Tcl_SetVar2(v-&gt;interp, "env", "DISPLAY",
<a name='L648'>                    screenName, TCL_GLOBAL_ONLY);
<a name='L649'>
<a name='L650'>    <b>if</b> (interactive)
<a name='L651'>        Tcl_SetVar(v-&gt;interp, "tcl_interactive", "1", TCL_GLOBAL_ONLY);
<a name='L652'>    <b>else</b>
<a name='L653'>        Tcl_SetVar(v-&gt;interp, "tcl_interactive", "0", TCL_GLOBAL_ONLY);
<a name='L654'>
<a name='L655'>    <i><font color='green'>/* This is used to get the application class for Tk 4.1 and up */</font></i>
<a name='L656'>    argv0 = (<b>char</b>*)ckalloc(strlen(className) + 1);
<a name='L657'>    <b>if</b> (!argv0) <font color='red'>{</font>
<a name='L658'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L659'>        Py_DECREF(v);
<a name='L660'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L661'>    <font color='red'>}</font>
<a name='L662'>
<a name='L663'>    strcpy(argv0, className);
<a name='L664'>    <b>if</b> (<a href='../D/9347.html' title='Multiple defined in 2 places.'>isupper</a>(<a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(argv0[0])))
<a name='L665'>        argv0[0] = <a href='../D/11819.html' title='Multiple defined in 2 places.'>tolower</a>(<a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(argv0[0]));
<a name='L666'>    Tcl_SetVar(v-&gt;interp, "argv0", argv0, TCL_GLOBAL_ONLY);
<a name='L667'>    ckfree(argv0);
<a name='L668'>
<a name='L669'>    <b>if</b> (! wantTk) <font color='red'>{</font>
<a name='L670'>        Tcl_SetVar(v-&gt;interp,
<a name='L671'>                        "_tkinter_skip_tk_init", "1", TCL_GLOBAL_ONLY);
<a name='L672'>    <font color='red'>}</font>
<a name='L673'><font color='darkred'>#ifdef</font> <a href='../S/2722.html#L22' title='Defined at 22 in Modules/tkinter.h.'>TKINTER_PROTECT_LOADTK</a>
<a name='L674'>    <b>else</b> <b>if</b> (tk_load_failed) <font color='red'>{</font>
<a name='L675'>        Tcl_SetVar(v-&gt;interp,
<a name='L676'>                        "_tkinter_tk_failed", "1", TCL_GLOBAL_ONLY);
<a name='L677'>    <font color='red'>}</font>
<a name='L678'><font color='darkred'>#endif</font>
<a name='L679'>
<a name='L680'>    <i><font color='green'>/* some initial arguments need to be in argv */</font></i>
<a name='L681'>    <b>if</b> (sync || use) <font color='red'>{</font>
<a name='L682'>        <b>char</b> *<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L683'>        <b>int</b> len = 0;
<a name='L684'>
<a name='L685'>        <b>if</b> (sync)
<a name='L686'>            len += <b>sizeof</b> "-sync";
<a name='L687'>        <b>if</b> (use)
<a name='L688'>            len += strlen(use) + <b>sizeof</b> "-use ";
<a name='L689'>
<a name='L690'>        <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = (<b>char</b>*)ckalloc(len);
<a name='L691'>        <b>if</b> (!<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) <font color='red'>{</font>
<a name='L692'>            <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L693'>            Py_DECREF(v);
<a name='L694'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L695'>        <font color='red'>}</font>
<a name='L696'>
<a name='L697'>        <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>[0] = '\0';
<a name='L698'>        <b>if</b> (sync)
<a name='L699'>            strcat(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "-sync");
<a name='L700'>        <b>if</b> (use) <font color='red'>{</font>
<a name='L701'>            <b>if</b> (sync)
<a name='L702'>                strcat(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, " ");
<a name='L703'>            strcat(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "-use ");
<a name='L704'>            strcat(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, use);
<a name='L705'>        <font color='red'>}</font>
<a name='L706'>
<a name='L707'>        Tcl_SetVar(v-&gt;interp, "argv", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, TCL_GLOBAL_ONLY);
<a name='L708'>        ckfree(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L709'>    <font color='red'>}</font>
<a name='L710'>
<a name='L711'>    <b>if</b> (<a href='../D/5246.html' title='Multiple defined in 2 places.'>Tcl_AppInit</a>(v-&gt;interp) != TCL_OK) <font color='red'>{</font>
<a name='L712'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)v);
<a name='L713'><font color='darkred'>#ifdef</font> <a href='../S/2722.html#L22' title='Defined at 22 in Modules/tkinter.h.'>TKINTER_PROTECT_LOADTK</a>
<a name='L714'>        <b>if</b> (wantTk) <font color='red'>{</font>
<a name='L715'>            <b>const</b> <b>char</b> *_tkinter_tk_failed;
<a name='L716'>            _tkinter_tk_failed = Tcl_GetVar(v-&gt;interp,
<a name='L717'>                            "_tkinter_tk_failed", TCL_GLOBAL_ONLY);
<a name='L718'>
<a name='L719'>            <b>if</b> ( _tkinter_tk_failed != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L720'>                            strcmp(_tkinter_tk_failed, "1") == 0) <font color='red'>{</font>
<a name='L721'>                tk_load_failed = 1;
<a name='L722'>            <font color='red'>}</font>
<a name='L723'>        <font color='red'>}</font>
<a name='L724'><font color='darkred'>#endif</font>
<a name='L725'>        Py_DECREF((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)v);
<a name='L726'>        <b>return</b> (<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *)<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L727'>    <font color='red'>}</font>
<a name='L728'>
<a name='L729'>    <a href='../S/2618.html#L3034' title='Defined at 3034 in Modules/_tkinter.c.'>EnableEventHook</a>();
<a name='L730'>
<a name='L731'>    <b>return</b> v;
<a name='L732'><font color='red'>}</font>
<a name='L733'>
<a name='L734'>
<a name='L735'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L736'><b>static</b> <b>void</b>
<a name='L737'><a href='../R/4679.html' title='Multiple refered from 4 places.'>Tkapp_ThreadSend</a>(TkappObject *self, Tcl_Event *ev,
<a name='L738'>                 Tcl_Condition *cond, Tcl_Mutex *mutex)
<a name='L739'><font color='red'>{</font>
<a name='L740'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>;
<a name='L741'>    Tcl_MutexLock(mutex);
<a name='L742'>    Tcl_ThreadQueueEvent(self-&gt;thread_id, ev, TCL_QUEUE_TAIL);
<a name='L743'>    Tcl_ThreadAlert(self-&gt;thread_id);
<a name='L744'>    Tcl_ConditionWait(cond, mutex, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L745'>    Tcl_MutexUnlock(mutex);
<a name='L746'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L747'><font color='red'>}</font>
<a name='L748'><font color='darkred'>#endif</font>
<a name='L749'>
<a name='L750'>
<a name='L751'><i><font color='green'>/** Tcl Eval **/</font></i>
<a name='L752'>
<a name='L753'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L754'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L755'>    Tcl_Obj *<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L756'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>; <i><font color='green'>/* This cannot cause cycles. */</font></i>
<a name='L757'><font color='red'>}</font> <a href='../R/3429.html' title='Multiple refered from 7 places.'>PyTclObject</a>;
<a name='L758'>
<a name='L759'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyTclObject_Type;
<a name='L760'><font color='darkred'>#define</font> <a href='../R/3430.html' title='Multiple refered from 3 places.'>PyTclObject_Check</a>(v)    ((v)-&gt;ob_type == &amp;PyTclObject_Type)
<a name='L761'>
<a name='L762'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L763'><a href='../S/2618.html#L1112' title='Refered from 1112 in Modules/_tkinter.c.'>newPyTclObject</a>(Tcl_Obj *arg)
<a name='L764'><font color='red'>{</font>
<a name='L765'>    <a href='../S/2618.html#L757' title='Defined at 757 in Modules/_tkinter.c.'>PyTclObject</a> *self;
<a name='L766'>    self = PyObject_New(<a href='../S/2618.html#L757' title='Defined at 757 in Modules/_tkinter.c.'>PyTclObject</a>, &amp;PyTclObject_Type);
<a name='L767'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L768'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L769'>    Tcl_IncrRefCount(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L770'>    self-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>;
<a name='L771'>    self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L772'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)self;
<a name='L773'><font color='red'>}</font>
<a name='L774'>
<a name='L775'><b>static</b> <b>void</b>
<a name='L776'><a href='../S/2618.html#L906' title='Refered from 906 in Modules/_tkinter.c.'>PyTclObject_dealloc</a>(PyTclObject *self)
<a name='L777'><font color='red'>{</font>
<a name='L778'>    Tcl_DecrRefCount(self-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L779'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>);
<a name='L780'>    PyObject_Del(self);
<a name='L781'><font color='red'>}</font>
<a name='L782'>
<a name='L783'><b>static</b> <b>char</b>*
<a name='L784'><a href='../S/2618.html#L1524' title='Refered from 1524 in Modules/_tkinter.c.'>PyTclObject_TclString</a>(PyObject *self)
<a name='L785'><font color='red'>{</font>
<a name='L786'>    <b>return</b> Tcl_GetString(((<a href='../S/2618.html#L757' title='Defined at 757 in Modules/_tkinter.c.'>PyTclObject</a>*)self)-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L787'><font color='red'>}</font>
<a name='L788'>
<a name='L789'><i><font color='green'>/* Like _str, but create Unicode if necessary. */</font></i>
<a name='L790'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(PyTclObject_string__doc__,
<a name='L791'>"the string representation of this object, either as str or bytes");
<a name='L792'>
<a name='L793'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L794'><a href='../S/2618.html#L895' title='Refered from 895 in Modules/_tkinter.c.'>PyTclObject_string</a>(PyTclObject *self, <b>void</b> *ignored)
<a name='L795'><font color='red'>{</font>
<a name='L796'>    <b>char</b> *s;
<a name='L797'>    <b>int</b> len;
<a name='L798'>    <b>if</b> (!self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>) <font color='red'>{</font>
<a name='L799'>        s = Tcl_GetStringFromObj(self-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;len);
<a name='L800'>        self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a> = <a href='../D/4013.html' title='Multiple defined in 3 places.'>PyUnicode_FromStringAndSize</a>(s, len);
<a name='L801'>        <b>if</b> (!self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>)
<a name='L802'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L803'>    <font color='red'>}</font>
<a name='L804'>    Py_INCREF(self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>);
<a name='L805'>    <b>return</b> self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>;
<a name='L806'><font color='red'>}</font>
<a name='L807'>
<a name='L808'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L809'><a href='../S/2618.html#L917' title='Refered from 917 in Modules/_tkinter.c.'>PyTclObject_str</a>(PyTclObject *self, <b>void</b> *ignored)
<a name='L810'><font color='red'>{</font>
<a name='L811'>    <b>char</b> *s;
<a name='L812'>    <b>int</b> len;
<a name='L813'>    <b>if</b> (self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a> &amp;&amp; PyUnicode_Check(self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>)) <font color='red'>{</font>
<a name='L814'>        Py_INCREF(self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>);
<a name='L815'>        <b>return</b> self-&gt;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>;
<a name='L816'>    <font color='red'>}</font>
<a name='L817'>    <i><font color='green'>/* XXX Could chache result if it is non-ASCII. */</font></i>
<a name='L818'>    s = Tcl_GetStringFromObj(self-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;len);
<a name='L819'>    <b>return</b> <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(s, len, "strict");
<a name='L820'><font color='red'>}</font>
<a name='L821'>
<a name='L822'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L823'><a href='../S/2618.html#L911' title='Refered from 911 in Modules/_tkinter.c.'>PyTclObject_repr</a>(PyTclObject *self)
<a name='L824'><font color='red'>{</font>
<a name='L825'>    <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("&lt;%s object at %p&gt;",
<a name='L826'>                                self-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr-&gt;name, self-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L827'><font color='red'>}</font>
<a name='L828'>
<a name='L829'><font color='darkred'>#define</font> <a href='../R/4531.html' title='Multiple refered from 36 places.'>TEST_COND</a>(cond) ((cond) ? Py_True : Py_False)
<a name='L830'>
<a name='L831'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L832'><a href='../S/2618.html#L925' title='Refered from 925 in Modules/_tkinter.c.'>PyTclObject_richcompare</a>(PyObject *self, PyObject *other, <b>int</b> op)
<a name='L833'><font color='red'>{</font>
<a name='L834'>    <b>int</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L835'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L836'>
<a name='L837'>    <i><font color='green'>/* neither argument should be NULL, unless something's gone wrong */</font></i>
<a name='L838'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L839'>        <a href='../D/3142.html' title='Multiple defined in 3 places.'>PyErr_BadInternalCall</a>();
<a name='L840'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L841'>    <font color='red'>}</font>
<a name='L842'>
<a name='L843'>    <i><font color='green'>/* both arguments should be instances of PyTclObject */</font></i>
<a name='L844'>    <b>if</b> (!<a href='../S/2618.html#L760' title='Defined at 760 in Modules/_tkinter.c.'>PyTclObject_Check</a>(self) || !<a href='../S/2618.html#L760' title='Defined at 760 in Modules/_tkinter.c.'>PyTclObject_Check</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)) <font color='red'>{</font>
<a name='L845'>        v = Py_NotImplemented;
<a name='L846'>        <b>goto</b> finished;
<a name='L847'>    <font color='red'>}</font>
<a name='L848'>
<a name='L849'>    <b>if</b> (self == <a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)
<a name='L850'>        <i><font color='green'>/* fast path when self and other are identical */</font></i>
<a name='L851'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = 0;
<a name='L852'>    <b>else</b>
<a name='L853'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = strcmp(Tcl_GetString(((<a href='../S/2618.html#L757' title='Defined at 757 in Modules/_tkinter.c.'>PyTclObject</a> *)self)-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>),
<a name='L854'>                        Tcl_GetString(((<a href='../S/2618.html#L757' title='Defined at 757 in Modules/_tkinter.c.'>PyTclObject</a> *)<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>));
<a name='L855'>    <i><font color='green'>/* Convert return value to a Boolean */</font></i>
<a name='L856'>    <b>switch</b> (op) <font color='red'>{</font>
<a name='L857'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>:
<a name='L858'>        v = <a href='../D/5140.html' title='Multiple defined in 6 places.'>TEST_COND</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == 0);
<a name='L859'>        <b>break</b>;
<a name='L860'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_NE</a>:
<a name='L861'>        v = <a href='../D/5140.html' title='Multiple defined in 6 places.'>TEST_COND</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> != 0);
<a name='L862'>        <b>break</b>;
<a name='L863'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_LE</a>:
<a name='L864'>        v = <a href='../D/5140.html' title='Multiple defined in 6 places.'>TEST_COND</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> &lt;= 0);
<a name='L865'>        <b>break</b>;
<a name='L866'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_GE</a>:
<a name='L867'>        v = <a href='../D/5140.html' title='Multiple defined in 6 places.'>TEST_COND</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> &gt;= 0);
<a name='L868'>        <b>break</b>;
<a name='L869'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_LT</a>:
<a name='L870'>        v = <a href='../D/5140.html' title='Multiple defined in 6 places.'>TEST_COND</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> &lt; 0);
<a name='L871'>        <b>break</b>;
<a name='L872'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_GT</a>:
<a name='L873'>        v = <a href='../D/5140.html' title='Multiple defined in 6 places.'>TEST_COND</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> &gt; 0);
<a name='L874'>        <b>break</b>;
<a name='L875'>    <b>default</b>:
<a name='L876'>        <a href='../S/3106.html#L326' title='Defined at 326 in Python/errors.c.'>PyErr_BadArgument</a>();
<a name='L877'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L878'>    <font color='red'>}</font>
<a name='L879'>  finished:
<a name='L880'>    Py_INCREF(v);
<a name='L881'>    <b>return</b> v;
<a name='L882'><font color='red'>}</font>
<a name='L883'>
<a name='L884'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(get_typename__doc__, "name of the Tcl type");
<a name='L885'>
<a name='L886'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L887'><a href='../S/2618.html#L894' title='Refered from 894 in Modules/_tkinter.c.'>get_typename</a>(PyTclObject* obj, <b>void</b>* ignored)
<a name='L888'><font color='red'>{</font>
<a name='L889'>    <b>return</b> <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(obj-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr-&gt;name);
<a name='L890'><font color='red'>}</font>
<a name='L891'>
<a name='L892'>
<a name='L893'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> PyTclObject_getsetlist[] = <font color='red'>{</font>
<a name='L894'>    <font color='red'>{</font>"typename", (getter)<a href='../S/2618.html#L887' title='Defined at 887 in Modules/_tkinter.c.'>get_typename</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, get_typename__doc__<font color='red'>}</font>,
<a name='L895'>    <font color='red'>{</font>"string", (getter)<a href='../S/2618.html#L794' title='Defined at 794 in Modules/_tkinter.c.'>PyTclObject_string</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L896'>     PyTclObject_string__doc__<font color='red'>}</font>,
<a name='L897'>    <font color='red'>{</font>0<font color='red'>}</font>,
<a name='L898'><font color='red'>}</font>;
<a name='L899'>
<a name='L900'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyTclObject_Type = <font color='red'>{</font>
<a name='L901'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L902'>    "_tkinter.Tcl_Obj",                 <i><font color='green'>/*tp_name*/</font></i>
<a name='L903'>    <b>sizeof</b>(<a href='../S/2618.html#L757' title='Defined at 757 in Modules/_tkinter.c.'>PyTclObject</a>),                <i><font color='green'>/*tp_basicsize*/</font></i>
<a name='L904'>    0,                                  <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L905'>    <i><font color='green'>/* methods */</font></i>
<a name='L906'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2618.html#L776' title='Defined at 776 in Modules/_tkinter.c.'>PyTclObject_dealloc</a>,<i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L907'>    0,                                  <i><font color='green'>/*tp_print*/</font></i>
<a name='L908'>    0,                                  <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L909'>    0,                                  <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L910'>    0,                                  <i><font color='green'>/*tp_reserved*/</font></i>
<a name='L911'>    (reprfunc)<a href='../S/2618.html#L823' title='Defined at 823 in Modules/_tkinter.c.'>PyTclObject_repr</a>,         <i><font color='green'>/*tp_repr*/</font></i>
<a name='L912'>    0,                                  <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L913'>    0,                                  <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L914'>    0,                                  <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L915'>    0,                                  <i><font color='green'>/*tp_hash*/</font></i>
<a name='L916'>    0,                                  <i><font color='green'>/*tp_call*/</font></i>
<a name='L917'>    (reprfunc)<a href='../S/2618.html#L809' title='Defined at 809 in Modules/_tkinter.c.'>PyTclObject_str</a>,          <i><font color='green'>/*tp_str*/</font></i>
<a name='L918'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,            <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L919'>    0,                                  <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L920'>    0,                                  <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L921'>    Py_TPFLAGS_DEFAULT,                 <i><font color='green'>/*tp_flags*/</font></i>
<a name='L922'>    0,                                  <i><font color='green'>/*tp_doc*/</font></i>
<a name='L923'>    0,                                  <i><font color='green'>/*tp_traverse*/</font></i>
<a name='L924'>    0,                                  <i><font color='green'>/*tp_clear*/</font></i>
<a name='L925'>    <a href='../S/2618.html#L832' title='Defined at 832 in Modules/_tkinter.c.'>PyTclObject_richcompare</a>,            <i><font color='green'>/*tp_richcompare*/</font></i>
<a name='L926'>    0,                                  <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L927'>    0,                                  <i><font color='green'>/*tp_iter*/</font></i>
<a name='L928'>    0,                                  <i><font color='green'>/*tp_iternext*/</font></i>
<a name='L929'>    0,                                  <i><font color='green'>/*tp_methods*/</font></i>
<a name='L930'>    0,                                  <i><font color='green'>/*tp_members*/</font></i>
<a name='L931'>    PyTclObject_getsetlist,             <i><font color='green'>/*tp_getset*/</font></i>
<a name='L932'>    0,                                  <i><font color='green'>/*tp_base*/</font></i>
<a name='L933'>    0,                                  <i><font color='green'>/*tp_dict*/</font></i>
<a name='L934'>    0,                                  <i><font color='green'>/*tp_descr_get*/</font></i>
<a name='L935'>    0,                                  <i><font color='green'>/*tp_descr_set*/</font></i>
<a name='L936'>    0,                                  <i><font color='green'>/*tp_dictoffset*/</font></i>
<a name='L937'>    0,                                  <i><font color='green'>/*tp_init*/</font></i>
<a name='L938'>    0,                                  <i><font color='green'>/*tp_alloc*/</font></i>
<a name='L939'>    0,                                  <i><font color='green'>/*tp_new*/</font></i>
<a name='L940'>    0,                                  <i><font color='green'>/*tp_free*/</font></i>
<a name='L941'>    0,                                  <i><font color='green'>/*tp_is_gc*/</font></i>
<a name='L942'><font color='red'>}</font>;
<a name='L943'>
<a name='L944'><b>static</b> Tcl_Obj*
<a name='L945'><a href='../R/194.html' title='Multiple refered from 7 places.'>AsObj</a>(PyObject *value)
<a name='L946'><font color='red'>{</font>
<a name='L947'>    Tcl_Obj *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L948'>    <b>long</b> longVal;
<a name='L949'>    <b>int</b> <a href='../S/2674.html#L167' title='Defined at 167 in Modules/fpetestmodule.c.'>overflow</a>;
<a name='L950'>
<a name='L951'>    <b>if</b> (PyBytes_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>))
<a name='L952'>        <b>return</b> Tcl_NewStringObj(PyBytes_AS_STRING(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>),
<a name='L953'>                                PyBytes_GET_SIZE(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>));
<a name='L954'>    <b>else</b> <b>if</b> (<a href='../S/2618.html#L46' title='Defined at 46 in Modules/_tkinter.c.'>PyBool_Check</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>))
<a name='L955'>        <b>return</b> Tcl_NewBooleanObj(<a href='../S/2803.html#L1140' title='Defined at 1140 in Objects/object.c.'>PyObject_IsTrue</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>));
<a name='L956'>    <b>else</b> <b>if</b> (PyLong_CheckExact(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) &amp;&amp;
<a name='L957'>             ((longVal = <a href='../S/2799.html#L329' title='Defined at 329 in Objects/longobject.c.'>PyLong_AsLongAndOverflow</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;<a href='../S/2674.html#L167' title='Defined at 167 in Modules/fpetestmodule.c.'>overflow</a>)),
<a name='L958'>              !<a href='../S/2674.html#L167' title='Defined at 167 in Modules/fpetestmodule.c.'>overflow</a>)) <font color='red'>{</font>
<a name='L959'>        <i><font color='green'>/* If there is an overflow in the long conversion,</font></i>
<a name='L960'><i><font color='green'>           fall through to default object handling. */</font></i>
<a name='L961'>        <b>return</b> Tcl_NewLongObj(longVal);
<a name='L962'>    <font color='red'>}</font>
<a name='L963'>    <b>else</b> <b>if</b> (PyFloat_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>))
<a name='L964'>        <b>return</b> Tcl_NewDoubleObj(PyFloat_AS_DOUBLE(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>));
<a name='L965'>    <b>else</b> <b>if</b> (PyTuple_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L966'>        Tcl_Obj **argv = (Tcl_Obj**)
<a name='L967'>            ckalloc(<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)*<b>sizeof</b>(Tcl_Obj*));
<a name='L968'>        <b>int</b> i;
<a name='L969'>        <b>if</b>(!argv)
<a name='L970'>          <b>return</b> 0;
<a name='L971'>        <b>for</b>(i=0;i&lt;<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);i++)
<a name='L972'>          argv[i] = <a href='../S/2618.html#L945' title='Defined at 945 in Modules/_tkinter.c.'>AsObj</a>(<a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>,i));
<a name='L973'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Tcl_NewListObj(<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>), argv);
<a name='L974'>        ckfree(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> argv);
<a name='L975'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L976'>    <font color='red'>}</font>
<a name='L977'>    <b>else</b> <b>if</b> (PyUnicode_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L978'>        <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *inbuf = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L979'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size = <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L980'>        <i><font color='green'>/* This #ifdef assumes that Tcl uses UCS-2.</font></i>
<a name='L981'><i><font color='green'>           See TCL_UTF_MAX test above. */</font></i>
<a name='L982'><font color='darkred'>#if</font> <b>defined</b>(<a href='../S/587.html#L79' title='Defined at 79 in Include/unicodeobject.h.'>Py_UNICODE_WIDE</a>) &amp;&amp; TCL_UTF_MAX == 3
<a name='L983'>        Tcl_UniChar *outbuf = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L984'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L985'>        <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> allocsize = ((<a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a>)size) * <b>sizeof</b>(Tcl_UniChar);
<a name='L986'>        <b>if</b> (allocsize &gt;= size)
<a name='L987'>            outbuf = (Tcl_UniChar*)ckalloc(allocsize);
<a name='L988'>        <i><font color='green'>/* Else overflow occurred, and we take the next exit */</font></i>
<a name='L989'>        <b>if</b> (!outbuf) <font color='red'>{</font>
<a name='L990'>            <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L991'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L992'>        <font color='red'>}</font>
<a name='L993'>        <b>for</b> (i = 0; i &lt; size; i++) <font color='red'>{</font>
<a name='L994'>            <b>if</b> (inbuf[i] &gt;= 0x10000) <font color='red'>{</font>
<a name='L995'>                <i><font color='green'>/* Tcl doesn't do UTF-16, yet. */</font></i>
<a name='L996'>                <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L997'>                                "unsupported character");
<a name='L998'>                ckfree(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> outbuf);
<a name='L999'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1000'>            <font color='red'>}</font>
<a name='L1001'>            outbuf[i] = inbuf[i];
<a name='L1002'>        <font color='red'>}</font>
<a name='L1003'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Tcl_NewUnicodeObj(outbuf, size);
<a name='L1004'>        ckfree(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> outbuf);
<a name='L1005'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1006'><font color='darkred'>#else</font>
<a name='L1007'>        <b>return</b> Tcl_NewUnicodeObj(inbuf, size);
<a name='L1008'><font color='darkred'>#endif</font>
<a name='L1009'>
<a name='L1010'>    <font color='red'>}</font>
<a name='L1011'>    <b>else</b> <b>if</b>(<a href='../S/2618.html#L760' title='Defined at 760 in Modules/_tkinter.c.'>PyTclObject_Check</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L1012'>        Tcl_Obj *v = ((<a href='../S/2618.html#L757' title='Defined at 757 in Modules/_tkinter.c.'>PyTclObject</a>*)<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)-&gt;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L1013'>        Tcl_IncrRefCount(v);
<a name='L1014'>        <b>return</b> v;
<a name='L1015'>    <font color='red'>}</font>
<a name='L1016'>    <b>else</b> <font color='red'>{</font>
<a name='L1017'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v = <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1018'>        <b>if</b> (!v)
<a name='L1019'>            <b>return</b> 0;
<a name='L1020'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2618.html#L945' title='Defined at 945 in Modules/_tkinter.c.'>AsObj</a>(v);
<a name='L1021'>        Py_DECREF(v);
<a name='L1022'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1023'>    <font color='red'>}</font>
<a name='L1024'><font color='red'>}</font>
<a name='L1025'>
<a name='L1026'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1027'><a href='../R/1218.html' title='Multiple refered from 3 places.'>FromObj</a>(PyObject* tkapp, Tcl_Obj *value)
<a name='L1028'><font color='red'>{</font>
<a name='L1029'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1030'>    <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *app = (<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)tkapp;
<a name='L1031'>
<a name='L1032'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1033'>        <b>return</b> <a href='../D/4013.html' title='Multiple defined in 3 places.'>PyUnicode_FromStringAndSize</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;<a href='../D/7205.html' title='Multiple defined in 2 places.'>bytes</a>,
<a name='L1034'>                                           <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;length);
<a name='L1035'>    <font color='red'>}</font>
<a name='L1036'>
<a name='L1037'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr == app-&gt;BooleanType) <font color='red'>{</font>
<a name='L1038'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;internalRep.longValue ? Py_True : Py_False;
<a name='L1039'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1040'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1041'>    <font color='red'>}</font>
<a name='L1042'>
<a name='L1043'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr == app-&gt;ByteArrayType) <font color='red'>{</font>
<a name='L1044'>        <b>int</b> size;
<a name='L1045'>        <b>char</b> *data = (<b>char</b>*)Tcl_GetByteArrayFromObj(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;size);
<a name='L1046'>        <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(data, size);
<a name='L1047'>    <font color='red'>}</font>
<a name='L1048'>
<a name='L1049'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr == app-&gt;DoubleType) <font color='red'>{</font>
<a name='L1050'>        <b>return</b> <a href='../S/2791.html#L157' title='Defined at 157 in Objects/floatobject.c.'>PyFloat_FromDouble</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;internalRep.doubleValue);
<a name='L1051'>    <font color='red'>}</font>
<a name='L1052'>
<a name='L1053'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr == app-&gt;IntType) <font color='red'>{</font>
<a name='L1054'>        <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;internalRep.longValue);
<a name='L1055'>    <font color='red'>}</font>
<a name='L1056'>
<a name='L1057'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr == app-&gt;ListType) <font color='red'>{</font>
<a name='L1058'>        <b>int</b> size;
<a name='L1059'>        <b>int</b> i, status;
<a name='L1060'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *elem;
<a name='L1061'>        Tcl_Obj *tcl_elem;
<a name='L1062'>
<a name='L1063'>        status = Tcl_ListObjLength(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(tkapp), <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;size);
<a name='L1064'>        <b>if</b> (status == TCL_ERROR)
<a name='L1065'>            <b>return</b> <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(tkapp);
<a name='L1066'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(size);
<a name='L1067'>        <b>if</b> (!<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L1068'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1069'>        <b>for</b> (i = 0; i &lt; size; i++) <font color='red'>{</font>
<a name='L1070'>            status = Tcl_ListObjIndex(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(tkapp),
<a name='L1071'>                                      <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, i, &amp;tcl_elem);
<a name='L1072'>            <b>if</b> (status == TCL_ERROR) <font color='red'>{</font>
<a name='L1073'>                Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1074'>                <b>return</b> <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(tkapp);
<a name='L1075'>            <font color='red'>}</font>
<a name='L1076'>            elem = <a href='../S/2618.html#L1027' title='Defined at 1027 in Modules/_tkinter.c.'>FromObj</a>(tkapp, tcl_elem);
<a name='L1077'>            <b>if</b> (!elem) <font color='red'>{</font>
<a name='L1078'>                Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1079'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1080'>            <font color='red'>}</font>
<a name='L1081'>            <a href='../S/2823.html#L137' title='Defined at 137 in Objects/tupleobject.c.'>PyTuple_SetItem</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, i, elem);
<a name='L1082'>        <font color='red'>}</font>
<a name='L1083'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1084'>    <font color='red'>}</font>
<a name='L1085'>
<a name='L1086'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr == app-&gt;ProcBodyType) <font color='red'>{</font>
<a name='L1087'>      <i><font color='green'>/* fall through: return tcl object. */</font></i>
<a name='L1088'>    <font color='red'>}</font>
<a name='L1089'>
<a name='L1090'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;typePtr == app-&gt;StringType) <font color='red'>{</font>
<a name='L1091'><font color='darkred'>#if</font> <b>defined</b>(<a href='../S/587.html#L79' title='Defined at 79 in Include/unicodeobject.h.'>Py_UNICODE_WIDE</a>) &amp;&amp; TCL_UTF_MAX==3
<a name='L1092'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1093'>        <b>int</b> size;
<a name='L1094'>        Tcl_UniChar *input;
<a name='L1095'>        <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *output;
<a name='L1096'>
<a name='L1097'>        size = Tcl_GetCharLength(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1098'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, size);
<a name='L1099'>        <b>if</b> (!<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L1100'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1101'>        input = Tcl_GetUnicode(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1102'>        output = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1103'>        <b>while</b> (size--)
<a name='L1104'>            *output++ = *input++;
<a name='L1105'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1106'><font color='darkred'>#else</font>
<a name='L1107'>        <b>return</b> <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(Tcl_GetUnicode(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>),
<a name='L1108'>                                     Tcl_GetCharLength(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>));
<a name='L1109'><font color='darkred'>#endif</font>
<a name='L1110'>    <font color='red'>}</font>
<a name='L1111'>
<a name='L1112'>    <b>return</b> <a href='../S/2618.html#L763' title='Defined at 763 in Modules/_tkinter.c.'>newPyTclObject</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1113'><font color='red'>}</font>
<a name='L1114'>
<a name='L1115'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L1116'><i><font color='green'>/* This mutex synchronizes inter-thread command calls. */</font></i>
<a name='L1117'>TCL_DECLARE_MUTEX(call_mutex)
<a name='L1118'>
<a name='L1119'><b>typedef</b> <b>struct</b> Tkapp_CallEvent <font color='red'>{</font>
<a name='L1120'>    Tcl_Event ev;            <i><font color='green'>/* Must be first */</font></i>
<a name='L1121'>    <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *self;
<a name='L1122'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L1123'>    <b>int</b> <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>;
<a name='L1124'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> **res;
<a name='L1125'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> **exc_type, **exc_value, **exc_tb;
<a name='L1126'>    Tcl_Condition *done;
<a name='L1127'><font color='red'>}</font> Tkapp_CallEvent;
<a name='L1128'><font color='darkred'>#endif</font>
<a name='L1129'>
<a name='L1130'><b>void</b>
<a name='L1131'><a href='../R/4642.html' title='Multiple refered from 3 places.'>Tkapp_CallDeallocArgs</a>(Tcl_Obj** objv, Tcl_Obj** objStore, <b>int</b> objc)
<a name='L1132'><font color='red'>{</font>
<a name='L1133'>    <b>int</b> i;
<a name='L1134'>    <b>for</b> (i = 0; i &lt; objc; i++)
<a name='L1135'>        Tcl_DecrRefCount(objv[i]);
<a name='L1136'>    <b>if</b> (objv != objStore)
<a name='L1137'>        ckfree(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> objv);
<a name='L1138'><font color='red'>}</font>
<a name='L1139'>
<a name='L1140'><i><font color='green'>/* Convert Python objects to Tcl objects. This must happen in the</font></i>
<a name='L1141'><i><font color='green'>   interpreter thread, which may or may not be the calling thread. */</font></i>
<a name='L1142'>
<a name='L1143'><b>static</b> Tcl_Obj**
<a name='L1144'><a href='../R/4641.html' title='Multiple refered from 2 places.'>Tkapp_CallArgs</a>(PyObject *args, Tcl_Obj** objStore, <b>int</b> *pobjc)
<a name='L1145'><font color='red'>{</font>
<a name='L1146'>    Tcl_Obj **objv = objStore;
<a name='L1147'>    <b>int</b> objc = 0, i;
<a name='L1148'>    <b>if</b> (<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1149'>        <i><font color='green'>/* do nothing */</font></i>;
<a name='L1150'>
<a name='L1151'>    <b>else</b> <b>if</b> (!PyTuple_Check(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>)) <font color='red'>{</font>
<a name='L1152'>        objv[0] = <a href='../S/2618.html#L945' title='Defined at 945 in Modules/_tkinter.c.'>AsObj</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1153'>        <b>if</b> (objv[0] == 0)
<a name='L1154'>            <b>goto</b> finally;
<a name='L1155'>        objc = 1;
<a name='L1156'>        Tcl_IncrRefCount(objv[0]);
<a name='L1157'>    <font color='red'>}</font>
<a name='L1158'>    <b>else</b> <font color='red'>{</font>
<a name='L1159'>        objc = <a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1160'>
<a name='L1161'>        <b>if</b> (objc &gt; <a href='../S/2618.html#L369' title='Defined at 369 in Modules/_tkinter.c.'>ARGSZ</a>) <font color='red'>{</font>
<a name='L1162'>            objv = (Tcl_Obj **)ckalloc(objc * <b>sizeof</b>(<b>char</b> *));
<a name='L1163'>            <b>if</b> (objv == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1164'>                <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L1165'>                objc = 0;
<a name='L1166'>                <b>goto</b> finally;
<a name='L1167'>            <font color='red'>}</font>
<a name='L1168'>        <font color='red'>}</font>
<a name='L1169'>
<a name='L1170'>        <b>for</b> (i = 0; i &lt; objc; i++) <font color='red'>{</font>
<a name='L1171'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, i);
<a name='L1172'>            <b>if</b> (v == Py_None) <font color='red'>{</font>
<a name='L1173'>                objc = i;
<a name='L1174'>                <b>break</b>;
<a name='L1175'>            <font color='red'>}</font>
<a name='L1176'>            objv[i] = <a href='../S/2618.html#L945' title='Defined at 945 in Modules/_tkinter.c.'>AsObj</a>(v);
<a name='L1177'>            <b>if</b> (!objv[i]) <font color='red'>{</font>
<a name='L1178'>                <i><font color='green'>/* Reset objc, so it attempts to clear</font></i>
<a name='L1179'><i><font color='green'>                   objects only up to i. */</font></i>
<a name='L1180'>                objc = i;
<a name='L1181'>                <b>goto</b> finally;
<a name='L1182'>            <font color='red'>}</font>
<a name='L1183'>            Tcl_IncrRefCount(objv[i]);
<a name='L1184'>        <font color='red'>}</font>
<a name='L1185'>    <font color='red'>}</font>
<a name='L1186'>    *pobjc = objc;
<a name='L1187'>    <b>return</b> objv;
<a name='L1188'>finally:
<a name='L1189'>    <a href='../S/2618.html#L1131' title='Defined at 1131 in Modules/_tkinter.c.'>Tkapp_CallDeallocArgs</a>(objv, objStore, objc);
<a name='L1190'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1191'><font color='red'>}</font>
<a name='L1192'>
<a name='L1193'><i><font color='green'>/* Convert the results of a command call into a Python objects. */</font></i>
<a name='L1194'>
<a name='L1195'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1196'><a href='../R/4644.html' title='Multiple refered from 2 places.'>Tkapp_CallResult</a>(TkappObject *self)
<a name='L1197'><font color='red'>{</font>
<a name='L1198'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1199'>    <b>if</b>(self-&gt;wantobjects) <font color='red'>{</font>
<a name='L1200'>        Tcl_Obj *<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = Tcl_GetObjResult(self-&gt;interp);
<a name='L1201'>        <i><font color='green'>/* Not sure whether the IncrRef is necessary, but something</font></i>
<a name='L1202'><i><font color='green'>           may overwrite the interpreter result while we are</font></i>
<a name='L1203'><i><font color='green'>           converting it. */</font></i>
<a name='L1204'>        Tcl_IncrRefCount(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1205'>        res = <a href='../S/2618.html#L1027' title='Defined at 1027 in Modules/_tkinter.c.'>FromObj</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)self, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1206'>        Tcl_DecrRefCount(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1207'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1208'>        <b>const</b> <b>char</b> *s = Tcl_GetStringResult(self-&gt;interp);
<a name='L1209'>        <b>const</b> <b>char</b> *p = s;
<a name='L1210'>
<a name='L1211'>        res = <a href='../D/4013.html' title='Multiple defined in 3 places.'>PyUnicode_FromStringAndSize</a>(s, (<b>int</b>)(p-s));
<a name='L1212'>    <font color='red'>}</font>
<a name='L1213'>    <b>return</b> res;
<a name='L1214'><font color='red'>}</font>
<a name='L1215'>
<a name='L1216'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L1217'>
<a name='L1218'><i><font color='green'>/* Tkapp_CallProc is the event procedure that is executed in the context of</font></i>
<a name='L1219'><i><font color='green'>   the Tcl interpreter thread. Initially, it holds the Tcl lock, and doesn't</font></i>
<a name='L1220'><i><font color='green'>   hold the Python lock. */</font></i>
<a name='L1221'>
<a name='L1222'><b>static</b> <b>int</b>
<a name='L1223'><a href='../S/2618.html#L1302' title='Refered from 1302 in Modules/_tkinter.c.'>Tkapp_CallProc</a>(Tkapp_CallEvent *e, <b>int</b> flags)
<a name='L1224'><font color='red'>{</font>
<a name='L1225'>    Tcl_Obj *objStore[<a href='../S/2618.html#L369' title='Defined at 369 in Modules/_tkinter.c.'>ARGSZ</a>];
<a name='L1226'>    Tcl_Obj **objv;
<a name='L1227'>    <b>int</b> objc;
<a name='L1228'>    <b>int</b> i;
<a name='L1229'>    <a href='../D/946.html' title='Multiple defined in 2 places.'>ENTER_PYTHON</a>
<a name='L1230'>    objv = <a href='../S/2618.html#L1144' title='Defined at 1144 in Modules/_tkinter.c.'>Tkapp_CallArgs</a>(e-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, objStore, &amp;objc);
<a name='L1231'>    <b>if</b> (!objv) <font color='red'>{</font>
<a name='L1232'>        <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(e-&gt;exc_type, e-&gt;exc_value, e-&gt;exc_tb);
<a name='L1233'>        *(e-&gt;res) = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1234'>    <font color='red'>}</font>
<a name='L1235'>    <a href='../D/1897.html' title='Multiple defined in 2 places.'>LEAVE_PYTHON</a>
<a name='L1236'>    <b>if</b> (!objv)
<a name='L1237'>        <b>goto</b> done;
<a name='L1238'>    i = Tcl_EvalObjv(e-&gt;self-&gt;interp, objc, objv, e-&gt;<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1239'>    <a href='../D/946.html' title='Multiple defined in 2 places.'>ENTER_PYTHON</a>
<a name='L1240'>    <b>if</b> (i == TCL_ERROR) <font color='red'>{</font>
<a name='L1241'>        *(e-&gt;res) = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1242'>        *(e-&gt;exc_type) = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1243'>        *(e-&gt;exc_tb) = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1244'>        *(e-&gt;exc_value) = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(
<a name='L1245'>            Tkinter_TclError, "s",
<a name='L1246'>            Tcl_GetStringResult(e-&gt;self-&gt;interp));
<a name='L1247'>    <font color='red'>}</font>
<a name='L1248'>    <b>else</b> <font color='red'>{</font>
<a name='L1249'>        *(e-&gt;res) = <a href='../S/2618.html#L1196' title='Defined at 1196 in Modules/_tkinter.c.'>Tkapp_CallResult</a>(e-&gt;self);
<a name='L1250'>    <font color='red'>}</font>
<a name='L1251'>    <a href='../D/1897.html' title='Multiple defined in 2 places.'>LEAVE_PYTHON</a>
<a name='L1252'>
<a name='L1253'>    <a href='../S/2618.html#L1131' title='Defined at 1131 in Modules/_tkinter.c.'>Tkapp_CallDeallocArgs</a>(objv, objStore, objc);
<a name='L1254'>done:
<a name='L1255'>    <i><font color='green'>/* Wake up calling thread. */</font></i>
<a name='L1256'>    Tcl_MutexLock(&amp;call_mutex);
<a name='L1257'>    Tcl_ConditionNotify(e-&gt;done);
<a name='L1258'>    Tcl_MutexUnlock(&amp;call_mutex);
<a name='L1259'>    <b>return</b> 1;
<a name='L1260'><font color='red'>}</font>
<a name='L1261'>
<a name='L1262'><font color='darkred'>#endif</font>
<a name='L1263'>
<a name='L1264'><i><font color='green'>/* This is the main entry point for calling a Tcl command.</font></i>
<a name='L1265'><i><font color='green'>   It supports three cases, with regard to threading:</font></i>
<a name='L1266'><i><font color='green'>   1. Tcl is not threaded: Must have the Tcl lock, then can invoke command in</font></i>
<a name='L1267'><i><font color='green'>      the context of the calling thread.</font></i>
<a name='L1268'><i><font color='green'>   2. Tcl is threaded, caller of the command is in the interpreter thread:</font></i>
<a name='L1269'><i><font color='green'>      Execute the command in the calling thread. Since the Tcl lock will</font></i>
<a name='L1270'><i><font color='green'>      not be used, we can merge that with case 1.</font></i>
<a name='L1271'><i><font color='green'>   3. Tcl is threaded, caller is in a different thread: Must queue an event to</font></i>
<a name='L1272'><i><font color='green'>      the interpreter thread. Allocation of Tcl objects needs to occur in the</font></i>
<a name='L1273'><i><font color='green'>      interpreter thread, so we ship the PyObject* args to the target thread,</font></i>
<a name='L1274'><i><font color='green'>      and perform processing there. */</font></i>
<a name='L1275'>
<a name='L1276'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1277'><a href='../S/2618.html#L2685' title='Refered from 2685 in Modules/_tkinter.c.'>Tkapp_Call</a>(PyObject *selfptr, PyObject *args)
<a name='L1278'><font color='red'>{</font>
<a name='L1279'>    Tcl_Obj *objStore[<a href='../S/2618.html#L369' title='Defined at 369 in Modules/_tkinter.c.'>ARGSZ</a>];
<a name='L1280'>    Tcl_Obj **objv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1281'>    <b>int</b> objc, i;
<a name='L1282'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1283'>    <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *self = (<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)selfptr;
<a name='L1284'>    <b>int</b> <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> = TCL_EVAL_DIRECT | TCL_EVAL_GLOBAL;
<a name='L1285'>
<a name='L1286'>    <i><font color='green'>/* If args is a single tuple, replace with contents of tuple */</font></i>
<a name='L1287'>    <b>if</b> (1 == <a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>))<font color='red'>{</font>
<a name='L1288'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* item = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0);
<a name='L1289'>        <b>if</b> (PyTuple_Check(item))
<a name='L1290'>            <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = item;
<a name='L1291'>    <font color='red'>}</font>
<a name='L1292'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L1293'>    <b>if</b> (self-&gt;threaded &amp;&amp; self-&gt;thread_id != Tcl_GetCurrentThread()) <font color='red'>{</font>
<a name='L1294'>        <i><font color='green'>/* We cannot call the command directly. Instead, we must</font></i>
<a name='L1295'><i><font color='green'>           marshal the parameters to the interpreter thread. */</font></i>
<a name='L1296'>        Tkapp_CallEvent *ev;
<a name='L1297'>        Tcl_Condition cond = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1298'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *exc_type, *exc_value, *exc_tb;
<a name='L1299'>        <b>if</b> (!<a href='../S/2618.html#L320' title='Defined at 320 in Modules/_tkinter.c.'>WaitForMainloop</a>(self))
<a name='L1300'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1301'>        ev = (Tkapp_CallEvent*)ckalloc(<b>sizeof</b>(Tkapp_CallEvent));
<a name='L1302'>        ev-&gt;ev.proc = (Tcl_EventProc*)<a href='../S/2618.html#L1223' title='Defined at 1223 in Modules/_tkinter.c.'>Tkapp_CallProc</a>;
<a name='L1303'>        ev-&gt;self = self;
<a name='L1304'>        ev-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L1305'>        ev-&gt;res = &amp;res;
<a name='L1306'>        ev-&gt;exc_type = &amp;exc_type;
<a name='L1307'>        ev-&gt;exc_value = &amp;exc_value;
<a name='L1308'>        ev-&gt;exc_tb = &amp;exc_tb;
<a name='L1309'>        ev-&gt;done = &amp;cond;
<a name='L1310'>
<a name='L1311'>        <a href='../S/2618.html#L737' title='Defined at 737 in Modules/_tkinter.c.'>Tkapp_ThreadSend</a>(self, (Tcl_Event*)ev, &amp;cond, &amp;call_mutex);
<a name='L1312'>
<a name='L1313'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1314'>            <b>if</b> (exc_type)
<a name='L1315'>                <a href='../S/3106.html#L25' title='Defined at 25 in Python/errors.c.'>PyErr_Restore</a>(exc_type, exc_value, exc_tb);
<a name='L1316'>            <b>else</b>
<a name='L1317'>                <a href='../S/3106.html#L53' title='Defined at 53 in Python/errors.c.'>PyErr_SetObject</a>(Tkinter_TclError, exc_value);
<a name='L1318'>        <font color='red'>}</font>
<a name='L1319'>        Tcl_ConditionFinalize(&amp;cond);
<a name='L1320'>    <font color='red'>}</font>
<a name='L1321'>    <b>else</b>
<a name='L1322'><font color='darkred'>#endif</font>
<a name='L1323'>    <font color='red'>{</font>
<a name='L1324'>
<a name='L1325'>        objv = <a href='../S/2618.html#L1144' title='Defined at 1144 in Modules/_tkinter.c.'>Tkapp_CallArgs</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, objStore, &amp;objc);
<a name='L1326'>        <b>if</b> (!objv)
<a name='L1327'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1328'>
<a name='L1329'>        <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1330'>
<a name='L1331'>        i = Tcl_EvalObjv(self-&gt;interp, objc, objv, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1332'>
<a name='L1333'>        <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1334'>
<a name='L1335'>        <b>if</b> (i == TCL_ERROR)
<a name='L1336'>            <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(selfptr);
<a name='L1337'>        <b>else</b>
<a name='L1338'>            res = <a href='../S/2618.html#L1196' title='Defined at 1196 in Modules/_tkinter.c.'>Tkapp_CallResult</a>(self);
<a name='L1339'>
<a name='L1340'>        <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1341'>
<a name='L1342'>        <a href='../S/2618.html#L1131' title='Defined at 1131 in Modules/_tkinter.c.'>Tkapp_CallDeallocArgs</a>(objv, objStore, objc);
<a name='L1343'>    <font color='red'>}</font>
<a name='L1344'>    <b>return</b> res;
<a name='L1345'><font color='red'>}</font>
<a name='L1346'>
<a name='L1347'>
<a name='L1348'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1349'><a href='../S/2618.html#L2686' title='Refered from 2686 in Modules/_tkinter.c.'>Tkapp_GlobalCall</a>(PyObject *self, PyObject *args)
<a name='L1350'><font color='red'>{</font>
<a name='L1351'>    <i><font color='green'>/* Could do the same here as for Tkapp_Call(), but this is not used</font></i>
<a name='L1352'><i><font color='green'>       much, so I can't be bothered.  Unfortunately Tcl doesn't export a</font></i>
<a name='L1353'><i><font color='green'>       way for the user to do what all its Global* variants do (save and</font></i>
<a name='L1354'><i><font color='green'>       reset the scope pointer, call the local version, restore the saved</font></i>
<a name='L1355'><i><font color='green'>       scope pointer). */</font></i>
<a name='L1356'>
<a name='L1357'>    <b>char</b> *cmd;
<a name='L1358'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1359'>
<a name='L1360'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1361'>
<a name='L1362'>    cmd  = <a href='../S/2618.html#L372' title='Defined at 372 in Modules/_tkinter.c.'>Merge</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1363'>    <b>if</b> (cmd) <font color='red'>{</font>
<a name='L1364'>        <b>int</b> err;
<a name='L1365'>        <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1366'>        err = Tcl_GlobalEval(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), cmd);
<a name='L1367'>        <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1368'>        <b>if</b> (err == TCL_ERROR)
<a name='L1369'>            res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1370'>        <b>else</b>
<a name='L1371'>            res = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(<a href='../S/2618.html#L267' title='Defined at 267 in Modules/_tkinter.c.'>Tkapp_Result</a>(self));
<a name='L1372'>        <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1373'>        ckfree(cmd);
<a name='L1374'>    <font color='red'>}</font>
<a name='L1375'>
<a name='L1376'>    <b>return</b> res;
<a name='L1377'><font color='red'>}</font>
<a name='L1378'>
<a name='L1379'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1380'><a href='../S/2618.html#L2687' title='Refered from 2687 in Modules/_tkinter.c.'>Tkapp_Eval</a>(PyObject *self, PyObject *args)
<a name='L1381'><font color='red'>{</font>
<a name='L1382'>    <b>char</b> *script;
<a name='L1383'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1384'>    <b>int</b> err;
<a name='L1385'>
<a name='L1386'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:eval", &amp;script))
<a name='L1387'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1388'>
<a name='L1389'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1390'>
<a name='L1391'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1392'>    err = Tcl_Eval(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), script);
<a name='L1393'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1394'>    <b>if</b> (err == TCL_ERROR)
<a name='L1395'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1396'>    <b>else</b>
<a name='L1397'>        res = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(<a href='../S/2618.html#L267' title='Defined at 267 in Modules/_tkinter.c.'>Tkapp_Result</a>(self));
<a name='L1398'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1399'>    <b>return</b> res;
<a name='L1400'><font color='red'>}</font>
<a name='L1401'>
<a name='L1402'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1403'><a href='../S/2618.html#L2688' title='Refered from 2688 in Modules/_tkinter.c.'>Tkapp_GlobalEval</a>(PyObject *self, PyObject *args)
<a name='L1404'><font color='red'>{</font>
<a name='L1405'>    <b>char</b> *script;
<a name='L1406'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1407'>    <b>int</b> err;
<a name='L1408'>
<a name='L1409'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:globaleval", &amp;script))
<a name='L1410'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1411'>
<a name='L1412'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1413'>
<a name='L1414'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1415'>    err = Tcl_GlobalEval(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), script);
<a name='L1416'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1417'>    <b>if</b> (err == TCL_ERROR)
<a name='L1418'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1419'>    <b>else</b>
<a name='L1420'>        res = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(<a href='../S/2618.html#L267' title='Defined at 267 in Modules/_tkinter.c.'>Tkapp_Result</a>(self));
<a name='L1421'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1422'>    <b>return</b> res;
<a name='L1423'><font color='red'>}</font>
<a name='L1424'>
<a name='L1425'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1426'><a href='../S/2618.html#L2689' title='Refered from 2689 in Modules/_tkinter.c.'>Tkapp_EvalFile</a>(PyObject *self, PyObject *args)
<a name='L1427'><font color='red'>{</font>
<a name='L1428'>    <b>char</b> *fileName;
<a name='L1429'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1430'>    <b>int</b> err;
<a name='L1431'>
<a name='L1432'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:evalfile", &amp;fileName))
<a name='L1433'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1434'>
<a name='L1435'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1436'>
<a name='L1437'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1438'>    err = Tcl_EvalFile(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), fileName);
<a name='L1439'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1440'>    <b>if</b> (err == TCL_ERROR)
<a name='L1441'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1442'>
<a name='L1443'>    <b>else</b>
<a name='L1444'>        res = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(<a href='../S/2618.html#L267' title='Defined at 267 in Modules/_tkinter.c.'>Tkapp_Result</a>(self));
<a name='L1445'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1446'>    <b>return</b> res;
<a name='L1447'><font color='red'>}</font>
<a name='L1448'>
<a name='L1449'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1450'><a href='../S/2618.html#L2690' title='Refered from 2690 in Modules/_tkinter.c.'>Tkapp_Record</a>(PyObject *self, PyObject *args)
<a name='L1451'><font color='red'>{</font>
<a name='L1452'>    <b>char</b> *script;
<a name='L1453'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1454'>    <b>int</b> err;
<a name='L1455'>
<a name='L1456'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s", &amp;script))
<a name='L1457'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1458'>
<a name='L1459'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1460'>
<a name='L1461'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1462'>    err = Tcl_RecordAndEval(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), script, TCL_NO_EVAL);
<a name='L1463'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1464'>    <b>if</b> (err == TCL_ERROR)
<a name='L1465'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1466'>    <b>else</b>
<a name='L1467'>        res = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(<a href='../S/2618.html#L267' title='Defined at 267 in Modules/_tkinter.c.'>Tkapp_Result</a>(self));
<a name='L1468'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1469'>    <b>return</b> res;
<a name='L1470'><font color='red'>}</font>
<a name='L1471'>
<a name='L1472'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1473'><a href='../S/2618.html#L2691' title='Refered from 2691 in Modules/_tkinter.c.'>Tkapp_AddErrorInfo</a>(PyObject *self, PyObject *args)
<a name='L1474'><font color='red'>{</font>
<a name='L1475'>    <b>char</b> *msg;
<a name='L1476'>
<a name='L1477'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:adderrorinfo", &amp;msg))
<a name='L1478'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1479'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1480'>
<a name='L1481'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1482'>    Tcl_AddErrorInfo(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), msg);
<a name='L1483'>    <a href='../D/1898.html' title='Multiple defined in 2 places.'>LEAVE_TCL</a>
<a name='L1484'>
<a name='L1485'>    Py_INCREF(Py_None);
<a name='L1486'>    <b>return</b> Py_None;
<a name='L1487'><font color='red'>}</font>
<a name='L1488'>
<a name='L1489'>
<a name='L1490'>
<a name='L1491'><i><font color='green'>/** Tcl Variable **/</font></i>
<a name='L1492'>
<a name='L1493'><b>typedef</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* (*EventFunc)(PyObject*, PyObject *args, <b>int</b> flags);
<a name='L1494'>
<a name='L1495'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L1496'>TCL_DECLARE_MUTEX(var_mutex)
<a name='L1497'>
<a name='L1498'><b>typedef</b> <b>struct</b> VarEvent <font color='red'>{</font>
<a name='L1499'>    Tcl_Event ev; <i><font color='green'>/* must be first */</font></i>
<a name='L1500'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self;
<a name='L1501'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L1502'>    <b>int</b> <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>;
<a name='L1503'>    EventFunc func;
<a name='L1504'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> **res;
<a name='L1505'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> **exc_type;
<a name='L1506'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> **exc_val;
<a name='L1507'>    Tcl_Condition *cond;
<a name='L1508'><font color='red'>}</font> VarEvent;
<a name='L1509'><font color='darkred'>#endif</font>
<a name='L1510'>
<a name='L1511'><b>static</b> <b>int</b>
<a name='L1512'><a href='../R/11355.html' title='Multiple refered from 2 places.'>varname_converter</a>(PyObject *in, <b>void</b> *_out)
<a name='L1513'><font color='red'>{</font>
<a name='L1514'>    <b>char</b> **out = (<b>char</b>**)_out;
<a name='L1515'>    <b>if</b> (PyBytes_Check(in)) <font color='red'>{</font>
<a name='L1516'>        *out = <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(in);
<a name='L1517'>        <b>return</b> 1;
<a name='L1518'>    <font color='red'>}</font>
<a name='L1519'>    <b>if</b> (PyUnicode_Check(in)) <font color='red'>{</font>
<a name='L1520'>        *out = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(in);
<a name='L1521'>        <b>return</b> 1;
<a name='L1522'>    <font color='red'>}</font>
<a name='L1523'>    <b>if</b> (<a href='../S/2618.html#L760' title='Defined at 760 in Modules/_tkinter.c.'>PyTclObject_Check</a>(in)) <font color='red'>{</font>
<a name='L1524'>        *out = <a href='../S/2618.html#L784' title='Defined at 784 in Modules/_tkinter.c.'>PyTclObject_TclString</a>(in);
<a name='L1525'>        <b>return</b> 1;
<a name='L1526'>    <font color='red'>}</font>
<a name='L1527'>    <i><font color='green'>/* XXX: Should give diagnostics. */</font></i>
<a name='L1528'>    <b>return</b> 0;
<a name='L1529'><font color='red'>}</font>
<a name='L1530'>
<a name='L1531'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L1532'>
<a name='L1533'><b>static</b> <b>void</b>
<a name='L1534'><a href='../S/2618.html#L1552' title='Refered from 1552 in Modules/_tkinter.c.'>var_perform</a>(VarEvent *ev)
<a name='L1535'><font color='red'>{</font>
<a name='L1536'>    *(ev-&gt;res) = ev-&gt;func(ev-&gt;self, ev-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ev-&gt;<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1537'>    <b>if</b> (!*(ev-&gt;res)) <font color='red'>{</font>
<a name='L1538'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *exc, *val, *tb;
<a name='L1539'>        <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;exc, &amp;val, &amp;tb);
<a name='L1540'>        <a href='../S/3106.html#L202' title='Defined at 202 in Python/errors.c.'>PyErr_NormalizeException</a>(&amp;exc, &amp;val, &amp;tb);
<a name='L1541'>        *(ev-&gt;exc_type) = exc;
<a name='L1542'>        *(ev-&gt;exc_val) = val;
<a name='L1543'>        Py_DECREF(tb);
<a name='L1544'>    <font color='red'>}</font>
<a name='L1545'>
<a name='L1546'><font color='red'>}</font>
<a name='L1547'>
<a name='L1548'><b>static</b> <b>int</b>
<a name='L1549'><a href='../S/2618.html#L1589' title='Refered from 1589 in Modules/_tkinter.c.'>var_proc</a>(VarEvent* ev, <b>int</b> flags)
<a name='L1550'><font color='red'>{</font>
<a name='L1551'>    <a href='../D/946.html' title='Multiple defined in 2 places.'>ENTER_PYTHON</a>
<a name='L1552'>    <a href='../S/2618.html#L1534' title='Defined at 1534 in Modules/_tkinter.c.'>var_perform</a>(ev);
<a name='L1553'>    Tcl_MutexLock(&amp;var_mutex);
<a name='L1554'>    Tcl_ConditionNotify(ev-&gt;cond);
<a name='L1555'>    Tcl_MutexUnlock(&amp;var_mutex);
<a name='L1556'>    <a href='../D/1897.html' title='Multiple defined in 2 places.'>LEAVE_PYTHON</a>
<a name='L1557'>    <b>return</b> 1;
<a name='L1558'><font color='red'>}</font>
<a name='L1559'>
<a name='L1560'><font color='darkred'>#endif</font>
<a name='L1561'>
<a name='L1562'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1563'><a href='../R/11351.html' title='Multiple refered from 6 places.'>var_invoke</a>(EventFunc func, PyObject *selfptr, PyObject *args, <b>int</b> flags)
<a name='L1564'><font color='red'>{</font>
<a name='L1565'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L1566'>    <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *self = (<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)selfptr;
<a name='L1567'>    <b>if</b> (self-&gt;threaded &amp;&amp; self-&gt;thread_id != Tcl_GetCurrentThread()) <font color='red'>{</font>
<a name='L1568'>        <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *self = (<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)selfptr;
<a name='L1569'>        VarEvent *ev;
<a name='L1570'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res, *exc_type, *exc_val;
<a name='L1571'>        Tcl_Condition cond = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1572'>
<a name='L1573'>        <i><font color='green'>/* The current thread is not the interpreter thread.  Marshal</font></i>
<a name='L1574'><i><font color='green'>           the call to the interpreter thread, then wait for</font></i>
<a name='L1575'><i><font color='green'>           completion. */</font></i>
<a name='L1576'>        <b>if</b> (!<a href='../S/2618.html#L320' title='Defined at 320 in Modules/_tkinter.c.'>WaitForMainloop</a>(self))
<a name='L1577'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1578'>
<a name='L1579'>        ev = (VarEvent*)ckalloc(<b>sizeof</b>(VarEvent));
<a name='L1580'>
<a name='L1581'>        ev-&gt;self = selfptr;
<a name='L1582'>        ev-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L1583'>        ev-&gt;<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> = <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>;
<a name='L1584'>        ev-&gt;func = func;
<a name='L1585'>        ev-&gt;res = &amp;res;
<a name='L1586'>        ev-&gt;exc_type = &amp;exc_type;
<a name='L1587'>        ev-&gt;exc_val = &amp;exc_val;
<a name='L1588'>        ev-&gt;cond = &amp;cond;
<a name='L1589'>        ev-&gt;ev.proc = (Tcl_EventProc*)<a href='../S/2618.html#L1549' title='Defined at 1549 in Modules/_tkinter.c.'>var_proc</a>;
<a name='L1590'>        <a href='../S/2618.html#L737' title='Defined at 737 in Modules/_tkinter.c.'>Tkapp_ThreadSend</a>(self, (Tcl_Event*)ev, &amp;cond, &amp;var_mutex);
<a name='L1591'>        Tcl_ConditionFinalize(&amp;cond);
<a name='L1592'>        <b>if</b> (!res) <font color='red'>{</font>
<a name='L1593'>            <a href='../S/3106.html#L53' title='Defined at 53 in Python/errors.c.'>PyErr_SetObject</a>(exc_type, exc_val);
<a name='L1594'>            Py_DECREF(exc_type);
<a name='L1595'>            Py_DECREF(exc_val);
<a name='L1596'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1597'>        <font color='red'>}</font>
<a name='L1598'>        <b>return</b> res;
<a name='L1599'>    <font color='red'>}</font>
<a name='L1600'><font color='darkred'>#endif</font>
<a name='L1601'>    <i><font color='green'>/* Tcl is not threaded, or this is the interpreter thread. */</font></i>
<a name='L1602'>    <b>return</b> func(selfptr, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1603'><font color='red'>}</font>
<a name='L1604'>
<a name='L1605'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1606'><a href='../R/4472.html' title='Multiple refered from 2 places.'>SetVar</a>(PyObject *self, PyObject *args, <b>int</b> flags)
<a name='L1607'><font color='red'>{</font>
<a name='L1608'>    <b>char</b> *name1, *name2;
<a name='L1609'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *newValue;
<a name='L1610'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1611'>    Tcl_Obj *newval, *ok;
<a name='L1612'>
<a name='L1613'>    <b>if</b> (<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O&amp;O:setvar",
<a name='L1614'>                         <a href='../S/2618.html#L1512' title='Defined at 1512 in Modules/_tkinter.c.'>varname_converter</a>, &amp;name1, &amp;newValue)) <font color='red'>{</font>
<a name='L1615'>        <i><font color='green'>/* XXX Acquire tcl lock??? */</font></i>
<a name='L1616'>        newval = <a href='../S/2618.html#L945' title='Defined at 945 in Modules/_tkinter.c.'>AsObj</a>(newValue);
<a name='L1617'>        <b>if</b> (newval == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1618'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1619'>        <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1620'>        ok = Tcl_SetVar2Ex(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), name1, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1621'>                           newval, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1622'>        <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1623'>        <b>if</b> (!ok)
<a name='L1624'>            <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1625'>        <b>else</b> <font color='red'>{</font>
<a name='L1626'>            res = Py_None;
<a name='L1627'>            Py_INCREF(res);
<a name='L1628'>        <font color='red'>}</font>
<a name='L1629'>        <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1630'>    <font color='red'>}</font>
<a name='L1631'>    <b>else</b> <font color='red'>{</font>
<a name='L1632'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1633'>        <b>if</b> (<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "ssO:setvar",
<a name='L1634'>                             &amp;name1, &amp;name2, &amp;newValue)) <font color='red'>{</font>
<a name='L1635'>            <i><font color='green'>/* XXX must hold tcl lock already??? */</font></i>
<a name='L1636'>            newval = <a href='../S/2618.html#L945' title='Defined at 945 in Modules/_tkinter.c.'>AsObj</a>(newValue);
<a name='L1637'>            <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1638'>            ok = Tcl_SetVar2Ex(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), name1, name2, newval, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1639'>            <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1640'>            <b>if</b> (!ok)
<a name='L1641'>                <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1642'>            <b>else</b> <font color='red'>{</font>
<a name='L1643'>                res = Py_None;
<a name='L1644'>                Py_INCREF(res);
<a name='L1645'>            <font color='red'>}</font>
<a name='L1646'>            <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1647'>        <font color='red'>}</font>
<a name='L1648'>        <b>else</b> <font color='red'>{</font>
<a name='L1649'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1650'>        <font color='red'>}</font>
<a name='L1651'>    <font color='red'>}</font>
<a name='L1652'>    <b>return</b> res;
<a name='L1653'><font color='red'>}</font>
<a name='L1654'>
<a name='L1655'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1656'><a href='../S/2618.html#L2692' title='Refered from 2692 in Modules/_tkinter.c.'>Tkapp_SetVar</a>(PyObject *self, PyObject *args)
<a name='L1657'><font color='red'>{</font>
<a name='L1658'>    <b>return</b> <a href='../S/2618.html#L1563' title='Defined at 1563 in Modules/_tkinter.c.'>var_invoke</a>(<a href='../S/2618.html#L1606' title='Defined at 1606 in Modules/_tkinter.c.'>SetVar</a>, self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, TCL_LEAVE_ERR_MSG);
<a name='L1659'><font color='red'>}</font>
<a name='L1660'>
<a name='L1661'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1662'><a href='../S/2618.html#L2693' title='Refered from 2693 in Modules/_tkinter.c.'>Tkapp_GlobalSetVar</a>(PyObject *self, PyObject *args)
<a name='L1663'><font color='red'>{</font>
<a name='L1664'>    <b>return</b> <a href='../S/2618.html#L1563' title='Defined at 1563 in Modules/_tkinter.c.'>var_invoke</a>(<a href='../S/2618.html#L1606' title='Defined at 1606 in Modules/_tkinter.c.'>SetVar</a>, self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, TCL_LEAVE_ERR_MSG | TCL_GLOBAL_ONLY);
<a name='L1665'><font color='red'>}</font>
<a name='L1666'>
<a name='L1667'>
<a name='L1668'>
<a name='L1669'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1670'><a href='../R/1298.html' title='Multiple refered from 2 places.'>GetVar</a>(PyObject *self, PyObject *args, <b>int</b> flags)
<a name='L1671'><font color='red'>{</font>
<a name='L1672'>    <b>char</b> *name1, *name2=<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1673'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1674'>    Tcl_Obj *tres;
<a name='L1675'>
<a name='L1676'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O&amp;|s:getvar",
<a name='L1677'>                          <a href='../S/2618.html#L1512' title='Defined at 1512 in Modules/_tkinter.c.'>varname_converter</a>, &amp;name1, &amp;name2))
<a name='L1678'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1679'>
<a name='L1680'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1681'>    tres = Tcl_GetVar2Ex(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), name1, name2, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1682'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1683'>    <b>if</b> (tres == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1684'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Tkinter_TclError, Tcl_GetStringResult(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self)));
<a name='L1685'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1686'>        <b>if</b> (((<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)self)-&gt;wantobjects) <font color='red'>{</font>
<a name='L1687'>            res = <a href='../S/2618.html#L1027' title='Defined at 1027 in Modules/_tkinter.c.'>FromObj</a>(self, tres);
<a name='L1688'>        <font color='red'>}</font>
<a name='L1689'>        <b>else</b> <font color='red'>{</font>
<a name='L1690'>            res = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(Tcl_GetString(tres));
<a name='L1691'>        <font color='red'>}</font>
<a name='L1692'>    <font color='red'>}</font>
<a name='L1693'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1694'>    <b>return</b> res;
<a name='L1695'><font color='red'>}</font>
<a name='L1696'>
<a name='L1697'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1698'><a href='../S/2618.html#L2694' title='Refered from 2694 in Modules/_tkinter.c.'>Tkapp_GetVar</a>(PyObject *self, PyObject *args)
<a name='L1699'><font color='red'>{</font>
<a name='L1700'>    <b>return</b> <a href='../S/2618.html#L1563' title='Defined at 1563 in Modules/_tkinter.c.'>var_invoke</a>(<a href='../S/2618.html#L1670' title='Defined at 1670 in Modules/_tkinter.c.'>GetVar</a>, self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, TCL_LEAVE_ERR_MSG);
<a name='L1701'><font color='red'>}</font>
<a name='L1702'>
<a name='L1703'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1704'><a href='../S/2618.html#L2695' title='Refered from 2695 in Modules/_tkinter.c.'>Tkapp_GlobalGetVar</a>(PyObject *self, PyObject *args)
<a name='L1705'><font color='red'>{</font>
<a name='L1706'>    <b>return</b> <a href='../S/2618.html#L1563' title='Defined at 1563 in Modules/_tkinter.c.'>var_invoke</a>(<a href='../S/2618.html#L1670' title='Defined at 1670 in Modules/_tkinter.c.'>GetVar</a>, self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, TCL_LEAVE_ERR_MSG | TCL_GLOBAL_ONLY);
<a name='L1707'><font color='red'>}</font>
<a name='L1708'>
<a name='L1709'>
<a name='L1710'>
<a name='L1711'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1712'><a href='../R/4833.html' title='Multiple refered from 2 places.'>UnsetVar</a>(PyObject *self, PyObject *args, <b>int</b> flags)
<a name='L1713'><font color='red'>{</font>
<a name='L1714'>    <b>char</b> *name1, *name2=<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1715'>    <b>int</b> <a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a>;
<a name='L1716'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1717'>
<a name='L1718'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s|s:unsetvar", &amp;name1, &amp;name2))
<a name='L1719'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1720'>
<a name='L1721'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1722'>    <a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a> = Tcl_UnsetVar2(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), name1, name2, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1723'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1724'>    <b>if</b> (<a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a> == TCL_ERROR)
<a name='L1725'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1726'>    <b>else</b> <font color='red'>{</font>
<a name='L1727'>        Py_INCREF(Py_None);
<a name='L1728'>        res = Py_None;
<a name='L1729'>    <font color='red'>}</font>
<a name='L1730'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1731'>    <b>return</b> res;
<a name='L1732'><font color='red'>}</font>
<a name='L1733'>
<a name='L1734'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1735'><a href='../S/2618.html#L2696' title='Refered from 2696 in Modules/_tkinter.c.'>Tkapp_UnsetVar</a>(PyObject *self, PyObject *args)
<a name='L1736'><font color='red'>{</font>
<a name='L1737'>    <b>return</b> <a href='../S/2618.html#L1563' title='Defined at 1563 in Modules/_tkinter.c.'>var_invoke</a>(<a href='../S/2618.html#L1712' title='Defined at 1712 in Modules/_tkinter.c.'>UnsetVar</a>, self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, TCL_LEAVE_ERR_MSG);
<a name='L1738'><font color='red'>}</font>
<a name='L1739'>
<a name='L1740'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1741'><a href='../S/2618.html#L2697' title='Refered from 2697 in Modules/_tkinter.c.'>Tkapp_GlobalUnsetVar</a>(PyObject *self, PyObject *args)
<a name='L1742'><font color='red'>{</font>
<a name='L1743'>    <b>return</b> <a href='../S/2618.html#L1563' title='Defined at 1563 in Modules/_tkinter.c.'>var_invoke</a>(<a href='../S/2618.html#L1712' title='Defined at 1712 in Modules/_tkinter.c.'>UnsetVar</a>, self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, TCL_LEAVE_ERR_MSG | TCL_GLOBAL_ONLY);
<a name='L1744'><font color='red'>}</font>
<a name='L1745'>
<a name='L1746'>
<a name='L1747'>
<a name='L1748'><i><font color='green'>/** Tcl to Python **/</font></i>
<a name='L1749'>
<a name='L1750'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1751'><a href='../S/2618.html#L2698' title='Refered from 2698 in Modules/_tkinter.c.'>Tkapp_GetInt</a>(PyObject *self, PyObject *args)
<a name='L1752'><font color='red'>{</font>
<a name='L1753'>    <b>char</b> *s;
<a name='L1754'>    <b>int</b> v;
<a name='L1755'>
<a name='L1756'>    <b>if</b> (<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 1) <font color='red'>{</font>
<a name='L1757'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* o = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0);
<a name='L1758'>        <b>if</b> (PyLong_Check(o)) <font color='red'>{</font>
<a name='L1759'>            Py_INCREF(o);
<a name='L1760'>            <b>return</b> o;
<a name='L1761'>        <font color='red'>}</font>
<a name='L1762'>    <font color='red'>}</font>
<a name='L1763'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:getint", &amp;s))
<a name='L1764'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1765'>    <b>if</b> (Tcl_GetInt(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), s, &amp;v) == TCL_ERROR)
<a name='L1766'>        <b>return</b> <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1767'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("i", v);
<a name='L1768'><font color='red'>}</font>
<a name='L1769'>
<a name='L1770'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1771'><a href='../S/2618.html#L2699' title='Refered from 2699 in Modules/_tkinter.c.'>Tkapp_GetDouble</a>(PyObject *self, PyObject *args)
<a name='L1772'><font color='red'>{</font>
<a name='L1773'>    <b>char</b> *s;
<a name='L1774'>    <b>double</b> v;
<a name='L1775'>
<a name='L1776'>    <b>if</b> (<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 1) <font color='red'>{</font>
<a name='L1777'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *o = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0);
<a name='L1778'>        <b>if</b> (PyFloat_Check(o)) <font color='red'>{</font>
<a name='L1779'>            Py_INCREF(o);
<a name='L1780'>            <b>return</b> o;
<a name='L1781'>        <font color='red'>}</font>
<a name='L1782'>    <font color='red'>}</font>
<a name='L1783'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:getdouble", &amp;s))
<a name='L1784'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1785'>    <b>if</b> (Tcl_GetDouble(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), s, &amp;v) == TCL_ERROR)
<a name='L1786'>        <b>return</b> <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1787'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("d", v);
<a name='L1788'><font color='red'>}</font>
<a name='L1789'>
<a name='L1790'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1791'><a href='../S/2618.html#L2700' title='Refered from 2700 in Modules/_tkinter.c.'>Tkapp_GetBoolean</a>(PyObject *self, PyObject *args)
<a name='L1792'><font color='red'>{</font>
<a name='L1793'>    <b>char</b> *s;
<a name='L1794'>    <b>int</b> v;
<a name='L1795'>
<a name='L1796'>    <b>if</b> (<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 1) <font color='red'>{</font>
<a name='L1797'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *o = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0);
<a name='L1798'>        <b>if</b> (PyLong_Check(o)) <font color='red'>{</font>
<a name='L1799'>            Py_INCREF(o);
<a name='L1800'>            <b>return</b> o;
<a name='L1801'>        <font color='red'>}</font>
<a name='L1802'>    <font color='red'>}</font>
<a name='L1803'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:getboolean", &amp;s))
<a name='L1804'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1805'>    <b>if</b> (Tcl_GetBoolean(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), s, &amp;v) == TCL_ERROR)
<a name='L1806'>        <b>return</b> <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1807'>    <b>return</b> <a href='../D/2761.html' title='Multiple defined in 2 places.'>PyBool_FromLong</a>(v);
<a name='L1808'><font color='red'>}</font>
<a name='L1809'>
<a name='L1810'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1811'><a href='../S/2618.html#L2701' title='Refered from 2701 in Modules/_tkinter.c.'>Tkapp_ExprString</a>(PyObject *self, PyObject *args)
<a name='L1812'><font color='red'>{</font>
<a name='L1813'>    <b>char</b> *s;
<a name='L1814'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1815'>    <b>int</b> retval;
<a name='L1816'>
<a name='L1817'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:exprstring", &amp;s))
<a name='L1818'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1819'>
<a name='L1820'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1821'>
<a name='L1822'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1823'>    retval = Tcl_ExprString(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), s);
<a name='L1824'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1825'>    <b>if</b> (retval == TCL_ERROR)
<a name='L1826'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1827'>    <b>else</b>
<a name='L1828'>        res = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("s", <a href='../S/2618.html#L267' title='Defined at 267 in Modules/_tkinter.c.'>Tkapp_Result</a>(self));
<a name='L1829'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1830'>    <b>return</b> res;
<a name='L1831'><font color='red'>}</font>
<a name='L1832'>
<a name='L1833'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1834'><a href='../S/2618.html#L2702' title='Refered from 2702 in Modules/_tkinter.c.'>Tkapp_ExprLong</a>(PyObject *self, PyObject *args)
<a name='L1835'><font color='red'>{</font>
<a name='L1836'>    <b>char</b> *s;
<a name='L1837'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1838'>    <b>int</b> retval;
<a name='L1839'>    <b>long</b> v;
<a name='L1840'>
<a name='L1841'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:exprlong", &amp;s))
<a name='L1842'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1843'>
<a name='L1844'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1845'>
<a name='L1846'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1847'>    retval = Tcl_ExprLong(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), s, &amp;v);
<a name='L1848'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1849'>    <b>if</b> (retval == TCL_ERROR)
<a name='L1850'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1851'>    <b>else</b>
<a name='L1852'>        res = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("l", v);
<a name='L1853'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1854'>    <b>return</b> res;
<a name='L1855'><font color='red'>}</font>
<a name='L1856'>
<a name='L1857'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1858'><a href='../S/2618.html#L2703' title='Refered from 2703 in Modules/_tkinter.c.'>Tkapp_ExprDouble</a>(PyObject *self, PyObject *args)
<a name='L1859'><font color='red'>{</font>
<a name='L1860'>    <b>char</b> *s;
<a name='L1861'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1862'>    <b>double</b> v;
<a name='L1863'>    <b>int</b> retval;
<a name='L1864'>
<a name='L1865'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:exprdouble", &amp;s))
<a name='L1866'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1867'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1868'>    <a href='../D/3220.html' title='Multiple defined in 2 places.'>PyFPE_START_PROTECT</a>("Tkapp_ExprDouble", <b>return</b> 0)
<a name='L1869'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1870'>    retval = Tcl_ExprDouble(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), s, &amp;v);
<a name='L1871'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1872'>    <a href='../D/3219.html' title='Multiple defined in 2 places.'>PyFPE_END_PROTECT</a>(retval)
<a name='L1873'>    <b>if</b> (retval == TCL_ERROR)
<a name='L1874'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1875'>    <b>else</b>
<a name='L1876'>        res = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("d", v);
<a name='L1877'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1878'>    <b>return</b> res;
<a name='L1879'><font color='red'>}</font>
<a name='L1880'>
<a name='L1881'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1882'><a href='../S/2618.html#L2704' title='Refered from 2704 in Modules/_tkinter.c.'>Tkapp_ExprBoolean</a>(PyObject *self, PyObject *args)
<a name='L1883'><font color='red'>{</font>
<a name='L1884'>    <b>char</b> *s;
<a name='L1885'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1886'>    <b>int</b> retval;
<a name='L1887'>    <b>int</b> v;
<a name='L1888'>
<a name='L1889'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:exprboolean", &amp;s))
<a name='L1890'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1891'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L1892'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L1893'>    retval = Tcl_ExprBoolean(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), s, &amp;v);
<a name='L1894'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L1895'>    <b>if</b> (retval == TCL_ERROR)
<a name='L1896'>        res = <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1897'>    <b>else</b>
<a name='L1898'>        res = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("i", v);
<a name='L1899'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L1900'>    <b>return</b> res;
<a name='L1901'><font color='red'>}</font>
<a name='L1902'>
<a name='L1903'>
<a name='L1904'>
<a name='L1905'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1906'><a href='../S/2618.html#L2705' title='Refered from 2705 in Modules/_tkinter.c.'>Tkapp_SplitList</a>(PyObject *self, PyObject *args)
<a name='L1907'><font color='red'>{</font>
<a name='L1908'>    <b>char</b> *list;
<a name='L1909'>    <b>int</b> argc;
<a name='L1910'>    <b>char</b> **argv;
<a name='L1911'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L1912'>    <b>int</b> i;
<a name='L1913'>
<a name='L1914'>    <b>if</b> (<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 1) <font color='red'>{</font>
<a name='L1915'>        v = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0);
<a name='L1916'>        <b>if</b> (PyTuple_Check(v)) <font color='red'>{</font>
<a name='L1917'>            Py_INCREF(v);
<a name='L1918'>            <b>return</b> v;
<a name='L1919'>        <font color='red'>}</font>
<a name='L1920'>    <font color='red'>}</font>
<a name='L1921'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "et:splitlist", "utf-8", &amp;list))
<a name='L1922'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1923'>
<a name='L1924'>    <b>if</b> (Tcl_SplitList(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), list,
<a name='L1925'>                      &amp;argc, &amp;argv) == TCL_ERROR)  <font color='red'>{</font>
<a name='L1926'>        <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(list);
<a name='L1927'>        <b>return</b> <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L1928'>    <font color='red'>}</font>
<a name='L1929'>
<a name='L1930'>    <b>if</b> (!(v = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(argc)))
<a name='L1931'>        <b>goto</b> finally;
<a name='L1932'>
<a name='L1933'>    <b>for</b> (i = 0; i &lt; argc; i++) <font color='red'>{</font>
<a name='L1934'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *s = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(argv[i]);
<a name='L1935'>        <b>if</b> (!s || <a href='../S/2823.html#L137' title='Defined at 137 in Objects/tupleobject.c.'>PyTuple_SetItem</a>(v, i, s)) <font color='red'>{</font>
<a name='L1936'>            Py_DECREF(v);
<a name='L1937'>            v = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1938'>            <b>goto</b> finally;
<a name='L1939'>        <font color='red'>}</font>
<a name='L1940'>    <font color='red'>}</font>
<a name='L1941'>
<a name='L1942'>  finally:
<a name='L1943'>    ckfree(<a href='../S/2618.html#L240' title='Defined at 240 in Modules/_tkinter.c.'>FREECAST</a> argv);
<a name='L1944'>    <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(list);
<a name='L1945'>    <b>return</b> v;
<a name='L1946'><font color='red'>}</font>
<a name='L1947'>
<a name='L1948'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1949'><a href='../S/2618.html#L2706' title='Refered from 2706 in Modules/_tkinter.c.'>Tkapp_Split</a>(PyObject *self, PyObject *args)
<a name='L1950'><font color='red'>{</font>
<a name='L1951'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L1952'>    <b>char</b> *list;
<a name='L1953'>
<a name='L1954'>    <b>if</b> (<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 1) <font color='red'>{</font>
<a name='L1955'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* o = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0);
<a name='L1956'>        <b>if</b> (PyTuple_Check(o)) <font color='red'>{</font>
<a name='L1957'>            o = <a href='../S/2618.html#L495' title='Defined at 495 in Modules/_tkinter.c.'>SplitObj</a>(o);
<a name='L1958'>            <b>return</b> o;
<a name='L1959'>        <font color='red'>}</font>
<a name='L1960'>    <font color='red'>}</font>
<a name='L1961'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "et:split", "utf-8", &amp;list))
<a name='L1962'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1963'>    v = <a href='../S/2618.html#L450' title='Defined at 450 in Modules/_tkinter.c.'>Split</a>(list);
<a name='L1964'>    <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(list);
<a name='L1965'>    <b>return</b> v;
<a name='L1966'><font color='red'>}</font>
<a name='L1967'>
<a name='L1968'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1969'><a href='../S/2618.html#L2707' title='Refered from 2707 in Modules/_tkinter.c.'>Tkapp_Merge</a>(PyObject *self, PyObject *args)
<a name='L1970'><font color='red'>{</font>
<a name='L1971'>    <b>char</b> *s = <a href='../S/2618.html#L372' title='Defined at 372 in Modules/_tkinter.c.'>Merge</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1972'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1973'>
<a name='L1974'>    <b>if</b> (s) <font color='red'>{</font>
<a name='L1975'>        res = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(s);
<a name='L1976'>        ckfree(s);
<a name='L1977'>    <font color='red'>}</font>
<a name='L1978'>
<a name='L1979'>    <b>return</b> res;
<a name='L1980'><font color='red'>}</font>
<a name='L1981'>
<a name='L1982'>
<a name='L1983'>
<a name='L1984'><i><font color='green'>/** Tcl Command **/</font></i>
<a name='L1985'>
<a name='L1986'><i><font color='green'>/* Client data struct */</font></i>
<a name='L1987'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L1988'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self;
<a name='L1989'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func;
<a name='L1990'><font color='red'>}</font> <a href='../R/3877.html' title='Multiple refered from 4 places.'>PythonCmd_ClientData</a>;
<a name='L1991'>
<a name='L1992'><b>static</b> <b>int</b>
<a name='L1993'><a href='../R/3878.html' title='Multiple refered from 4 places.'>PythonCmd_Error</a>(Tcl_Interp *interp)
<a name='L1994'><font color='red'>{</font>
<a name='L1995'>    errorInCmd = 1;
<a name='L1996'>    <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;excInCmd, &amp;valInCmd, &amp;trbInCmd);
<a name='L1997'>    <a href='../D/1897.html' title='Multiple defined in 2 places.'>LEAVE_PYTHON</a>
<a name='L1998'>    <b>return</b> TCL_ERROR;
<a name='L1999'><font color='red'>}</font>
<a name='L2000'>
<a name='L2001'><i><font color='green'>/* This is the Tcl command that acts as a wrapper for Python</font></i>
<a name='L2002'><i><font color='green'> * function or method.</font></i>
<a name='L2003'><i><font color='green'> */</font></i>
<a name='L2004'><b>static</b> <b>int</b>
<a name='L2005'><a href='../R/3875.html' title='Multiple refered from 2 places.'>PythonCmd</a>(ClientData clientData, Tcl_Interp *interp, <b>int</b> argc, <b>char</b> *argv[])
<a name='L2006'><font color='red'>{</font>
<a name='L2007'>    <a href='../S/2618.html#L1990' title='Defined at 1990 in Modules/_tkinter.c.'>PythonCmd_ClientData</a> *data = (<a href='../S/2618.html#L1990' title='Defined at 1990 in Modules/_tkinter.c.'>PythonCmd_ClientData</a> *)clientData;
<a name='L2008'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self, *func, *<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, *res;
<a name='L2009'>    <b>int</b> i, rv;
<a name='L2010'>    Tcl_Obj *obj_res;
<a name='L2011'>
<a name='L2012'>    <a href='../D/946.html' title='Multiple defined in 2 places.'>ENTER_PYTHON</a>
<a name='L2013'>
<a name='L2014'>    <i><font color='green'>/* TBD: no error checking here since we know, via the</font></i>
<a name='L2015'><i><font color='green'>     * Tkapp_CreateCommand() that the client data is a two-tuple</font></i>
<a name='L2016'><i><font color='green'>     */</font></i>
<a name='L2017'>    self = data-&gt;self;
<a name='L2018'>    func = data-&gt;func;
<a name='L2019'>
<a name='L2020'>    <i><font color='green'>/* Create argument list (argv1, ..., argvN) */</font></i>
<a name='L2021'>    <b>if</b> (!(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(argc - 1)))
<a name='L2022'>        <b>return</b> <a href='../S/2618.html#L1993' title='Defined at 1993 in Modules/_tkinter.c.'>PythonCmd_Error</a>(interp);
<a name='L2023'>
<a name='L2024'>    <b>for</b> (i = 0; i &lt; (argc - 1); i++) <font color='red'>{</font>
<a name='L2025'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *s = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(argv[i + 1]);
<a name='L2026'>        <b>if</b> (!s || <a href='../S/2823.html#L137' title='Defined at 137 in Objects/tupleobject.c.'>PyTuple_SetItem</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, i, s)) <font color='red'>{</font>
<a name='L2027'>            Py_DECREF(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L2028'>            <b>return</b> <a href='../S/2618.html#L1993' title='Defined at 1993 in Modules/_tkinter.c.'>PythonCmd_Error</a>(interp);
<a name='L2029'>        <font color='red'>}</font>
<a name='L2030'>    <font color='red'>}</font>
<a name='L2031'>    res = PyEval_CallObject(func, <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L2032'>    Py_DECREF(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L2033'>
<a name='L2034'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2035'>        <b>return</b> <a href='../S/2618.html#L1993' title='Defined at 1993 in Modules/_tkinter.c.'>PythonCmd_Error</a>(interp);
<a name='L2036'>
<a name='L2037'>    obj_res = <a href='../S/2618.html#L945' title='Defined at 945 in Modules/_tkinter.c.'>AsObj</a>(res);
<a name='L2038'>    <b>if</b> (obj_res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2039'>        Py_DECREF(res);
<a name='L2040'>        <b>return</b> <a href='../S/2618.html#L1993' title='Defined at 1993 in Modules/_tkinter.c.'>PythonCmd_Error</a>(interp);
<a name='L2041'>    <font color='red'>}</font>
<a name='L2042'>    <b>else</b> <font color='red'>{</font>
<a name='L2043'>        Tcl_SetObjResult(interp, obj_res);
<a name='L2044'>        rv = TCL_OK;
<a name='L2045'>    <font color='red'>}</font>
<a name='L2046'>
<a name='L2047'>    Py_DECREF(res);
<a name='L2048'>
<a name='L2049'>    <a href='../D/1897.html' title='Multiple defined in 2 places.'>LEAVE_PYTHON</a>
<a name='L2050'>
<a name='L2051'>    <b>return</b> rv;
<a name='L2052'><font color='red'>}</font>
<a name='L2053'>
<a name='L2054'><b>static</b> <b>void</b>
<a name='L2055'><a href='../R/3876.html' title='Multiple refered from 2 places.'>PythonCmdDelete</a>(ClientData clientData)
<a name='L2056'><font color='red'>{</font>
<a name='L2057'>    <a href='../S/2618.html#L1990' title='Defined at 1990 in Modules/_tkinter.c.'>PythonCmd_ClientData</a> *data = (<a href='../S/2618.html#L1990' title='Defined at 1990 in Modules/_tkinter.c.'>PythonCmd_ClientData</a> *)clientData;
<a name='L2058'>
<a name='L2059'>    <a href='../D/946.html' title='Multiple defined in 2 places.'>ENTER_PYTHON</a>
<a name='L2060'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(data-&gt;self);
<a name='L2061'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(data-&gt;func);
<a name='L2062'>    PyMem_DEL(data);
<a name='L2063'>    <a href='../D/1897.html' title='Multiple defined in 2 places.'>LEAVE_PYTHON</a>
<a name='L2064'><font color='red'>}</font>
<a name='L2065'>
<a name='L2066'>
<a name='L2067'>
<a name='L2068'>
<a name='L2069'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2070'>TCL_DECLARE_MUTEX(command_mutex)
<a name='L2071'>
<a name='L2072'><b>typedef</b> <b>struct</b> CommandEvent<font color='red'>{</font>
<a name='L2073'>    Tcl_Event ev;
<a name='L2074'>    Tcl_Interp* interp;
<a name='L2075'>    <b>char</b> *name;
<a name='L2076'>    <b>int</b> create;
<a name='L2077'>    <b>int</b> *status;
<a name='L2078'>    ClientData *data;
<a name='L2079'>    Tcl_Condition *done;
<a name='L2080'><font color='red'>}</font> CommandEvent;
<a name='L2081'>
<a name='L2082'><b>static</b> <b>int</b>
<a name='L2083'><a href='../R/4645.html' title='Multiple refered from 2 places.'>Tkapp_CommandProc</a>(CommandEvent *ev, <b>int</b> flags)
<a name='L2084'><font color='red'>{</font>
<a name='L2085'>    <b>if</b> (ev-&gt;create)
<a name='L2086'>        *ev-&gt;status = Tcl_CreateCommand(
<a name='L2087'>            ev-&gt;interp, ev-&gt;name, <a href='../S/2618.html#L2005' title='Defined at 2005 in Modules/_tkinter.c.'>PythonCmd</a>,
<a name='L2088'>            ev-&gt;data, <a href='../S/2618.html#L2055' title='Defined at 2055 in Modules/_tkinter.c.'>PythonCmdDelete</a>) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2089'>    <b>else</b>
<a name='L2090'>        *ev-&gt;status = Tcl_DeleteCommand(ev-&gt;interp, ev-&gt;name);
<a name='L2091'>    Tcl_MutexLock(&amp;command_mutex);
<a name='L2092'>    Tcl_ConditionNotify(ev-&gt;done);
<a name='L2093'>    Tcl_MutexUnlock(&amp;command_mutex);
<a name='L2094'>    <b>return</b> 1;
<a name='L2095'><font color='red'>}</font>
<a name='L2096'><font color='darkred'>#endif</font>
<a name='L2097'>
<a name='L2098'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2099'><a href='../S/2618.html#L2708' title='Refered from 2708 in Modules/_tkinter.c.'>Tkapp_CreateCommand</a>(PyObject *selfptr, PyObject *args)
<a name='L2100'><font color='red'>{</font>
<a name='L2101'>    <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *self = (<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)selfptr;
<a name='L2102'>    <a href='../S/2618.html#L1990' title='Defined at 1990 in Modules/_tkinter.c.'>PythonCmd_ClientData</a> *data;
<a name='L2103'>    <b>char</b> *cmdName;
<a name='L2104'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func;
<a name='L2105'>    <b>int</b> err;
<a name='L2106'>
<a name='L2107'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "sO:createcommand", &amp;cmdName, &amp;func))
<a name='L2108'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2109'>    <b>if</b> (!<a href='../S/2803.html#L1180' title='Defined at 1180 in Objects/object.c.'>PyCallable_Check</a>(func)) <font color='red'>{</font>
<a name='L2110'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "command not callable");
<a name='L2111'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2112'>    <font color='red'>}</font>
<a name='L2113'>
<a name='L2114'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2115'>    <b>if</b> (self-&gt;threaded &amp;&amp; self-&gt;thread_id != Tcl_GetCurrentThread() &amp;&amp;
<a name='L2116'>        !<a href='../S/2618.html#L320' title='Defined at 320 in Modules/_tkinter.c.'>WaitForMainloop</a>(self))
<a name='L2117'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2118'><font color='darkred'>#endif</font>
<a name='L2119'>
<a name='L2120'>    data = PyMem_NEW(<a href='../S/2618.html#L1990' title='Defined at 1990 in Modules/_tkinter.c.'>PythonCmd_ClientData</a>, 1);
<a name='L2121'>    <b>if</b> (!data)
<a name='L2122'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L2123'>    Py_INCREF(self);
<a name='L2124'>    Py_INCREF(func);
<a name='L2125'>    data-&gt;self = selfptr;
<a name='L2126'>    data-&gt;func = func;
<a name='L2127'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2128'>    <b>if</b> (self-&gt;threaded &amp;&amp; self-&gt;thread_id != Tcl_GetCurrentThread()) <font color='red'>{</font>
<a name='L2129'>        Tcl_Condition cond = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2130'>        CommandEvent *ev = (CommandEvent*)ckalloc(<b>sizeof</b>(CommandEvent));
<a name='L2131'>        ev-&gt;ev.proc = (Tcl_EventProc*)<a href='../S/2618.html#L2083' title='Defined at 2083 in Modules/_tkinter.c.'>Tkapp_CommandProc</a>;
<a name='L2132'>        ev-&gt;interp = self-&gt;interp;
<a name='L2133'>        ev-&gt;create = 1;
<a name='L2134'>        ev-&gt;name = cmdName;
<a name='L2135'>        ev-&gt;data = (ClientData)data;
<a name='L2136'>        ev-&gt;status = &amp;err;
<a name='L2137'>        ev-&gt;done = &amp;cond;
<a name='L2138'>        <a href='../S/2618.html#L737' title='Defined at 737 in Modules/_tkinter.c.'>Tkapp_ThreadSend</a>(self, (Tcl_Event*)ev, &amp;cond, &amp;command_mutex);
<a name='L2139'>        Tcl_ConditionFinalize(&amp;cond);
<a name='L2140'>    <font color='red'>}</font>
<a name='L2141'>    <b>else</b>
<a name='L2142'><font color='darkred'>#endif</font>
<a name='L2143'>    <font color='red'>{</font>
<a name='L2144'>        <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L2145'>        err = Tcl_CreateCommand(
<a name='L2146'>            <a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), cmdName, <a href='../S/2618.html#L2005' title='Defined at 2005 in Modules/_tkinter.c.'>PythonCmd</a>,
<a name='L2147'>            (ClientData)data, <a href='../S/2618.html#L2055' title='Defined at 2055 in Modules/_tkinter.c.'>PythonCmdDelete</a>) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2148'>        <a href='../D/1898.html' title='Multiple defined in 2 places.'>LEAVE_TCL</a>
<a name='L2149'>    <font color='red'>}</font>
<a name='L2150'>    <b>if</b> (err) <font color='red'>{</font>
<a name='L2151'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Tkinter_TclError, "can't create Tcl command");
<a name='L2152'>        PyMem_DEL(data);
<a name='L2153'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2154'>    <font color='red'>}</font>
<a name='L2155'>
<a name='L2156'>    Py_INCREF(Py_None);
<a name='L2157'>    <b>return</b> Py_None;
<a name='L2158'><font color='red'>}</font>
<a name='L2159'>
<a name='L2160'>
<a name='L2161'>
<a name='L2162'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2163'><a href='../S/2618.html#L2709' title='Refered from 2709 in Modules/_tkinter.c.'>Tkapp_DeleteCommand</a>(PyObject *selfptr, PyObject *args)
<a name='L2164'><font color='red'>{</font>
<a name='L2165'>    <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *self = (<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)selfptr;
<a name='L2166'>    <b>char</b> *cmdName;
<a name='L2167'>    <b>int</b> err;
<a name='L2168'>
<a name='L2169'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s:deletecommand", &amp;cmdName))
<a name='L2170'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2171'>
<a name='L2172'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2173'>    <b>if</b> (self-&gt;threaded &amp;&amp; self-&gt;thread_id != Tcl_GetCurrentThread()) <font color='red'>{</font>
<a name='L2174'>        Tcl_Condition cond = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2175'>        CommandEvent *ev;
<a name='L2176'>        ev = (CommandEvent*)ckalloc(<b>sizeof</b>(CommandEvent));
<a name='L2177'>        ev-&gt;ev.proc = (Tcl_EventProc*)<a href='../S/2618.html#L2083' title='Defined at 2083 in Modules/_tkinter.c.'>Tkapp_CommandProc</a>;
<a name='L2178'>        ev-&gt;interp = self-&gt;interp;
<a name='L2179'>        ev-&gt;create = 0;
<a name='L2180'>        ev-&gt;name = cmdName;
<a name='L2181'>        ev-&gt;status = &amp;err;
<a name='L2182'>        ev-&gt;done = &amp;cond;
<a name='L2183'>        <a href='../S/2618.html#L737' title='Defined at 737 in Modules/_tkinter.c.'>Tkapp_ThreadSend</a>(self, (Tcl_Event*)ev, &amp;cond,
<a name='L2184'>                         &amp;command_mutex);
<a name='L2185'>        Tcl_ConditionFinalize(&amp;cond);
<a name='L2186'>    <font color='red'>}</font>
<a name='L2187'>    <b>else</b>
<a name='L2188'><font color='darkred'>#endif</font>
<a name='L2189'>    <font color='red'>{</font>
<a name='L2190'>        <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L2191'>        err = Tcl_DeleteCommand(self-&gt;interp, cmdName);
<a name='L2192'>        <a href='../D/1898.html' title='Multiple defined in 2 places.'>LEAVE_TCL</a>
<a name='L2193'>    <font color='red'>}</font>
<a name='L2194'>    <b>if</b> (err == -1) <font color='red'>{</font>
<a name='L2195'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Tkinter_TclError, "can't delete Tcl command");
<a name='L2196'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2197'>    <font color='red'>}</font>
<a name='L2198'>    Py_INCREF(Py_None);
<a name='L2199'>    <b>return</b> Py_None;
<a name='L2200'><font color='red'>}</font>
<a name='L2201'>
<a name='L2202'>
<a name='L2203'>
<a name='L2204'><font color='darkred'>#ifdef</font> <a href='../S/2618.html#L96' title='Defined at 96 in Modules/_tkinter.c.'>HAVE_CREATEFILEHANDLER</a>
<a name='L2205'><i><font color='green'>/** File Handler **/</font></i>
<a name='L2206'>
<a name='L2207'><b>typedef</b> <b>struct</b> <a href='../S/2618.html#L2211' title='Refered from 2211 in Modules/_tkinter.c.'>_fhcdata</a> <font color='red'>{</font>
<a name='L2208'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func;
<a name='L2209'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *file;
<a name='L2210'>    <b>int</b> id;
<a name='L2211'>    <b>struct</b> <a href='../S/2618.html#L2207' title='Defined at 2207 in Modules/_tkinter.c.'>_fhcdata</a> *next;
<a name='L2212'><font color='red'>}</font> <a href='../R/1205.html' title='Multiple refered from 7 places.'>FileHandler_ClientData</a>;
<a name='L2213'>
<a name='L2214'><b>static</b> <a href='../S/2618.html#L2212' title='Defined at 2212 in Modules/_tkinter.c.'>FileHandler_ClientData</a> *HeadFHCD;
<a name='L2215'>
<a name='L2216'><b>static</b> <a href='../S/2618.html#L2212' title='Defined at 2212 in Modules/_tkinter.c.'>FileHandler_ClientData</a> *
<a name='L2217'><a href='../S/2618.html#L2295' title='Refered from 2295 in Modules/_tkinter.c.'>NewFHCD</a>(PyObject *func, PyObject *file, <b>int</b> id)
<a name='L2218'><font color='red'>{</font>
<a name='L2219'>    <a href='../S/2618.html#L2212' title='Defined at 2212 in Modules/_tkinter.c.'>FileHandler_ClientData</a> *p;
<a name='L2220'>    p = PyMem_NEW(<a href='../S/2618.html#L2212' title='Defined at 2212 in Modules/_tkinter.c.'>FileHandler_ClientData</a>, 1);
<a name='L2221'>    <b>if</b> (p != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2222'>        <a href='../S/544.html#L766' title='Defined at 766 in Include/object.h.'>Py_XINCREF</a>(func);
<a name='L2223'>        <a href='../S/544.html#L766' title='Defined at 766 in Include/object.h.'>Py_XINCREF</a>(file);
<a name='L2224'>        p-&gt;func = func;
<a name='L2225'>        p-&gt;file = file;
<a name='L2226'>        p-&gt;id = id;
<a name='L2227'>        p-&gt;next = HeadFHCD;
<a name='L2228'>        HeadFHCD = p;
<a name='L2229'>    <font color='red'>}</font>
<a name='L2230'>    <b>return</b> p;
<a name='L2231'><font color='red'>}</font>
<a name='L2232'>
<a name='L2233'><b>static</b> <b>void</b>
<a name='L2234'><a href='../S/2618.html#L2322' title='Refered from 2322 in Modules/_tkinter.c.'>DeleteFHCD</a>(<b>int</b> id)
<a name='L2235'><font color='red'>{</font>
<a name='L2236'>    <a href='../S/2618.html#L2212' title='Defined at 2212 in Modules/_tkinter.c.'>FileHandler_ClientData</a> *p, **pp;
<a name='L2237'>
<a name='L2238'>    pp = &amp;HeadFHCD;
<a name='L2239'>    <b>while</b> ((p = *pp) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2240'>        <b>if</b> (p-&gt;id == id) <font color='red'>{</font>
<a name='L2241'>            *pp = p-&gt;next;
<a name='L2242'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(p-&gt;func);
<a name='L2243'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(p-&gt;file);
<a name='L2244'>            PyMem_DEL(p);
<a name='L2245'>        <font color='red'>}</font>
<a name='L2246'>        <b>else</b>
<a name='L2247'>            pp = &amp;p-&gt;next;
<a name='L2248'>    <font color='red'>}</font>
<a name='L2249'><font color='red'>}</font>
<a name='L2250'>
<a name='L2251'><b>static</b> <b>void</b>
<a name='L2252'><a href='../S/2618.html#L2301' title='Refered from 2301 in Modules/_tkinter.c.'>FileHandler</a>(ClientData clientData, <b>int</b> mask)
<a name='L2253'><font color='red'>{</font>
<a name='L2254'>    <a href='../S/2618.html#L2212' title='Defined at 2212 in Modules/_tkinter.c.'>FileHandler_ClientData</a> *data = (<a href='../S/2618.html#L2212' title='Defined at 2212 in Modules/_tkinter.c.'>FileHandler_ClientData</a> *)clientData;
<a name='L2255'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func, *file, *<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, *res;
<a name='L2256'>
<a name='L2257'>    <a href='../D/946.html' title='Multiple defined in 2 places.'>ENTER_PYTHON</a>
<a name='L2258'>    func = data-&gt;func;
<a name='L2259'>    file = data-&gt;file;
<a name='L2260'>
<a name='L2261'>    <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(Oi)", file, (<b>long</b>) mask);
<a name='L2262'>    res = PyEval_CallObject(func, <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L2263'>    Py_DECREF(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L2264'>
<a name='L2265'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2266'>        errorInCmd = 1;
<a name='L2267'>        <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;excInCmd, &amp;valInCmd, &amp;trbInCmd);
<a name='L2268'>    <font color='red'>}</font>
<a name='L2269'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L2270'>    <a href='../D/1897.html' title='Multiple defined in 2 places.'>LEAVE_PYTHON</a>
<a name='L2271'><font color='red'>}</font>
<a name='L2272'>
<a name='L2273'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2274'><a href='../S/2618.html#L2711' title='Refered from 2711 in Modules/_tkinter.c.'>Tkapp_CreateFileHandler</a>(PyObject *self, PyObject *args)
<a name='L2275'>     <i><font color='green'>/* args is (file, mask, func) */</font></i>
<a name='L2276'><font color='red'>{</font>
<a name='L2277'>    <a href='../S/2618.html#L2212' title='Defined at 2212 in Modules/_tkinter.c.'>FileHandler_ClientData</a> *data;
<a name='L2278'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *file, *func;
<a name='L2279'>    <b>int</b> mask, tfile;
<a name='L2280'>
<a name='L2281'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "OiO:createfilehandler",
<a name='L2282'>                          &amp;file, &amp;mask, &amp;func))
<a name='L2283'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2284'>
<a name='L2285'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L2286'>
<a name='L2287'>    tfile = <a href='../S/2790.html#L197' title='Defined at 197 in Objects/fileobject.c.'>PyObject_AsFileDescriptor</a>(file);
<a name='L2288'>    <b>if</b> (tfile &lt; 0)
<a name='L2289'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2290'>    <b>if</b> (!<a href='../S/2803.html#L1180' title='Defined at 1180 in Objects/object.c.'>PyCallable_Check</a>(func)) <font color='red'>{</font>
<a name='L2291'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "bad argument list");
<a name='L2292'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2293'>    <font color='red'>}</font>
<a name='L2294'>
<a name='L2295'>    data = <a href='../S/2618.html#L2217' title='Defined at 2217 in Modules/_tkinter.c.'>NewFHCD</a>(func, file, tfile);
<a name='L2296'>    <b>if</b> (data == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2297'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2298'>
<a name='L2299'>    <i><font color='green'>/* Ought to check for null Tcl_File object... */</font></i>
<a name='L2300'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L2301'>    Tcl_CreateFileHandler(tfile, mask, <a href='../S/2618.html#L2252' title='Defined at 2252 in Modules/_tkinter.c.'>FileHandler</a>, (ClientData) data);
<a name='L2302'>    <a href='../D/1898.html' title='Multiple defined in 2 places.'>LEAVE_TCL</a>
<a name='L2303'>    Py_INCREF(Py_None);
<a name='L2304'>    <b>return</b> Py_None;
<a name='L2305'><font color='red'>}</font>
<a name='L2306'>
<a name='L2307'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2308'><a href='../S/2618.html#L2712' title='Refered from 2712 in Modules/_tkinter.c.'>Tkapp_DeleteFileHandler</a>(PyObject *self, PyObject *args)
<a name='L2309'><font color='red'>{</font>
<a name='L2310'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *file;
<a name='L2311'>    <b>int</b> tfile;
<a name='L2312'>
<a name='L2313'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O:deletefilehandler", &amp;file))
<a name='L2314'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2315'>
<a name='L2316'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L2317'>
<a name='L2318'>    tfile = <a href='../S/2790.html#L197' title='Defined at 197 in Objects/fileobject.c.'>PyObject_AsFileDescriptor</a>(file);
<a name='L2319'>    <b>if</b> (tfile &lt; 0)
<a name='L2320'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2321'>
<a name='L2322'>    <a href='../S/2618.html#L2234' title='Defined at 2234 in Modules/_tkinter.c.'>DeleteFHCD</a>(tfile);
<a name='L2323'>
<a name='L2324'>    <i><font color='green'>/* Ought to check for null Tcl_File object... */</font></i>
<a name='L2325'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L2326'>    Tcl_DeleteFileHandler(tfile);
<a name='L2327'>    <a href='../D/1898.html' title='Multiple defined in 2 places.'>LEAVE_TCL</a>
<a name='L2328'>    Py_INCREF(Py_None);
<a name='L2329'>    <b>return</b> Py_None;
<a name='L2330'><font color='red'>}</font>
<a name='L2331'><font color='darkred'>#endif</font> <i><font color='green'>/* HAVE_CREATEFILEHANDLER */</font></i>
<a name='L2332'>
<a name='L2333'>
<a name='L2334'><i><font color='green'>/**** Tktt Object (timer token) ****/</font></i>
<a name='L2335'>
<a name='L2336'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> Tktt_Type;
<a name='L2337'>
<a name='L2338'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L2339'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L2340'>    Tcl_TimerToken token;
<a name='L2341'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func;
<a name='L2342'><font color='red'>}</font> <a href='../R/4689.html' title='Multiple refered from 9 places.'>TkttObject</a>;
<a name='L2343'>
<a name='L2344'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2345'><a href='../S/2618.html#L2367' title='Refered from 2367 in Modules/_tkinter.c.'>Tktt_DeleteTimerHandler</a>(PyObject *self, PyObject *args)
<a name='L2346'><font color='red'>{</font>
<a name='L2347'>    <a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *v = (<a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *)self;
<a name='L2348'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func = v-&gt;func;
<a name='L2349'>
<a name='L2350'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":deletetimerhandler"))
<a name='L2351'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2352'>    <b>if</b> (v-&gt;token != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2353'>        Tcl_DeleteTimerHandler(v-&gt;token);
<a name='L2354'>        v-&gt;token = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2355'>    <font color='red'>}</font>
<a name='L2356'>    <b>if</b> (func != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2357'>        v-&gt;func = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2358'>        Py_DECREF(func);
<a name='L2359'>        Py_DECREF(v); <i><font color='green'>/* See Tktt_New() */</font></i>
<a name='L2360'>    <font color='red'>}</font>
<a name='L2361'>    Py_INCREF(Py_None);
<a name='L2362'>    <b>return</b> Py_None;
<a name='L2363'><font color='red'>}</font>
<a name='L2364'>
<a name='L2365'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> Tktt_methods[] =
<a name='L2366'><font color='red'>{</font>
<a name='L2367'>    <font color='red'>{</font>"deletetimerhandler", <a href='../S/2618.html#L2345' title='Defined at 2345 in Modules/_tkinter.c.'>Tktt_DeleteTimerHandler</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2368'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2369'><font color='red'>}</font>;
<a name='L2370'>
<a name='L2371'><b>static</b> <a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *
<a name='L2372'><a href='../S/2618.html#L2492' title='Refered from 2492 in Modules/_tkinter.c.'>Tktt_New</a>(PyObject *func)
<a name='L2373'><font color='red'>{</font>
<a name='L2374'>    <a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *v;
<a name='L2375'>
<a name='L2376'>    v = PyObject_New(<a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a>, &amp;Tktt_Type);
<a name='L2377'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2378'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2379'>
<a name='L2380'>    Py_INCREF(func);
<a name='L2381'>    v-&gt;token = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2382'>    v-&gt;func = func;
<a name='L2383'>
<a name='L2384'>    <i><font color='green'>/* Extra reference, deleted when called or when handler is deleted */</font></i>
<a name='L2385'>    Py_INCREF(v);
<a name='L2386'>    <b>return</b> v;
<a name='L2387'><font color='red'>}</font>
<a name='L2388'>
<a name='L2389'><b>static</b> <b>void</b>
<a name='L2390'><a href='../S/2618.html#L2417' title='Refered from 2417 in Modules/_tkinter.c.'>Tktt_Dealloc</a>(PyObject *self)
<a name='L2391'><font color='red'>{</font>
<a name='L2392'>    <a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *v = (<a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *)self;
<a name='L2393'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func = v-&gt;func;
<a name='L2394'>
<a name='L2395'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(func);
<a name='L2396'>
<a name='L2397'>    PyObject_Del(self);
<a name='L2398'><font color='red'>}</font>
<a name='L2399'>
<a name='L2400'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2401'><a href='../S/2618.html#L2422' title='Refered from 2422 in Modules/_tkinter.c.'>Tktt_Repr</a>(PyObject *self)
<a name='L2402'><font color='red'>{</font>
<a name='L2403'>    <a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *v = (<a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *)self;
<a name='L2404'>    <b>char</b> buf[100];
<a name='L2405'>
<a name='L2406'>    <a href='../S/3126.html#L41' title='Defined at 41 in Python/mysnprintf.c.'>PyOS_snprintf</a>(buf, <b>sizeof</b>(buf), "&lt;tktimertoken at %p%s&gt;", v,
<a name='L2407'>                    v-&gt;func == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ? ", handler deleted" : "");
<a name='L2408'>    <b>return</b> <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(buf);
<a name='L2409'><font color='red'>}</font>
<a name='L2410'>
<a name='L2411'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> Tktt_Type =
<a name='L2412'><font color='red'>{</font>
<a name='L2413'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L2414'>    "tktimertoken",                          <i><font color='green'>/*tp_name */</font></i>
<a name='L2415'>    <b>sizeof</b>(<a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a>),                      <i><font color='green'>/*tp_basicsize */</font></i>
<a name='L2416'>    0,                                       <i><font color='green'>/*tp_itemsize */</font></i>
<a name='L2417'>    <a href='../S/2618.html#L2390' title='Defined at 2390 in Modules/_tkinter.c.'>Tktt_Dealloc</a>,                            <i><font color='green'>/*tp_dealloc */</font></i>
<a name='L2418'>    0,                                       <i><font color='green'>/*tp_print */</font></i>
<a name='L2419'>    0,                                       <i><font color='green'>/*tp_getattr */</font></i>
<a name='L2420'>    0,                                       <i><font color='green'>/*tp_setattr */</font></i>
<a name='L2421'>    0,                                       <i><font color='green'>/*tp_reserved */</font></i>
<a name='L2422'>    <a href='../S/2618.html#L2401' title='Defined at 2401 in Modules/_tkinter.c.'>Tktt_Repr</a>,                               <i><font color='green'>/*tp_repr */</font></i>
<a name='L2423'>    0,                                       <i><font color='green'>/*tp_as_number */</font></i>
<a name='L2424'>    0,                                       <i><font color='green'>/*tp_as_sequence */</font></i>
<a name='L2425'>    0,                                       <i><font color='green'>/*tp_as_mapping */</font></i>
<a name='L2426'>    0,                                       <i><font color='green'>/*tp_hash */</font></i>
<a name='L2427'>    0,                                       <i><font color='green'>/*tp_call*/</font></i>
<a name='L2428'>    0,                                       <i><font color='green'>/*tp_str*/</font></i>
<a name='L2429'>    0,                                       <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L2430'>    0,                                       <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L2431'>    0,                                       <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L2432'>    Py_TPFLAGS_DEFAULT,                      <i><font color='green'>/*tp_flags*/</font></i>
<a name='L2433'>    0,                                       <i><font color='green'>/*tp_doc*/</font></i>
<a name='L2434'>    0,                                       <i><font color='green'>/*tp_traverse*/</font></i>
<a name='L2435'>    0,                                       <i><font color='green'>/*tp_clear*/</font></i>
<a name='L2436'>    0,                                       <i><font color='green'>/*tp_richcompare*/</font></i>
<a name='L2437'>    0,                                       <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L2438'>    0,                                       <i><font color='green'>/*tp_iter*/</font></i>
<a name='L2439'>    0,                                       <i><font color='green'>/*tp_iternext*/</font></i>
<a name='L2440'>    Tktt_methods,                            <i><font color='green'>/*tp_methods*/</font></i>
<a name='L2441'><font color='red'>}</font>;
<a name='L2442'>
<a name='L2443'>
<a name='L2444'>
<a name='L2445'><i><font color='green'>/** Timer Handler **/</font></i>
<a name='L2446'>
<a name='L2447'><b>static</b> <b>void</b>
<a name='L2448'><a href='../S/2618.html#L2494' title='Refered from 2494 in Modules/_tkinter.c.'>TimerHandler</a>(ClientData clientData)
<a name='L2449'><font color='red'>{</font>
<a name='L2450'>    <a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *v = (<a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *)clientData;
<a name='L2451'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func = v-&gt;func;
<a name='L2452'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res;
<a name='L2453'>
<a name='L2454'>    <b>if</b> (func == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2455'>        <b>return</b>;
<a name='L2456'>
<a name='L2457'>    v-&gt;func = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2458'>
<a name='L2459'>    <a href='../D/946.html' title='Multiple defined in 2 places.'>ENTER_PYTHON</a>
<a name='L2460'>
<a name='L2461'>    res  = PyEval_CallObject(func, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2462'>    Py_DECREF(func);
<a name='L2463'>    Py_DECREF(v); <i><font color='green'>/* See Tktt_New() */</font></i>
<a name='L2464'>
<a name='L2465'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2466'>        errorInCmd = 1;
<a name='L2467'>        <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;excInCmd, &amp;valInCmd, &amp;trbInCmd);
<a name='L2468'>    <font color='red'>}</font>
<a name='L2469'>    <b>else</b>
<a name='L2470'>        Py_DECREF(res);
<a name='L2471'>
<a name='L2472'>    <a href='../D/1897.html' title='Multiple defined in 2 places.'>LEAVE_PYTHON</a>
<a name='L2473'><font color='red'>}</font>
<a name='L2474'>
<a name='L2475'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2476'><a href='../S/2618.html#L2714' title='Refered from 2714 in Modules/_tkinter.c.'>Tkapp_CreateTimerHandler</a>(PyObject *self, PyObject *args)
<a name='L2477'><font color='red'>{</font>
<a name='L2478'>    <b>int</b> milliseconds;
<a name='L2479'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func;
<a name='L2480'>    <a href='../S/2618.html#L2342' title='Defined at 2342 in Modules/_tkinter.c.'>TkttObject</a> *v;
<a name='L2481'>
<a name='L2482'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "iO:createtimerhandler",
<a name='L2483'>                          &amp;milliseconds, &amp;func))
<a name='L2484'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2485'>    <b>if</b> (!<a href='../S/2803.html#L1180' title='Defined at 1180 in Objects/object.c.'>PyCallable_Check</a>(func)) <font color='red'>{</font>
<a name='L2486'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "bad argument list");
<a name='L2487'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2488'>    <font color='red'>}</font>
<a name='L2489'>
<a name='L2490'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L2491'>
<a name='L2492'>    v = <a href='../S/2618.html#L2372' title='Defined at 2372 in Modules/_tkinter.c.'>Tktt_New</a>(func);
<a name='L2493'>    <b>if</b> (v) <font color='red'>{</font>
<a name='L2494'>        v-&gt;token = Tcl_CreateTimerHandler(milliseconds, <a href='../S/2618.html#L2448' title='Defined at 2448 in Modules/_tkinter.c.'>TimerHandler</a>,
<a name='L2495'>                                          (ClientData)v);
<a name='L2496'>    <font color='red'>}</font>
<a name='L2497'>
<a name='L2498'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) v;
<a name='L2499'><font color='red'>}</font>
<a name='L2500'>
<a name='L2501'>
<a name='L2502'><i><font color='green'>/** Event Loop **/</font></i>
<a name='L2503'>
<a name='L2504'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2505'><a href='../S/2618.html#L2715' title='Refered from 2715 in Modules/_tkinter.c.'>Tkapp_MainLoop</a>(PyObject *selfptr, PyObject *args)
<a name='L2506'><font color='red'>{</font>
<a name='L2507'>    <b>int</b> threshold = 0;
<a name='L2508'>    <a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a> *self = (<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)selfptr;
<a name='L2509'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2510'>    <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *tstate = <a href='../S/3134.html#L368' title='Defined at 368 in Python/pystate.c.'>PyThreadState_Get</a>();
<a name='L2511'><font color='darkred'>#endif</font>
<a name='L2512'>
<a name='L2513'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|i:mainloop", &amp;threshold))
<a name='L2514'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2515'>
<a name='L2516'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L2517'>    self-&gt;dispatching = 1;
<a name='L2518'>
<a name='L2519'>    quitMainLoop = 0;
<a name='L2520'>    <b>while</b> (Tk_GetNumMainWindows() &gt; threshold &amp;&amp;
<a name='L2521'>           !quitMainLoop &amp;&amp;
<a name='L2522'>           !errorInCmd)
<a name='L2523'>    <font color='red'>{</font>
<a name='L2524'>        <b>int</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2525'>
<a name='L2526'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2527'>        <b>if</b> (self-&gt;threaded) <font color='red'>{</font>
<a name='L2528'>            <i><font color='green'>/* Allow other Python threads to run. */</font></i>
<a name='L2529'>            <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L2530'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Tcl_DoOneEvent(0);
<a name='L2531'>            <a href='../D/1898.html' title='Multiple defined in 2 places.'>LEAVE_TCL</a>
<a name='L2532'>        <font color='red'>}</font>
<a name='L2533'>        <b>else</b> <font color='red'>{</font>
<a name='L2534'>            <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L2535'>            <b>if</b>(tcl_lock)<a href='../D/3846.html' title='Multiple defined in 10 places.'>PyThread_acquire_lock</a>(tcl_lock, 1);
<a name='L2536'>            <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = tstate;
<a name='L2537'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Tcl_DoOneEvent(TCL_DONT_WAIT);
<a name='L2538'>            <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2539'>            <b>if</b>(tcl_lock)<a href='../D/3858.html' title='Multiple defined in 11 places.'>PyThread_release_lock</a>(tcl_lock);
<a name='L2540'>            <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == 0)
<a name='L2541'>                <a href='../S/2618.html#L307' title='Defined at 307 in Modules/_tkinter.c.'>Sleep</a>(Tkinter_busywaitinterval);
<a name='L2542'>            <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L2543'>        <font color='red'>}</font>
<a name='L2544'><font color='darkred'>#else</font>
<a name='L2545'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Tcl_DoOneEvent(0);
<a name='L2546'><font color='darkred'>#endif</font>
<a name='L2547'>
<a name='L2548'>        <b>if</b> (<a href='../D/3143.html' title='Multiple defined in 2 places.'>PyErr_CheckSignals</a>() != 0) <font color='red'>{</font>
<a name='L2549'>            self-&gt;dispatching = 0;
<a name='L2550'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2551'>        <font color='red'>}</font>
<a name='L2552'>        <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> &lt; 0)
<a name='L2553'>            <b>break</b>;
<a name='L2554'>    <font color='red'>}</font>
<a name='L2555'>    self-&gt;dispatching = 0;
<a name='L2556'>    quitMainLoop = 0;
<a name='L2557'>
<a name='L2558'>    <b>if</b> (errorInCmd) <font color='red'>{</font>
<a name='L2559'>        errorInCmd = 0;
<a name='L2560'>        <a href='../S/3106.html#L25' title='Defined at 25 in Python/errors.c.'>PyErr_Restore</a>(excInCmd, valInCmd, trbInCmd);
<a name='L2561'>        excInCmd = valInCmd = trbInCmd = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2562'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2563'>    <font color='red'>}</font>
<a name='L2564'>    Py_INCREF(Py_None);
<a name='L2565'>    <b>return</b> Py_None;
<a name='L2566'><font color='red'>}</font>
<a name='L2567'>
<a name='L2568'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2569'><a href='../S/2618.html#L2716' title='Refered from 2716 in Modules/_tkinter.c.'>Tkapp_DoOneEvent</a>(PyObject *self, PyObject *args)
<a name='L2570'><font color='red'>{</font>
<a name='L2571'>    <b>int</b> <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> = 0;
<a name='L2572'>    <b>int</b> rv;
<a name='L2573'>
<a name='L2574'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|i:dooneevent", &amp;<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>))
<a name='L2575'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2576'>
<a name='L2577'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L2578'>    rv = Tcl_DoOneEvent(<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L2579'>    <a href='../D/1898.html' title='Multiple defined in 2 places.'>LEAVE_TCL</a>
<a name='L2580'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("i", rv);
<a name='L2581'><font color='red'>}</font>
<a name='L2582'>
<a name='L2583'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2584'><a href='../S/2618.html#L2717' title='Refered from 2717 in Modules/_tkinter.c.'>Tkapp_Quit</a>(PyObject *self, PyObject *args)
<a name='L2585'><font color='red'>{</font>
<a name='L2586'>
<a name='L2587'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":quit"))
<a name='L2588'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2589'>
<a name='L2590'>    quitMainLoop = 1;
<a name='L2591'>    Py_INCREF(Py_None);
<a name='L2592'>    <b>return</b> Py_None;
<a name='L2593'><font color='red'>}</font>
<a name='L2594'>
<a name='L2595'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2596'><a href='../S/2618.html#L2718' title='Refered from 2718 in Modules/_tkinter.c.'>Tkapp_InterpAddr</a>(PyObject *self, PyObject *args)
<a name='L2597'><font color='red'>{</font>
<a name='L2598'>
<a name='L2599'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":interpaddr"))
<a name='L2600'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2601'>
<a name='L2602'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((<b>long</b>)<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self));
<a name='L2603'><font color='red'>}</font>
<a name='L2604'>
<a name='L2605'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2606'><a href='../S/2618.html#L2719' title='Refered from 2719 in Modules/_tkinter.c.'>Tkapp_TkInit</a>(PyObject *self, PyObject *args)
<a name='L2607'><font color='red'>{</font>
<a name='L2608'>    Tcl_Interp *interp = <a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self);
<a name='L2609'>    <b>const</b> <b>char</b> * _tk_exists = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2610'>    <b>int</b> err;
<a name='L2611'>
<a name='L2612'><font color='darkred'>#ifdef</font> <a href='../S/2722.html#L22' title='Defined at 22 in Modules/tkinter.h.'>TKINTER_PROTECT_LOADTK</a>
<a name='L2613'>    <i><font color='green'>/* Up to Tk 8.4.13, Tk_Init deadlocks on the second call when the</font></i>
<a name='L2614'><i><font color='green'>     * first call failed.</font></i>
<a name='L2615'><i><font color='green'>     * To avoid the deadlock, we just refuse the second call through</font></i>
<a name='L2616'><i><font color='green'>     * a static variable.</font></i>
<a name='L2617'><i><font color='green'>     */</font></i>
<a name='L2618'>    <b>if</b> (tk_load_failed) <font color='red'>{</font>
<a name='L2619'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Tkinter_TclError, <a href='../S/2722.html#L23' title='Defined at 23 in Modules/tkinter.h.'>TKINTER_LOADTK_ERRMSG</a>);
<a name='L2620'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2621'>    <font color='red'>}</font>
<a name='L2622'><font color='darkred'>#endif</font>
<a name='L2623'>
<a name='L2624'>    <i><font color='green'>/* We want to guard against calling Tk_Init() multiple times */</font></i>
<a name='L2625'>    <a href='../D/540.html' title='Multiple defined in 2 places.'>CHECK_TCL_APPARTMENT</a>;
<a name='L2626'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L2627'>    err = Tcl_Eval(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self), "info exists     tk_version");
<a name='L2628'>    <a href='../D/945.html' title='Multiple defined in 2 places.'>ENTER_OVERLAP</a>
<a name='L2629'>    <b>if</b> (err == TCL_ERROR) <font color='red'>{</font>
<a name='L2630'>        <i><font color='green'>/* This sets an exception, but we cannot return right</font></i>
<a name='L2631'><i><font color='green'>           away because we need to exit the overlap first. */</font></i>
<a name='L2632'>        <a href='../S/2618.html#L289' title='Defined at 289 in Modules/_tkinter.c.'>Tkinter_Error</a>(self);
<a name='L2633'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2634'>        _tk_exists = <a href='../S/2618.html#L267' title='Defined at 267 in Modules/_tkinter.c.'>Tkapp_Result</a>(self);
<a name='L2635'>    <font color='red'>}</font>
<a name='L2636'>    <a href='../D/1896.html' title='Multiple defined in 2 places.'>LEAVE_OVERLAP_TCL</a>
<a name='L2637'>    <b>if</b> (err == TCL_ERROR) <font color='red'>{</font>
<a name='L2638'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2639'>    <font color='red'>}</font>
<a name='L2640'>    <b>if</b> (_tk_exists == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || strcmp(_tk_exists, "1") != 0)     <font color='red'>{</font>
<a name='L2641'>        <b>if</b> (Tk_Init(interp)             == TCL_ERROR) <font color='red'>{</font>
<a name='L2642'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Tkinter_TclError, Tcl_GetStringResult(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self)));
<a name='L2643'><font color='darkred'>#ifdef</font> <a href='../S/2722.html#L22' title='Defined at 22 in Modules/tkinter.h.'>TKINTER_PROTECT_LOADTK</a>
<a name='L2644'>            tk_load_failed = 1;
<a name='L2645'><font color='darkred'>#endif</font>
<a name='L2646'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2647'>        <font color='red'>}</font>
<a name='L2648'>    <font color='red'>}</font>
<a name='L2649'>    Py_INCREF(Py_None);
<a name='L2650'>    <b>return</b> Py_None;
<a name='L2651'><font color='red'>}</font>
<a name='L2652'>
<a name='L2653'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2654'><a href='../S/2618.html#L2684' title='Refered from 2684 in Modules/_tkinter.c.'>Tkapp_WantObjects</a>(PyObject *self, PyObject *args)
<a name='L2655'><font color='red'>{</font>
<a name='L2656'>
<a name='L2657'>    <b>int</b> wantobjects = -1;
<a name='L2658'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|i:wantobjects", &amp;wantobjects))
<a name='L2659'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2660'>    <b>if</b> (wantobjects == -1)
<a name='L2661'>        <b>return</b> <a href='../D/2761.html' title='Multiple defined in 2 places.'>PyBool_FromLong</a>(((<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)self)-&gt;wantobjects);
<a name='L2662'>    ((<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)self)-&gt;wantobjects = wantobjects;
<a name='L2663'>
<a name='L2664'>    Py_INCREF(Py_None);
<a name='L2665'>    <b>return</b> Py_None;
<a name='L2666'><font color='red'>}</font>
<a name='L2667'>
<a name='L2668'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2669'><a href='../S/2618.html#L2683' title='Refered from 2683 in Modules/_tkinter.c.'>Tkapp_WillDispatch</a>(PyObject *self, PyObject *args)
<a name='L2670'><font color='red'>{</font>
<a name='L2671'>
<a name='L2672'>    ((<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>*)self)-&gt;dispatching = 1;
<a name='L2673'>
<a name='L2674'>    Py_INCREF(Py_None);
<a name='L2675'>    <b>return</b> Py_None;
<a name='L2676'><font color='red'>}</font>
<a name='L2677'>
<a name='L2678'>
<a name='L2679'><i><font color='green'>/**** Tkapp Method List ****/</font></i>
<a name='L2680'>
<a name='L2681'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> Tkapp_methods[] =
<a name='L2682'><font color='red'>{</font>
<a name='L2683'>    <font color='red'>{</font>"willdispatch",       <a href='../S/2618.html#L2669' title='Defined at 2669 in Modules/_tkinter.c.'>Tkapp_WillDispatch</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2684'>    <font color='red'>{</font>"wantobjects",            <a href='../S/2618.html#L2654' title='Defined at 2654 in Modules/_tkinter.c.'>Tkapp_WantObjects</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2685'>    <font color='red'>{</font>"call",                   <a href='../S/2618.html#L1277' title='Defined at 1277 in Modules/_tkinter.c.'>Tkapp_Call</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2686'>    <font color='red'>{</font>"globalcall",             <a href='../S/2618.html#L1349' title='Defined at 1349 in Modules/_tkinter.c.'>Tkapp_GlobalCall</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2687'>    <font color='red'>{</font>"eval",                   <a href='../S/2618.html#L1380' title='Defined at 1380 in Modules/_tkinter.c.'>Tkapp_Eval</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2688'>    <font color='red'>{</font>"globaleval",             <a href='../S/2618.html#L1403' title='Defined at 1403 in Modules/_tkinter.c.'>Tkapp_GlobalEval</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2689'>    <font color='red'>{</font>"evalfile",               <a href='../S/2618.html#L1426' title='Defined at 1426 in Modules/_tkinter.c.'>Tkapp_EvalFile</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2690'>    <font color='red'>{</font>"record",                 <a href='../S/2618.html#L1450' title='Defined at 1450 in Modules/_tkinter.c.'>Tkapp_Record</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2691'>    <font color='red'>{</font>"adderrorinfo",       <a href='../S/2618.html#L1473' title='Defined at 1473 in Modules/_tkinter.c.'>Tkapp_AddErrorInfo</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2692'>    <font color='red'>{</font>"setvar",                 <a href='../S/2618.html#L1656' title='Defined at 1656 in Modules/_tkinter.c.'>Tkapp_SetVar</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2693'>    <font color='red'>{</font>"globalsetvar",       <a href='../S/2618.html#L1662' title='Defined at 1662 in Modules/_tkinter.c.'>Tkapp_GlobalSetVar</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2694'>    <font color='red'>{</font>"getvar",                 <a href='../S/2618.html#L1698' title='Defined at 1698 in Modules/_tkinter.c.'>Tkapp_GetVar</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2695'>    <font color='red'>{</font>"globalgetvar",       <a href='../S/2618.html#L1704' title='Defined at 1704 in Modules/_tkinter.c.'>Tkapp_GlobalGetVar</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2696'>    <font color='red'>{</font>"unsetvar",               <a href='../S/2618.html#L1735' title='Defined at 1735 in Modules/_tkinter.c.'>Tkapp_UnsetVar</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2697'>    <font color='red'>{</font>"globalunsetvar",     <a href='../S/2618.html#L1741' title='Defined at 1741 in Modules/_tkinter.c.'>Tkapp_GlobalUnsetVar</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2698'>    <font color='red'>{</font>"getint",                 <a href='../S/2618.html#L1751' title='Defined at 1751 in Modules/_tkinter.c.'>Tkapp_GetInt</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2699'>    <font color='red'>{</font>"getdouble",              <a href='../S/2618.html#L1771' title='Defined at 1771 in Modules/_tkinter.c.'>Tkapp_GetDouble</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2700'>    <font color='red'>{</font>"getboolean",             <a href='../S/2618.html#L1791' title='Defined at 1791 in Modules/_tkinter.c.'>Tkapp_GetBoolean</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2701'>    <font color='red'>{</font>"exprstring",             <a href='../S/2618.html#L1811' title='Defined at 1811 in Modules/_tkinter.c.'>Tkapp_ExprString</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2702'>    <font color='red'>{</font>"exprlong",               <a href='../S/2618.html#L1834' title='Defined at 1834 in Modules/_tkinter.c.'>Tkapp_ExprLong</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2703'>    <font color='red'>{</font>"exprdouble",             <a href='../S/2618.html#L1858' title='Defined at 1858 in Modules/_tkinter.c.'>Tkapp_ExprDouble</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2704'>    <font color='red'>{</font>"exprboolean",        <a href='../S/2618.html#L1882' title='Defined at 1882 in Modules/_tkinter.c.'>Tkapp_ExprBoolean</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2705'>    <font color='red'>{</font>"splitlist",              <a href='../S/2618.html#L1906' title='Defined at 1906 in Modules/_tkinter.c.'>Tkapp_SplitList</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2706'>    <font color='red'>{</font>"split",                  <a href='../S/2618.html#L1949' title='Defined at 1949 in Modules/_tkinter.c.'>Tkapp_Split</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2707'>    <font color='red'>{</font>"merge",                  <a href='../S/2618.html#L1969' title='Defined at 1969 in Modules/_tkinter.c.'>Tkapp_Merge</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2708'>    <font color='red'>{</font>"createcommand",      <a href='../S/2618.html#L2099' title='Defined at 2099 in Modules/_tkinter.c.'>Tkapp_CreateCommand</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2709'>    <font color='red'>{</font>"deletecommand",      <a href='../S/2618.html#L2163' title='Defined at 2163 in Modules/_tkinter.c.'>Tkapp_DeleteCommand</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2710'><font color='darkred'>#ifdef</font> <a href='../S/2618.html#L96' title='Defined at 96 in Modules/_tkinter.c.'>HAVE_CREATEFILEHANDLER</a>
<a name='L2711'>    <font color='red'>{</font>"createfilehandler",  <a href='../S/2618.html#L2274' title='Defined at 2274 in Modules/_tkinter.c.'>Tkapp_CreateFileHandler</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2712'>    <font color='red'>{</font>"deletefilehandler",  <a href='../S/2618.html#L2308' title='Defined at 2308 in Modules/_tkinter.c.'>Tkapp_DeleteFileHandler</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2713'><font color='darkred'>#endif</font>
<a name='L2714'>    <font color='red'>{</font>"createtimerhandler", <a href='../S/2618.html#L2476' title='Defined at 2476 in Modules/_tkinter.c.'>Tkapp_CreateTimerHandler</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2715'>    <font color='red'>{</font>"mainloop",               <a href='../S/2618.html#L2505' title='Defined at 2505 in Modules/_tkinter.c.'>Tkapp_MainLoop</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2716'>    <font color='red'>{</font>"dooneevent",             <a href='../S/2618.html#L2569' title='Defined at 2569 in Modules/_tkinter.c.'>Tkapp_DoOneEvent</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2717'>    <font color='red'>{</font>"quit",                   <a href='../S/2618.html#L2584' title='Defined at 2584 in Modules/_tkinter.c.'>Tkapp_Quit</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2718'>    <font color='red'>{</font>"interpaddr",         <a href='../S/2618.html#L2596' title='Defined at 2596 in Modules/_tkinter.c.'>Tkapp_InterpAddr</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2719'>    <font color='red'>{</font>"loadtk",                 <a href='../S/2618.html#L2606' title='Defined at 2606 in Modules/_tkinter.c.'>Tkapp_TkInit</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2720'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                     <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2721'><font color='red'>}</font>;
<a name='L2722'>
<a name='L2723'>
<a name='L2724'>
<a name='L2725'><i><font color='green'>/**** Tkapp Type Methods ****/</font></i>
<a name='L2726'>
<a name='L2727'><b>static</b> <b>void</b>
<a name='L2728'><a href='../S/2618.html#L2744' title='Refered from 2744 in Modules/_tkinter.c.'>Tkapp_Dealloc</a>(PyObject *self)
<a name='L2729'><font color='red'>{</font>
<a name='L2730'>    <i><font color='green'>/*CHECK_TCL_APPARTMENT;*/</font></i>
<a name='L2731'>    <a href='../D/947.html' title='Multiple defined in 2 places.'>ENTER_TCL</a>
<a name='L2732'>    Tcl_DeleteInterp(<a href='../S/2618.html#L266' title='Defined at 266 in Modules/_tkinter.c.'>Tkapp_Interp</a>(self));
<a name='L2733'>    <a href='../D/1898.html' title='Multiple defined in 2 places.'>LEAVE_TCL</a>
<a name='L2734'>    PyObject_Del(self);
<a name='L2735'>    <a href='../S/2618.html#L3047' title='Defined at 3047 in Modules/_tkinter.c.'>DisableEventHook</a>();
<a name='L2736'><font color='red'>}</font>
<a name='L2737'>
<a name='L2738'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> Tkapp_Type =
<a name='L2739'><font color='red'>{</font>
<a name='L2740'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L2741'>    "tkapp",                                 <i><font color='green'>/*tp_name */</font></i>
<a name='L2742'>    <b>sizeof</b>(<a href='../S/2618.html#L263' title='Defined at 263 in Modules/_tkinter.c.'>TkappObject</a>),                     <i><font color='green'>/*tp_basicsize */</font></i>
<a name='L2743'>    0,                                       <i><font color='green'>/*tp_itemsize */</font></i>
<a name='L2744'>    <a href='../S/2618.html#L2728' title='Defined at 2728 in Modules/_tkinter.c.'>Tkapp_Dealloc</a>,                           <i><font color='green'>/*tp_dealloc */</font></i>
<a name='L2745'>    0,                                       <i><font color='green'>/*tp_print */</font></i>
<a name='L2746'>    0,                                       <i><font color='green'>/*tp_getattr */</font></i>
<a name='L2747'>    0,                                       <i><font color='green'>/*tp_setattr */</font></i>
<a name='L2748'>    0,                                       <i><font color='green'>/*tp_reserved */</font></i>
<a name='L2749'>    0,                                       <i><font color='green'>/*tp_repr */</font></i>
<a name='L2750'>    0,                                       <i><font color='green'>/*tp_as_number */</font></i>
<a name='L2751'>    0,                                       <i><font color='green'>/*tp_as_sequence */</font></i>
<a name='L2752'>    0,                                       <i><font color='green'>/*tp_as_mapping */</font></i>
<a name='L2753'>    0,                                       <i><font color='green'>/*tp_hash */</font></i>
<a name='L2754'>    0,                                       <i><font color='green'>/*tp_call*/</font></i>
<a name='L2755'>    0,                                       <i><font color='green'>/*tp_str*/</font></i>
<a name='L2756'>    0,                                       <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L2757'>    0,                                       <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L2758'>    0,                                       <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L2759'>    Py_TPFLAGS_DEFAULT,                      <i><font color='green'>/*tp_flags*/</font></i>
<a name='L2760'>    0,                                       <i><font color='green'>/*tp_doc*/</font></i>
<a name='L2761'>    0,                                       <i><font color='green'>/*tp_traverse*/</font></i>
<a name='L2762'>    0,                                       <i><font color='green'>/*tp_clear*/</font></i>
<a name='L2763'>    0,                                       <i><font color='green'>/*tp_richcompare*/</font></i>
<a name='L2764'>    0,                                       <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L2765'>    0,                                       <i><font color='green'>/*tp_iter*/</font></i>
<a name='L2766'>    0,                                       <i><font color='green'>/*tp_iternext*/</font></i>
<a name='L2767'>    Tkapp_methods,                           <i><font color='green'>/*tp_methods*/</font></i>
<a name='L2768'><font color='red'>}</font>;
<a name='L2769'>
<a name='L2770'>
<a name='L2771'>
<a name='L2772'><i><font color='green'>/**** Tkinter Module ****/</font></i>
<a name='L2773'>
<a name='L2774'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L2775'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* tuple;
<a name='L2776'>    <b>int</b> size; <i><font color='green'>/* current size */</font></i>
<a name='L2777'>    <b>int</b> maxsize; <i><font color='green'>/* allocated size */</font></i>
<a name='L2778'><font color='red'>}</font> <a href='../S/2618.html#L2858' title='Refered from 2858 in Modules/_tkinter.c.'>FlattenContext</a>;
<a name='L2779'>
<a name='L2780'><b>static</b> <b>int</b>
<a name='L2781'><a href='../R/5712.html' title='Multiple refered from 4 places.'>_bump</a>(FlattenContext* context, <b>int</b> size)
<a name='L2782'><font color='red'>{</font>
<a name='L2783'>    <i><font color='green'>/* expand tuple to hold (at least) size new items.</font></i>
<a name='L2784'><i><font color='green'>       return true if successful, false if an exception was raised */</font></i>
<a name='L2785'>
<a name='L2786'>    <b>int</b> maxsize = context-&gt;maxsize * 2;
<a name='L2787'>
<a name='L2788'>    <b>if</b> (maxsize &lt; context-&gt;size + size)
<a name='L2789'>        maxsize = context-&gt;size + size;
<a name='L2790'>
<a name='L2791'>    context-&gt;maxsize = maxsize;
<a name='L2792'>
<a name='L2793'>    <b>return</b> <a href='../S/2823.html#L823' title='Defined at 823 in Objects/tupleobject.c.'>_PyTuple_Resize</a>(&amp;context-&gt;tuple, maxsize) &gt;= 0;
<a name='L2794'><font color='red'>}</font>
<a name='L2795'>
<a name='L2796'><b>static</b> <b>int</b>
<a name='L2797'><a href='../R/5762.html' title='Multiple refered from 3 places.'>_flatten1</a>(FlattenContext* context, PyObject* item, <b>int</b> depth)
<a name='L2798'><font color='red'>{</font>
<a name='L2799'>    <i><font color='green'>/* add tuple or list to argument tuple (recursively) */</font></i>
<a name='L2800'>
<a name='L2801'>    <b>int</b> i, size;
<a name='L2802'>
<a name='L2803'>    <b>if</b> (depth &gt; 1000) <font color='red'>{</font>
<a name='L2804'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L2805'>                        "nesting too deep in _flatten");
<a name='L2806'>        <b>return</b> 0;
<a name='L2807'>    <font color='red'>}</font> <b>else</b> <b>if</b> (PyList_Check(item)) <font color='red'>{</font>
<a name='L2808'>        size = <a href='../S/534.html#L71' title='Defined at 71 in Include/listobject.h.'>PyList_GET_SIZE</a>(item);
<a name='L2809'>        <i><font color='green'>/* preallocate (assume no nesting) */</font></i>
<a name='L2810'>        <b>if</b> (context-&gt;size + size &gt; context-&gt;maxsize &amp;&amp;
<a name='L2811'>            !<a href='../S/2618.html#L2781' title='Defined at 2781 in Modules/_tkinter.c.'>_bump</a>(context, size))
<a name='L2812'>            <b>return</b> 0;
<a name='L2813'>        <i><font color='green'>/* copy items to output tuple */</font></i>
<a name='L2814'>        <b>for</b> (i = 0; i &lt; size; i++) <font color='red'>{</font>
<a name='L2815'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *o = PyList_GET_ITEM(item, i);
<a name='L2816'>            <b>if</b> (PyList_Check(o) || PyTuple_Check(o)) <font color='red'>{</font>
<a name='L2817'>                <b>if</b> (!<a href='../S/2618.html#L2797' title='Defined at 2797 in Modules/_tkinter.c.'>_flatten1</a>(context, o, depth + 1))
<a name='L2818'>                    <b>return</b> 0;
<a name='L2819'>            <font color='red'>}</font> <b>else</b> <b>if</b> (o != Py_None) <font color='red'>{</font>
<a name='L2820'>                <b>if</b> (context-&gt;size + 1 &gt; context-&gt;maxsize &amp;&amp;
<a name='L2821'>                    !<a href='../S/2618.html#L2781' title='Defined at 2781 in Modules/_tkinter.c.'>_bump</a>(context, 1))
<a name='L2822'>                    <b>return</b> 0;
<a name='L2823'>                Py_INCREF(o);
<a name='L2824'>                PyTuple_SET_ITEM(context-&gt;tuple,
<a name='L2825'>                                 context-&gt;size++, o);
<a name='L2826'>            <font color='red'>}</font>
<a name='L2827'>        <font color='red'>}</font>
<a name='L2828'>    <font color='red'>}</font> <b>else</b> <b>if</b> (PyTuple_Check(item)) <font color='red'>{</font>
<a name='L2829'>        <i><font color='green'>/* same, for tuples */</font></i>
<a name='L2830'>        size = PyTuple_GET_SIZE(item);
<a name='L2831'>        <b>if</b> (context-&gt;size + size &gt; context-&gt;maxsize &amp;&amp;
<a name='L2832'>            !<a href='../S/2618.html#L2781' title='Defined at 2781 in Modules/_tkinter.c.'>_bump</a>(context, size))
<a name='L2833'>            <b>return</b> 0;
<a name='L2834'>        <b>for</b> (i = 0; i &lt; size; i++) <font color='red'>{</font>
<a name='L2835'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *o = PyTuple_GET_ITEM(item, i);
<a name='L2836'>            <b>if</b> (PyList_Check(o) || PyTuple_Check(o)) <font color='red'>{</font>
<a name='L2837'>                <b>if</b> (!<a href='../S/2618.html#L2797' title='Defined at 2797 in Modules/_tkinter.c.'>_flatten1</a>(context, o, depth + 1))
<a name='L2838'>                    <b>return</b> 0;
<a name='L2839'>            <font color='red'>}</font> <b>else</b> <b>if</b> (o != Py_None) <font color='red'>{</font>
<a name='L2840'>                <b>if</b> (context-&gt;size + 1 &gt; context-&gt;maxsize &amp;&amp;
<a name='L2841'>                    !<a href='../S/2618.html#L2781' title='Defined at 2781 in Modules/_tkinter.c.'>_bump</a>(context, 1))
<a name='L2842'>                    <b>return</b> 0;
<a name='L2843'>                Py_INCREF(o);
<a name='L2844'>                PyTuple_SET_ITEM(context-&gt;tuple,
<a name='L2845'>                                 context-&gt;size++, o);
<a name='L2846'>            <font color='red'>}</font>
<a name='L2847'>        <font color='red'>}</font>
<a name='L2848'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2849'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "argument must be sequence");
<a name='L2850'>        <b>return</b> 0;
<a name='L2851'>    <font color='red'>}</font>
<a name='L2852'>    <b>return</b> 1;
<a name='L2853'><font color='red'>}</font>
<a name='L2854'>
<a name='L2855'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2856'><a href='../S/2618.html#L2949' title='Refered from 2949 in Modules/_tkinter.c.'>Tkinter_Flatten</a>(PyObject* self, PyObject* args)
<a name='L2857'><font color='red'>{</font>
<a name='L2858'>    <a href='../S/2618.html#L2778' title='Defined at 2778 in Modules/_tkinter.c.'>FlattenContext</a> context;
<a name='L2859'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* item;
<a name='L2860'>
<a name='L2861'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O:_flatten", &amp;item))
<a name='L2862'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2863'>
<a name='L2864'>    context.maxsize = <a href='../S/2775.html#L1452' title='Defined at 1452 in Objects/abstract.c.'>PySequence_Size</a>(item);
<a name='L2865'>    <b>if</b> (context.maxsize &lt; 0)
<a name='L2866'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2867'>    <b>if</b> (context.maxsize == 0)
<a name='L2868'>        <b>return</b> <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(0);
<a name='L2869'>
<a name='L2870'>    context.tuple = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(context.maxsize);
<a name='L2871'>    <b>if</b> (!context.tuple)
<a name='L2872'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2873'>
<a name='L2874'>    context.size = 0;
<a name='L2875'>
<a name='L2876'>    <b>if</b> (!<a href='../S/2618.html#L2797' title='Defined at 2797 in Modules/_tkinter.c.'>_flatten1</a>(&amp;context, item,0))
<a name='L2877'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2878'>
<a name='L2879'>    <b>if</b> (<a href='../S/2823.html#L823' title='Defined at 823 in Objects/tupleobject.c.'>_PyTuple_Resize</a>(&amp;context.tuple, context.size))
<a name='L2880'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2881'>
<a name='L2882'>    <b>return</b> context.tuple;
<a name='L2883'><font color='red'>}</font>
<a name='L2884'>
<a name='L2885'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2886'><a href='../S/2618.html#L2950' title='Refered from 2950 in Modules/_tkinter.c.'>Tkinter_Create</a>(PyObject *self, PyObject *args)
<a name='L2887'><font color='red'>{</font>
<a name='L2888'>    <b>char</b> *screenName = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2889'>    <b>char</b> *baseName = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; <i><font color='green'>/* XXX this is not used anymore;</font></i>
<a name='L2890'><i><font color='green'>                              try getting rid of it. */</font></i>
<a name='L2891'>    <b>char</b> *className = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2892'>    <b>int</b> interactive = 0;
<a name='L2893'>    <b>int</b> wantobjects = 0;
<a name='L2894'>    <b>int</b> wantTk = 1;     <i><font color='green'>/* If false, then Tk_Init() doesn't get called */</font></i>
<a name='L2895'>    <b>int</b> sync = 0; <i><font color='green'>/* pass -sync to wish */</font></i>
<a name='L2896'>    <b>char</b> *use = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; <i><font color='green'>/* pass -use to wish */</font></i>
<a name='L2897'>
<a name='L2898'>    className = "Tk";
<a name='L2899'>
<a name='L2900'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|zssiiiiz:create",
<a name='L2901'>                          &amp;screenName, &amp;baseName, &amp;className,
<a name='L2902'>                          &amp;interactive, &amp;wantobjects, &amp;wantTk,
<a name='L2903'>                          &amp;sync, &amp;use))
<a name='L2904'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2905'>
<a name='L2906'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) <a href='../S/2618.html#L603' title='Defined at 603 in Modules/_tkinter.c.'>Tkapp_New</a>(screenName, className,
<a name='L2907'>                                  interactive, wantobjects,     wantTk,
<a name='L2908'>                                  sync, use);
<a name='L2909'><font color='red'>}</font>
<a name='L2910'>
<a name='L2911'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2912'><a href='../S/2618.html#L2951' title='Refered from 2951 in Modules/_tkinter.c.'>Tkinter_setbusywaitinterval</a>(PyObject *self, PyObject *args)
<a name='L2913'><font color='red'>{</font>
<a name='L2914'>    <b>int</b> new_val;
<a name='L2915'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "i:setbusywaitinterval", &amp;new_val))
<a name='L2916'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2917'>    <b>if</b> (new_val &lt; 0) <font color='red'>{</font>
<a name='L2918'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L2919'>                        "busywaitinterval must be &gt;= 0");
<a name='L2920'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2921'>    <font color='red'>}</font>
<a name='L2922'>    Tkinter_busywaitinterval = new_val;
<a name='L2923'>    Py_INCREF(Py_None);
<a name='L2924'>    <b>return</b> Py_None;
<a name='L2925'><font color='red'>}</font>
<a name='L2926'>
<a name='L2927'><b>static</b> <b>char</b> setbusywaitinterval_doc[] =
<a name='L2928'>"setbusywaitinterval(n) -&gt; None\n\
<a name='L2929'>\n\
<a name='L2930'>Set the busy-wait interval in milliseconds between successive\n\
<a name='L2931'>calls to Tcl_DoOneEvent in a threaded Python interpreter.\n\
<a name='L2932'>It should be set to a divisor of the maximum time between\n\
<a name='L2933'>frames in an animation.";
<a name='L2934'>
<a name='L2935'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2936'><a href='../S/2618.html#L2953' title='Refered from 2953 in Modules/_tkinter.c.'>Tkinter_getbusywaitinterval</a>(PyObject *self, PyObject *args)
<a name='L2937'><font color='red'>{</font>
<a name='L2938'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(Tkinter_busywaitinterval);
<a name='L2939'><font color='red'>}</font>
<a name='L2940'>
<a name='L2941'><b>static</b> <b>char</b> getbusywaitinterval_doc[] =
<a name='L2942'>"getbusywaitinterval() -&gt; int\n\
<a name='L2943'>\n\
<a name='L2944'>Return the current busy-wait interval between successive\n\
<a name='L2945'>calls to Tcl_DoOneEvent in a threaded Python interpreter.";
<a name='L2946'>
<a name='L2947'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> moduleMethods[] =
<a name='L2948'><font color='red'>{</font>
<a name='L2949'>    <font color='red'>{</font>"_flatten",           <a href='../S/2618.html#L2856' title='Defined at 2856 in Modules/_tkinter.c.'>Tkinter_Flatten</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2950'>    <font color='red'>{</font>"create",             <a href='../S/2618.html#L2886' title='Defined at 2886 in Modules/_tkinter.c.'>Tkinter_Create</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2951'>    <font color='red'>{</font>"setbusywaitinterval",<a href='../S/2618.html#L2912' title='Defined at 2912 in Modules/_tkinter.c.'>Tkinter_setbusywaitinterval</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L2952'>                           setbusywaitinterval_doc<font color='red'>}</font>,
<a name='L2953'>    <font color='red'>{</font>"getbusywaitinterval",(PyCFunction)<a href='../S/2618.html#L2936' title='Defined at 2936 in Modules/_tkinter.c.'>Tkinter_getbusywaitinterval</a>,
<a name='L2954'>                           <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, getbusywaitinterval_doc<font color='red'>}</font>,
<a name='L2955'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                 <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2956'><font color='red'>}</font>;
<a name='L2957'>
<a name='L2958'><font color='darkred'>#ifdef</font> <a href='../D/5502.html' title='Multiple defined in 2 places.'>WAIT_FOR_STDIN</a>
<a name='L2959'>
<a name='L2960'><b>static</b> <b>int</b> stdin_ready = 0;
<a name='L2961'>
<a name='L2962'><font color='darkred'>#ifndef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L2963'><b>static</b> <b>void</b>
<a name='L2964'><a href='../S/2618.html#L2987' title='Refered from 2987 in Modules/_tkinter.c.'>MyFileProc</a>(<b>void</b> *clientData, <b>int</b> mask)
<a name='L2965'><font color='red'>{</font>
<a name='L2966'>    stdin_ready = 1;
<a name='L2967'><font color='red'>}</font>
<a name='L2968'><font color='darkred'>#endif</font>
<a name='L2969'>
<a name='L2970'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2971'><b>static</b> <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *event_tstate = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2972'><font color='darkred'>#endif</font>
<a name='L2973'>
<a name='L2974'><b>static</b> <b>int</b>
<a name='L2975'><a href='../R/968.html' title='Multiple refered from 2 places.'>EventHook</a>(<b>void</b>)
<a name='L2976'><font color='red'>{</font>
<a name='L2977'><font color='darkred'>#ifndef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L2978'>    <b>int</b> tfile;
<a name='L2979'><font color='darkred'>#endif</font>
<a name='L2980'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2981'>    <a href='../S/3091.html#L435' title='Defined at 435 in Python/ceval.c.'>PyEval_RestoreThread</a>(event_tstate);
<a name='L2982'><font color='darkred'>#endif</font>
<a name='L2983'>    stdin_ready = 0;
<a name='L2984'>    errorInCmd = 0;
<a name='L2985'><font color='darkred'>#ifndef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L2986'>    tfile = <a href='../S/2759.html#L50' title='Defined at 50 in Modules/zlib/minigzip.c.'>fileno</a>(stdin);
<a name='L2987'>    Tcl_CreateFileHandler(tfile, TCL_READABLE, <a href='../S/2618.html#L2964' title='Defined at 2964 in Modules/_tkinter.c.'>MyFileProc</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2988'><font color='darkred'>#endif</font>
<a name='L2989'>    <b>while</b> (!errorInCmd &amp;&amp; !stdin_ready) <font color='red'>{</font>
<a name='L2990'>        <b>int</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2991'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L2992'>        <b>if</b> (_kbhit()) <font color='red'>{</font>
<a name='L2993'>            stdin_ready = 1;
<a name='L2994'>            <b>break</b>;
<a name='L2995'>        <font color='red'>}</font>
<a name='L2996'><font color='darkred'>#endif</font>
<a name='L2997'><font color='darkred'>#if</font> <b>defined</b>(<a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>) || <b>defined</b>(<a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>)
<a name='L2998'>        <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L2999'>        <b>if</b>(tcl_lock)<a href='../D/3846.html' title='Multiple defined in 10 places.'>PyThread_acquire_lock</a>(tcl_lock, 1);
<a name='L3000'>        <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = event_tstate;
<a name='L3001'>
<a name='L3002'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Tcl_DoOneEvent(TCL_DONT_WAIT);
<a name='L3003'>
<a name='L3004'>        <a href='../S/2618.html#L194' title='Defined at 194 in Modules/_tkinter.c.'>tcl_tstate</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3005'>        <b>if</b>(tcl_lock)<a href='../D/3858.html' title='Multiple defined in 11 places.'>PyThread_release_lock</a>(tcl_lock);
<a name='L3006'>        <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == 0)
<a name='L3007'>            <a href='../S/2618.html#L307' title='Defined at 307 in Modules/_tkinter.c.'>Sleep</a>(Tkinter_busywaitinterval);
<a name='L3008'>        <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L3009'><font color='darkred'>#else</font>
<a name='L3010'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Tcl_DoOneEvent(0);
<a name='L3011'><font color='darkred'>#endif</font>
<a name='L3012'>
<a name='L3013'>        <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> &lt; 0)
<a name='L3014'>            <b>break</b>;
<a name='L3015'>    <font color='red'>}</font>
<a name='L3016'><font color='darkred'>#ifndef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L3017'>    Tcl_DeleteFileHandler(tfile);
<a name='L3018'><font color='darkred'>#endif</font>
<a name='L3019'>    <b>if</b> (errorInCmd) <font color='red'>{</font>
<a name='L3020'>        errorInCmd = 0;
<a name='L3021'>        <a href='../S/3106.html#L25' title='Defined at 25 in Python/errors.c.'>PyErr_Restore</a>(excInCmd, valInCmd, trbInCmd);
<a name='L3022'>        excInCmd = valInCmd = trbInCmd = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3023'>        <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L3024'>    <font color='red'>}</font>
<a name='L3025'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L3026'>    <a href='../S/3091.html#L422' title='Defined at 422 in Python/ceval.c.'>PyEval_SaveThread</a>();
<a name='L3027'><font color='darkred'>#endif</font>
<a name='L3028'>    <b>return</b> 0;
<a name='L3029'><font color='red'>}</font>
<a name='L3030'>
<a name='L3031'><font color='darkred'>#endif</font>
<a name='L3032'>
<a name='L3033'><b>static</b> <b>void</b>
<a name='L3034'><a href='../R/960.html' title='Multiple refered from 2 places.'>EnableEventHook</a>(<b>void</b>)
<a name='L3035'><font color='red'>{</font>
<a name='L3036'><font color='darkred'>#ifdef</font> <a href='../D/5502.html' title='Multiple defined in 2 places.'>WAIT_FOR_STDIN</a>
<a name='L3037'>    <b>if</b> (PyOS_InputHook == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3038'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L3039'>        event_tstate = <a href='../S/3134.html#L368' title='Defined at 368 in Python/pystate.c.'>PyThreadState_Get</a>();
<a name='L3040'><font color='darkred'>#endif</font>
<a name='L3041'>        PyOS_InputHook = <a href='../S/2618.html#L2975' title='Defined at 2975 in Modules/_tkinter.c.'>EventHook</a>;
<a name='L3042'>    <font color='red'>}</font>
<a name='L3043'><font color='darkred'>#endif</font>
<a name='L3044'><font color='red'>}</font>
<a name='L3045'>
<a name='L3046'><b>static</b> <b>void</b>
<a name='L3047'><a href='../R/806.html' title='Multiple refered from 2 places.'>DisableEventHook</a>(<b>void</b>)
<a name='L3048'><font color='red'>{</font>
<a name='L3049'><font color='darkred'>#ifdef</font> <a href='../D/5502.html' title='Multiple defined in 2 places.'>WAIT_FOR_STDIN</a>
<a name='L3050'>    <b>if</b> (Tk_GetNumMainWindows() == 0 &amp;&amp; PyOS_InputHook == <a href='../S/2618.html#L2975' title='Defined at 2975 in Modules/_tkinter.c.'>EventHook</a>) <font color='red'>{</font>
<a name='L3051'>        PyOS_InputHook = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3052'>    <font color='red'>}</font>
<a name='L3053'><font color='darkred'>#endif</font>
<a name='L3054'><font color='red'>}</font>
<a name='L3055'>
<a name='L3056'>
<a name='L3057'><i><font color='green'>/* all errors will be checked in one fell swoop in init_tkinter() */</font></i>
<a name='L3058'><b>static</b> <b>void</b>
<a name='L3059'><a href='../R/8407.html' title='Multiple refered from 9 places.'>ins_long</a>(PyObject *d, <b>char</b> *name, <b>long</b> val)
<a name='L3060'><font color='red'>{</font>
<a name='L3061'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(val);
<a name='L3062'>    <b>if</b> (v) <font color='red'>{</font>
<a name='L3063'>        <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, name, v);
<a name='L3064'>        Py_DECREF(v);
<a name='L3065'>    <font color='red'>}</font>
<a name='L3066'><font color='red'>}</font>
<a name='L3067'><b>static</b> <b>void</b>
<a name='L3068'><a href='../R/8408.html' title='Multiple refered from 2 places.'>ins_string</a>(PyObject *d, <b>char</b> *name, <b>char</b> *val)
<a name='L3069'><font color='red'>{</font>
<a name='L3070'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(val);
<a name='L3071'>    <b>if</b> (v) <font color='red'>{</font>
<a name='L3072'>        <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, name, v);
<a name='L3073'>        Py_DECREF(v);
<a name='L3074'>    <font color='red'>}</font>
<a name='L3075'><font color='red'>}</font>
<a name='L3076'>
<a name='L3077'>
<a name='L3078'><b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> _tkintermodule = <font color='red'>{</font>
<a name='L3079'>    <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,
<a name='L3080'>    "_tkinter",
<a name='L3081'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L3082'>    -1,
<a name='L3083'>    moduleMethods,
<a name='L3084'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L3085'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L3086'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L3087'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L3088'><font color='red'>}</font>;
<a name='L3089'>
<a name='L3090'><a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L3091'>PyInit__tkinter(<b>void</b>)
<a name='L3092'><font color='red'>{</font>
<a name='L3093'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m, *d, *uexe, *cexe;
<a name='L3094'>
<a name='L3095'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;Tkapp_Type) &lt; 0)
<a name='L3096'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3097'>
<a name='L3098'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L3099'>    tcl_lock = <a href='../D/3848.html' title='Multiple defined in 11 places.'>PyThread_allocate_lock</a>();
<a name='L3100'><font color='darkred'>#endif</font>
<a name='L3101'>
<a name='L3102'>    m = PyModule_Create(&amp;_tkintermodule);
<a name='L3103'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3104'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3105'>
<a name='L3106'>    d = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(m);
<a name='L3107'>    Tkinter_TclError = <a href='../S/3106.html#L621' title='Defined at 621 in Python/errors.c.'>PyErr_NewException</a>("_tkinter.TclError", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L3108'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "TclError", Tkinter_TclError);
<a name='L3109'>
<a name='L3110'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "READABLE", TCL_READABLE);
<a name='L3111'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "WRITABLE", TCL_WRITABLE);
<a name='L3112'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "EXCEPTION", TCL_EXCEPTION);
<a name='L3113'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "WINDOW_EVENTS", TCL_WINDOW_EVENTS);
<a name='L3114'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "FILE_EVENTS", TCL_FILE_EVENTS);
<a name='L3115'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "TIMER_EVENTS", TCL_TIMER_EVENTS);
<a name='L3116'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "IDLE_EVENTS", TCL_IDLE_EVENTS);
<a name='L3117'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "ALL_EVENTS", TCL_ALL_EVENTS);
<a name='L3118'>    <a href='../S/2618.html#L3059' title='Defined at 3059 in Modules/_tkinter.c.'>ins_long</a>(d, "DONT_WAIT", TCL_DONT_WAIT);
<a name='L3119'>    <a href='../S/2618.html#L3068' title='Defined at 3068 in Modules/_tkinter.c.'>ins_string</a>(d, "TK_VERSION", TK_VERSION);
<a name='L3120'>    <a href='../S/2618.html#L3068' title='Defined at 3068 in Modules/_tkinter.c.'>ins_string</a>(d, "TCL_VERSION", TCL_VERSION);
<a name='L3121'>
<a name='L3122'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "TkappType", (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)&amp;Tkapp_Type);
<a name='L3123'>
<a name='L3124'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;Tktt_Type) &lt; 0)
<a name='L3125'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3126'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "TkttType", (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)&amp;Tktt_Type);
<a name='L3127'>
<a name='L3128'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(&amp;PyTclObject_Type) = &amp;PyType_Type;
<a name='L3129'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "Tcl_Obj", (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)&amp;PyTclObject_Type);
<a name='L3130'>
<a name='L3131'><font color='darkred'>#ifdef</font> TK_AQUA
<a name='L3132'>    <i><font color='green'>/* Tk_MacOSXSetupTkNotifier must be called before Tcl's subsystems</font></i>
<a name='L3133'><i><font color='green'>     * start waking up.  Note that Tcl_FindExecutable will do this, this</font></i>
<a name='L3134'><i><font color='green'>     * code must be above it! The original warning from</font></i>
<a name='L3135'><i><font color='green'>     * tkMacOSXAppInit.c is copied below.</font></i>
<a name='L3136'><i><font color='green'>     *</font></i>
<a name='L3137'><i><font color='green'>     * NB - You have to swap in the Tk Notifier BEFORE you start up the</font></i>
<a name='L3138'><i><font color='green'>     * Tcl interpreter for now.  It probably should work to do this</font></i>
<a name='L3139'><i><font color='green'>     * in the other order, but for now it doesn't seem to.</font></i>
<a name='L3140'><i><font color='green'>     *</font></i>
<a name='L3141'><i><font color='green'>     */</font></i>
<a name='L3142'>    Tk_MacOSXSetupTkNotifier();
<a name='L3143'><font color='darkred'>#endif</font>
<a name='L3144'>
<a name='L3145'>
<a name='L3146'>    <i><font color='green'>/* This helps the dynamic loader; in Unicode aware Tcl versions</font></i>
<a name='L3147'><i><font color='green'>       it also helps Tcl find its encodings. */</font></i>
<a name='L3148'>    uexe = <a href='../D/4015.html' title='Multiple defined in 4 places.'>PyUnicode_FromWideChar</a>(<a href='../S/3138.html#L674' title='Defined at 674 in Python/pythonrun.c.'>Py_GetProgramName</a>(), -1);
<a name='L3149'>    <b>if</b> (uexe) <font color='red'>{</font>
<a name='L3150'>        cexe = <a href='../S/2828.html#L1585' title='Defined at 1585 in Objects/unicodeobject.c.'>PyUnicode_EncodeFSDefault</a>(uexe);
<a name='L3151'>        <b>if</b> (cexe)
<a name='L3152'>            Tcl_FindExecutable(<a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(cexe));
<a name='L3153'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(cexe);
<a name='L3154'>        Py_DECREF(uexe);
<a name='L3155'>    <font color='red'>}</font>
<a name='L3156'>
<a name='L3157'>    <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L3158'>        Py_DECREF(m);
<a name='L3159'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3160'>    <font color='red'>}</font>
<a name='L3161'>
<a name='L3162'><font color='darkred'>#if</font> 0
<a name='L3163'>    <i><font color='green'>/* This was not a good idea; through &lt;Destroy&gt; bindings,</font></i>
<a name='L3164'><i><font color='green'>       Tcl_Finalize() may invoke Python code but at that point the</font></i>
<a name='L3165'><i><font color='green'>       interpreter and thread state have already been destroyed! */</font></i>
<a name='L3166'>    <a href='../S/3138.html#L2177' title='Defined at 2177 in Python/pythonrun.c.'>Py_AtExit</a>(Tcl_Finalize);
<a name='L3167'><font color='darkred'>#endif</font>
<a name='L3168'>    <b>return</b> m;
<a name='L3169'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L289'>[^]</a><a href='#L3091'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
