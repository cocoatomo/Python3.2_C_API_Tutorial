<html>
<head>
<title>Modules/ossaudiodev.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/ossaudiodev.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L76'>[^]</a><a href='#L1015'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L76' title='Defined at 76.'>newossobject</a>
<li><a href='#L149' title='Defined at 149.'>oss_dealloc</a>
<li><a href='#L163' title='Defined at 163.'>newossmixerobject</a>
<li><a href='#L195' title='Defined at 195.'>oss_mixer_dealloc</a>
<li><a href='#L226' title='Defined at 226.'>_do_ioctl_1</a>
<li><a href='#L251' title='Defined at 251.'>_do_ioctl_1_internal</a>
<li><a href='#L271' title='Defined at 271.'>_do_ioctl_0</a>
<li><a href='#L301' title='Defined at 301.'>oss_nonblock</a>
<li><a href='#L312' title='Defined at 312.'>oss_setfmt</a>
<li><a href='#L318' title='Defined at 318.'>oss_getfmts</a>
<li><a href='#L327' title='Defined at 327.'>oss_channels</a>
<li><a href='#L333' title='Defined at 333.'>oss_speed</a>
<li><a href='#L339' title='Defined at 339.'>oss_sync</a>
<li><a href='#L345' title='Defined at 345.'>oss_reset</a>
<li><a href='#L351' title='Defined at 351.'>oss_post</a>
<li><a href='#L361' title='Defined at 361.'>oss_read</a>
<li><a href='#L389' title='Defined at 389.'>oss_write</a>
<li><a href='#L411' title='Defined at 411.'>oss_writeall</a>
<li><a href='#L460' title='Defined at 460.'>oss_close</a>
<li><a href='#L473' title='Defined at 473.'>oss_self</a>
<li><a href='#L480' title='Defined at 480.'>oss_exit</a>
<li><a href='#L490' title='Defined at 490.'>oss_fileno</a>
<li><a href='#L500' title='Defined at 500.'>oss_setparameters</a>
<li><a href='#L556' title='Defined at 556.'>_ssize</a>
<li><a href='#L591' title='Defined at 591.'>oss_bufsize</a>
<li><a href='#L610' title='Defined at 610.'>oss_obufcount</a>
<li><a href='#L630' title='Defined at 630.'>oss_obuffree</a>
<li><a href='#L647' title='Defined at 647.'>oss_getptr</a>
<li><a href='#L669' title='Defined at 669.'>oss_mixer_close</a>
<li><a href='#L680' title='Defined at 680.'>oss_mixer_fileno</a>
<li><a href='#L688' title='Defined at 688.'>oss_mixer_controls</a>
<li><a href='#L695' title='Defined at 695.'>oss_mixer_stereocontrols</a>
<li><a href='#L702' title='Defined at 702.'>oss_mixer_reccontrols</a>
<li><a href='#L709' title='Defined at 709.'>oss_mixer_get</a>
<li><a href='#L729' title='Defined at 729.'>oss_mixer_set</a>
<li><a href='#L756' title='Defined at 756.'>oss_mixer_get_recsrc</a>
<li><a href='#L763' title='Defined at 763.'>oss_mixer_set_recsrc</a>
<li><a href='#L831' title='Defined at 831.'>oss_getattro</a>
<li><a href='#L933' title='Defined at 933.'>ossopen</a>
<li><a href='#L939' title='Defined at 939.'>ossopenmixer</a>
<li><a href='#L960' title='Defined at 960.'>build_namelists</a>
<li><a href='#L1015' title='Defined at 1015.'>PyInit_ossaudiodev</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*</font></i>
<a name='L2'><i><font color='green'> * ossaudiodev -- Python interface to the OSS (Open Sound System) API.</font></i>
<a name='L3'><i><font color='green'> *                This is the standard audio API for Linux and some</font></i>
<a name='L4'><i><font color='green'> *                flavours of BSD [XXX which ones?]; it is also available</font></i>
<a name='L5'><i><font color='green'> *                for a wide range of commercial Unices.</font></i>
<a name='L6'><i><font color='green'> *</font></i>
<a name='L7'><i><font color='green'> * Originally written by Peter Bosch, March 2000, as linuxaudiodev.</font></i>
<a name='L8'><i><font color='green'> *</font></i>
<a name='L9'><i><font color='green'> * Renamed to ossaudiodev and rearranged/revised/hacked up</font></i>
<a name='L10'><i><font color='green'> * by Greg Ward &lt;gward@python.net&gt;, November 2002.</font></i>
<a name='L11'><i><font color='green'> * Mixer interface by Nicholas FitzRoy-Dale &lt;wzdd@lardcave.net&gt;, Dec 2002.</font></i>
<a name='L12'><i><font color='green'> *</font></i>
<a name='L13'><i><font color='green'> * (c) 2000 Peter Bosch.  All Rights Reserved.</font></i>
<a name='L14'><i><font color='green'> * (c) 2002 Gregory P. Ward.  All Rights Reserved.</font></i>
<a name='L15'><i><font color='green'> * (c) 2002 Python Software Foundation.  All Rights Reserved.</font></i>
<a name='L16'><i><font color='green'> *</font></i>
<a name='L17'><i><font color='green'> * XXX need a license statement</font></i>
<a name='L18'><i><font color='green'> *</font></i>
<a name='L19'><i><font color='green'> * $Id: ossaudiodev.c 85828 2010-10-24 20:47:32Z georg.brandl $</font></i>
<a name='L20'><i><font color='green'> */</font></i>
<a name='L21'>
<a name='L22'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L23'><font color='darkred'>#include</font> "<a href='577.html'>structmember.h</a>"
<a name='L24'>
<a name='L25'><font color='darkred'>#ifdef</font> <a href='../D/1484.html' title='Multiple defined in 4 places.'>HAVE_FCNTL_H</a>
<a name='L26'><font color='darkred'>#include</font> &lt;fcntl.h&gt;
<a name='L27'><font color='darkred'>#else</font>
<a name='L28'><font color='darkred'>#define</font> <a href='../R/2209.html' title='Multiple refered from 11 places.'>O_RDONLY</a> 00
<a name='L29'><font color='darkred'>#define</font> <a href='../R/2210.html' title='Multiple refered from 8 places.'>O_WRONLY</a> 01
<a name='L30'><font color='darkred'>#endif</font>
<a name='L31'>
<a name='L32'><font color='darkred'>#include</font> &lt;sys/ioctl.h&gt;
<a name='L33'><font color='darkred'>#include</font> &lt;sys/soundcard.h&gt;
<a name='L34'>
<a name='L35'><font color='darkred'>#if</font> <b>defined</b>(linux)
<a name='L36'>
<a name='L37'><font color='darkred'>#ifndef</font> <a href='../S/2649.html#L35' title='Defined at 35 in Modules/expat/amigaconfig.h.'>HAVE_STDINT_H</a>
<a name='L38'><b>typedef</b> <b>unsigned</b> <b>long</b> <a href='../R/11050.html' title='Multiple refered from 25 places.'>uint32_t</a>;
<a name='L39'><font color='darkred'>#endif</font>
<a name='L40'>
<a name='L41'><font color='darkred'>#elif</font> <b>defined</b>(__FreeBSD__)
<a name='L42'>
<a name='L43'><font color='darkred'># ifndef</font> <a href='../S/2694.html#L44' title='Defined at 44 in Modules/ossaudiodev.c.'>SNDCTL_DSP_CHANNELS</a>
<a name='L44'><font color='darkred'>#  define</font> <a href='../R/4199.html' title='Multiple refered from 5 places.'>SNDCTL_DSP_CHANNELS</a> SOUND_PCM_WRITE_CHANNELS
<a name='L45'><font color='darkred'># endif</font>
<a name='L46'>
<a name='L47'><font color='darkred'>#endif</font>
<a name='L48'>
<a name='L49'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L50'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L51'>    <b>char</b>    *devicename;              <i><font color='green'>/* name of the device file */</font></i>
<a name='L52'>    <b>int</b>      fd;                      <i><font color='green'>/* file descriptor */</font></i>
<a name='L53'>    <b>int</b>      mode;                    <i><font color='green'>/* file mode (O_RDONLY, etc.) */</font></i>
<a name='L54'>    <b>int</b>      icount;                  <i><font color='green'>/* input count */</font></i>
<a name='L55'>    <b>int</b>      ocount;                  <i><font color='green'>/* output count */</font></i>
<a name='L56'>    <a href='../S/2694.html#L38' title='Defined at 38 in Modules/ossaudiodev.c.'>uint32_t</a> afmts;                   <i><font color='green'>/* audio formats supported by hardware */</font></i>
<a name='L57'><font color='red'>}</font> <a href='../R/9394.html' title='Multiple refered from 25 places.'>oss_audio_t</a>;
<a name='L58'>
<a name='L59'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L60'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L61'>    <b>int</b>      fd;                      <i><font color='green'>/* The open mixer device */</font></i>
<a name='L62'><font color='red'>}</font> <a href='../R/9414.html' title='Multiple refered from 14 places.'>oss_mixer_t</a>;
<a name='L63'>
<a name='L64'>
<a name='L65'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> OSSAudioType;
<a name='L66'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> OSSMixerType;
<a name='L67'>
<a name='L68'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *OSSAudioError;
<a name='L69'>
<a name='L70'>
<a name='L71'><i><font color='green'>/* ----------------------------------------------------------------------</font></i>
<a name='L72'><i><font color='green'> * DSP object initialization/deallocation</font></i>
<a name='L73'><i><font color='green'> */</font></i>
<a name='L74'>
<a name='L75'><b>static</b> <a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *
<a name='L76'><a href='../S/2694.html#L935' title='Refered from 935 in Modules/ossaudiodev.c.'>newossobject</a>(PyObject *arg)
<a name='L77'><font color='red'>{</font>
<a name='L78'>    <a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self;
<a name='L79'>    <b>int</b> fd, afmts, imode;
<a name='L80'>    <b>char</b> *devicename = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L81'>    <b>char</b> *mode = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L82'>
<a name='L83'>    <i><font color='green'>/* Two ways to call open():</font></i>
<a name='L84'><i><font color='green'>         open(device, mode) (for consistency with builtin open())</font></i>
<a name='L85'><i><font color='green'>         open(mode)         (for backwards compatibility)</font></i>
<a name='L86'><i><font color='green'>       because the *first* argument is optional, parsing args is</font></i>
<a name='L87'><i><font color='green'>       a wee bit tricky. */</font></i>
<a name='L88'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, "s|s:open", &amp;devicename, &amp;mode))
<a name='L89'>       <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L90'>    <b>if</b> (mode == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>                 <i><font color='green'>/* only one arg supplied */</font></i>
<a name='L91'>       mode = devicename;
<a name='L92'>       devicename = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L93'>    <font color='red'>}</font>
<a name='L94'>
<a name='L95'>    <b>if</b> (strcmp(mode, "r") == 0)
<a name='L96'>        imode = <a href='../S/2694.html#L28' title='Defined at 28 in Modules/ossaudiodev.c.'>O_RDONLY</a>;
<a name='L97'>    <b>else</b> <b>if</b> (strcmp(mode, "w") == 0)
<a name='L98'>        imode = <a href='../S/2694.html#L29' title='Defined at 29 in Modules/ossaudiodev.c.'>O_WRONLY</a>;
<a name='L99'>    <b>else</b> <b>if</b> (strcmp(mode, "rw") == 0)
<a name='L100'>        imode = O_RDWR;
<a name='L101'>    <b>else</b> <font color='red'>{</font>
<a name='L102'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(OSSAudioError, "mode must be 'r', 'w', or 'rw'");
<a name='L103'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L104'>    <font color='red'>}</font>
<a name='L105'>
<a name='L106'>    <i><font color='green'>/* Open the correct device: either the 'device' argument,</font></i>
<a name='L107'><i><font color='green'>       or the AUDIODEV environment variable, or "/dev/dsp". */</font></i>
<a name='L108'>    <b>if</b> (devicename == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>              <i><font color='green'>/* called with one arg */</font></i>
<a name='L109'>       devicename = <a href='../S/2906.html#L99' title='Defined at 99 in PC/pyconfig.h.'>getenv</a>("AUDIODEV");
<a name='L110'>       <b>if</b> (devicename == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)             <i><font color='green'>/* $AUDIODEV not set */</font></i>
<a name='L111'>          devicename = "/dev/dsp";
<a name='L112'>    <font color='red'>}</font>
<a name='L113'>
<a name='L114'>    <i><font color='green'>/* Open with O_NONBLOCK to avoid hanging on devices that only allow</font></i>
<a name='L115'><i><font color='green'>       one open at a time.  This does *not* affect later I/O; OSS</font></i>
<a name='L116'><i><font color='green'>       provides a special ioctl() for non-blocking read/write, which is</font></i>
<a name='L117'><i><font color='green'>       exposed via oss_nonblock() below. */</font></i>
<a name='L118'>    <b>if</b> ((fd = open(devicename, imode|<a href='../S/2711.html#L290' title='Defined at 290 in Modules/socketmodule.c.'>O_NONBLOCK</a>)) == -1) <font color='red'>{</font>
<a name='L119'>        <a href='../S/3106.html#L430' title='Defined at 430 in Python/errors.c.'>PyErr_SetFromErrnoWithFilename</a>(PyExc_IOError, devicename);
<a name='L120'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L121'>    <font color='red'>}</font>
<a name='L122'>
<a name='L123'>    <i><font color='green'>/* And (try to) put it back in blocking mode so we get the</font></i>
<a name='L124'><i><font color='green'>       expected write() semantics. */</font></i>
<a name='L125'>    <b>if</b> (fcntl(fd, F_SETFL, 0) == -1) <font color='red'>{</font>
<a name='L126'>        close(fd);
<a name='L127'>        <a href='../S/3106.html#L430' title='Defined at 430 in Python/errors.c.'>PyErr_SetFromErrnoWithFilename</a>(PyExc_IOError, devicename);
<a name='L128'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L129'>    <font color='red'>}</font>
<a name='L130'>
<a name='L131'>    <b>if</b> (ioctl(fd, SNDCTL_DSP_GETFMTS, &amp;afmts) == -1) <font color='red'>{</font>
<a name='L132'>        <a href='../S/3106.html#L430' title='Defined at 430 in Python/errors.c.'>PyErr_SetFromErrnoWithFilename</a>(PyExc_IOError, devicename);
<a name='L133'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L134'>    <font color='red'>}</font>
<a name='L135'>    <i><font color='green'>/* Create and initialize the object */</font></i>
<a name='L136'>    <b>if</b> ((self = PyObject_New(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a>, &amp;OSSAudioType)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L137'>        close(fd);
<a name='L138'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L139'>    <font color='red'>}</font>
<a name='L140'>    self-&gt;devicename = devicename;
<a name='L141'>    self-&gt;fd = fd;
<a name='L142'>    self-&gt;mode = imode;
<a name='L143'>    self-&gt;icount = self-&gt;ocount = 0;
<a name='L144'>    self-&gt;afmts  = afmts;
<a name='L145'>    <b>return</b> self;
<a name='L146'><font color='red'>}</font>
<a name='L147'>
<a name='L148'><b>static</b> <b>void</b>
<a name='L149'><a href='../S/2694.html#L873' title='Refered from 873 in Modules/ossaudiodev.c.'>oss_dealloc</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self)
<a name='L150'><font color='red'>{</font>
<a name='L151'>    <i><font color='green'>/* if already closed, don't reclose it */</font></i>
<a name='L152'>    <b>if</b> (self-&gt;fd != -1)
<a name='L153'>        close(self-&gt;fd);
<a name='L154'>    PyObject_Del(self);
<a name='L155'><font color='red'>}</font>
<a name='L156'>
<a name='L157'>
<a name='L158'><i><font color='green'>/* ----------------------------------------------------------------------</font></i>
<a name='L159'><i><font color='green'> * Mixer object initialization/deallocation</font></i>
<a name='L160'><i><font color='green'> */</font></i>
<a name='L161'>
<a name='L162'><b>static</b> <a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *
<a name='L163'><a href='../S/2694.html#L941' title='Refered from 941 in Modules/ossaudiodev.c.'>newossmixerobject</a>(PyObject *arg)
<a name='L164'><font color='red'>{</font>
<a name='L165'>    <b>char</b> *devicename = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L166'>    <b>int</b> fd;
<a name='L167'>    <a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self;
<a name='L168'>
<a name='L169'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, "|s", &amp;devicename)) <font color='red'>{</font>
<a name='L170'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L171'>    <font color='red'>}</font>
<a name='L172'>
<a name='L173'>    <b>if</b> (devicename == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L174'>        devicename = <a href='../S/2906.html#L99' title='Defined at 99 in PC/pyconfig.h.'>getenv</a>("MIXERDEV");
<a name='L175'>        <b>if</b> (devicename == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)            <i><font color='green'>/* MIXERDEV not set */</font></i>
<a name='L176'>            devicename = "/dev/mixer";
<a name='L177'>    <font color='red'>}</font>
<a name='L178'>
<a name='L179'>    <b>if</b> ((fd = open(devicename, O_RDWR)) == -1) <font color='red'>{</font>
<a name='L180'>        <a href='../S/3106.html#L430' title='Defined at 430 in Python/errors.c.'>PyErr_SetFromErrnoWithFilename</a>(PyExc_IOError, devicename);
<a name='L181'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L182'>    <font color='red'>}</font>
<a name='L183'>
<a name='L184'>    <b>if</b> ((self = PyObject_New(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a>, &amp;OSSMixerType)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L185'>        close(fd);
<a name='L186'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L187'>    <font color='red'>}</font>
<a name='L188'>
<a name='L189'>    self-&gt;fd = fd;
<a name='L190'>
<a name='L191'>    <b>return</b> self;
<a name='L192'><font color='red'>}</font>
<a name='L193'>
<a name='L194'><b>static</b> <b>void</b>
<a name='L195'><a href='../S/2694.html#L905' title='Refered from 905 in Modules/ossaudiodev.c.'>oss_mixer_dealloc</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self)
<a name='L196'><font color='red'>{</font>
<a name='L197'>    <i><font color='green'>/* if already closed, don't reclose it */</font></i>
<a name='L198'>    <b>if</b> (self-&gt;fd != -1)
<a name='L199'>        close(self-&gt;fd);
<a name='L200'>    PyObject_Del(self);
<a name='L201'><font color='red'>}</font>
<a name='L202'>
<a name='L203'>
<a name='L204'><i><font color='green'>/* Methods to wrap the OSS ioctls.  The calling convention is pretty</font></i>
<a name='L205'><i><font color='green'>   simple:</font></i>
<a name='L206'><i><font color='green'>     nonblock()        -&gt; ioctl(fd, SNDCTL_DSP_NONBLOCK)</font></i>
<a name='L207'><i><font color='green'>     fmt = setfmt(fmt) -&gt; ioctl(fd, SNDCTL_DSP_SETFMT, &amp;fmt)</font></i>
<a name='L208'><i><font color='green'>     etc.</font></i>
<a name='L209'><i><font color='green'>*/</font></i>
<a name='L210'>
<a name='L211'>
<a name='L212'><i><font color='green'>/* ----------------------------------------------------------------------</font></i>
<a name='L213'><i><font color='green'> * Helper functions</font></i>
<a name='L214'><i><font color='green'> */</font></i>
<a name='L215'>
<a name='L216'><i><font color='green'>/* _do_ioctl_1() is a private helper function used for the OSS ioctls --</font></i>
<a name='L217'><i><font color='green'>   SNDCTL_DSP_{SETFMT,CHANNELS,SPEED} -- that that are called from C</font></i>
<a name='L218'><i><font color='green'>   like this:</font></i>
<a name='L219'><i><font color='green'>     ioctl(fd, SNDCTL_DSP_cmd, &amp;arg)</font></i>
<a name='L220'><i><font color='green'></font></i>
<a name='L221'><i><font color='green'>   where arg is the value to set, and on return the driver sets arg to</font></i>
<a name='L222'><i><font color='green'>   the value that was actually set.  Mapping this to Python is obvious:</font></i>
<a name='L223'><i><font color='green'>     arg = dsp.xxx(arg)</font></i>
<a name='L224'><i><font color='green'>*/</font></i>
<a name='L225'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L226'><a href='../R/5750.html' title='Multiple refered from 4 places.'>_do_ioctl_1</a>(<b>int</b> fd, PyObject *args, <b>char</b> *fname, <b>int</b> cmd)
<a name='L227'><font color='red'>{</font>
<a name='L228'>    <b>char</b> argfmt[33] = "i:";
<a name='L229'>    <b>int</b> <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>;
<a name='L230'>
<a name='L231'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(strlen(fname) &lt;= 30);
<a name='L232'>    strcat(argfmt, fname);
<a name='L233'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, argfmt, &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>))
<a name='L234'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L235'>
<a name='L236'>    <b>if</b> (ioctl(fd, cmd, &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>) == -1)
<a name='L237'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L238'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L239'><font color='red'>}</font>
<a name='L240'>
<a name='L241'>
<a name='L242'><i><font color='green'>/* _do_ioctl_1_internal() is a wrapper for ioctls that take no inputs</font></i>
<a name='L243'><i><font color='green'>   but return an output -- ie. we need to pass a pointer to a local C</font></i>
<a name='L244'><i><font color='green'>   variable so the driver can write its output there, but from Python</font></i>
<a name='L245'><i><font color='green'>   all we see is the return value.  For example,</font></i>
<a name='L246'><i><font color='green'>   SOUND_MIXER_READ_DEVMASK returns a bitmask of available mixer</font></i>
<a name='L247'><i><font color='green'>   devices, but does not use the value of the parameter passed-in in any</font></i>
<a name='L248'><i><font color='green'>   way.</font></i>
<a name='L249'><i><font color='green'>*/</font></i>
<a name='L250'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L251'><a href='../R/5751.html' title='Multiple refered from 4 places.'>_do_ioctl_1_internal</a>(<b>int</b> fd, PyObject *args, <b>char</b> *fname, <b>int</b> cmd)
<a name='L252'><font color='red'>{</font>
<a name='L253'>    <b>char</b> argfmt[32] = ":";
<a name='L254'>    <b>int</b> <a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a> = 0;
<a name='L255'>
<a name='L256'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(strlen(fname) &lt;= 30);
<a name='L257'>    strcat(argfmt, fname);
<a name='L258'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, argfmt, &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>))
<a name='L259'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L260'>
<a name='L261'>    <b>if</b> (ioctl(fd, cmd, &amp;<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>) == -1)
<a name='L262'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L263'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>);
<a name='L264'><font color='red'>}</font>
<a name='L265'>
<a name='L266'>
<a name='L267'>
<a name='L268'><i><font color='green'>/* _do_ioctl_0() is a private helper for the no-argument ioctls:</font></i>
<a name='L269'><i><font color='green'>   SNDCTL_DSP_{SYNC,RESET,POST}. */</font></i>
<a name='L270'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L271'><a href='../R/5749.html' title='Multiple refered from 3 places.'>_do_ioctl_0</a>(<b>int</b> fd, PyObject *args, <b>char</b> *fname, <b>int</b> cmd)
<a name='L272'><font color='red'>{</font>
<a name='L273'>    <b>char</b> argfmt[32] = ":";
<a name='L274'>    <b>int</b> rv;
<a name='L275'>
<a name='L276'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(strlen(fname) &lt;= 30);
<a name='L277'>    strcat(argfmt, fname);
<a name='L278'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, argfmt))
<a name='L279'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L280'>
<a name='L281'>    <i><font color='green'>/* According to hannu@opensound.com, all three of the ioctls that</font></i>
<a name='L282'><i><font color='green'>       use this function can block, so release the GIL.  This is</font></i>
<a name='L283'><i><font color='green'>       especially important for SYNC, which can block for several</font></i>
<a name='L284'><i><font color='green'>       seconds. */</font></i>
<a name='L285'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L286'>    rv = ioctl(fd, cmd, 0);
<a name='L287'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L288'>
<a name='L289'>    <b>if</b> (rv == -1)
<a name='L290'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L291'>    Py_INCREF(Py_None);
<a name='L292'>    <b>return</b> Py_None;
<a name='L293'><font color='red'>}</font>
<a name='L294'>
<a name='L295'>
<a name='L296'><i><font color='green'>/* ----------------------------------------------------------------------</font></i>
<a name='L297'><i><font color='green'> * Methods of DSP objects (OSSAudioType)</font></i>
<a name='L298'><i><font color='green'> */</font></i>
<a name='L299'>
<a name='L300'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L301'><a href='../S/2694.html#L783' title='Refered from 783 in Modules/ossaudiodev.c.'>oss_nonblock</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *unused)
<a name='L302'><font color='red'>{</font>
<a name='L303'>    <i><font color='green'>/* Hmmm: it doesn't appear to be possible to return to blocking</font></i>
<a name='L304'><i><font color='green'>       mode once we're in non-blocking mode! */</font></i>
<a name='L305'>    <b>if</b> (ioctl(self-&gt;fd, SNDCTL_DSP_NONBLOCK, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) == -1)
<a name='L306'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L307'>    Py_INCREF(Py_None);
<a name='L308'>    <b>return</b> Py_None;
<a name='L309'><font color='red'>}</font>
<a name='L310'>
<a name='L311'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L312'><a href='../S/2694.html#L784' title='Refered from 784 in Modules/ossaudiodev.c.'>oss_setfmt</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L313'><font color='red'>{</font>
<a name='L314'>    <b>return</b> <a href='../S/2694.html#L226' title='Defined at 226 in Modules/ossaudiodev.c.'>_do_ioctl_1</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "setfmt", SNDCTL_DSP_SETFMT);
<a name='L315'><font color='red'>}</font>
<a name='L316'>
<a name='L317'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L318'><a href='../S/2694.html#L785' title='Refered from 785 in Modules/ossaudiodev.c.'>oss_getfmts</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *unused)
<a name='L319'><font color='red'>{</font>
<a name='L320'>    <b>int</b> mask;
<a name='L321'>    <b>if</b> (ioctl(self-&gt;fd, SNDCTL_DSP_GETFMTS, &amp;mask) == -1)
<a name='L322'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L323'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(mask);
<a name='L324'><font color='red'>}</font>
<a name='L325'>
<a name='L326'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L327'><a href='../S/2694.html#L786' title='Refered from 786 in Modules/ossaudiodev.c.'>oss_channels</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L328'><font color='red'>{</font>
<a name='L329'>    <b>return</b> <a href='../S/2694.html#L226' title='Defined at 226 in Modules/ossaudiodev.c.'>_do_ioctl_1</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "channels", <a href='../S/2694.html#L44' title='Defined at 44 in Modules/ossaudiodev.c.'>SNDCTL_DSP_CHANNELS</a>);
<a name='L330'><font color='red'>}</font>
<a name='L331'>
<a name='L332'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L333'><a href='../S/2694.html#L787' title='Refered from 787 in Modules/ossaudiodev.c.'>oss_speed</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L334'><font color='red'>{</font>
<a name='L335'>    <b>return</b> <a href='../S/2694.html#L226' title='Defined at 226 in Modules/ossaudiodev.c.'>_do_ioctl_1</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "speed", SNDCTL_DSP_SPEED);
<a name='L336'><font color='red'>}</font>
<a name='L337'>
<a name='L338'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L339'><a href='../R/9425.html' title='Multiple refered from 2 places.'>oss_sync</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L340'><font color='red'>{</font>
<a name='L341'>    <b>return</b> <a href='../S/2694.html#L271' title='Defined at 271 in Modules/ossaudiodev.c.'>_do_ioctl_0</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "sync", SNDCTL_DSP_SYNC);
<a name='L342'><font color='red'>}</font>
<a name='L343'>
<a name='L344'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L345'><a href='../S/2694.html#L789' title='Refered from 789 in Modules/ossaudiodev.c.'>oss_reset</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L346'><font color='red'>{</font>
<a name='L347'>    <b>return</b> <a href='../S/2694.html#L271' title='Defined at 271 in Modules/ossaudiodev.c.'>_do_ioctl_0</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "reset", SNDCTL_DSP_RESET);
<a name='L348'><font color='red'>}</font>
<a name='L349'>
<a name='L350'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L351'><a href='../S/2694.html#L790' title='Refered from 790 in Modules/ossaudiodev.c.'>oss_post</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L352'><font color='red'>{</font>
<a name='L353'>    <b>return</b> <a href='../S/2694.html#L271' title='Defined at 271 in Modules/ossaudiodev.c.'>_do_ioctl_0</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "post", SNDCTL_DSP_POST);
<a name='L354'><font color='red'>}</font>
<a name='L355'>
<a name='L356'>
<a name='L357'><i><font color='green'>/* Regular file methods: read(), write(), close(), etc. as well</font></i>
<a name='L358'><i><font color='green'>   as one convenience method, writeall(). */</font></i>
<a name='L359'>
<a name='L360'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L361'><a href='../S/2694.html#L776' title='Refered from 776 in Modules/ossaudiodev.c.'>oss_read</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L362'><font color='red'>{</font>
<a name='L363'>    <b>int</b> size, count;
<a name='L364'>    <b>char</b> *cp;
<a name='L365'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L366'>
<a name='L367'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "i:read", &amp;size))
<a name='L368'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L369'>    rv = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, size);
<a name='L370'>    <b>if</b> (rv == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L371'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L372'>    cp = PyBytes_AS_STRING(rv);
<a name='L373'>
<a name='L374'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L375'>    count = read(self-&gt;fd, cp, size);
<a name='L376'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L377'>
<a name='L378'>    <b>if</b> (count &lt; 0) <font color='red'>{</font>
<a name='L379'>        <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L380'>        Py_DECREF(rv);
<a name='L381'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L382'>    <font color='red'>}</font>
<a name='L383'>    self-&gt;icount += count;
<a name='L384'>    <a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv, count);
<a name='L385'>    <b>return</b> rv;
<a name='L386'><font color='red'>}</font>
<a name='L387'>
<a name='L388'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L389'><a href='../S/2694.html#L777' title='Refered from 777 in Modules/ossaudiodev.c.'>oss_write</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L390'><font color='red'>{</font>
<a name='L391'>    <b>char</b> *cp;
<a name='L392'>    <b>int</b> rv, size;
<a name='L393'>
<a name='L394'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y#:write", &amp;cp, &amp;size)) <font color='red'>{</font>
<a name='L395'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L396'>    <font color='red'>}</font>
<a name='L397'>
<a name='L398'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L399'>    rv = write(self-&gt;fd, cp, size);
<a name='L400'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L401'>
<a name='L402'>    <b>if</b> (rv == -1) <font color='red'>{</font>
<a name='L403'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L404'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L405'>        self-&gt;ocount += rv;
<a name='L406'>    <font color='red'>}</font>
<a name='L407'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(rv);
<a name='L408'><font color='red'>}</font>
<a name='L409'>
<a name='L410'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L411'><a href='../S/2694.html#L778' title='Refered from 778 in Modules/ossaudiodev.c.'>oss_writeall</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L412'><font color='red'>{</font>
<a name='L413'>    <b>char</b> *cp;
<a name='L414'>    <b>int</b> rv, size;
<a name='L415'>    fd_set write_set_fds;
<a name='L416'>    <b>int</b> select_rv;
<a name='L417'>
<a name='L418'>    <i><font color='green'>/* NB. writeall() is only useful in non-blocking mode: according to</font></i>
<a name='L419'><i><font color='green'>       Guenter Geiger &lt;geiger@xdv.org&gt; on the linux-audio-dev list</font></i>
<a name='L420'><i><font color='green'>       (http://eca.cx/lad/2002/11/0380.html), OSS guarantees that</font></i>
<a name='L421'><i><font color='green'>       write() in blocking mode consumes the whole buffer.  In blocking</font></i>
<a name='L422'><i><font color='green'>       mode, the behaviour of write() and writeall() from Python is</font></i>
<a name='L423'><i><font color='green'>       indistinguishable. */</font></i>
<a name='L424'>
<a name='L425'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y#:write", &amp;cp, &amp;size))
<a name='L426'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L427'>
<a name='L428'>    <i><font color='green'>/* use select to wait for audio device to be available */</font></i>
<a name='L429'>    FD_ZERO(&amp;write_set_fds);
<a name='L430'>    FD_SET(self-&gt;fd, &amp;write_set_fds);
<a name='L431'>
<a name='L432'>    <b>while</b> (size &gt; 0) <font color='red'>{</font>
<a name='L433'>        <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L434'>        select_rv = select(self-&gt;fd+1, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, &amp;write_set_fds, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L435'>        <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L436'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(select_rv != 0);         <i><font color='green'>/* no timeout, can't expire */</font></i>
<a name='L437'>        <b>if</b> (select_rv == -1)
<a name='L438'>            <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L439'>
<a name='L440'>        <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L441'>        rv = write(self-&gt;fd, cp, size);
<a name='L442'>        <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L443'>        <b>if</b> (rv == -1) <font color='red'>{</font>
<a name='L444'>            <b>if</b> (errno == EAGAIN) <font color='red'>{</font>      <i><font color='green'>/* buffer is full, try again */</font></i>
<a name='L445'>                errno = 0;
<a name='L446'>                <b>continue</b>;
<a name='L447'>            <font color='red'>}</font> <b>else</b>                      <i><font color='green'>/* it's a real error */</font></i>
<a name='L448'>                <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L449'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>                        <i><font color='green'>/* wrote rv bytes */</font></i>
<a name='L450'>            self-&gt;ocount += rv;
<a name='L451'>            size -= rv;
<a name='L452'>            cp += rv;
<a name='L453'>        <font color='red'>}</font>
<a name='L454'>    <font color='red'>}</font>
<a name='L455'>    Py_INCREF(Py_None);
<a name='L456'>    <b>return</b> Py_None;
<a name='L457'><font color='red'>}</font>
<a name='L458'>
<a name='L459'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L460'><a href='../S/2694.html#L779' title='Refered from 779 in Modules/ossaudiodev.c.'>oss_close</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *unused)
<a name='L461'><font color='red'>{</font>
<a name='L462'>    <b>if</b> (self-&gt;fd &gt;= 0) <font color='red'>{</font>
<a name='L463'>        <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L464'>        close(self-&gt;fd);
<a name='L465'>        <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L466'>        self-&gt;fd = -1;
<a name='L467'>    <font color='red'>}</font>
<a name='L468'>    Py_INCREF(Py_None);
<a name='L469'>    <b>return</b> Py_None;
<a name='L470'><font color='red'>}</font>
<a name='L471'>
<a name='L472'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L473'><a href='../R/9421.html' title='Multiple refered from 2 places.'>oss_self</a>(PyObject *self, PyObject *unused)
<a name='L474'><font color='red'>{</font>
<a name='L475'>    Py_INCREF(self);
<a name='L476'>    <b>return</b> self;
<a name='L477'><font color='red'>}</font>
<a name='L478'>
<a name='L479'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> * 
<a name='L480'><a href='../R/9399.html' title='Multiple refered from 2 places.'>oss_exit</a>(PyObject *self, PyObject *unused)
<a name='L481'><font color='red'>{</font>
<a name='L482'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ret = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(self, "close", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L483'>    <b>if</b> (!ret)
<a name='L484'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L485'>    Py_DECREF(ret);
<a name='L486'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L487'><font color='red'>}</font>
<a name='L488'>
<a name='L489'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L490'><a href='../S/2694.html#L780' title='Refered from 780 in Modules/ossaudiodev.c.'>oss_fileno</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *unused)
<a name='L491'><font color='red'>{</font>
<a name='L492'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(self-&gt;fd);
<a name='L493'><font color='red'>}</font>
<a name='L494'>
<a name='L495'>
<a name='L496'><i><font color='green'>/* Convenience methods: these generally wrap a couple of ioctls into one</font></i>
<a name='L497'><i><font color='green'>   common task. */</font></i>
<a name='L498'>
<a name='L499'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L500'><a href='../S/2694.html#L793' title='Refered from 793 in Modules/ossaudiodev.c.'>oss_setparameters</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *args)
<a name='L501'><font color='red'>{</font>
<a name='L502'>    <b>int</b> wanted_fmt, wanted_channels, wanted_rate, strict=0;
<a name='L503'>    <b>int</b> fmt, channels, rate;
<a name='L504'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> * rv;                    <i><font color='green'>/* return tuple (fmt, channels, rate) */</font></i>
<a name='L505'>
<a name='L506'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "iii|i:setparameters",
<a name='L507'>                          &amp;wanted_fmt, &amp;wanted_channels, &amp;wanted_rate,
<a name='L508'>                          &amp;strict))
<a name='L509'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L510'>
<a name='L511'>    fmt = wanted_fmt;
<a name='L512'>    <b>if</b> (ioctl(self-&gt;fd, SNDCTL_DSP_SETFMT, &amp;fmt) == -1) <font color='red'>{</font>
<a name='L513'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L514'>    <font color='red'>}</font>
<a name='L515'>    <b>if</b> (strict &amp;&amp; fmt != wanted_fmt) <font color='red'>{</font>
<a name='L516'>        <b>return</b> <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>
<a name='L517'>            (OSSAudioError,
<a name='L518'>             "unable to set requested format (wanted %d, got %d)",
<a name='L519'>             wanted_fmt, fmt);
<a name='L520'>    <font color='red'>}</font>
<a name='L521'>
<a name='L522'>    channels = wanted_channels;
<a name='L523'>    <b>if</b> (ioctl(self-&gt;fd, <a href='../S/2694.html#L44' title='Defined at 44 in Modules/ossaudiodev.c.'>SNDCTL_DSP_CHANNELS</a>, &amp;channels) == -1) <font color='red'>{</font>
<a name='L524'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L525'>    <font color='red'>}</font>
<a name='L526'>    <b>if</b> (strict &amp;&amp; channels != wanted_channels) <font color='red'>{</font>
<a name='L527'>        <b>return</b> <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>
<a name='L528'>            (OSSAudioError,
<a name='L529'>             "unable to set requested channels (wanted %d, got %d)",
<a name='L530'>             wanted_channels, channels);
<a name='L531'>    <font color='red'>}</font>
<a name='L532'>
<a name='L533'>    rate = wanted_rate;
<a name='L534'>    <b>if</b> (ioctl(self-&gt;fd, SNDCTL_DSP_SPEED, &amp;rate) == -1) <font color='red'>{</font>
<a name='L535'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L536'>    <font color='red'>}</font>
<a name='L537'>    <b>if</b> (strict &amp;&amp; rate != wanted_rate) <font color='red'>{</font>
<a name='L538'>        <b>return</b> <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>
<a name='L539'>            (OSSAudioError,
<a name='L540'>             "unable to set requested rate (wanted %d, got %d)",
<a name='L541'>             wanted_rate, rate);
<a name='L542'>    <font color='red'>}</font>
<a name='L543'>
<a name='L544'>    <i><font color='green'>/* Construct the return value: a (fmt, channels, rate) tuple that</font></i>
<a name='L545'><i><font color='green'>       tells what the audio hardware was actually set to. */</font></i>
<a name='L546'>    rv = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(3);
<a name='L547'>    <b>if</b> (rv == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L548'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L549'>    PyTuple_SET_ITEM(rv, 0, <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(fmt));
<a name='L550'>    PyTuple_SET_ITEM(rv, 1, <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(channels));
<a name='L551'>    PyTuple_SET_ITEM(rv, 2, <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(rate));
<a name='L552'>    <b>return</b> rv;
<a name='L553'><font color='red'>}</font>
<a name='L554'>
<a name='L555'><b>static</b> <b>int</b>
<a name='L556'><a href='../R/5853.html' title='Multiple refered from 3 places.'>_ssize</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, <b>int</b> *nchannels, <b>int</b> *ssize)
<a name='L557'><font color='red'>{</font>
<a name='L558'>    <b>int</b> fmt;
<a name='L559'>
<a name='L560'>    fmt = 0;
<a name='L561'>    <b>if</b> (ioctl(self-&gt;fd, SNDCTL_DSP_SETFMT, &amp;fmt) &lt; 0)
<a name='L562'>        <b>return</b> -errno;
<a name='L563'>
<a name='L564'>    <b>switch</b> (fmt) <font color='red'>{</font>
<a name='L565'>    <b>case</b> AFMT_MU_LAW:
<a name='L566'>    <b>case</b> AFMT_A_LAW:
<a name='L567'>    <b>case</b> AFMT_U8:
<a name='L568'>    <b>case</b> AFMT_S8:
<a name='L569'>        *ssize = 1;                     <i><font color='green'>/* 8 bit formats: 1 byte */</font></i>
<a name='L570'>        <b>break</b>;
<a name='L571'>    <b>case</b> AFMT_S16_LE:
<a name='L572'>    <b>case</b> AFMT_S16_BE:
<a name='L573'>    <b>case</b> AFMT_U16_LE:
<a name='L574'>    <b>case</b> AFMT_U16_BE:
<a name='L575'>        *ssize = 2;                     <i><font color='green'>/* 16 bit formats: 2 byte */</font></i>
<a name='L576'>        <b>break</b>;
<a name='L577'>    <b>case</b> AFMT_MPEG:
<a name='L578'>    <b>case</b> AFMT_IMA_ADPCM:
<a name='L579'>    <b>default</b>:
<a name='L580'>        <b>return</b> -EOPNOTSUPP;
<a name='L581'>    <font color='red'>}</font>
<a name='L582'>    <b>if</b> (ioctl(self-&gt;fd, <a href='../S/2694.html#L44' title='Defined at 44 in Modules/ossaudiodev.c.'>SNDCTL_DSP_CHANNELS</a>, nchannels) &lt; 0)
<a name='L583'>        <b>return</b> -errno;
<a name='L584'>    <b>return</b> 0;
<a name='L585'><font color='red'>}</font>
<a name='L586'>
<a name='L587'>
<a name='L588'><i><font color='green'>/* bufsize returns the size of the hardware audio buffer in number</font></i>
<a name='L589'><i><font color='green'>   of samples */</font></i>
<a name='L590'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L591'><a href='../S/2694.html#L794' title='Refered from 794 in Modules/ossaudiodev.c.'>oss_bufsize</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *unused)
<a name='L592'><font color='red'>{</font>
<a name='L593'>    audio_buf_info ai;
<a name='L594'>    <b>int</b> nchannels=0, ssize=0;
<a name='L595'>
<a name='L596'>    <b>if</b> (<a href='../S/2694.html#L556' title='Defined at 556 in Modules/ossaudiodev.c.'>_ssize</a>(self, &amp;nchannels, &amp;ssize) &lt; 0 || !nchannels || !ssize) <font color='red'>{</font>
<a name='L597'>        <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L598'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L599'>    <font color='red'>}</font>
<a name='L600'>    <b>if</b> (ioctl(self-&gt;fd, SNDCTL_DSP_GETOSPACE, &amp;ai) &lt; 0) <font color='red'>{</font>
<a name='L601'>        <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L602'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L603'>    <font color='red'>}</font>
<a name='L604'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((ai.fragstotal * ai.fragsize) / (nchannels * ssize));
<a name='L605'><font color='red'>}</font>
<a name='L606'>
<a name='L607'><i><font color='green'>/* obufcount returns the number of samples that are available in the</font></i>
<a name='L608'><i><font color='green'>   hardware for playing */</font></i>
<a name='L609'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L610'><a href='../S/2694.html#L795' title='Refered from 795 in Modules/ossaudiodev.c.'>oss_obufcount</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *unused)
<a name='L611'><font color='red'>{</font>
<a name='L612'>    audio_buf_info ai;
<a name='L613'>    <b>int</b> nchannels=0, ssize=0;
<a name='L614'>
<a name='L615'>    <b>if</b> (<a href='../S/2694.html#L556' title='Defined at 556 in Modules/ossaudiodev.c.'>_ssize</a>(self, &amp;nchannels, &amp;ssize) &lt; 0 || !nchannels || !ssize) <font color='red'>{</font>
<a name='L616'>        <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L617'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L618'>    <font color='red'>}</font>
<a name='L619'>    <b>if</b> (ioctl(self-&gt;fd, SNDCTL_DSP_GETOSPACE, &amp;ai) &lt; 0) <font color='red'>{</font>
<a name='L620'>        <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L621'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L622'>    <font color='red'>}</font>
<a name='L623'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((ai.fragstotal * ai.fragsize - ai.<a href='../D/7205.html' title='Multiple defined in 2 places.'>bytes</a>) /
<a name='L624'>                          (ssize * nchannels));
<a name='L625'><font color='red'>}</font>
<a name='L626'>
<a name='L627'><i><font color='green'>/* obufcount returns the number of samples that can be played without</font></i>
<a name='L628'><i><font color='green'>   blocking */</font></i>
<a name='L629'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L630'><a href='../S/2694.html#L796' title='Refered from 796 in Modules/ossaudiodev.c.'>oss_obuffree</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *unused)
<a name='L631'><font color='red'>{</font>
<a name='L632'>    audio_buf_info ai;
<a name='L633'>    <b>int</b> nchannels=0, ssize=0;
<a name='L634'>
<a name='L635'>    <b>if</b> (<a href='../S/2694.html#L556' title='Defined at 556 in Modules/ossaudiodev.c.'>_ssize</a>(self, &amp;nchannels, &amp;ssize) &lt; 0 || !nchannels || !ssize) <font color='red'>{</font>
<a name='L636'>        <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L637'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L638'>    <font color='red'>}</font>
<a name='L639'>    <b>if</b> (ioctl(self-&gt;fd, SNDCTL_DSP_GETOSPACE, &amp;ai) &lt; 0) <font color='red'>{</font>
<a name='L640'>        <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L641'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L642'>    <font color='red'>}</font>
<a name='L643'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(ai.<a href='../D/7205.html' title='Multiple defined in 2 places.'>bytes</a> / (ssize * nchannels));
<a name='L644'><font color='red'>}</font>
<a name='L645'>
<a name='L646'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L647'><a href='../S/2694.html#L797' title='Refered from 797 in Modules/ossaudiodev.c.'>oss_getptr</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *unused)
<a name='L648'><font color='red'>{</font>
<a name='L649'>    count_info info;
<a name='L650'>    <b>int</b> req;
<a name='L651'>
<a name='L652'>    <b>if</b> (self-&gt;mode == <a href='../S/2694.html#L28' title='Defined at 28 in Modules/ossaudiodev.c.'>O_RDONLY</a>)
<a name='L653'>        req = SNDCTL_DSP_GETIPTR;
<a name='L654'>    <b>else</b>
<a name='L655'>        req = SNDCTL_DSP_GETOPTR;
<a name='L656'>    <b>if</b> (ioctl(self-&gt;fd, req, &amp;info) == -1) <font color='red'>{</font>
<a name='L657'>        <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L658'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L659'>    <font color='red'>}</font>
<a name='L660'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("iii", info.<a href='../D/7205.html' title='Multiple defined in 2 places.'>bytes</a>, info.blocks, info.ptr);
<a name='L661'><font color='red'>}</font>
<a name='L662'>
<a name='L663'>
<a name='L664'><i><font color='green'>/* ----------------------------------------------------------------------</font></i>
<a name='L665'><i><font color='green'> * Methods of mixer objects (OSSMixerType)</font></i>
<a name='L666'><i><font color='green'> */</font></i>
<a name='L667'>
<a name='L668'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L669'><a href='../S/2694.html#L811' title='Refered from 811 in Modules/ossaudiodev.c.'>oss_mixer_close</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *unused)
<a name='L670'><font color='red'>{</font>
<a name='L671'>    <b>if</b> (self-&gt;fd &gt;= 0) <font color='red'>{</font>
<a name='L672'>        close(self-&gt;fd);
<a name='L673'>        self-&gt;fd = -1;
<a name='L674'>    <font color='red'>}</font>
<a name='L675'>    Py_INCREF(Py_None);
<a name='L676'>    <b>return</b> Py_None;
<a name='L677'><font color='red'>}</font>
<a name='L678'>
<a name='L679'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L680'><a href='../S/2694.html#L812' title='Refered from 812 in Modules/ossaudiodev.c.'>oss_mixer_fileno</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *unused)
<a name='L681'><font color='red'>{</font>
<a name='L682'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(self-&gt;fd);
<a name='L683'><font color='red'>}</font>
<a name='L684'>
<a name='L685'><i><font color='green'>/* Simple mixer interface methods */</font></i>
<a name='L686'>
<a name='L687'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L688'><a href='../S/2694.html#L819' title='Refered from 819 in Modules/ossaudiodev.c.'>oss_mixer_controls</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *args)
<a name='L689'><font color='red'>{</font>
<a name='L690'>    <b>return</b> <a href='../S/2694.html#L251' title='Defined at 251 in Modules/ossaudiodev.c.'>_do_ioctl_1_internal</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "controls",
<a name='L691'>        SOUND_MIXER_READ_DEVMASK);
<a name='L692'><font color='red'>}</font>
<a name='L693'>
<a name='L694'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L695'><a href='../S/2694.html#L820' title='Refered from 820 in Modules/ossaudiodev.c.'>oss_mixer_stereocontrols</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *args)
<a name='L696'><font color='red'>{</font>
<a name='L697'>    <b>return</b> <a href='../S/2694.html#L251' title='Defined at 251 in Modules/ossaudiodev.c.'>_do_ioctl_1_internal</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "stereocontrols",
<a name='L698'>        SOUND_MIXER_READ_STEREODEVS);
<a name='L699'><font color='red'>}</font>
<a name='L700'>
<a name='L701'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L702'><a href='../S/2694.html#L821' title='Refered from 821 in Modules/ossaudiodev.c.'>oss_mixer_reccontrols</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *args)
<a name='L703'><font color='red'>{</font>
<a name='L704'>    <b>return</b> <a href='../S/2694.html#L251' title='Defined at 251 in Modules/ossaudiodev.c.'>_do_ioctl_1_internal</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "reccontrols",
<a name='L705'>        SOUND_MIXER_READ_RECMASK);
<a name='L706'><font color='red'>}</font>
<a name='L707'>
<a name='L708'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L709'><a href='../S/2694.html#L822' title='Refered from 822 in Modules/ossaudiodev.c.'>oss_mixer_get</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *args)
<a name='L710'><font color='red'>{</font>
<a name='L711'>    <b>int</b> channel, volume;
<a name='L712'>
<a name='L713'>    <i><font color='green'>/* Can't use _do_ioctl_1 because of encoded arg thingy. */</font></i>
<a name='L714'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "i:get", &amp;channel))
<a name='L715'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L716'>
<a name='L717'>    <b>if</b> (channel &lt; 0 || channel &gt; SOUND_MIXER_NRDEVICES) <font color='red'>{</font>
<a name='L718'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(OSSAudioError, "Invalid mixer channel specified.");
<a name='L719'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L720'>    <font color='red'>}</font>
<a name='L721'>
<a name='L722'>    <b>if</b> (ioctl(self-&gt;fd, MIXER_READ(channel), &amp;volume) == -1)
<a name='L723'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L724'>
<a name='L725'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(ii)", volume &amp; 0xff, (volume &amp; 0xff00) &gt;&gt; 8);
<a name='L726'><font color='red'>}</font>
<a name='L727'>
<a name='L728'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L729'><a href='../S/2694.html#L823' title='Refered from 823 in Modules/ossaudiodev.c.'>oss_mixer_set</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *args)
<a name='L730'><font color='red'>{</font>
<a name='L731'>    <b>int</b> channel, volume, leftVol, rightVol;
<a name='L732'>
<a name='L733'>    <i><font color='green'>/* Can't use _do_ioctl_1 because of encoded arg thingy. */</font></i>
<a name='L734'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "i(ii):set", &amp;channel, &amp;leftVol, &amp;rightVol))
<a name='L735'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L736'>
<a name='L737'>    <b>if</b> (channel &lt; 0 || channel &gt; SOUND_MIXER_NRDEVICES) <font color='red'>{</font>
<a name='L738'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(OSSAudioError, "Invalid mixer channel specified.");
<a name='L739'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L740'>    <font color='red'>}</font>
<a name='L741'>
<a name='L742'>    <b>if</b> (leftVol &lt; 0 || rightVol &lt; 0 || leftVol &gt; 100 || rightVol &gt; 100) <font color='red'>{</font>
<a name='L743'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(OSSAudioError, "Volumes must be between 0 and 100.");
<a name='L744'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L745'>    <font color='red'>}</font>
<a name='L746'>
<a name='L747'>    volume = (rightVol &lt;&lt; 8) | leftVol;
<a name='L748'>
<a name='L749'>    <b>if</b> (ioctl(self-&gt;fd, MIXER_WRITE(channel), &amp;volume) == -1)
<a name='L750'>        <b>return</b> <a href='../S/3106.html#L452' title='Defined at 452 in Python/errors.c.'>PyErr_SetFromErrno</a>(PyExc_IOError);
<a name='L751'>
<a name='L752'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(ii)", volume &amp; 0xff, (volume &amp; 0xff00) &gt;&gt; 8);
<a name='L753'><font color='red'>}</font>
<a name='L754'>
<a name='L755'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L756'><a href='../S/2694.html#L824' title='Refered from 824 in Modules/ossaudiodev.c.'>oss_mixer_get_recsrc</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *args)
<a name='L757'><font color='red'>{</font>
<a name='L758'>    <b>return</b> <a href='../S/2694.html#L251' title='Defined at 251 in Modules/ossaudiodev.c.'>_do_ioctl_1_internal</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "get_recsrc",
<a name='L759'>        SOUND_MIXER_READ_RECSRC);
<a name='L760'><font color='red'>}</font>
<a name='L761'>
<a name='L762'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L763'><a href='../S/2694.html#L825' title='Refered from 825 in Modules/ossaudiodev.c.'>oss_mixer_set_recsrc</a>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a> *self, PyObject *args)
<a name='L764'><font color='red'>{</font>
<a name='L765'>    <b>return</b> <a href='../S/2694.html#L226' title='Defined at 226 in Modules/ossaudiodev.c.'>_do_ioctl_1</a>(self-&gt;fd, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "set_recsrc",
<a name='L766'>        SOUND_MIXER_WRITE_RECSRC);
<a name='L767'><font color='red'>}</font>
<a name='L768'>
<a name='L769'>
<a name='L770'><i><font color='green'>/* ----------------------------------------------------------------------</font></i>
<a name='L771'><i><font color='green'> * Method tables and other bureaucracy</font></i>
<a name='L772'><i><font color='green'> */</font></i>
<a name='L773'>
<a name='L774'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> oss_methods[] = <font color='red'>{</font>
<a name='L775'>    <i><font color='green'>/* Regular file methods */</font></i>
<a name='L776'>    <font color='red'>{</font> "read",           (PyCFunction)<a href='../S/2694.html#L361' title='Defined at 361 in Modules/ossaudiodev.c.'>oss_read</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L777'>    <font color='red'>{</font> "write",          (PyCFunction)<a href='../S/2694.html#L389' title='Defined at 389 in Modules/ossaudiodev.c.'>oss_write</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L778'>    <font color='red'>{</font> "writeall",       (PyCFunction)<a href='../S/2694.html#L411' title='Defined at 411 in Modules/ossaudiodev.c.'>oss_writeall</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L779'>    <font color='red'>{</font> "close",          (PyCFunction)<a href='../S/2694.html#L460' title='Defined at 460 in Modules/ossaudiodev.c.'>oss_close</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L780'>    <font color='red'>{</font> "fileno",         (PyCFunction)<a href='../S/2694.html#L490' title='Defined at 490 in Modules/ossaudiodev.c.'>oss_fileno</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L781'>
<a name='L782'>    <i><font color='green'>/* Simple ioctl wrappers */</font></i>
<a name='L783'>    <font color='red'>{</font> "nonblock",       (PyCFunction)<a href='../S/2694.html#L301' title='Defined at 301 in Modules/ossaudiodev.c.'>oss_nonblock</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L784'>    <font color='red'>{</font> "setfmt",         (PyCFunction)<a href='../S/2694.html#L312' title='Defined at 312 in Modules/ossaudiodev.c.'>oss_setfmt</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L785'>    <font color='red'>{</font> "getfmts",        (PyCFunction)<a href='../S/2694.html#L318' title='Defined at 318 in Modules/ossaudiodev.c.'>oss_getfmts</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L786'>    <font color='red'>{</font> "channels",       (PyCFunction)<a href='../S/2694.html#L327' title='Defined at 327 in Modules/ossaudiodev.c.'>oss_channels</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L787'>    <font color='red'>{</font> "speed",          (PyCFunction)<a href='../S/2694.html#L333' title='Defined at 333 in Modules/ossaudiodev.c.'>oss_speed</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L788'>    <font color='red'>{</font> "sync",           (PyCFunction)<a href='../S/2694.html#L339' title='Defined at 339 in Modules/ossaudiodev.c.'>oss_sync</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L789'>    <font color='red'>{</font> "reset",          (PyCFunction)<a href='../S/2694.html#L345' title='Defined at 345 in Modules/ossaudiodev.c.'>oss_reset</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L790'>    <font color='red'>{</font> "post",           (PyCFunction)<a href='../S/2694.html#L351' title='Defined at 351 in Modules/ossaudiodev.c.'>oss_post</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L791'>
<a name='L792'>    <i><font color='green'>/* Convenience methods -- wrap a couple of ioctls together */</font></i>
<a name='L793'>    <font color='red'>{</font> "setparameters",  (PyCFunction)<a href='../S/2694.html#L500' title='Defined at 500 in Modules/ossaudiodev.c.'>oss_setparameters</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L794'>    <font color='red'>{</font> "bufsize",        (PyCFunction)<a href='../S/2694.html#L591' title='Defined at 591 in Modules/ossaudiodev.c.'>oss_bufsize</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L795'>    <font color='red'>{</font> "obufcount",      (PyCFunction)<a href='../S/2694.html#L610' title='Defined at 610 in Modules/ossaudiodev.c.'>oss_obufcount</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L796'>    <font color='red'>{</font> "obuffree",       (PyCFunction)<a href='../S/2694.html#L630' title='Defined at 630 in Modules/ossaudiodev.c.'>oss_obuffree</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L797'>    <font color='red'>{</font> "getptr",         (PyCFunction)<a href='../S/2694.html#L647' title='Defined at 647 in Modules/ossaudiodev.c.'>oss_getptr</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L798'>
<a name='L799'>    <i><font color='green'>/* Aliases for backwards compatibility */</font></i>
<a name='L800'>    <font color='red'>{</font> "flush",          (PyCFunction)<a href='../S/2694.html#L339' title='Defined at 339 in Modules/ossaudiodev.c.'>oss_sync</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L801'>
<a name='L802'>    <i><font color='green'>/* Support for the context manager protocol */</font></i>
<a name='L803'>    <font color='red'>{</font> "__enter__",      <a href='../S/2694.html#L473' title='Defined at 473 in Modules/ossaudiodev.c.'>oss_self</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L804'>    <font color='red'>{</font> "__exit__",       <a href='../S/2694.html#L480' title='Defined at 480 in Modules/ossaudiodev.c.'>oss_exit</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L805'>
<a name='L806'>    <font color='red'>{</font> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,             <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>           <i><font color='green'>/* sentinel */</font></i>
<a name='L807'><font color='red'>}</font>;
<a name='L808'>
<a name='L809'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> oss_mixer_methods[] = <font color='red'>{</font>
<a name='L810'>    <i><font color='green'>/* Regular file method - OSS mixers are ioctl-only interface */</font></i>
<a name='L811'>    <font color='red'>{</font> "close",          (PyCFunction)<a href='../S/2694.html#L669' title='Defined at 669 in Modules/ossaudiodev.c.'>oss_mixer_close</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L812'>    <font color='red'>{</font> "fileno",         (PyCFunction)<a href='../S/2694.html#L680' title='Defined at 680 in Modules/ossaudiodev.c.'>oss_mixer_fileno</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L813'>
<a name='L814'>    <i><font color='green'>/* Support for the context manager protocol */</font></i>
<a name='L815'>    <font color='red'>{</font> "__enter__",      <a href='../S/2694.html#L473' title='Defined at 473 in Modules/ossaudiodev.c.'>oss_self</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> <font color='red'>}</font>,
<a name='L816'>    <font color='red'>{</font> "__exit__",       <a href='../S/2694.html#L480' title='Defined at 480 in Modules/ossaudiodev.c.'>oss_exit</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L817'>
<a name='L818'>    <i><font color='green'>/* Simple ioctl wrappers */</font></i>
<a name='L819'>    <font color='red'>{</font> "controls",       (PyCFunction)<a href='../S/2694.html#L688' title='Defined at 688 in Modules/ossaudiodev.c.'>oss_mixer_controls</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L820'>    <font color='red'>{</font> "stereocontrols", (PyCFunction)<a href='../S/2694.html#L695' title='Defined at 695 in Modules/ossaudiodev.c.'>oss_mixer_stereocontrols</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L821'>    <font color='red'>{</font> "reccontrols",    (PyCFunction)<a href='../S/2694.html#L702' title='Defined at 702 in Modules/ossaudiodev.c.'>oss_mixer_reccontrols</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L822'>    <font color='red'>{</font> "get",            (PyCFunction)<a href='../S/2694.html#L709' title='Defined at 709 in Modules/ossaudiodev.c.'>oss_mixer_get</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L823'>    <font color='red'>{</font> "set",            (PyCFunction)<a href='../S/2694.html#L729' title='Defined at 729 in Modules/ossaudiodev.c.'>oss_mixer_set</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L824'>    <font color='red'>{</font> "get_recsrc",     (PyCFunction)<a href='../S/2694.html#L756' title='Defined at 756 in Modules/ossaudiodev.c.'>oss_mixer_get_recsrc</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L825'>    <font color='red'>{</font> "set_recsrc",     (PyCFunction)<a href='../S/2694.html#L763' title='Defined at 763 in Modules/ossaudiodev.c.'>oss_mixer_set_recsrc</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L826'>
<a name='L827'>    <font color='red'>{</font> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,             <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L828'><font color='red'>}</font>;
<a name='L829'>
<a name='L830'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L831'><a href='../S/2694.html#L885' title='Refered from 885 in Modules/ossaudiodev.c.'>oss_getattro</a>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a> *self, PyObject *nameobj)
<a name='L832'><font color='red'>{</font>
<a name='L833'>    <b>char</b> *name = "";
<a name='L834'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> * rval = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L835'>
<a name='L836'>    <b>if</b> (PyUnicode_Check(nameobj))
<a name='L837'>        name = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(nameobj);
<a name='L838'>
<a name='L839'>    <b>if</b> (strcmp(name, "closed") == 0) <font color='red'>{</font>
<a name='L840'>        rval = (self-&gt;fd == -1) ? Py_True : Py_False;
<a name='L841'>        Py_INCREF(rval);
<a name='L842'>    <font color='red'>}</font>
<a name='L843'>    <b>else</b> <b>if</b> (strcmp(name, "name") == 0) <font color='red'>{</font>
<a name='L844'>        rval = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(self-&gt;devicename);
<a name='L845'>    <font color='red'>}</font>
<a name='L846'>    <b>else</b> <b>if</b> (strcmp(name, "mode") == 0) <font color='red'>{</font>
<a name='L847'>        <i><font color='green'>/* No need for a "default" in this switch: from newossobject(),</font></i>
<a name='L848'><i><font color='green'>           self-&gt;mode can only be one of these three values. */</font></i>
<a name='L849'>        <b>switch</b>(self-&gt;mode) <font color='red'>{</font>
<a name='L850'>            <b>case</b> <a href='../S/2694.html#L28' title='Defined at 28 in Modules/ossaudiodev.c.'>O_RDONLY</a>:
<a name='L851'>                rval = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("r");
<a name='L852'>                <b>break</b>;
<a name='L853'>            <b>case</b> O_RDWR:
<a name='L854'>                rval = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("rw");
<a name='L855'>                <b>break</b>;
<a name='L856'>            <b>case</b> <a href='../S/2694.html#L29' title='Defined at 29 in Modules/ossaudiodev.c.'>O_WRONLY</a>:
<a name='L857'>                rval = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("w");
<a name='L858'>                <b>break</b>;
<a name='L859'>        <font color='red'>}</font>
<a name='L860'>    <font color='red'>}</font>
<a name='L861'>    <b>else</b> <font color='red'>{</font>
<a name='L862'>        rval = <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, nameobj);
<a name='L863'>    <font color='red'>}</font>
<a name='L864'>    <b>return</b> rval;
<a name='L865'><font color='red'>}</font>
<a name='L866'>
<a name='L867'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> OSSAudioType = <font color='red'>{</font>
<a name='L868'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(&amp;PyType_Type, 0)
<a name='L869'>    "ossaudiodev.oss_audio_device", <i><font color='green'>/*tp_name*/</font></i>
<a name='L870'>    <b>sizeof</b>(<a href='../S/2694.html#L57' title='Defined at 57 in Modules/ossaudiodev.c.'>oss_audio_t</a>),        <i><font color='green'>/*tp_size*/</font></i>
<a name='L871'>    0,                          <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L872'>    <i><font color='green'>/* methods */</font></i>
<a name='L873'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2694.html#L149' title='Defined at 149 in Modules/ossaudiodev.c.'>oss_dealloc</a>,    <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L874'>    0,                          <i><font color='green'>/*tp_print*/</font></i>
<a name='L875'>    0,                          <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L876'>    0,                          <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L877'>    0,                          <i><font color='green'>/*tp_reserved*/</font></i>
<a name='L878'>    0,                          <i><font color='green'>/*tp_repr*/</font></i>
<a name='L879'>    0,                          <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L880'>    0,                          <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L881'>    0,                          <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L882'>    0,                          <i><font color='green'>/*tp_hash*/</font></i>
<a name='L883'>    0,                          <i><font color='green'>/*tp_call*/</font></i>
<a name='L884'>    0,                          <i><font color='green'>/*tp_str*/</font></i>
<a name='L885'>    (getattrofunc)<a href='../S/2694.html#L831' title='Defined at 831 in Modules/ossaudiodev.c.'>oss_getattro</a>, <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L886'>    0,                          <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L887'>    0,                          <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L888'>    Py_TPFLAGS_DEFAULT,         <i><font color='green'>/*tp_flags*/</font></i>
<a name='L889'>    0,                          <i><font color='green'>/*tp_doc*/</font></i>
<a name='L890'>    0,                          <i><font color='green'>/*tp_traverse*/</font></i>
<a name='L891'>    0,                          <i><font color='green'>/*tp_clear*/</font></i>
<a name='L892'>    0,                          <i><font color='green'>/*tp_richcompare*/</font></i>
<a name='L893'>    0,                          <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L894'>    0,                          <i><font color='green'>/*tp_iter*/</font></i>
<a name='L895'>    0,                          <i><font color='green'>/*tp_iternext*/</font></i>
<a name='L896'>    oss_methods,                <i><font color='green'>/*tp_methods*/</font></i>
<a name='L897'><font color='red'>}</font>;
<a name='L898'>
<a name='L899'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> OSSMixerType = <font color='red'>{</font>
<a name='L900'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(&amp;PyType_Type, 0)
<a name='L901'>    "ossaudiodev.oss_mixer_device", <i><font color='green'>/*tp_name*/</font></i>
<a name='L902'>    <b>sizeof</b>(<a href='../S/2694.html#L62' title='Defined at 62 in Modules/ossaudiodev.c.'>oss_mixer_t</a>),            <i><font color='green'>/*tp_size*/</font></i>
<a name='L903'>    0,                              <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L904'>    <i><font color='green'>/* methods */</font></i>
<a name='L905'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2694.html#L195' title='Defined at 195 in Modules/ossaudiodev.c.'>oss_mixer_dealloc</a>,  <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L906'>    0,                              <i><font color='green'>/*tp_print*/</font></i>
<a name='L907'>    0,                              <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L908'>    0,                              <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L909'>    0,                              <i><font color='green'>/*tp_reserved*/</font></i>
<a name='L910'>    0,                              <i><font color='green'>/*tp_repr*/</font></i>
<a name='L911'>    0,                              <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L912'>    0,                              <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L913'>    0,                              <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L914'>    0,                              <i><font color='green'>/*tp_hash*/</font></i>
<a name='L915'>    0,                              <i><font color='green'>/*tp_call*/</font></i>
<a name='L916'>    0,                              <i><font color='green'>/*tp_str*/</font></i>
<a name='L917'>    0,                              <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L918'>    0,                              <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L919'>    0,                              <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L920'>    Py_TPFLAGS_DEFAULT,             <i><font color='green'>/*tp_flags*/</font></i>
<a name='L921'>    0,                              <i><font color='green'>/*tp_doc*/</font></i>
<a name='L922'>    0,                              <i><font color='green'>/*tp_traverse*/</font></i>
<a name='L923'>    0,                              <i><font color='green'>/*tp_clear*/</font></i>
<a name='L924'>    0,                              <i><font color='green'>/*tp_richcompare*/</font></i>
<a name='L925'>    0,                              <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L926'>    0,                              <i><font color='green'>/*tp_iter*/</font></i>
<a name='L927'>    0,                              <i><font color='green'>/*tp_iternext*/</font></i>
<a name='L928'>    oss_mixer_methods,              <i><font color='green'>/*tp_methods*/</font></i>
<a name='L929'><font color='red'>}</font>;
<a name='L930'>
<a name='L931'>
<a name='L932'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L933'><a href='../S/2694.html#L945' title='Refered from 945 in Modules/ossaudiodev.c.'>ossopen</a>(PyObject *self, PyObject *args)
<a name='L934'><font color='red'>{</font>
<a name='L935'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)<a href='../S/2694.html#L76' title='Defined at 76 in Modules/ossaudiodev.c.'>newossobject</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L936'><font color='red'>}</font>
<a name='L937'>
<a name='L938'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L939'><a href='../S/2694.html#L946' title='Refered from 946 in Modules/ossaudiodev.c.'>ossopenmixer</a>(PyObject *self, PyObject *args)
<a name='L940'><font color='red'>{</font>
<a name='L941'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)<a href='../S/2694.html#L163' title='Defined at 163 in Modules/ossaudiodev.c.'>newossmixerobject</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L942'><font color='red'>}</font>
<a name='L943'>
<a name='L944'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> ossaudiodev_methods[] = <font color='red'>{</font>
<a name='L945'>    <font color='red'>{</font> "open", <a href='../S/2694.html#L933' title='Defined at 933 in Modules/ossaudiodev.c.'>ossopen</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L946'>    <font color='red'>{</font> "openmixer", <a href='../S/2694.html#L939' title='Defined at 939 in Modules/ossaudiodev.c.'>ossopenmixer</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> <font color='red'>}</font>,
<a name='L947'>    <font color='red'>{</font> 0, 0 <font color='red'>}</font>,
<a name='L948'><font color='red'>}</font>;
<a name='L949'>
<a name='L950'>
<a name='L951'><font color='darkred'>#define</font> <a href='../R/5320.html' title='Multiple refered from 116 places.'>_EXPORT_INT</a>(mod, name) \
<a name='L952'>  <b>if</b> (<a href='../S/3125.html#L554' title='Defined at 554 in Python/modsupport.c.'>PyModule_AddIntConstant</a>(mod, #name, (<b>long</b>) (name)) == -1) <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L953'>
<a name='L954'>
<a name='L955'><b>static</b> <b>char</b> *control_labels[] = SOUND_DEVICE_LABELS;
<a name='L956'><b>static</b> <b>char</b> *control_names[] = SOUND_DEVICE_NAMES;
<a name='L957'>
<a name='L958'>
<a name='L959'><b>static</b> <b>int</b>
<a name='L960'><a href='../S/2694.html#L1041' title='Refered from 1041 in Modules/ossaudiodev.c.'>build_namelists</a> (PyObject *module)
<a name='L961'><font color='red'>{</font>
<a name='L962'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *labels;
<a name='L963'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *names;
<a name='L964'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *s;
<a name='L965'>    <b>int</b> num_controls;
<a name='L966'>    <b>int</b> i;
<a name='L967'>
<a name='L968'>    num_controls = <b>sizeof</b>(control_labels) / <b>sizeof</b>(control_labels[0]);
<a name='L969'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(num_controls == <b>sizeof</b>(control_names) / <b>sizeof</b>(control_names[0]));
<a name='L970'>
<a name='L971'>    labels = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(num_controls);
<a name='L972'>    names = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(num_controls);
<a name='L973'>    <b>if</b> (labels == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || names == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L974'>        <b>goto</b> error2;
<a name='L975'>    <b>for</b> (i = 0; i &lt; num_controls; i++) <font color='red'>{</font>
<a name='L976'>        s = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(control_labels[i]);
<a name='L977'>        <b>if</b> (s == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L978'>            <b>goto</b> error2;
<a name='L979'>        PyList_SET_ITEM(labels, i, s);
<a name='L980'>
<a name='L981'>        s = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(control_names[i]);
<a name='L982'>        <b>if</b> (s == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L983'>            <b>goto</b> error2;
<a name='L984'>        PyList_SET_ITEM(names, i, s);
<a name='L985'>    <font color='red'>}</font>
<a name='L986'>
<a name='L987'>    <b>if</b> (<a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(module, "control_labels", labels) == -1)
<a name='L988'>        <b>goto</b> error2;
<a name='L989'>    <b>if</b> (<a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(module, "control_names", names) == -1)
<a name='L990'>        <b>goto</b> error1;
<a name='L991'>
<a name='L992'>    <b>return</b> 0;
<a name='L993'>
<a name='L994'>error2:
<a name='L995'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(labels);
<a name='L996'>error1:
<a name='L997'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(names);
<a name='L998'>    <b>return</b> -1;
<a name='L999'><font color='red'>}</font>
<a name='L1000'>
<a name='L1001'>
<a name='L1002'><b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> ossaudiodevmodule = <font color='red'>{</font>
<a name='L1003'>        <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,
<a name='L1004'>        "ossaudiodev",
<a name='L1005'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1006'>        -1,
<a name='L1007'>        ossaudiodev_methods,
<a name='L1008'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1009'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1010'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1011'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L1012'><font color='red'>}</font>;
<a name='L1013'>
<a name='L1014'><a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L1015'>PyInit_ossaudiodev(<b>void</b>)
<a name='L1016'><font color='red'>{</font>
<a name='L1017'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m;
<a name='L1018'>
<a name='L1019'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;OSSAudioType) &lt; 0)
<a name='L1020'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1021'>
<a name='L1022'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;OSSMixerType) &lt; 0)
<a name='L1023'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1024'>
<a name='L1025'>    m = PyModule_Create(&amp;ossaudiodevmodule);
<a name='L1026'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1027'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1028'>
<a name='L1029'>    OSSAudioError = <a href='../S/3106.html#L621' title='Defined at 621 in Python/errors.c.'>PyErr_NewException</a>("ossaudiodev.OSSAudioError",
<a name='L1030'>                                       <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1031'>    <b>if</b> (OSSAudioError) <font color='red'>{</font>
<a name='L1032'>        <i><font color='green'>/* Each call to PyModule_AddObject decrefs it; compensate: */</font></i>
<a name='L1033'>        Py_INCREF(OSSAudioError);
<a name='L1034'>        Py_INCREF(OSSAudioError);
<a name='L1035'>        <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "error", OSSAudioError);
<a name='L1036'>        <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "OSSAudioError", OSSAudioError);
<a name='L1037'>    <font color='red'>}</font>
<a name='L1038'>
<a name='L1039'>    <i><font color='green'>/* Build 'control_labels' and 'control_names' lists and add them</font></i>
<a name='L1040'><i><font color='green'>       to the module. */</font></i>
<a name='L1041'>    <b>if</b> (<a href='../S/2694.html#L960' title='Defined at 960 in Modules/ossaudiodev.c.'>build_namelists</a>(m) == -1)       <i><font color='green'>/* XXX what to do here? */</font></i>
<a name='L1042'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1043'>
<a name='L1044'>    <i><font color='green'>/* Expose the audio format numbers -- essential! */</font></i>
<a name='L1045'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_QUERY);
<a name='L1046'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_MU_LAW);
<a name='L1047'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_A_LAW);
<a name='L1048'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_IMA_ADPCM);
<a name='L1049'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_U8);
<a name='L1050'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_S16_LE);
<a name='L1051'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_S16_BE);
<a name='L1052'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_S8);
<a name='L1053'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_U16_LE);
<a name='L1054'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_U16_BE);
<a name='L1055'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_MPEG);
<a name='L1056'><font color='darkred'>#ifdef</font> AFMT_AC3
<a name='L1057'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_AC3);
<a name='L1058'><font color='darkred'>#endif</font>
<a name='L1059'><font color='darkred'>#ifdef</font> AFMT_S16_NE
<a name='L1060'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_S16_NE);
<a name='L1061'><font color='darkred'>#endif</font>
<a name='L1062'><font color='darkred'>#ifdef</font> AFMT_U16_NE
<a name='L1063'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_U16_NE);
<a name='L1064'><font color='darkred'>#endif</font>
<a name='L1065'><font color='darkred'>#ifdef</font> AFMT_S32_LE
<a name='L1066'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_S32_LE);
<a name='L1067'><font color='darkred'>#endif</font>
<a name='L1068'><font color='darkred'>#ifdef</font> AFMT_S32_BE
<a name='L1069'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_S32_BE);
<a name='L1070'><font color='darkred'>#endif</font>
<a name='L1071'><font color='darkred'>#ifdef</font> AFMT_MPEG
<a name='L1072'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, AFMT_MPEG);
<a name='L1073'><font color='darkred'>#endif</font>
<a name='L1074'>
<a name='L1075'>    <i><font color='green'>/* Expose the sound mixer device numbers. */</font></i>
<a name='L1076'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_NRDEVICES);
<a name='L1077'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_VOLUME);
<a name='L1078'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_BASS);
<a name='L1079'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_TREBLE);
<a name='L1080'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_SYNTH);
<a name='L1081'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_PCM);
<a name='L1082'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_SPEAKER);
<a name='L1083'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_LINE);
<a name='L1084'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_MIC);
<a name='L1085'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_CD);
<a name='L1086'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_IMIX);
<a name='L1087'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_ALTPCM);
<a name='L1088'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_RECLEV);
<a name='L1089'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_IGAIN);
<a name='L1090'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_OGAIN);
<a name='L1091'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_LINE1);
<a name='L1092'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_LINE2);
<a name='L1093'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_LINE3);
<a name='L1094'><font color='darkred'>#ifdef</font> SOUND_MIXER_DIGITAL1
<a name='L1095'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_DIGITAL1);
<a name='L1096'><font color='darkred'>#endif</font>
<a name='L1097'><font color='darkred'>#ifdef</font> SOUND_MIXER_DIGITAL2
<a name='L1098'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_DIGITAL2);
<a name='L1099'><font color='darkred'>#endif</font>
<a name='L1100'><font color='darkred'>#ifdef</font> SOUND_MIXER_DIGITAL3
<a name='L1101'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_DIGITAL3);
<a name='L1102'><font color='darkred'>#endif</font>
<a name='L1103'><font color='darkred'>#ifdef</font> SOUND_MIXER_PHONEIN
<a name='L1104'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_PHONEIN);
<a name='L1105'><font color='darkred'>#endif</font>
<a name='L1106'><font color='darkred'>#ifdef</font> SOUND_MIXER_PHONEOUT
<a name='L1107'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_PHONEOUT);
<a name='L1108'><font color='darkred'>#endif</font>
<a name='L1109'><font color='darkred'>#ifdef</font> SOUND_MIXER_VIDEO
<a name='L1110'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_VIDEO);
<a name='L1111'><font color='darkred'>#endif</font>
<a name='L1112'><font color='darkred'>#ifdef</font> SOUND_MIXER_RADIO
<a name='L1113'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_RADIO);
<a name='L1114'><font color='darkred'>#endif</font>
<a name='L1115'><font color='darkred'>#ifdef</font> SOUND_MIXER_MONITOR
<a name='L1116'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SOUND_MIXER_MONITOR);
<a name='L1117'><font color='darkred'>#endif</font>
<a name='L1118'>
<a name='L1119'>    <i><font color='green'>/* Expose all the ioctl numbers for masochists who like to do this</font></i>
<a name='L1120'><i><font color='green'>       stuff directly. */</font></i>
<a name='L1121'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_HALT);
<a name='L1122'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_LOAD);
<a name='L1123'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_RCODE);
<a name='L1124'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_RCVMSG);
<a name='L1125'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_RDATA);
<a name='L1126'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_RESET);
<a name='L1127'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_RUN);
<a name='L1128'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_SENDMSG);
<a name='L1129'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_WCODE);
<a name='L1130'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_COPR_WDATA);
<a name='L1131'><font color='darkred'>#ifdef</font> SNDCTL_DSP_BIND_CHANNEL
<a name='L1132'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_BIND_CHANNEL);
<a name='L1133'><font color='darkred'>#endif</font>
<a name='L1134'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, <a href='../S/2694.html#L44' title='Defined at 44 in Modules/ossaudiodev.c.'>SNDCTL_DSP_CHANNELS</a>);
<a name='L1135'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETBLKSIZE);
<a name='L1136'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETCAPS);
<a name='L1137'><font color='darkred'>#ifdef</font> SNDCTL_DSP_GETCHANNELMASK
<a name='L1138'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETCHANNELMASK);
<a name='L1139'><font color='darkred'>#endif</font>
<a name='L1140'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETFMTS);
<a name='L1141'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETIPTR);
<a name='L1142'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETISPACE);
<a name='L1143'><font color='darkred'>#ifdef</font> SNDCTL_DSP_GETODELAY
<a name='L1144'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETODELAY);
<a name='L1145'><font color='darkred'>#endif</font>
<a name='L1146'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETOPTR);
<a name='L1147'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETOSPACE);
<a name='L1148'><font color='darkred'>#ifdef</font> SNDCTL_DSP_GETSPDIF
<a name='L1149'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETSPDIF);
<a name='L1150'><font color='darkred'>#endif</font>
<a name='L1151'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_GETTRIGGER);
<a name='L1152'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_MAPINBUF);
<a name='L1153'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_MAPOUTBUF);
<a name='L1154'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_NONBLOCK);
<a name='L1155'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_POST);
<a name='L1156'><font color='darkred'>#ifdef</font> SNDCTL_DSP_PROFILE
<a name='L1157'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_PROFILE);
<a name='L1158'><font color='darkred'>#endif</font>
<a name='L1159'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_RESET);
<a name='L1160'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SAMPLESIZE);
<a name='L1161'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SETDUPLEX);
<a name='L1162'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SETFMT);
<a name='L1163'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SETFRAGMENT);
<a name='L1164'><font color='darkred'>#ifdef</font> SNDCTL_DSP_SETSPDIF
<a name='L1165'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SETSPDIF);
<a name='L1166'><font color='darkred'>#endif</font>
<a name='L1167'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SETSYNCRO);
<a name='L1168'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SETTRIGGER);
<a name='L1169'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SPEED);
<a name='L1170'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_STEREO);
<a name='L1171'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SUBDIVIDE);
<a name='L1172'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_DSP_SYNC);
<a name='L1173'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_FM_4OP_ENABLE);
<a name='L1174'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_FM_LOAD_INSTR);
<a name='L1175'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_MIDI_INFO);
<a name='L1176'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_MIDI_MPUCMD);
<a name='L1177'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_MIDI_MPUMODE);
<a name='L1178'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_MIDI_PRETIME);
<a name='L1179'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_CTRLRATE);
<a name='L1180'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_GETINCOUNT);
<a name='L1181'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_GETOUTCOUNT);
<a name='L1182'><font color='darkred'>#ifdef</font> SNDCTL_SEQ_GETTIME
<a name='L1183'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_GETTIME);
<a name='L1184'><font color='darkred'>#endif</font>
<a name='L1185'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_NRMIDIS);
<a name='L1186'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_NRSYNTHS);
<a name='L1187'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_OUTOFBAND);
<a name='L1188'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_PANIC);
<a name='L1189'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_PERCMODE);
<a name='L1190'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_RESET);
<a name='L1191'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_RESETSAMPLES);
<a name='L1192'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_SYNC);
<a name='L1193'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_TESTMIDI);
<a name='L1194'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SEQ_THRESHOLD);
<a name='L1195'><font color='darkred'>#ifdef</font> SNDCTL_SYNTH_CONTROL
<a name='L1196'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SYNTH_CONTROL);
<a name='L1197'><font color='darkred'>#endif</font>
<a name='L1198'><font color='darkred'>#ifdef</font> SNDCTL_SYNTH_ID
<a name='L1199'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SYNTH_ID);
<a name='L1200'><font color='darkred'>#endif</font>
<a name='L1201'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SYNTH_INFO);
<a name='L1202'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SYNTH_MEMAVL);
<a name='L1203'><font color='darkred'>#ifdef</font> SNDCTL_SYNTH_REMOVESAMPLE
<a name='L1204'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_SYNTH_REMOVESAMPLE);
<a name='L1205'><font color='darkred'>#endif</font>
<a name='L1206'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_TMR_CONTINUE);
<a name='L1207'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_TMR_METRONOME);
<a name='L1208'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_TMR_SELECT);
<a name='L1209'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_TMR_SOURCE);
<a name='L1210'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_TMR_START);
<a name='L1211'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_TMR_STOP);
<a name='L1212'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_TMR_TEMPO);
<a name='L1213'>    <a href='../S/2694.html#L951' title='Defined at 951 in Modules/ossaudiodev.c.'>_EXPORT_INT</a>(m, SNDCTL_TMR_TIMEBASE);
<a name='L1214'>    <b>return</b> m;
<a name='L1215'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L76'>[^]</a><a href='#L1015'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
