<html>
<head>
<title>Modules/_io/bufferedio.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/<a href='../files/3385.html'>_io</a>/bufferedio.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L36'>[^]</a><a href='#L2251'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L36' title='Defined at 36.'>bufferediobase_readinto</a>
<li><a href='#L70' title='Defined at 70.'>bufferediobase_unsupported</a>
<li><a href='#L83' title='Defined at 83.'>bufferediobase_detach</a>
<li><a href='#L107' title='Defined at 107.'>bufferediobase_read</a>
<li><a href='#L120' title='Defined at 120.'>bufferediobase_read1</a>
<li><a href='#L135' title='Defined at 135.'>bufferediobase_write</a>
<li><a href='#L266' title='Defined at 266.'>_enter_buffered_busy</a>
<li><a href='#L362' title='Defined at 362.'>buffered_dealloc</a>
<li><a href='#L387' title='Defined at 387.'>buffered_traverse</a>
<li><a href='#L395' title='Defined at 395.'>buffered_clear</a>
<li><a href='#L409' title='Defined at 409.'>buffered_dealloc_warn</a>
<li><a href='#L431' title='Defined at 431.'>buffered_simple_flush</a>
<li><a href='#L438' title='Defined at 438.'>buffered_closed</a>
<li><a href='#L452' title='Defined at 452.'>buffered_closed_get</a>
<li><a href='#L459' title='Defined at 459.'>buffered_close</a>
<li><a href='#L504' title='Defined at 504.'>buffered_detach</a>
<li><a href='#L522' title='Defined at 522.'>buffered_seekable</a>
<li><a href='#L529' title='Defined at 529.'>buffered_readable</a>
<li><a href='#L536' title='Defined at 536.'>buffered_writable</a>
<li><a href='#L543' title='Defined at 543.'>buffered_name_get</a>
<li><a href='#L550' title='Defined at 550.'>buffered_mode_get</a>
<li><a href='#L559' title='Defined at 559.'>buffered_fileno</a>
<li><a href='#L566' title='Defined at 566.'>buffered_isatty</a>
<li><a href='#L575' title='Defined at 575.'>buffered_getstate</a>
<li><a href='#L608' title='Defined at 608.'>_buffered_check_blocking_error</a>
<li><a href='#L625' title='Defined at 625.'>_buffered_raw_tell</a>
<li><a href='#L646' title='Defined at 646.'>_buffered_raw_seek</a>
<li><a href='#L679' title='Defined at 679.'>_buffered_init</a>
<li><a href='#L722' title='Defined at 722.'>buffered_flush</a>
<li><a href='#L747' title='Defined at 747.'>buffered_peek</a>
<li><a href='#L774' title='Defined at 774.'>buffered_read</a>
<li><a href='#L813' title='Defined at 813.'>buffered_read1</a>
<li><a href='#L880' title='Defined at 880.'>buffered_readinto</a>
<li><a href='#L903' title='Defined at 903.'>_buffered_readline</a>
<li><a href='#L1013' title='Defined at 1013.'>buffered_readline</a>
<li><a href='#L1025' title='Defined at 1025.'>buffered_tell</a>
<li><a href='#L1039' title='Defined at 1039.'>buffered_seek</a>
<li><a href='#L1113' title='Defined at 1113.'>buffered_truncate</a>
<li><a href='#L1154' title='Defined at 1154.'>buffered_iternext</a>
<li><a href='#L1192' title='Defined at 1192.'>buffered_repr</a>
<li><a href='#L1219' title='Defined at 1219.'>_bufferedreader_reset_buf</a>
<li><a href='#L1225' title='Defined at 1225.'>bufferedreader_init</a>
<li><a href='#L1261' title='Defined at 1261.'>_bufferedreader_raw_read</a>
<li><a href='#L1295' title='Defined at 1295.'>_bufferedreader_fill_buffer</a>
<li><a href='#L1312' title='Defined at 1312.'>_bufferedreader_read_all</a>
<li><a href='#L1384' title='Defined at 1384.'>_bufferedreader_read_fast</a>
<li><a href='#L1403' title='Defined at 1403.'>_bufferedreader_read_generic</a>
<li><a href='#L1494' title='Defined at 1494.'>_bufferedreader_peek_unlocked</a>
<li><a href='#L1601' title='Defined at 1601.'>complain_about_max_buffer_size</a>
<li><a href='#L1621' title='Defined at 1621.'>_bufferedwriter_reset_buf</a>
<li><a href='#L1628' title='Defined at 1628.'>bufferedwriter_init</a>
<li><a href='#L1670' title='Defined at 1670.'>_bufferedwriter_raw_write</a>
<li><a href='#L1701' title='Defined at 1701.'>_bufferedwriter_flush_unlocked</a>
<li><a href='#L1763' title='Defined at 1763.'>bufferedwriter_write</a>
<li><a href='#L2014' title='Defined at 2014.'>bufferedrwpair_init</a>
<li><a href='#L2049' title='Defined at 2049.'>bufferedrwpair_traverse</a>
<li><a href='#L2056' title='Defined at 2056.'>bufferedrwpair_clear</a>
<li><a href='#L2065' title='Defined at 2065.'>bufferedrwpair_dealloc</a>
<li><a href='#L2075' title='Defined at 2075.'>_forward_call</a>
<li><a href='#L2091' title='Defined at 2091.'>bufferedrwpair_read</a>
<li><a href='#L2097' title='Defined at 2097.'>bufferedrwpair_peek</a>
<li><a href='#L2103' title='Defined at 2103.'>bufferedrwpair_read1</a>
<li><a href='#L2109' title='Defined at 2109.'>bufferedrwpair_readinto</a>
<li><a href='#L2115' title='Defined at 2115.'>bufferedrwpair_write</a>
<li><a href='#L2121' title='Defined at 2121.'>bufferedrwpair_flush</a>
<li><a href='#L2127' title='Defined at 2127.'>bufferedrwpair_readable</a>
<li><a href='#L2133' title='Defined at 2133.'>bufferedrwpair_writable</a>
<li><a href='#L2139' title='Defined at 2139.'>bufferedrwpair_close</a>
<li><a href='#L2150' title='Defined at 2150.'>bufferedrwpair_isatty</a>
<li><a href='#L2164' title='Defined at 2164.'>bufferedrwpair_closed_get</a>
<li><a href='#L2251' title='Defined at 2251.'>bufferedrandom_init</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*</font></i>
<a name='L2'><i><font color='green'>    An implementation of Buffered I/O as defined by PEP 3116 - "New I/O"</font></i>
<a name='L3'><i><font color='green'>    </font></i>
<a name='L4'><i><font color='green'>    Classes defined here: BufferedIOBase, BufferedReader, BufferedWriter,</font></i>
<a name='L5'><i><font color='green'>    BufferedRandom.</font></i>
<a name='L6'><i><font color='green'>    </font></i>
<a name='L7'><i><font color='green'>    Written by Amaury Forgeot d'Arc and Antoine Pitrou</font></i>
<a name='L8'><i><font color='green'>*/</font></i>
<a name='L9'>
<a name='L10'><font color='darkred'>#define</font> <a href='../R/2388.html' title='Multiple refered from 2 places.'>PY_SSIZE_T_CLEAN</a>
<a name='L11'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L12'><font color='darkred'>#include</font> "<a href='577.html'>structmember.h</a>"
<a name='L13'><font color='darkred'>#include</font> "<a href='572.html'>pythread.h</a>"
<a name='L14'><font color='darkred'>#include</font> "<a href='2569.html'>_iomodule.h</a>"
<a name='L15'>
<a name='L16'><i><font color='green'>/*</font></i>
<a name='L17'><i><font color='green'> * BufferedIOBase class, inherits from IOBase.</font></i>
<a name='L18'><i><font color='green'> */</font></i>
<a name='L19'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferediobase_doc,
<a name='L20'>    "Base class for buffered IO objects.\n"
<a name='L21'>    "\n"
<a name='L22'>    "The main difference with RawIOBase is that the read() method\n"
<a name='L23'>    "supports omitting the size argument, and does not have a default\n"
<a name='L24'>    "implementation that defers to readinto().\n"
<a name='L25'>    "\n"
<a name='L26'>    "In addition, read(), readinto() and write() may raise\n"
<a name='L27'>    "BlockingIOError if the underlying raw stream is in non-blocking\n"
<a name='L28'>    "mode and not ready; unlike their raw counterparts, they will never\n"
<a name='L29'>    "return None.\n"
<a name='L30'>    "\n"
<a name='L31'>    "A typical implementation should not inherit from a RawIOBase\n"
<a name='L32'>    "implementation, but wrap one.\n"
<a name='L33'>    );
<a name='L34'>
<a name='L35'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L36'><a href='../R/6319.html' title='Multiple refered from 2 places.'>bufferediobase_readinto</a>(PyObject *self, PyObject *args)
<a name='L37'><font color='red'>{</font>
<a name='L38'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> buf;
<a name='L39'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len;
<a name='L40'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *data;
<a name='L41'>
<a name='L42'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "w*:readinto", &amp;buf)) <font color='red'>{</font>
<a name='L43'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L44'>    <font color='red'>}</font>
<a name='L45'>
<a name='L46'>    data = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(self, "read", "n", buf.len);
<a name='L47'>    <b>if</b> (data == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L48'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L49'>
<a name='L50'>    <b>if</b> (!PyBytes_Check(data)) <font color='red'>{</font>
<a name='L51'>        Py_DECREF(data);
<a name='L52'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "read() should return bytes");
<a name='L53'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L54'>    <font color='red'>}</font>
<a name='L55'>
<a name='L56'>    len = <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(data);
<a name='L57'>    <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(buf.buf, PyBytes_AS_STRING(data), len);
<a name='L58'>
<a name='L59'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;buf);
<a name='L60'>    Py_DECREF(data);
<a name='L61'>
<a name='L62'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(len);
<a name='L63'>
<a name='L64'>  <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L65'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;buf);
<a name='L66'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L67'><font color='red'>}</font>
<a name='L68'>
<a name='L69'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L70'><a href='../R/6320.html' title='Multiple refered from 4 places.'>bufferediobase_unsupported</a>(<b>const</b> <b>char</b> *message)
<a name='L71'><font color='red'>{</font>
<a name='L72'>    <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(<a href='../S/2569.html#L143' title='Defined at 143 in Modules/_io/_iomodule.h.'>IO_STATE</a>-&gt;unsupported_operation, message);
<a name='L73'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L74'><font color='red'>}</font>
<a name='L75'>
<a name='L76'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferediobase_detach_doc,
<a name='L77'>    "Disconnect this buffer from its underlying raw stream and return it.\n"
<a name='L78'>    "\n"
<a name='L79'>    "After the raw stream has been detached, the buffer is in an unusable\n"
<a name='L80'>    "state.\n");
<a name='L81'>
<a name='L82'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L83'><a href='../S/2570.html#L142' title='Refered from 142 in Modules/_io/bufferedio.c.'>bufferediobase_detach</a>(PyObject *self)
<a name='L84'><font color='red'>{</font>
<a name='L85'>    <b>return</b> <a href='../S/2570.html#L70' title='Defined at 70 in Modules/_io/bufferedio.c.'>bufferediobase_unsupported</a>("detach");
<a name='L86'><font color='red'>}</font>
<a name='L87'>
<a name='L88'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferediobase_read_doc,
<a name='L89'>    "Read and return up to n bytes.\n"
<a name='L90'>    "\n"
<a name='L91'>    "If the argument is omitted, None, or negative, reads and\n"
<a name='L92'>    "returns all data until EOF.\n"
<a name='L93'>    "\n"
<a name='L94'>    "If the argument is positive, and the underlying raw stream is\n"
<a name='L95'>    "not 'interactive', multiple raw reads may be issued to satisfy\n"
<a name='L96'>    "the byte count (unless EOF is reached first).  But for\n"
<a name='L97'>    "interactive raw streams (as well as sockets and pipes), at most\n"
<a name='L98'>    "one raw read will be issued, and a short result does not imply\n"
<a name='L99'>    "that EOF is imminent.\n"
<a name='L100'>    "\n"
<a name='L101'>    "Returns an empty bytes object on EOF.\n"
<a name='L102'>    "\n"
<a name='L103'>    "Returns None if the underlying raw stream was open in non-blocking\n"
<a name='L104'>    "mode and no data is available at the moment.\n");
<a name='L105'>
<a name='L106'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L107'><a href='../S/2570.html#L143' title='Refered from 143 in Modules/_io/bufferedio.c.'>bufferediobase_read</a>(PyObject *self, PyObject *args)
<a name='L108'><font color='red'>{</font>
<a name='L109'>    <b>return</b> <a href='../S/2570.html#L70' title='Defined at 70 in Modules/_io/bufferedio.c.'>bufferediobase_unsupported</a>("read");
<a name='L110'><font color='red'>}</font>
<a name='L111'>
<a name='L112'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferediobase_read1_doc,
<a name='L113'>    "Read and return up to n bytes, with at most one read() call\n"
<a name='L114'>    "to the underlying raw stream. A short result does not imply\n"
<a name='L115'>    "that EOF is imminent.\n"
<a name='L116'>    "\n"
<a name='L117'>    "Returns an empty bytes object on EOF.\n");
<a name='L118'>
<a name='L119'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L120'><a href='../S/2570.html#L144' title='Refered from 144 in Modules/_io/bufferedio.c.'>bufferediobase_read1</a>(PyObject *self, PyObject *args)
<a name='L121'><font color='red'>{</font>
<a name='L122'>    <b>return</b> <a href='../S/2570.html#L70' title='Defined at 70 in Modules/_io/bufferedio.c.'>bufferediobase_unsupported</a>("read1");
<a name='L123'><font color='red'>}</font>
<a name='L124'>
<a name='L125'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferediobase_write_doc,
<a name='L126'>    "Write the given buffer to the IO stream.\n"
<a name='L127'>    "\n"
<a name='L128'>    "Returns the number of bytes written, which is never less than\n"
<a name='L129'>    "len(b).\n"
<a name='L130'>    "\n"
<a name='L131'>    "Raises BlockingIOError if the buffer is full and the\n"
<a name='L132'>    "underlying raw stream cannot accept more data at the moment.\n");
<a name='L133'>
<a name='L134'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L135'><a href='../S/2570.html#L146' title='Refered from 146 in Modules/_io/bufferedio.c.'>bufferediobase_write</a>(PyObject *self, PyObject *args)
<a name='L136'><font color='red'>{</font>
<a name='L137'>    <b>return</b> <a href='../S/2570.html#L70' title='Defined at 70 in Modules/_io/bufferedio.c.'>bufferediobase_unsupported</a>("write");
<a name='L138'><font color='red'>}</font>
<a name='L139'>
<a name='L140'>
<a name='L141'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> bufferediobase_methods[] = <font color='red'>{</font>
<a name='L142'>    <font color='red'>{</font>"detach", (PyCFunction)<a href='../S/2570.html#L83' title='Defined at 83 in Modules/_io/bufferedio.c.'>bufferediobase_detach</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, bufferediobase_detach_doc<font color='red'>}</font>,
<a name='L143'>    <font color='red'>{</font>"read", <a href='../S/2570.html#L107' title='Defined at 107 in Modules/_io/bufferedio.c.'>bufferediobase_read</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, bufferediobase_read_doc<font color='red'>}</font>,
<a name='L144'>    <font color='red'>{</font>"read1", <a href='../S/2570.html#L120' title='Defined at 120 in Modules/_io/bufferedio.c.'>bufferediobase_read1</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, bufferediobase_read1_doc<font color='red'>}</font>,
<a name='L145'>    <font color='red'>{</font>"readinto", <a href='../S/2570.html#L36' title='Defined at 36 in Modules/_io/bufferedio.c.'>bufferediobase_readinto</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L146'>    <font color='red'>{</font>"write", <a href='../S/2570.html#L135' title='Defined at 135 in Modules/_io/bufferedio.c.'>bufferediobase_write</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, bufferediobase_write_doc<font color='red'>}</font>,
<a name='L147'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L148'><font color='red'>}</font>;
<a name='L149'>
<a name='L150'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyBufferedIOBase_Type = <font color='red'>{</font>
<a name='L151'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L152'>    "_io._BufferedIOBase",      <i><font color='green'>/*tp_name*/</font></i>
<a name='L153'>    0,                          <i><font color='green'>/*tp_basicsize*/</font></i>
<a name='L154'>    0,                          <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L155'>    0,                          <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L156'>    0,                          <i><font color='green'>/*tp_print*/</font></i>
<a name='L157'>    0,                          <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L158'>    0,                          <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L159'>    0,                          <i><font color='green'>/*tp_compare */</font></i>
<a name='L160'>    0,                          <i><font color='green'>/*tp_repr*/</font></i>
<a name='L161'>    0,                          <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L162'>    0,                          <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L163'>    0,                          <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L164'>    0,                          <i><font color='green'>/*tp_hash */</font></i>
<a name='L165'>    0,                          <i><font color='green'>/*tp_call*/</font></i>
<a name='L166'>    0,                          <i><font color='green'>/*tp_str*/</font></i>
<a name='L167'>    0,                          <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L168'>    0,                          <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L169'>    0,                          <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L170'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE,  <i><font color='green'>/*tp_flags*/</font></i>
<a name='L171'>    bufferediobase_doc,         <i><font color='green'>/* tp_doc */</font></i>
<a name='L172'>    0,                          <i><font color='green'>/* tp_traverse */</font></i>
<a name='L173'>    0,                          <i><font color='green'>/* tp_clear */</font></i>
<a name='L174'>    0,                          <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L175'>    0,                          <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L176'>    0,                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L177'>    0,                          <i><font color='green'>/* tp_iternext */</font></i>
<a name='L178'>    bufferediobase_methods,     <i><font color='green'>/* tp_methods */</font></i>
<a name='L179'>    0,                          <i><font color='green'>/* tp_members */</font></i>
<a name='L180'>    0,                          <i><font color='green'>/* tp_getset */</font></i>
<a name='L181'>    &amp;PyIOBase_Type,             <i><font color='green'>/* tp_base */</font></i>
<a name='L182'>    0,                          <i><font color='green'>/* tp_dict */</font></i>
<a name='L183'>    0,                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L184'>    0,                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L185'>    0,                          <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L186'>    0,                          <i><font color='green'>/* tp_init */</font></i>
<a name='L187'>    0,                          <i><font color='green'>/* tp_alloc */</font></i>
<a name='L188'>    0,                          <i><font color='green'>/* tp_new */</font></i>
<a name='L189'><font color='red'>}</font>;
<a name='L190'>
<a name='L191'>
<a name='L192'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L193'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L194'>
<a name='L195'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *raw;
<a name='L196'>    <b>int</b> ok;    <i><font color='green'>/* Initialized? */</font></i>
<a name='L197'>    <b>int</b> detached;
<a name='L198'>    <b>int</b> readable;
<a name='L199'>    <b>int</b> writable;
<a name='L200'>    <b>int</b> deallocating;
<a name='L201'>    
<a name='L202'>    <i><font color='green'>/* True if this is a vanilla Buffered object (rather than a user derived</font></i>
<a name='L203'><i><font color='green'>       class) *and* the raw stream is a vanilla FileIO object. */</font></i>
<a name='L204'>    <b>int</b> fast_closed_checks;
<a name='L205'>
<a name='L206'>    <i><font color='green'>/* Absolute position inside the raw stream (-1 if unknown). */</font></i>
<a name='L207'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> abs_pos;
<a name='L208'>
<a name='L209'>    <i><font color='green'>/* A static buffer of size `buffer_size` */</font></i>
<a name='L210'>    <b>char</b> *<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>;
<a name='L211'>    <i><font color='green'>/* Current logical position in the buffer. */</font></i>
<a name='L212'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> pos;
<a name='L213'>    <i><font color='green'>/* Position of the raw stream in the buffer. */</font></i>
<a name='L214'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> raw_pos;
<a name='L215'>
<a name='L216'>    <i><font color='green'>/* Just after the last buffered byte in the buffer, or -1 if the buffer</font></i>
<a name='L217'><i><font color='green'>       isn't ready for reading. */</font></i>
<a name='L218'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> read_end;
<a name='L219'>
<a name='L220'>    <i><font color='green'>/* Just after the last byte actually written */</font></i>
<a name='L221'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> write_pos;
<a name='L222'>    <i><font color='green'>/* Just after the last byte waiting to be written, or -1 if the buffer</font></i>
<a name='L223'><i><font color='green'>       isn't ready for writing. */</font></i>
<a name='L224'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> write_end;
<a name='L225'>
<a name='L226'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L227'>    <a href='../S/572.html#L5' title='Defined at 5 in Include/pythread.h.'>PyThread_type_lock</a> <a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>;
<a name='L228'>    <b>volatile</b> <b>long</b> owner;
<a name='L229'><font color='darkred'>#endif</font>
<a name='L230'>
<a name='L231'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> buffer_size;
<a name='L232'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> buffer_mask;
<a name='L233'>
<a name='L234'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *dict;
<a name='L235'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *weakreflist;
<a name='L236'><font color='red'>}</font> <a href='../R/6287.html' title='Multiple refered from 16 places.'>buffered</a>;
<a name='L237'>
<a name='L238'><i><font color='green'>/*</font></i>
<a name='L239'><i><font color='green'>    Implementation notes:</font></i>
<a name='L240'><i><font color='green'>    </font></i>
<a name='L241'><i><font color='green'>    * BufferedReader, BufferedWriter and BufferedRandom try to share most</font></i>
<a name='L242'><i><font color='green'>      methods (this is helped by the members `readable` and `writable`, which</font></i>
<a name='L243'><i><font color='green'>      are initialized in the respective constructors)</font></i>
<a name='L244'><i><font color='green'>    * They also share a single buffer for reading and writing. This enables</font></i>
<a name='L245'><i><font color='green'>      interleaved reads and writes without flushing. It also makes the logic</font></i>
<a name='L246'><i><font color='green'>      a bit trickier to get right.</font></i>
<a name='L247'><i><font color='green'>    * The absolute position of the raw stream is cached, if possible, in the</font></i>
<a name='L248'><i><font color='green'>      `abs_pos` member. It must be updated every time an operation is done</font></i>
<a name='L249'><i><font color='green'>      on the raw stream. If not sure, it can be reinitialized by calling</font></i>
<a name='L250'><i><font color='green'>      _buffered_raw_tell(), which queries the raw stream (_buffered_raw_seek()</font></i>
<a name='L251'><i><font color='green'>      also does it). To read it, use RAW_TELL().</font></i>
<a name='L252'><i><font color='green'>    * Three helpers, _bufferedreader_raw_read, _bufferedwriter_raw_write and</font></i>
<a name='L253'><i><font color='green'>      _bufferedwriter_flush_unlocked do a lot of useful housekeeping.</font></i>
<a name='L254'><i><font color='green'></font></i>
<a name='L255'><i><font color='green'>    NOTE: we should try to maintain block alignment of reads and writes to the</font></i>
<a name='L256'><i><font color='green'>    raw stream (according to the buffer size), but for now it is only done</font></i>
<a name='L257'><i><font color='green'>    in read() and friends.</font></i>
<a name='L258'><i><font color='green'>    </font></i>
<a name='L259'><i><font color='green'>*/</font></i>
<a name='L260'>
<a name='L261'><i><font color='green'>/* These macros protect the buffered object against concurrent operations. */</font></i>
<a name='L262'>
<a name='L263'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L264'>
<a name='L265'><b>static</b> <b>int</b>
<a name='L266'><a href='../S/2570.html#L281' title='Refered from 281 in Modules/_io/bufferedio.c.'>_enter_buffered_busy</a>(buffered *self)
<a name='L267'><font color='red'>{</font>
<a name='L268'>    <b>if</b> (self-&gt;owner == <a href='../D/3856.html' title='Multiple defined in 10 places.'>PyThread_get_thread_ident</a>()) <font color='red'>{</font>
<a name='L269'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_RuntimeError,
<a name='L270'>                     "reentrant call inside %R", self);
<a name='L271'>        <b>return</b> 0;
<a name='L272'>    <font color='red'>}</font>
<a name='L273'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L274'>    <a href='../D/3846.html' title='Multiple defined in 10 places.'>PyThread_acquire_lock</a>(self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>, 1);
<a name='L275'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L276'>    <b>return</b> 1;
<a name='L277'><font color='red'>}</font>
<a name='L278'>
<a name='L279'><font color='darkred'>#define</font> <a href='../R/868.html' title='Multiple refered from 12 places.'>ENTER_BUFFERED</a>(self) \
<a name='L280'>    ( (<a href='../D/3846.html' title='Multiple defined in 10 places.'>PyThread_acquire_lock</a>(self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>, 0) ? \
<a name='L281'>       1 : <a href='../S/2570.html#L266' title='Defined at 266 in Modules/_io/bufferedio.c.'>_enter_buffered_busy</a>(self)) \
<a name='L282'>     &amp;&amp; (self-&gt;owner = <a href='../D/3856.html' title='Multiple defined in 10 places.'>PyThread_get_thread_ident</a>(), 1) )
<a name='L283'>
<a name='L284'><font color='darkred'>#define</font> <a href='../R/1701.html' title='Multiple refered from 12 places.'>LEAVE_BUFFERED</a>(self) \
<a name='L285'>    <b>do</b> <font color='red'>{</font> \
<a name='L286'>        self-&gt;owner = 0; \
<a name='L287'>        <a href='../D/3858.html' title='Multiple defined in 11 places.'>PyThread_release_lock</a>(self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>); \
<a name='L288'>    <font color='red'>}</font> <b>while</b>(0);
<a name='L289'>
<a name='L290'><font color='darkred'>#else</font>
<a name='L291'><font color='darkred'>#define</font> <a href='../R/868.html' title='Multiple refered from 12 places.'>ENTER_BUFFERED</a>(self) 1
<a name='L292'><font color='darkred'>#define</font> <a href='../R/1701.html' title='Multiple refered from 12 places.'>LEAVE_BUFFERED</a>(self)
<a name='L293'><font color='darkred'>#endif</font>
<a name='L294'>
<a name='L295'><font color='darkred'>#define</font> <a href='../R/492.html' title='Multiple refered from 57 places.'>CHECK_INITIALIZED</a>(self) \
<a name='L296'>    <b>if</b> (self-&gt;ok &lt;= 0) <font color='red'>{</font> \
<a name='L297'>        <b>if</b> (self-&gt;detached) <font color='red'>{</font> \
<a name='L298'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, \
<a name='L299'>                 "raw stream has been detached"); \
<a name='L300'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font> \
<a name='L301'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, \
<a name='L302'>                "I/O operation on uninitialized object"); \
<a name='L303'>        <font color='red'>}</font> \
<a name='L304'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; \
<a name='L305'>    <font color='red'>}</font>
<a name='L306'>
<a name='L307'><font color='darkred'>#define</font> <a href='../R/493.html' title='Multiple refered from 2 places.'>CHECK_INITIALIZED_INT</a>(self) \
<a name='L308'>    <b>if</b> (self-&gt;ok &lt;= 0) <font color='red'>{</font> \
<a name='L309'>        <b>if</b> (self-&gt;detached) <font color='red'>{</font> \
<a name='L310'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, \
<a name='L311'>                 "raw stream has been detached"); \
<a name='L312'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font> \
<a name='L313'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, \
<a name='L314'>                "I/O operation on uninitialized object"); \
<a name='L315'>        <font color='red'>}</font> \
<a name='L316'>        <b>return</b> -1; \
<a name='L317'>    <font color='red'>}</font>
<a name='L318'>
<a name='L319'><font color='darkred'>#define</font> <a href='../R/1589.html' title='Multiple refered from 5 places.'>IS_CLOSED</a>(self) \
<a name='L320'>    (self-&gt;fast_closed_checks \
<a name='L321'>     ? <a href='../S/2572.html#L69' title='Defined at 69 in Modules/_io/fileio.c.'>_PyFileIO_closed</a>(self-&gt;raw) \
<a name='L322'>     : <a href='../S/2570.html#L438' title='Defined at 438 in Modules/_io/bufferedio.c.'>buffered_closed</a>(self))
<a name='L323'>
<a name='L324'><font color='darkred'>#define</font> <a href='../R/487.html' title='Multiple refered from 35 places.'>CHECK_CLOSED</a>(self, error_msg) \
<a name='L325'>    <b>if</b> (<a href='../D/1780.html' title='Multiple defined in 2 places.'>IS_CLOSED</a>(self)) <font color='red'>{</font> \
<a name='L326'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, error_msg); \
<a name='L327'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; \
<a name='L328'>    <font color='red'>}</font>
<a name='L329'>
<a name='L330'>
<a name='L331'><font color='darkred'>#define</font> <a href='../R/4843.html' title='Multiple refered from 5 places.'>VALID_READ_BUFFER</a>(self) \
<a name='L332'>    (self-&gt;readable &amp;&amp; self-&gt;read_end != -1)
<a name='L333'>
<a name='L334'><font color='darkred'>#define</font> <a href='../R/4844.html' title='Multiple refered from 5 places.'>VALID_WRITE_BUFFER</a>(self) \
<a name='L335'>    (self-&gt;writable &amp;&amp; self-&gt;write_end != -1)
<a name='L336'>
<a name='L337'><font color='darkred'>#define</font> <a href='../R/33.html' title='Multiple refered from 3 places.'>ADJUST_POSITION</a>(self, _new_pos) \
<a name='L338'>    <b>do</b> <font color='red'>{</font> \
<a name='L339'>        self-&gt;pos = _new_pos; \
<a name='L340'>        <b>if</b> (<a href='../S/2570.html#L331' title='Defined at 331 in Modules/_io/bufferedio.c.'>VALID_READ_BUFFER</a>(self) &amp;&amp; self-&gt;read_end &lt; self-&gt;pos) \
<a name='L341'>            self-&gt;read_end = self-&gt;pos; \
<a name='L342'>    <font color='red'>}</font> <b>while</b>(0)
<a name='L343'>
<a name='L344'><font color='darkred'>#define</font> <a href='../R/3904.html' title='Multiple refered from 7 places.'>READAHEAD</a>(self) \
<a name='L345'>    ((self-&gt;readable &amp;&amp; <a href='../S/2570.html#L331' title='Defined at 331 in Modules/_io/bufferedio.c.'>VALID_READ_BUFFER</a>(self)) \
<a name='L346'>        ? (self-&gt;read_end - self-&gt;pos) : 0)
<a name='L347'>
<a name='L348'><font color='darkred'>#define</font> <a href='../R/3896.html' title='Multiple refered from 7 places.'>RAW_OFFSET</a>(self) \
<a name='L349'>    (((<a href='../S/2570.html#L331' title='Defined at 331 in Modules/_io/bufferedio.c.'>VALID_READ_BUFFER</a>(self) || <a href='../S/2570.html#L334' title='Defined at 334 in Modules/_io/bufferedio.c.'>VALID_WRITE_BUFFER</a>(self)) \
<a name='L350'>        &amp;&amp; self-&gt;raw_pos &gt;= 0) ? self-&gt;raw_pos - self-&gt;pos : 0)
<a name='L351'>
<a name='L352'><font color='darkred'>#define</font> <a href='../S/2570.html#L1069' title='Refered from 1069 in Modules/_io/bufferedio.c.'>RAW_TELL</a>(self) \
<a name='L353'>    (self-&gt;abs_pos != -1 ? self-&gt;abs_pos : <a href='../S/2570.html#L625' title='Defined at 625 in Modules/_io/bufferedio.c.'>_buffered_raw_tell</a>(self))
<a name='L354'>
<a name='L355'><font color='darkred'>#define</font> <a href='../S/2570.html#L1428' title='Refered from 1428 in Modules/_io/bufferedio.c.'>MINUS_LAST_BLOCK</a>(self, size) \
<a name='L356'>    (self-&gt;buffer_mask ? \
<a name='L357'>        (size &amp; ~self-&gt;buffer_mask) : \
<a name='L358'>        (self-&gt;buffer_size * (size / self-&gt;buffer_size)))
<a name='L359'>
<a name='L360'>
<a name='L361'><b>static</b> <b>void</b>
<a name='L362'><a href='../R/6292.html' title='Multiple refered from 3 places.'>buffered_dealloc</a>(buffered *self)
<a name='L363'><font color='red'>{</font>
<a name='L364'>    self-&gt;deallocating = 1;
<a name='L365'>    <b>if</b> (self-&gt;ok &amp;&amp; <a href='../S/2573.html#L196' title='Defined at 196 in Modules/_io/iobase.c.'>_PyIOBase_finalize</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self) &lt; 0)
<a name='L366'>        <b>return</b>;
<a name='L367'>    <a href='../S/545.html#L281' title='Defined at 281 in Include/objimpl.h.'>_PyObject_GC_UNTRACK</a>(self);
<a name='L368'>    self-&gt;ok = 0;
<a name='L369'>    <b>if</b> (self-&gt;weakreflist != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L370'>        <a href='../S/2830.html#L872' title='Defined at 872 in Objects/weakrefobject.c.'>PyObject_ClearWeakRefs</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L371'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;raw);
<a name='L372'>    <b>if</b> (self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>) <font color='red'>{</font>
<a name='L373'>        <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>);
<a name='L374'>        self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L375'>    <font color='red'>}</font>
<a name='L376'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L377'>    <b>if</b> (self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>) <font color='red'>{</font>
<a name='L378'>        <a href='../D/3853.html' title='Multiple defined in 11 places.'>PyThread_free_lock</a>(self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>);
<a name='L379'>        self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L380'>    <font color='red'>}</font>
<a name='L381'><font color='darkred'>#endif</font>
<a name='L382'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;dict);
<a name='L383'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L384'><font color='red'>}</font>
<a name='L385'>
<a name='L386'><b>static</b> <b>int</b>
<a name='L387'><a href='../R/6313.html' title='Multiple refered from 3 places.'>buffered_traverse</a>(buffered *self, visitproc visit, <b>void</b> *arg)
<a name='L388'><font color='red'>{</font>
<a name='L389'>    Py_VISIT(self-&gt;raw);
<a name='L390'>    Py_VISIT(self-&gt;dict);
<a name='L391'>    <b>return</b> 0;
<a name='L392'><font color='red'>}</font>
<a name='L393'>
<a name='L394'><b>static</b> <b>int</b>
<a name='L395'><a href='../R/6288.html' title='Multiple refered from 3 places.'>buffered_clear</a>(buffered *self)
<a name='L396'><font color='red'>{</font>
<a name='L397'>    <b>if</b> (self-&gt;ok &amp;&amp; <a href='../S/2573.html#L196' title='Defined at 196 in Modules/_io/iobase.c.'>_PyIOBase_finalize</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self) &lt; 0)
<a name='L398'>        <b>return</b> -1;
<a name='L399'>    self-&gt;ok = 0;
<a name='L400'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;raw);
<a name='L401'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;dict);
<a name='L402'>    <b>return</b> 0;
<a name='L403'><font color='red'>}</font>
<a name='L404'>
<a name='L405'><i><font color='green'>/* Because this can call arbitrary code, it shouldn't be called when</font></i>
<a name='L406'><i><font color='green'>   the refcount is 0 (that is, not directly from tp_dealloc unless</font></i>
<a name='L407'><i><font color='green'>   the refcount has been temporarily re-incremented). */</font></i>
<a name='L408'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L409'><a href='../R/6293.html' title='Multiple refered from 4 places.'>buffered_dealloc_warn</a>(buffered *self, PyObject *source)
<a name='L410'><font color='red'>{</font>
<a name='L411'>    <b>if</b> (self-&gt;ok &amp;&amp; self-&gt;raw) <font color='red'>{</font>
<a name='L412'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *r;
<a name='L413'>        r = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(self-&gt;raw, "_dealloc_warn", "O", source);
<a name='L414'>        <b>if</b> (r)
<a name='L415'>            Py_DECREF(r);
<a name='L416'>        <b>else</b>
<a name='L417'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L418'>    <font color='red'>}</font>
<a name='L419'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L420'><font color='red'>}</font>
<a name='L421'>
<a name='L422'><i><font color='green'>/*</font></i>
<a name='L423'><i><font color='green'> * _BufferedIOMixin methods</font></i>
<a name='L424'><i><font color='green'> * This is not a class, just a collection of methods that will be reused</font></i>
<a name='L425'><i><font color='green'> * by BufferedReader and BufferedWriter</font></i>
<a name='L426'><i><font color='green'> */</font></i>
<a name='L427'>
<a name='L428'><i><font color='green'>/* Flush and close */</font></i>
<a name='L429'>
<a name='L430'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L431'><a href='../S/2570.html#L1523' title='Refered from 1523 in Modules/_io/bufferedio.c.'>buffered_simple_flush</a>(buffered *self, PyObject *args)
<a name='L432'><font color='red'>{</font>
<a name='L433'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L434'>    <b>return</b> <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_flush, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L435'><font color='red'>}</font>
<a name='L436'>
<a name='L437'><b>static</b> <b>int</b>
<a name='L438'><a href='../R/6290.html' title='Multiple refered from 2 places.'>buffered_closed</a>(buffered *self)
<a name='L439'><font color='red'>{</font>
<a name='L440'>    <b>int</b> closed;
<a name='L441'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res;
<a name='L442'>    <a href='../D/527.html' title='Multiple defined in 2 places.'>CHECK_INITIALIZED_INT</a>(self)
<a name='L443'>    res = <a href='../S/2803.html#L822' title='Defined at 822 in Objects/object.c.'>PyObject_GetAttr</a>(self-&gt;raw, _PyIO_str_closed);
<a name='L444'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L445'>        <b>return</b> -1;
<a name='L446'>    closed = <a href='../S/2803.html#L1140' title='Defined at 1140 in Objects/object.c.'>PyObject_IsTrue</a>(res);
<a name='L447'>    Py_DECREF(res);
<a name='L448'>    <b>return</b> closed;
<a name='L449'><font color='red'>}</font>
<a name='L450'>
<a name='L451'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L452'><a href='../R/6291.html' title='Multiple refered from 3 places.'>buffered_closed_get</a>(buffered *self, <b>void</b> *context)
<a name='L453'><font color='red'>{</font>
<a name='L454'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L455'>    <b>return</b> <a href='../S/2803.html#L822' title='Defined at 822 in Objects/object.c.'>PyObject_GetAttr</a>(self-&gt;raw, _PyIO_str_closed);
<a name='L456'><font color='red'>}</font>
<a name='L457'>
<a name='L458'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L459'><a href='../R/6289.html' title='Multiple refered from 3 places.'>buffered_close</a>(buffered *self, PyObject *args)
<a name='L460'><font color='red'>{</font>
<a name='L461'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L462'>    <b>int</b> r;
<a name='L463'>
<a name='L464'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L465'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L466'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L467'>
<a name='L468'>    r = <a href='../S/2570.html#L438' title='Defined at 438 in Modules/_io/bufferedio.c.'>buffered_closed</a>(self);
<a name='L469'>    <b>if</b> (r &lt; 0)
<a name='L470'>        <b>goto</b> end;
<a name='L471'>    <b>if</b> (r &gt; 0) <font color='red'>{</font>
<a name='L472'>        res = Py_None;
<a name='L473'>        Py_INCREF(res);
<a name='L474'>        <b>goto</b> end;
<a name='L475'>    <font color='red'>}</font>
<a name='L476'>
<a name='L477'>    <b>if</b> (self-&gt;deallocating) <font color='red'>{</font>
<a name='L478'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *r = <a href='../S/2570.html#L409' title='Defined at 409 in Modules/_io/bufferedio.c.'>buffered_dealloc_warn</a>(self, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self);
<a name='L479'>        <b>if</b> (r)
<a name='L480'>            Py_DECREF(r);
<a name='L481'>        <b>else</b>
<a name='L482'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L483'>    <font color='red'>}</font>
<a name='L484'>    <i><font color='green'>/* flush() will most probably re-take the lock, so drop it first */</font></i>
<a name='L485'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L486'>    res = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, _PyIO_str_flush, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L487'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L488'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L489'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L490'>        <b>goto</b> end;
<a name='L491'>    <font color='red'>}</font>
<a name='L492'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L493'>
<a name='L494'>    res = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_close, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L495'>
<a name='L496'>end:
<a name='L497'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L498'>    <b>return</b> res;
<a name='L499'><font color='red'>}</font>
<a name='L500'>
<a name='L501'><i><font color='green'>/* detach */</font></i>
<a name='L502'>
<a name='L503'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L504'><a href='../R/6294.html' title='Multiple refered from 3 places.'>buffered_detach</a>(buffered *self, PyObject *args)
<a name='L505'><font color='red'>{</font>
<a name='L506'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *raw, *res;
<a name='L507'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L508'>    res = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, _PyIO_str_flush, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L509'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L510'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L511'>    Py_DECREF(res);
<a name='L512'>    raw = self-&gt;raw;
<a name='L513'>    self-&gt;raw = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L514'>    self-&gt;detached = 1;
<a name='L515'>    self-&gt;ok = 0;
<a name='L516'>    <b>return</b> raw;
<a name='L517'><font color='red'>}</font>
<a name='L518'>
<a name='L519'><i><font color='green'>/* Inquiries */</font></i>
<a name='L520'>
<a name='L521'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L522'><a href='../R/6310.html' title='Multiple refered from 3 places.'>buffered_seekable</a>(buffered *self, PyObject *args)
<a name='L523'><font color='red'>{</font>
<a name='L524'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L525'>    <b>return</b> <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_seekable, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L526'><font color='red'>}</font>
<a name='L527'>
<a name='L528'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L529'><a href='../R/6305.html' title='Multiple refered from 3 places.'>buffered_readable</a>(buffered *self, PyObject *args)
<a name='L530'><font color='red'>{</font>
<a name='L531'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L532'>    <b>return</b> <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_readable, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L533'><font color='red'>}</font>
<a name='L534'>
<a name='L535'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L536'><a href='../R/6315.html' title='Multiple refered from 3 places.'>buffered_writable</a>(buffered *self, PyObject *args)
<a name='L537'><font color='red'>{</font>
<a name='L538'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L539'>    <b>return</b> <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_writable, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L540'><font color='red'>}</font>
<a name='L541'>
<a name='L542'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L543'><a href='../R/6301.html' title='Multiple refered from 3 places.'>buffered_name_get</a>(buffered *self, <b>void</b> *context)
<a name='L544'><font color='red'>{</font>
<a name='L545'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L546'>    <b>return</b> <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(self-&gt;raw, "name");
<a name='L547'><font color='red'>}</font>
<a name='L548'>
<a name='L549'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L550'><a href='../R/6300.html' title='Multiple refered from 3 places.'>buffered_mode_get</a>(buffered *self, <b>void</b> *context)
<a name='L551'><font color='red'>{</font>
<a name='L552'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L553'>    <b>return</b> <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(self-&gt;raw, "mode");
<a name='L554'><font color='red'>}</font>
<a name='L555'>
<a name='L556'><i><font color='green'>/* Lower-level APIs */</font></i>
<a name='L557'>
<a name='L558'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L559'><a href='../R/6295.html' title='Multiple refered from 3 places.'>buffered_fileno</a>(buffered *self, PyObject *args)
<a name='L560'><font color='red'>{</font>
<a name='L561'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L562'>    <b>return</b> <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_fileno, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L563'><font color='red'>}</font>
<a name='L564'>
<a name='L565'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L566'><a href='../R/6298.html' title='Multiple refered from 3 places.'>buffered_isatty</a>(buffered *self, PyObject *args)
<a name='L567'><font color='red'>{</font>
<a name='L568'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L569'>    <b>return</b> <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_isatty, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L570'><font color='red'>}</font>
<a name='L571'>
<a name='L572'><i><font color='green'>/* Serialization */</font></i>
<a name='L573'>
<a name='L574'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L575'><a href='../R/6297.html' title='Multiple refered from 4 places.'>buffered_getstate</a>(buffered *self, PyObject *args)
<a name='L576'><font color='red'>{</font>
<a name='L577'>    <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L578'>                 "cannot serialize '%s' object", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name);
<a name='L579'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L580'><font color='red'>}</font>
<a name='L581'>
<a name='L582'><i><font color='green'>/* Forward decls */</font></i>
<a name='L583'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L584'><a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(buffered *, <b>int</b>);
<a name='L585'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L586'><a href='../S/2570.html#L1295' title='Defined at 1295 in Modules/_io/bufferedio.c.'>_bufferedreader_fill_buffer</a>(buffered *self);
<a name='L587'><b>static</b> <b>void</b>
<a name='L588'><a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(buffered *self);
<a name='L589'><b>static</b> <b>void</b>
<a name='L590'><a href='../S/2570.html#L1621' title='Defined at 1621 in Modules/_io/bufferedio.c.'>_bufferedwriter_reset_buf</a>(buffered *self);
<a name='L591'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L592'><a href='../S/2570.html#L1494' title='Defined at 1494 in Modules/_io/bufferedio.c.'>_bufferedreader_peek_unlocked</a>(buffered *self, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L593'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L594'><a href='../S/2570.html#L1312' title='Defined at 1312 in Modules/_io/bufferedio.c.'>_bufferedreader_read_all</a>(buffered *self);
<a name='L595'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L596'><a href='../S/2570.html#L1384' title='Defined at 1384 in Modules/_io/bufferedio.c.'>_bufferedreader_read_fast</a>(buffered *self, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L597'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L598'><a href='../S/2570.html#L1403' title='Defined at 1403 in Modules/_io/bufferedio.c.'>_bufferedreader_read_generic</a>(buffered *self, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L599'>
<a name='L600'>
<a name='L601'><i><font color='green'>/*</font></i>
<a name='L602'><i><font color='green'> * Helpers</font></i>
<a name='L603'><i><font color='green'> */</font></i>
<a name='L604'>
<a name='L605'><i><font color='green'>/* Returns the address of the `written` member if a BlockingIOError was</font></i>
<a name='L606'><i><font color='green'>   raised, NULL otherwise. The error is always re-raised. */</font></i>
<a name='L607'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> *
<a name='L608'><a href='../R/5694.html' title='Multiple refered from 3 places.'>_buffered_check_blocking_error</a>(<b>void</b>)
<a name='L609'><font color='red'>{</font>
<a name='L610'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *t, *v, *tb;
<a name='L611'>    <a href='../S/2569.html#L69' title='Defined at 69 in Modules/_io/_iomodule.h.'>PyBlockingIOErrorObject</a> *err;
<a name='L612'>
<a name='L613'>    <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;t, &amp;v, &amp;tb);
<a name='L614'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || !<a href='../S/3106.html#L145' title='Defined at 145 in Python/errors.c.'>PyErr_GivenExceptionMatches</a>(v, PyExc_BlockingIOError)) <font color='red'>{</font>
<a name='L615'>        <a href='../S/3106.html#L25' title='Defined at 25 in Python/errors.c.'>PyErr_Restore</a>(t, v, tb);
<a name='L616'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L617'>    <font color='red'>}</font>
<a name='L618'>    err = (<a href='../S/2569.html#L69' title='Defined at 69 in Modules/_io/_iomodule.h.'>PyBlockingIOErrorObject</a> *) v;
<a name='L619'>    <i><font color='green'>/* TODO: sanity check (err-&gt;written &gt;= 0) */</font></i>
<a name='L620'>    <a href='../S/3106.html#L25' title='Defined at 25 in Python/errors.c.'>PyErr_Restore</a>(t, v, tb);
<a name='L621'>    <b>return</b> &amp;err-&gt;written;
<a name='L622'><font color='red'>}</font>
<a name='L623'>
<a name='L624'><b>static</b> <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>
<a name='L625'><a href='../R/5697.html' title='Multiple refered from 4 places.'>_buffered_raw_tell</a>(buffered *self)
<a name='L626'><font color='red'>{</font>
<a name='L627'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> n;
<a name='L628'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res;
<a name='L629'>    res = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_tell, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L630'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L631'>        <b>return</b> -1;
<a name='L632'>    n = <a href='../S/2568.html#L534' title='Defined at 534 in Modules/_io/_iomodule.c.'>PyNumber_AsOff_t</a>(res, PyExc_ValueError);
<a name='L633'>    Py_DECREF(res);
<a name='L634'>    <b>if</b> (n &lt; 0) <font color='red'>{</font>
<a name='L635'>        <b>if</b> (!<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L636'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_IOError,
<a name='L637'>                         "Raw stream returned invalid position %" PY_PRIdOFF,
<a name='L638'>                         (PY_OFF_T_COMPAT)n);
<a name='L639'>        <b>return</b> -1;
<a name='L640'>    <font color='red'>}</font>
<a name='L641'>    self-&gt;abs_pos = n;
<a name='L642'>    <b>return</b> n;
<a name='L643'><font color='red'>}</font>
<a name='L644'>
<a name='L645'><b>static</b> <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>
<a name='L646'><a href='../R/5696.html' title='Multiple refered from 6 places.'>_buffered_raw_seek</a>(buffered *self, <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> target, <b>int</b> whence)
<a name='L647'><font color='red'>{</font>
<a name='L648'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res, *posobj, *whenceobj;
<a name='L649'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> n;
<a name='L650'>
<a name='L651'>    posobj = PyLong_FromOff_t(target);
<a name='L652'>    <b>if</b> (posobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L653'>        <b>return</b> -1;
<a name='L654'>    whenceobj = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(whence);
<a name='L655'>    <b>if</b> (whenceobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L656'>        Py_DECREF(posobj);
<a name='L657'>        <b>return</b> -1;
<a name='L658'>    <font color='red'>}</font>
<a name='L659'>    res = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_seek,
<a name='L660'>                                     posobj, whenceobj, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L661'>    Py_DECREF(posobj);
<a name='L662'>    Py_DECREF(whenceobj);
<a name='L663'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L664'>        <b>return</b> -1;
<a name='L665'>    n = <a href='../S/2568.html#L534' title='Defined at 534 in Modules/_io/_iomodule.c.'>PyNumber_AsOff_t</a>(res, PyExc_ValueError);
<a name='L666'>    Py_DECREF(res);
<a name='L667'>    <b>if</b> (n &lt; 0) <font color='red'>{</font>
<a name='L668'>        <b>if</b> (!<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L669'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_IOError,
<a name='L670'>                         "Raw stream returned invalid position %" PY_PRIdOFF,
<a name='L671'>                         (PY_OFF_T_COMPAT)n);
<a name='L672'>        <b>return</b> -1;
<a name='L673'>    <font color='red'>}</font>
<a name='L674'>    self-&gt;abs_pos = n;
<a name='L675'>    <b>return</b> n;
<a name='L676'><font color='red'>}</font>
<a name='L677'>
<a name='L678'><b>static</b> <b>int</b>
<a name='L679'><a href='../R/5695.html' title='Multiple refered from 3 places.'>_buffered_init</a>(buffered *self)
<a name='L680'><font color='red'>{</font>
<a name='L681'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n;
<a name='L682'>    <b>if</b> (self-&gt;buffer_size &lt;= 0) <font color='red'>{</font>
<a name='L683'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L684'>            "buffer size must be strictly positive");
<a name='L685'>        <b>return</b> -1;
<a name='L686'>    <font color='red'>}</font>
<a name='L687'>    <b>if</b> (self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>)
<a name='L688'>        <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>);
<a name='L689'>    self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> = <a href='../S/2803.html#L1769' title='Defined at 1769 in Objects/object.c.'>PyMem_Malloc</a>(self-&gt;buffer_size);
<a name='L690'>    <b>if</b> (self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L691'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L692'>        <b>return</b> -1;
<a name='L693'>    <font color='red'>}</font>
<a name='L694'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L695'>    <b>if</b> (self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>)
<a name='L696'>        <a href='../D/3853.html' title='Multiple defined in 11 places.'>PyThread_free_lock</a>(self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a>);
<a name='L697'>    self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a> = <a href='../D/3848.html' title='Multiple defined in 11 places.'>PyThread_allocate_lock</a>();
<a name='L698'>    <b>if</b> (self-&gt;<a href='../S/3148.html#L9' title='Defined at 9 in Python/thread_lwp.h.'>lock</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L699'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError, "can't allocate read lock");
<a name='L700'>        <b>return</b> -1;
<a name='L701'>    <font color='red'>}</font>
<a name='L702'>    self-&gt;owner = 0;
<a name='L703'><font color='darkred'>#endif</font>
<a name='L704'>    <i><font color='green'>/* Find out whether buffer_size is a power of 2 */</font></i>
<a name='L705'>    <i><font color='green'>/* XXX is this optimization useful? */</font></i>
<a name='L706'>    <b>for</b> (n = self-&gt;buffer_size - 1; n &amp; 1; n &gt;&gt;= 1)
<a name='L707'>        ;
<a name='L708'>    <b>if</b> (n == 0)
<a name='L709'>        self-&gt;buffer_mask = self-&gt;buffer_size - 1;
<a name='L710'>    <b>else</b>
<a name='L711'>        self-&gt;buffer_mask = 0;
<a name='L712'>    <b>if</b> (<a href='../S/2570.html#L625' title='Defined at 625 in Modules/_io/bufferedio.c.'>_buffered_raw_tell</a>(self) == -1)
<a name='L713'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L714'>    <b>return</b> 0;
<a name='L715'><font color='red'>}</font>
<a name='L716'>
<a name='L717'><i><font color='green'>/*</font></i>
<a name='L718'><i><font color='green'> * Shared methods and wrappers</font></i>
<a name='L719'><i><font color='green'> */</font></i>
<a name='L720'>
<a name='L721'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L722'><a href='../R/6296.html' title='Multiple refered from 2 places.'>buffered_flush</a>(buffered *self, PyObject *args)
<a name='L723'><font color='red'>{</font>
<a name='L724'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res;
<a name='L725'>
<a name='L726'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L727'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self, "flush of closed file")
<a name='L728'>
<a name='L729'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L730'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L731'>    res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 0);
<a name='L732'>    <b>if</b> (res != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; self-&gt;readable) <font color='red'>{</font>
<a name='L733'>        <i><font color='green'>/* Rewind the raw stream so that its position corresponds to</font></i>
<a name='L734'><i><font color='green'>           the current logical position. */</font></i>
<a name='L735'>        <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> n;
<a name='L736'>        n = <a href='../S/2570.html#L646' title='Defined at 646 in Modules/_io/bufferedio.c.'>_buffered_raw_seek</a>(self, -<a href='../S/2570.html#L348' title='Defined at 348 in Modules/_io/bufferedio.c.'>RAW_OFFSET</a>(self), 1);
<a name='L737'>        <b>if</b> (n == -1)
<a name='L738'>            <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L739'>        <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L740'>    <font color='red'>}</font>
<a name='L741'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L742'>
<a name='L743'>    <b>return</b> res;
<a name='L744'><font color='red'>}</font>
<a name='L745'>
<a name='L746'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L747'><a href='../R/6302.html' title='Multiple refered from 2 places.'>buffered_peek</a>(buffered *self, PyObject *args)
<a name='L748'><font color='red'>{</font>
<a name='L749'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n = 0;
<a name='L750'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L751'>
<a name='L752'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L753'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|n:peek", &amp;n)) <font color='red'>{</font>
<a name='L754'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L755'>    <font color='red'>}</font>
<a name='L756'>
<a name='L757'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L758'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L759'>
<a name='L760'>    <b>if</b> (self-&gt;writable) <font color='red'>{</font>
<a name='L761'>        res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 1);
<a name='L762'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L763'>            <b>goto</b> end;
<a name='L764'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L765'>    <font color='red'>}</font>
<a name='L766'>    res = <a href='../S/2570.html#L1494' title='Defined at 1494 in Modules/_io/bufferedio.c.'>_bufferedreader_peek_unlocked</a>(self, n);
<a name='L767'>
<a name='L768'>end:
<a name='L769'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L770'>    <b>return</b> res;
<a name='L771'><font color='red'>}</font>
<a name='L772'>
<a name='L773'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L774'><a href='../R/6303.html' title='Multiple refered from 2 places.'>buffered_read</a>(buffered *self, PyObject *args)
<a name='L775'><font color='red'>{</font>
<a name='L776'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n = -1;
<a name='L777'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res;
<a name='L778'>
<a name='L779'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L780'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|O&amp;:read", &amp;<a href='../S/2568.html#L580' title='Defined at 580 in Modules/_io/_iomodule.c.'>_PyIO_ConvertSsize_t</a>, &amp;n)) <font color='red'>{</font>
<a name='L781'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L782'>    <font color='red'>}</font>
<a name='L783'>    <b>if</b> (n &lt; -1) <font color='red'>{</font>
<a name='L784'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L785'>                        "read length must be positive or -1");
<a name='L786'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L787'>    <font color='red'>}</font>
<a name='L788'>
<a name='L789'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self, "read of closed file")
<a name='L790'>
<a name='L791'>    <b>if</b> (n == -1) <font color='red'>{</font>
<a name='L792'>        <i><font color='green'>/* The number of bytes is unspecified, read until the end of stream */</font></i>
<a name='L793'>        <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L794'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L795'>        res = <a href='../S/2570.html#L1312' title='Defined at 1312 in Modules/_io/bufferedio.c.'>_bufferedreader_read_all</a>(self);
<a name='L796'>        <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L797'>    <font color='red'>}</font>
<a name='L798'>    <b>else</b> <font color='red'>{</font>
<a name='L799'>        res = <a href='../S/2570.html#L1384' title='Defined at 1384 in Modules/_io/bufferedio.c.'>_bufferedreader_read_fast</a>(self, n);
<a name='L800'>        <b>if</b> (res == Py_None) <font color='red'>{</font>
<a name='L801'>            Py_DECREF(res);
<a name='L802'>            <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L803'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L804'>            res = <a href='../S/2570.html#L1403' title='Defined at 1403 in Modules/_io/bufferedio.c.'>_bufferedreader_read_generic</a>(self, n);
<a name='L805'>            <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L806'>        <font color='red'>}</font>
<a name='L807'>    <font color='red'>}</font>
<a name='L808'>
<a name='L809'>    <b>return</b> res;
<a name='L810'><font color='red'>}</font>
<a name='L811'>
<a name='L812'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L813'><a href='../R/6304.html' title='Multiple refered from 2 places.'>buffered_read1</a>(buffered *self, PyObject *args)
<a name='L814'><font color='red'>{</font>
<a name='L815'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n, have, r;
<a name='L816'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L817'>
<a name='L818'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L819'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "n:read1", &amp;n)) <font color='red'>{</font>
<a name='L820'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L821'>    <font color='red'>}</font>
<a name='L822'>
<a name='L823'>    <b>if</b> (n &lt; 0) <font color='red'>{</font>
<a name='L824'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L825'>                        "read length must be positive");
<a name='L826'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L827'>    <font color='red'>}</font>
<a name='L828'>    <b>if</b> (n == 0)
<a name='L829'>        <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0);
<a name='L830'>
<a name='L831'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L832'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L833'>    
<a name='L834'>    <b>if</b> (self-&gt;writable) <font color='red'>{</font>
<a name='L835'>        res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 1);
<a name='L836'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L837'>            <b>goto</b> end;
<a name='L838'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L839'>    <font color='red'>}</font>
<a name='L840'>
<a name='L841'>    <i><font color='green'>/* Return up to n bytes.  If at least one byte is buffered, we</font></i>
<a name='L842'><i><font color='green'>       only return buffered bytes.  Otherwise, we do one raw read. */</font></i>
<a name='L843'>
<a name='L844'>    <i><font color='green'>/* XXX: this mimicks the io.py implementation but is probably wrong.</font></i>
<a name='L845'><i><font color='green'>       If we need to read from the raw stream, then we could actually read</font></i>
<a name='L846'><i><font color='green'>       all `n` bytes asked by the caller (and possibly more, so as to fill</font></i>
<a name='L847'><i><font color='green'>       our buffer for the next reads). */</font></i>
<a name='L848'>
<a name='L849'>    have = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(<a href='../S/2570.html#L344' title='Defined at 344 in Modules/_io/bufferedio.c.'>READAHEAD</a>(self), <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L850'>    <b>if</b> (have &gt; 0) <font color='red'>{</font>
<a name='L851'>        <b>if</b> (n &gt; have)
<a name='L852'>            n = have;
<a name='L853'>        res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos, n);
<a name='L854'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L855'>            <b>goto</b> end;
<a name='L856'>        self-&gt;pos += n;
<a name='L857'>        <b>goto</b> end;
<a name='L858'>    <font color='red'>}</font>
<a name='L859'>
<a name='L860'>    <i><font color='green'>/* Fill the buffer from the raw stream, and copy it to the result. */</font></i>
<a name='L861'>    <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L862'>    r = <a href='../S/2570.html#L1295' title='Defined at 1295 in Modules/_io/bufferedio.c.'>_bufferedreader_fill_buffer</a>(self);
<a name='L863'>    <b>if</b> (r == -1)
<a name='L864'>        <b>goto</b> end;
<a name='L865'>    <b>if</b> (r == -2)
<a name='L866'>        r = 0;
<a name='L867'>    <b>if</b> (n &gt; r)
<a name='L868'>        n = r;
<a name='L869'>    res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>, n);
<a name='L870'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L871'>        <b>goto</b> end;
<a name='L872'>    self-&gt;pos = n;
<a name='L873'>
<a name='L874'>end:
<a name='L875'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L876'>    <b>return</b> res;
<a name='L877'><font color='red'>}</font>
<a name='L878'>
<a name='L879'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L880'><a href='../S/2570.html#L2315' title='Refered from 2315 in Modules/_io/bufferedio.c.'>buffered_readinto</a>(buffered *self, PyObject *args)
<a name='L881'><font color='red'>{</font>
<a name='L882'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L883'>
<a name='L884'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L885'>    
<a name='L886'>    <i><font color='green'>/* TODO: use raw.readinto() instead! */</font></i>
<a name='L887'>    <b>if</b> (self-&gt;writable) <font color='red'>{</font>
<a name='L888'>        <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L889'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L890'>        res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 0);
<a name='L891'>        <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L892'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L893'>            <b>goto</b> end;
<a name='L894'>        Py_DECREF(res);
<a name='L895'>    <font color='red'>}</font>
<a name='L896'>    res = <a href='../S/2570.html#L36' title='Defined at 36 in Modules/_io/bufferedio.c.'>bufferediobase_readinto</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L897'>
<a name='L898'>end:
<a name='L899'>    <b>return</b> res;
<a name='L900'><font color='red'>}</font>
<a name='L901'>
<a name='L902'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L903'><a href='../R/5698.html' title='Multiple refered from 2 places.'>_buffered_readline</a>(buffered *self, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> limit)
<a name='L904'><font color='red'>{</font>
<a name='L905'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L906'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *chunks = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L907'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n, written = 0;
<a name='L908'>    <b>const</b> <b>char</b> *start, *s, *end;
<a name='L909'>
<a name='L910'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self, "readline of closed file")
<a name='L911'>
<a name='L912'>    <i><font color='green'>/* First, try to find a line in the buffer. This can run unlocked because</font></i>
<a name='L913'><i><font color='green'>       the calls to the C API are simple enough that they can't trigger</font></i>
<a name='L914'><i><font color='green'>       any thread switch. */</font></i>
<a name='L915'>    n = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(<a href='../S/2570.html#L344' title='Defined at 344 in Modules/_io/bufferedio.c.'>READAHEAD</a>(self), <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L916'>    <b>if</b> (limit &gt;= 0 &amp;&amp; n &gt; limit)
<a name='L917'>        n = limit;
<a name='L918'>    start = self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos;
<a name='L919'>    s = memchr(start, '\n', n);
<a name='L920'>    <b>if</b> (s != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L921'>        res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(start, s - start + 1);
<a name='L922'>        <b>if</b> (res != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L923'>            self-&gt;pos += s - start + 1;
<a name='L924'>        <b>goto</b> end_unlocked;
<a name='L925'>    <font color='red'>}</font>
<a name='L926'>    <b>if</b> (n == limit) <font color='red'>{</font>
<a name='L927'>        res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(start, n);
<a name='L928'>        <b>if</b> (res != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L929'>            self-&gt;pos += n;
<a name='L930'>        <b>goto</b> end_unlocked;
<a name='L931'>    <font color='red'>}</font>
<a name='L932'>
<a name='L933'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L934'>        <b>goto</b> end_unlocked;
<a name='L935'>
<a name='L936'>    <i><font color='green'>/* Now we try to get some more from the raw stream */</font></i>
<a name='L937'>    <b>if</b> (self-&gt;writable) <font color='red'>{</font>
<a name='L938'>        res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 1);
<a name='L939'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L940'>            <b>goto</b> end;
<a name='L941'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L942'>    <font color='red'>}</font>
<a name='L943'>    chunks = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L944'>    <b>if</b> (chunks == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L945'>        <b>goto</b> end;
<a name='L946'>    <b>if</b> (n &gt; 0) <font color='red'>{</font>
<a name='L947'>        res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(start, n);
<a name='L948'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L949'>            <b>goto</b> end;
<a name='L950'>        <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(chunks, res) &lt; 0) <font color='red'>{</font>
<a name='L951'>            <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L952'>            <b>goto</b> end;
<a name='L953'>        <font color='red'>}</font>
<a name='L954'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L955'>        written += n;
<a name='L956'>        <b>if</b> (limit &gt;= 0)
<a name='L957'>            limit -= n;
<a name='L958'>    <font color='red'>}</font>
<a name='L959'>
<a name='L960'>    <b>for</b> (;;) <font color='red'>{</font>
<a name='L961'>        <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L962'>        n = <a href='../S/2570.html#L1295' title='Defined at 1295 in Modules/_io/bufferedio.c.'>_bufferedreader_fill_buffer</a>(self);
<a name='L963'>        <b>if</b> (n == -1)
<a name='L964'>            <b>goto</b> end;
<a name='L965'>        <b>if</b> (n &lt;= 0)
<a name='L966'>            <b>break</b>;
<a name='L967'>        <b>if</b> (limit &gt;= 0 &amp;&amp; n &gt; limit)
<a name='L968'>            n = limit;
<a name='L969'>        start = self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>;
<a name='L970'>        end = start + n;
<a name='L971'>        s = start;
<a name='L972'>        <b>while</b> (s &lt; end) <font color='red'>{</font>
<a name='L973'>            <b>if</b> (*s++ == '\n') <font color='red'>{</font>
<a name='L974'>                res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(start, s - start);
<a name='L975'>                <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L976'>                    <b>goto</b> end;
<a name='L977'>                self-&gt;pos = s - start;
<a name='L978'>                <b>goto</b> found;
<a name='L979'>            <font color='red'>}</font>
<a name='L980'>        <font color='red'>}</font>
<a name='L981'>        res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(start, n);
<a name='L982'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L983'>            <b>goto</b> end;
<a name='L984'>        <b>if</b> (n == limit) <font color='red'>{</font>
<a name='L985'>            self-&gt;pos = n;
<a name='L986'>            <b>break</b>;
<a name='L987'>        <font color='red'>}</font>
<a name='L988'>        <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(chunks, res) &lt; 0) <font color='red'>{</font>
<a name='L989'>            <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L990'>            <b>goto</b> end;
<a name='L991'>        <font color='red'>}</font>
<a name='L992'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L993'>        written += n;
<a name='L994'>        <b>if</b> (limit &gt;= 0)
<a name='L995'>            limit -= n;
<a name='L996'>    <font color='red'>}</font>
<a name='L997'>found:
<a name='L998'>    <b>if</b> (res != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; <a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(chunks, res) &lt; 0) <font color='red'>{</font>
<a name='L999'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L1000'>        <b>goto</b> end;
<a name='L1001'>    <font color='red'>}</font>
<a name='L1002'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L1003'>    res = <a href='../S/2779.html#L1218' title='Defined at 1218 in Objects/bytesobject.c.'>_PyBytes_Join</a>(_PyIO_empty_bytes, chunks);
<a name='L1004'>
<a name='L1005'>end:
<a name='L1006'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L1007'>end_unlocked:
<a name='L1008'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(chunks);
<a name='L1009'>    <b>return</b> res;
<a name='L1010'><font color='red'>}</font>
<a name='L1011'>
<a name='L1012'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1013'><a href='../R/6307.html' title='Multiple refered from 2 places.'>buffered_readline</a>(buffered *self, PyObject *args)
<a name='L1014'><font color='red'>{</font>
<a name='L1015'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> limit = -1;
<a name='L1016'>
<a name='L1017'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L1018'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|O&amp;:readline", &amp;<a href='../S/2568.html#L580' title='Defined at 580 in Modules/_io/_iomodule.c.'>_PyIO_ConvertSsize_t</a>, &amp;limit))
<a name='L1019'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1020'>    <b>return</b> <a href='../S/2570.html#L903' title='Defined at 903 in Modules/_io/bufferedio.c.'>_buffered_readline</a>(self, limit);
<a name='L1021'><font color='red'>}</font>
<a name='L1022'>
<a name='L1023'>
<a name='L1024'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1025'><a href='../R/6312.html' title='Multiple refered from 3 places.'>buffered_tell</a>(buffered *self, PyObject *args)
<a name='L1026'><font color='red'>{</font>
<a name='L1027'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> pos;
<a name='L1028'>
<a name='L1029'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L1030'>    pos = <a href='../S/2570.html#L625' title='Defined at 625 in Modules/_io/bufferedio.c.'>_buffered_raw_tell</a>(self);
<a name='L1031'>    <b>if</b> (pos == -1)
<a name='L1032'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1033'>    pos -= <a href='../S/2570.html#L348' title='Defined at 348 in Modules/_io/bufferedio.c.'>RAW_OFFSET</a>(self);
<a name='L1034'>    <i><font color='green'>/* TODO: sanity check (pos &gt;= 0) */</font></i>
<a name='L1035'>    <b>return</b> PyLong_FromOff_t(pos);
<a name='L1036'><font color='red'>}</font>
<a name='L1037'>
<a name='L1038'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1039'><a href='../R/6309.html' title='Multiple refered from 3 places.'>buffered_seek</a>(buffered *self, PyObject *args)
<a name='L1040'><font color='red'>{</font>
<a name='L1041'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> target, n;
<a name='L1042'>    <b>int</b> whence = 0;
<a name='L1043'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *targetobj, *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1044'>
<a name='L1045'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L1046'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|i:seek", &amp;targetobj, &amp;whence)) <font color='red'>{</font>
<a name='L1047'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1048'>    <font color='red'>}</font>
<a name='L1049'>    <b>if</b> (whence &lt; 0 || whence &gt; 2) <font color='red'>{</font>
<a name='L1050'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError,
<a name='L1051'>                     "whence must be between 0 and 2, not %d", whence);
<a name='L1052'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1053'>    <font color='red'>}</font>
<a name='L1054'>
<a name='L1055'>    <a href='../D/521.html' title='Multiple defined in 4 places.'>CHECK_CLOSED</a>(self, "seek of closed file")
<a name='L1056'>
<a name='L1057'>    target = <a href='../S/2568.html#L534' title='Defined at 534 in Modules/_io/_iomodule.c.'>PyNumber_AsOff_t</a>(targetobj, PyExc_ValueError);
<a name='L1058'>    <b>if</b> (target == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1059'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1060'>
<a name='L1061'>    <b>if</b> (whence != 2 &amp;&amp; self-&gt;readable) <font color='red'>{</font>
<a name='L1062'>        <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> current, avail;
<a name='L1063'>        <i><font color='green'>/* Check if seeking leaves us inside the current buffer,</font></i>
<a name='L1064'><i><font color='green'>           so as to return quickly if possible. Also, we needn't take the</font></i>
<a name='L1065'><i><font color='green'>           lock in this fast path.</font></i>
<a name='L1066'><i><font color='green'>           Don't know how to do that when whence == 2, though. */</font></i>
<a name='L1067'>        <i><font color='green'>/* NOTE: RAW_TELL() can release the GIL but the object is in a stable</font></i>
<a name='L1068'><i><font color='green'>           state at this point. */</font></i>
<a name='L1069'>        current = <a href='../S/2570.html#L352' title='Defined at 352 in Modules/_io/bufferedio.c.'>RAW_TELL</a>(self);
<a name='L1070'>        avail = <a href='../S/2570.html#L344' title='Defined at 344 in Modules/_io/bufferedio.c.'>READAHEAD</a>(self);
<a name='L1071'>        <b>if</b> (avail &gt; 0) <font color='red'>{</font>
<a name='L1072'>            <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> offset;
<a name='L1073'>            <b>if</b> (whence == 0)
<a name='L1074'>                offset = target - (current - <a href='../S/2570.html#L348' title='Defined at 348 in Modules/_io/bufferedio.c.'>RAW_OFFSET</a>(self));
<a name='L1075'>            <b>else</b>
<a name='L1076'>                offset = target;
<a name='L1077'>            <b>if</b> (offset &gt;= -self-&gt;pos &amp;&amp; offset &lt;= avail) <font color='red'>{</font>
<a name='L1078'>                self-&gt;pos += offset;
<a name='L1079'>                <b>return</b> PyLong_FromOff_t(current - avail + offset);
<a name='L1080'>            <font color='red'>}</font>
<a name='L1081'>        <font color='red'>}</font>
<a name='L1082'>    <font color='red'>}</font>
<a name='L1083'>
<a name='L1084'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L1085'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1086'>
<a name='L1087'>    <i><font color='green'>/* Fallback: invoke raw seek() method and clear buffer */</font></i>
<a name='L1088'>    <b>if</b> (self-&gt;writable) <font color='red'>{</font>
<a name='L1089'>        res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 0);
<a name='L1090'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1091'>            <b>goto</b> end;
<a name='L1092'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L1093'>        <a href='../S/2570.html#L1621' title='Defined at 1621 in Modules/_io/bufferedio.c.'>_bufferedwriter_reset_buf</a>(self);
<a name='L1094'>    <font color='red'>}</font>
<a name='L1095'>
<a name='L1096'>    <i><font color='green'>/* TODO: align on block boundary and read buffer if needed? */</font></i>
<a name='L1097'>    <b>if</b> (whence == 1)
<a name='L1098'>        target -= <a href='../S/2570.html#L348' title='Defined at 348 in Modules/_io/bufferedio.c.'>RAW_OFFSET</a>(self);
<a name='L1099'>    n = <a href='../S/2570.html#L646' title='Defined at 646 in Modules/_io/bufferedio.c.'>_buffered_raw_seek</a>(self, target, whence);
<a name='L1100'>    <b>if</b> (n == -1)
<a name='L1101'>        <b>goto</b> end;
<a name='L1102'>    self-&gt;raw_pos = -1;
<a name='L1103'>    res = PyLong_FromOff_t(n);
<a name='L1104'>    <b>if</b> (res != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; self-&gt;readable)
<a name='L1105'>        <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L1106'>
<a name='L1107'>end:
<a name='L1108'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L1109'>    <b>return</b> res;
<a name='L1110'><font color='red'>}</font>
<a name='L1111'>
<a name='L1112'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1113'><a href='../R/6314.html' title='Multiple refered from 3 places.'>buffered_truncate</a>(buffered *self, PyObject *args)
<a name='L1114'><font color='red'>{</font>
<a name='L1115'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pos = Py_None;
<a name='L1116'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1117'>
<a name='L1118'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L1119'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|O:truncate", &amp;pos)) <font color='red'>{</font>
<a name='L1120'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1121'>    <font color='red'>}</font>
<a name='L1122'>
<a name='L1123'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self))
<a name='L1124'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1125'>
<a name='L1126'>    <b>if</b> (self-&gt;writable) <font color='red'>{</font>
<a name='L1127'>        res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 0);
<a name='L1128'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1129'>            <b>goto</b> end;
<a name='L1130'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L1131'>    <font color='red'>}</font>
<a name='L1132'>    <b>if</b> (self-&gt;readable) <font color='red'>{</font>
<a name='L1133'>        <b>if</b> (pos == Py_None) <font color='red'>{</font>
<a name='L1134'>            <i><font color='green'>/* Rewind the raw stream so that its position corresponds to</font></i>
<a name='L1135'><i><font color='green'>               the current logical position. */</font></i>
<a name='L1136'>            <b>if</b> (<a href='../S/2570.html#L646' title='Defined at 646 in Modules/_io/bufferedio.c.'>_buffered_raw_seek</a>(self, -<a href='../S/2570.html#L348' title='Defined at 348 in Modules/_io/bufferedio.c.'>RAW_OFFSET</a>(self), 1) == -1)
<a name='L1137'>                <b>goto</b> end;
<a name='L1138'>        <font color='red'>}</font>
<a name='L1139'>        <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L1140'>    <font color='red'>}</font>
<a name='L1141'>    res = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_truncate, pos, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1142'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1143'>        <b>goto</b> end;
<a name='L1144'>    <i><font color='green'>/* Reset cached position */</font></i>
<a name='L1145'>    <b>if</b> (<a href='../S/2570.html#L625' title='Defined at 625 in Modules/_io/bufferedio.c.'>_buffered_raw_tell</a>(self) == -1)
<a name='L1146'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1147'>
<a name='L1148'>end:
<a name='L1149'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L1150'>    <b>return</b> res;
<a name='L1151'><font color='red'>}</font>
<a name='L1152'>
<a name='L1153'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1154'><a href='../R/6299.html' title='Multiple refered from 2 places.'>buffered_iternext</a>(buffered *self)
<a name='L1155'><font color='red'>{</font>
<a name='L1156'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *line;
<a name='L1157'>    <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> *tp;
<a name='L1158'>
<a name='L1159'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self);
<a name='L1160'>
<a name='L1161'>    tp = <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self);
<a name='L1162'>    <b>if</b> (tp == &amp;PyBufferedReader_Type ||
<a name='L1163'>        tp == &amp;PyBufferedRandom_Type) <font color='red'>{</font>
<a name='L1164'>        <i><font color='green'>/* Skip method call overhead for speed */</font></i>
<a name='L1165'>        line = <a href='../S/2570.html#L903' title='Defined at 903 in Modules/_io/bufferedio.c.'>_buffered_readline</a>(self, -1);
<a name='L1166'>    <font color='red'>}</font>
<a name='L1167'>    <b>else</b> <font color='red'>{</font>
<a name='L1168'>        line = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self,
<a name='L1169'>                                           _PyIO_str_readline, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1170'>        <b>if</b> (line &amp;&amp; !PyBytes_Check(line)) <font color='red'>{</font>
<a name='L1171'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_IOError,
<a name='L1172'>                         "readline() should have returned a bytes object, "
<a name='L1173'>                         "not '%.200s'", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(line)-&gt;tp_name);
<a name='L1174'>            Py_DECREF(line);
<a name='L1175'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1176'>        <font color='red'>}</font>
<a name='L1177'>    <font color='red'>}</font>
<a name='L1178'>
<a name='L1179'>    <b>if</b> (line == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1180'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1181'>
<a name='L1182'>    <b>if</b> (PyBytes_GET_SIZE(line) == 0) <font color='red'>{</font>
<a name='L1183'>        <i><font color='green'>/* Reached EOF or would have blocked */</font></i>
<a name='L1184'>        Py_DECREF(line);
<a name='L1185'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1186'>    <font color='red'>}</font>
<a name='L1187'>
<a name='L1188'>    <b>return</b> line;
<a name='L1189'><font color='red'>}</font>
<a name='L1190'>
<a name='L1191'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1192'><a href='../R/6308.html' title='Multiple refered from 3 places.'>buffered_repr</a>(buffered *self)
<a name='L1193'><font color='red'>{</font>
<a name='L1194'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *nameobj, *res;
<a name='L1195'>
<a name='L1196'>    nameobj = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self, "name");
<a name='L1197'>    <b>if</b> (nameobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1198'>        <b>if</b> (<a href='../S/3106.html#L189' title='Defined at 189 in Python/errors.c.'>PyErr_ExceptionMatches</a>(PyExc_AttributeError))
<a name='L1199'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1200'>        <b>else</b>
<a name='L1201'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1202'>        res = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("&lt;%s&gt;", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name);
<a name='L1203'>    <font color='red'>}</font>
<a name='L1204'>    <b>else</b> <font color='red'>{</font>
<a name='L1205'>        res = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("&lt;%s name=%R&gt;",
<a name='L1206'>                                   <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name, nameobj);
<a name='L1207'>        Py_DECREF(nameobj);
<a name='L1208'>    <font color='red'>}</font>
<a name='L1209'>    <b>return</b> res;
<a name='L1210'><font color='red'>}</font>
<a name='L1211'>
<a name='L1212'><i><font color='green'>/*</font></i>
<a name='L1213'><i><font color='green'> * class BufferedReader</font></i>
<a name='L1214'><i><font color='green'> */</font></i>
<a name='L1215'>
<a name='L1216'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferedreader_doc,
<a name='L1217'>             "Create a new buffered reader using the given readable raw IO object.");
<a name='L1218'>
<a name='L1219'><b>static</b> <b>void</b> <a href='../R/5705.html' title='Multiple refered from 13 places.'>_bufferedreader_reset_buf</a>(buffered *self)
<a name='L1220'><font color='red'>{</font>
<a name='L1221'>    self-&gt;read_end = -1;
<a name='L1222'><font color='red'>}</font>
<a name='L1223'>
<a name='L1224'><b>static</b> <b>int</b>
<a name='L1225'><a href='../S/2570.html#L1593' title='Refered from 1593 in Modules/_io/bufferedio.c.'>bufferedreader_init</a>(buffered *self, PyObject *args, PyObject *kwds)
<a name='L1226'><font color='red'>{</font>
<a name='L1227'>    <b>char</b> *kwlist[] = <font color='red'>{</font>"raw", "buffer_size", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L1228'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> buffer_size = <a href='../S/2569.html#L61' title='Defined at 61 in Modules/_io/_iomodule.h.'>DEFAULT_BUFFER_SIZE</a>;
<a name='L1229'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *raw;
<a name='L1230'>
<a name='L1231'>    self-&gt;ok = 0;
<a name='L1232'>    self-&gt;detached = 0;
<a name='L1233'>
<a name='L1234'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "O|n:BufferedReader", kwlist,
<a name='L1235'>                                     &amp;raw, &amp;buffer_size)) <font color='red'>{</font>
<a name='L1236'>        <b>return</b> -1;
<a name='L1237'>    <font color='red'>}</font>
<a name='L1238'>
<a name='L1239'>    <b>if</b> (<a href='../S/2573.html#L343' title='Defined at 343 in Modules/_io/iobase.c.'>_PyIOBase_check_readable</a>(raw, Py_True) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1240'>        <b>return</b> -1;
<a name='L1241'>
<a name='L1242'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;raw);
<a name='L1243'>    Py_INCREF(raw);
<a name='L1244'>    self-&gt;raw = raw;
<a name='L1245'>    self-&gt;buffer_size = buffer_size;
<a name='L1246'>    self-&gt;readable = 1;
<a name='L1247'>    self-&gt;writable = 0;
<a name='L1248'>
<a name='L1249'>    <b>if</b> (<a href='../S/2570.html#L679' title='Defined at 679 in Modules/_io/bufferedio.c.'>_buffered_init</a>(self) &lt; 0)
<a name='L1250'>        <b>return</b> -1;
<a name='L1251'>    <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L1252'>
<a name='L1253'>    self-&gt;fast_closed_checks = (<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self) == &amp;PyBufferedReader_Type &amp;&amp;
<a name='L1254'>                                <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(raw) == &amp;PyFileIO_Type);
<a name='L1255'>
<a name='L1256'>    self-&gt;ok = 1;
<a name='L1257'>    <b>return</b> 0;
<a name='L1258'><font color='red'>}</font>
<a name='L1259'>
<a name='L1260'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L1261'><a href='../R/5701.html' title='Multiple refered from 2 places.'>_bufferedreader_raw_read</a>(buffered *self, <b>char</b> *start, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len)
<a name='L1262'><font color='red'>{</font>
<a name='L1263'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> buf;
<a name='L1264'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *memobj, *res;
<a name='L1265'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n;
<a name='L1266'>    <i><font color='green'>/* NOTE: the buffer needn't be released as its object is NULL. */</font></i>
<a name='L1267'>    <b>if</b> (<a href='../S/2775.html#L650' title='Defined at 650 in Objects/abstract.c.'>PyBuffer_FillInfo</a>(&amp;buf, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, start, len, 0, <a href='../S/544.html#L181' title='Defined at 181 in Include/object.h.'>PyBUF_CONTIG</a>) == -1)
<a name='L1268'>        <b>return</b> -1;
<a name='L1269'>    memobj = <a href='../S/2800.html#L74' title='Defined at 74 in Objects/memoryobject.c.'>PyMemoryView_FromBuffer</a>(&amp;buf);
<a name='L1270'>    <b>if</b> (memobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1271'>        <b>return</b> -1;
<a name='L1272'>    res = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_readinto, memobj, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1273'>    Py_DECREF(memobj);
<a name='L1274'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1275'>        <b>return</b> -1;
<a name='L1276'>    <b>if</b> (res == Py_None) <font color='red'>{</font>
<a name='L1277'>        <i><font color='green'>/* Non-blocking stream would have blocked. Special return code! */</font></i>
<a name='L1278'>        Py_DECREF(res);
<a name='L1279'>        <b>return</b> -2;
<a name='L1280'>    <font color='red'>}</font>
<a name='L1281'>    n = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(res, PyExc_ValueError);
<a name='L1282'>    Py_DECREF(res);
<a name='L1283'>    <b>if</b> (n &lt; 0 || n &gt; len) <font color='red'>{</font>
<a name='L1284'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_IOError,
<a name='L1285'>                     "raw readinto() returned invalid length %zd "
<a name='L1286'>                     "(should have been between 0 and %zd)", n, len);
<a name='L1287'>        <b>return</b> -1;
<a name='L1288'>    <font color='red'>}</font>
<a name='L1289'>    <b>if</b> (n &gt; 0 &amp;&amp; self-&gt;abs_pos != -1)
<a name='L1290'>        self-&gt;abs_pos += n;
<a name='L1291'>    <b>return</b> n;
<a name='L1292'><font color='red'>}</font>
<a name='L1293'>
<a name='L1294'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L1295'><a href='../R/5699.html' title='Multiple refered from 5 places.'>_bufferedreader_fill_buffer</a>(buffered *self)
<a name='L1296'><font color='red'>{</font>
<a name='L1297'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start, len, n;
<a name='L1298'>    <b>if</b> (<a href='../S/2570.html#L331' title='Defined at 331 in Modules/_io/bufferedio.c.'>VALID_READ_BUFFER</a>(self))
<a name='L1299'>        start = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(self-&gt;read_end, <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L1300'>    <b>else</b>
<a name='L1301'>        start = 0;
<a name='L1302'>    len = self-&gt;buffer_size - start;
<a name='L1303'>    n = <a href='../S/2570.html#L1261' title='Defined at 1261 in Modules/_io/bufferedio.c.'>_bufferedreader_raw_read</a>(self, self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + start, len);
<a name='L1304'>    <b>if</b> (n &lt;= 0)
<a name='L1305'>        <b>return</b> n;
<a name='L1306'>    self-&gt;read_end = start + n;
<a name='L1307'>    self-&gt;raw_pos = start + n;
<a name='L1308'>    <b>return</b> n;
<a name='L1309'><font color='red'>}</font>
<a name='L1310'>
<a name='L1311'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1312'><a href='../R/5702.html' title='Multiple refered from 2 places.'>_bufferedreader_read_all</a>(buffered *self)
<a name='L1313'><font color='red'>{</font>
<a name='L1314'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> current_size;
<a name='L1315'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res, *data = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1316'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *chunks = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L1317'>
<a name='L1318'>    <b>if</b> (chunks == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1319'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1320'>
<a name='L1321'>    <i><font color='green'>/* First copy what we have in the current buffer. */</font></i>
<a name='L1322'>    current_size = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(<a href='../S/2570.html#L344' title='Defined at 344 in Modules/_io/bufferedio.c.'>READAHEAD</a>(self), <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L1323'>    <b>if</b> (current_size) <font color='red'>{</font>
<a name='L1324'>        data = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(
<a name='L1325'>            self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos, current_size);
<a name='L1326'>        <b>if</b> (data == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1327'>            Py_DECREF(chunks);
<a name='L1328'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1329'>        <font color='red'>}</font>
<a name='L1330'>    <font color='red'>}</font>
<a name='L1331'>    <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L1332'>    <i><font color='green'>/* We're going past the buffer's bounds, flush it */</font></i>
<a name='L1333'>    <b>if</b> (self-&gt;writable) <font color='red'>{</font>
<a name='L1334'>        res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 1);
<a name='L1335'>        <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1336'>            Py_DECREF(chunks);
<a name='L1337'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1338'>        <font color='red'>}</font>
<a name='L1339'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L1340'>    <font color='red'>}</font>
<a name='L1341'>    <b>while</b> (1) <font color='red'>{</font>
<a name='L1342'>        <b>if</b> (data) <font color='red'>{</font>
<a name='L1343'>            <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(chunks, data) &lt; 0) <font color='red'>{</font>
<a name='L1344'>                Py_DECREF(data);
<a name='L1345'>                Py_DECREF(chunks);
<a name='L1346'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1347'>            <font color='red'>}</font>
<a name='L1348'>            Py_DECREF(data);
<a name='L1349'>        <font color='red'>}</font>
<a name='L1350'>
<a name='L1351'>        <i><font color='green'>/* Read until EOF or until read() would block. */</font></i>
<a name='L1352'>        data = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_read, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1353'>        <b>if</b> (data == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1354'>            Py_DECREF(chunks);
<a name='L1355'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1356'>        <font color='red'>}</font>
<a name='L1357'>        <b>if</b> (data != Py_None &amp;&amp; !PyBytes_Check(data)) <font color='red'>{</font>
<a name='L1358'>            Py_DECREF(data);
<a name='L1359'>            Py_DECREF(chunks);
<a name='L1360'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "read() should return bytes");
<a name='L1361'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1362'>        <font color='red'>}</font>
<a name='L1363'>        <b>if</b> (data == Py_None || PyBytes_GET_SIZE(data) == 0) <font color='red'>{</font>
<a name='L1364'>            <b>if</b> (current_size == 0) <font color='red'>{</font>
<a name='L1365'>                Py_DECREF(chunks);
<a name='L1366'>                <b>return</b> data;
<a name='L1367'>            <font color='red'>}</font>
<a name='L1368'>            <b>else</b> <font color='red'>{</font>
<a name='L1369'>                res = <a href='../S/2779.html#L1218' title='Defined at 1218 in Objects/bytesobject.c.'>_PyBytes_Join</a>(_PyIO_empty_bytes, chunks);
<a name='L1370'>                Py_DECREF(data);
<a name='L1371'>                Py_DECREF(chunks);
<a name='L1372'>                <b>return</b> res;
<a name='L1373'>            <font color='red'>}</font>
<a name='L1374'>        <font color='red'>}</font>
<a name='L1375'>        current_size += PyBytes_GET_SIZE(data);
<a name='L1376'>        <b>if</b> (self-&gt;abs_pos != -1)
<a name='L1377'>            self-&gt;abs_pos += PyBytes_GET_SIZE(data);
<a name='L1378'>    <font color='red'>}</font>
<a name='L1379'><font color='red'>}</font>
<a name='L1380'>
<a name='L1381'><i><font color='green'>/* Read n bytes from the buffer if it can, otherwise return None.</font></i>
<a name='L1382'><i><font color='green'>   This function is simple enough that it can run unlocked. */</font></i>
<a name='L1383'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1384'><a href='../R/5703.html' title='Multiple refered from 3 places.'>_bufferedreader_read_fast</a>(buffered *self, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n)
<a name='L1385'><font color='red'>{</font>
<a name='L1386'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> current_size;
<a name='L1387'>
<a name='L1388'>    current_size = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(<a href='../S/2570.html#L344' title='Defined at 344 in Modules/_io/bufferedio.c.'>READAHEAD</a>(self), <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L1389'>    <b>if</b> (n &lt;= current_size) <font color='red'>{</font>
<a name='L1390'>        <i><font color='green'>/* Fast path: the data to read is fully buffered. */</font></i>
<a name='L1391'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos, n);
<a name='L1392'>        <b>if</b> (res != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1393'>            self-&gt;pos += n;
<a name='L1394'>        <b>return</b> res;
<a name='L1395'>    <font color='red'>}</font>
<a name='L1396'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1397'><font color='red'>}</font>
<a name='L1398'>
<a name='L1399'><i><font color='green'>/* Generic read function: read from the stream until enough bytes are read,</font></i>
<a name='L1400'><i><font color='green'> * or until an EOF occurs or until read() would block.</font></i>
<a name='L1401'><i><font color='green'> */</font></i>
<a name='L1402'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1403'><a href='../R/5704.html' title='Multiple refered from 2 places.'>_bufferedreader_read_generic</a>(buffered *self, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n)
<a name='L1404'><font color='red'>{</font>
<a name='L1405'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1406'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> current_size, remaining, written;
<a name='L1407'>    <b>char</b> *out;
<a name='L1408'>
<a name='L1409'>    current_size = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(<a href='../S/2570.html#L344' title='Defined at 344 in Modules/_io/bufferedio.c.'>READAHEAD</a>(self), <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L1410'>    <b>if</b> (n &lt;= current_size)
<a name='L1411'>        <b>return</b> <a href='../S/2570.html#L1384' title='Defined at 1384 in Modules/_io/bufferedio.c.'>_bufferedreader_read_fast</a>(self, n);
<a name='L1412'>
<a name='L1413'>    res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, n);
<a name='L1414'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1415'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1416'>    out = PyBytes_AS_STRING(res);
<a name='L1417'>    remaining = n;
<a name='L1418'>    written = 0;
<a name='L1419'>    <b>if</b> (current_size &gt; 0) <font color='red'>{</font>
<a name='L1420'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(out, self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos, current_size);
<a name='L1421'>        remaining -= current_size;
<a name='L1422'>        written += current_size;
<a name='L1423'>    <font color='red'>}</font>
<a name='L1424'>    <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L1425'>    <b>while</b> (remaining &gt; 0) <font color='red'>{</font>
<a name='L1426'>        <i><font color='green'>/* We want to read a whole block at the end into buffer.</font></i>
<a name='L1427'><i><font color='green'>           If we had readv() we could do this in one pass. */</font></i>
<a name='L1428'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> r = <a href='../S/2570.html#L355' title='Defined at 355 in Modules/_io/bufferedio.c.'>MINUS_LAST_BLOCK</a>(self, remaining);
<a name='L1429'>        <b>if</b> (r == 0)
<a name='L1430'>            <b>break</b>;
<a name='L1431'>        r = <a href='../S/2570.html#L1261' title='Defined at 1261 in Modules/_io/bufferedio.c.'>_bufferedreader_raw_read</a>(self, out + written, r);
<a name='L1432'>        <b>if</b> (r == -1)
<a name='L1433'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1434'>        <b>if</b> (r == 0 || r == -2) <font color='red'>{</font>
<a name='L1435'>            <i><font color='green'>/* EOF occurred or read() would block. */</font></i>
<a name='L1436'>            <b>if</b> (r == 0 || written &gt; 0) <font color='red'>{</font>
<a name='L1437'>                <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;res, written))
<a name='L1438'>                    <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1439'>                <b>return</b> res;
<a name='L1440'>            <font color='red'>}</font>
<a name='L1441'>            Py_DECREF(res);
<a name='L1442'>            Py_INCREF(Py_None);
<a name='L1443'>            <b>return</b> Py_None;
<a name='L1444'>        <font color='red'>}</font>
<a name='L1445'>        remaining -= r;
<a name='L1446'>        written += r;
<a name='L1447'>    <font color='red'>}</font>
<a name='L1448'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(remaining &lt;= self-&gt;buffer_size);
<a name='L1449'>    self-&gt;pos = 0;
<a name='L1450'>    self-&gt;raw_pos = 0;
<a name='L1451'>    self-&gt;read_end = 0;
<a name='L1452'>    <i><font color='green'>/* NOTE: when the read is satisfied, we avoid issuing any additional</font></i>
<a name='L1453'><i><font color='green'>       reads, which could block indefinitely (e.g. on a socket).</font></i>
<a name='L1454'><i><font color='green'>       See issue #9550. */</font></i>
<a name='L1455'>    <b>while</b> (remaining &gt; 0 &amp;&amp; self-&gt;read_end &lt; self-&gt;buffer_size) <font color='red'>{</font>
<a name='L1456'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> r = <a href='../S/2570.html#L1295' title='Defined at 1295 in Modules/_io/bufferedio.c.'>_bufferedreader_fill_buffer</a>(self);
<a name='L1457'>        <b>if</b> (r == -1)
<a name='L1458'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1459'>        <b>if</b> (r == 0 || r == -2) <font color='red'>{</font>
<a name='L1460'>            <i><font color='green'>/* EOF occurred or read() would block. */</font></i>
<a name='L1461'>            <b>if</b> (r == 0 || written &gt; 0) <font color='red'>{</font>
<a name='L1462'>                <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;res, written))
<a name='L1463'>                    <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1464'>                <b>return</b> res;
<a name='L1465'>            <font color='red'>}</font>
<a name='L1466'>            Py_DECREF(res);
<a name='L1467'>            Py_INCREF(Py_None);
<a name='L1468'>            <b>return</b> Py_None;
<a name='L1469'>        <font color='red'>}</font>
<a name='L1470'>        <b>if</b> (remaining &gt; r) <font color='red'>{</font>
<a name='L1471'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(out + written, self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos, r);
<a name='L1472'>            written += r;
<a name='L1473'>            self-&gt;pos += r;
<a name='L1474'>            remaining -= r;
<a name='L1475'>        <font color='red'>}</font>
<a name='L1476'>        <b>else</b> <b>if</b> (remaining &gt; 0) <font color='red'>{</font>
<a name='L1477'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(out + written, self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos, remaining);
<a name='L1478'>            written += remaining;
<a name='L1479'>            self-&gt;pos += remaining;
<a name='L1480'>            remaining = 0;
<a name='L1481'>        <font color='red'>}</font>
<a name='L1482'>        <b>if</b> (remaining == 0)
<a name='L1483'>            <b>break</b>;
<a name='L1484'>    <font color='red'>}</font>
<a name='L1485'>
<a name='L1486'>    <b>return</b> res;
<a name='L1487'>
<a name='L1488'><a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L1489'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L1490'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1491'><font color='red'>}</font>
<a name='L1492'>
<a name='L1493'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1494'><a href='../R/5700.html' title='Multiple refered from 2 places.'>_bufferedreader_peek_unlocked</a>(buffered *self, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n)
<a name='L1495'><font color='red'>{</font>
<a name='L1496'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> have, r;
<a name='L1497'>
<a name='L1498'>    have = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(<a href='../S/2570.html#L344' title='Defined at 344 in Modules/_io/bufferedio.c.'>READAHEAD</a>(self), <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L1499'>    <i><font color='green'>/* Constraints:</font></i>
<a name='L1500'><i><font color='green'>       1. we don't want to advance the file position.</font></i>
<a name='L1501'><i><font color='green'>       2. we don't want to lose block alignment, so we can't shift the buffer</font></i>
<a name='L1502'><i><font color='green'>          to make some place.</font></i>
<a name='L1503'><i><font color='green'>       Therefore, we either return `have` bytes (if &gt; 0), or a full buffer.</font></i>
<a name='L1504'><i><font color='green'>    */</font></i>
<a name='L1505'>    <b>if</b> (have &gt; 0) <font color='red'>{</font>
<a name='L1506'>        <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos, have);
<a name='L1507'>    <font color='red'>}</font>
<a name='L1508'>
<a name='L1509'>    <i><font color='green'>/* Fill the buffer from the raw stream, and copy it to the result. */</font></i>
<a name='L1510'>    <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L1511'>    r = <a href='../S/2570.html#L1295' title='Defined at 1295 in Modules/_io/bufferedio.c.'>_bufferedreader_fill_buffer</a>(self);
<a name='L1512'>    <b>if</b> (r == -1)
<a name='L1513'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1514'>    <b>if</b> (r == -2)
<a name='L1515'>        r = 0;
<a name='L1516'>    self-&gt;pos = 0;
<a name='L1517'>    <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>, r);
<a name='L1518'><font color='red'>}</font>
<a name='L1519'>
<a name='L1520'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> bufferedreader_methods[] = <font color='red'>{</font>
<a name='L1521'>    <i><font color='green'>/* BufferedIOMixin methods */</font></i>
<a name='L1522'>    <font color='red'>{</font>"detach", (PyCFunction)<a href='../S/2570.html#L504' title='Defined at 504 in Modules/_io/bufferedio.c.'>buffered_detach</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1523'>    <font color='red'>{</font>"flush", (PyCFunction)<a href='../S/2570.html#L431' title='Defined at 431 in Modules/_io/bufferedio.c.'>buffered_simple_flush</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1524'>    <font color='red'>{</font>"close", (PyCFunction)<a href='../S/2570.html#L459' title='Defined at 459 in Modules/_io/bufferedio.c.'>buffered_close</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1525'>    <font color='red'>{</font>"seekable", (PyCFunction)<a href='../S/2570.html#L522' title='Defined at 522 in Modules/_io/bufferedio.c.'>buffered_seekable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1526'>    <font color='red'>{</font>"readable", (PyCFunction)<a href='../S/2570.html#L529' title='Defined at 529 in Modules/_io/bufferedio.c.'>buffered_readable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1527'>    <font color='red'>{</font>"writable", (PyCFunction)<a href='../S/2570.html#L536' title='Defined at 536 in Modules/_io/bufferedio.c.'>buffered_writable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1528'>    <font color='red'>{</font>"fileno", (PyCFunction)<a href='../S/2570.html#L559' title='Defined at 559 in Modules/_io/bufferedio.c.'>buffered_fileno</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1529'>    <font color='red'>{</font>"isatty", (PyCFunction)<a href='../S/2570.html#L566' title='Defined at 566 in Modules/_io/bufferedio.c.'>buffered_isatty</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1530'>    <font color='red'>{</font>"_dealloc_warn", (PyCFunction)<a href='../S/2570.html#L409' title='Defined at 409 in Modules/_io/bufferedio.c.'>buffered_dealloc_warn</a>, METH_O<font color='red'>}</font>,
<a name='L1531'>    <font color='red'>{</font>"__getstate__", (PyCFunction)<a href='../S/2570.html#L575' title='Defined at 575 in Modules/_io/bufferedio.c.'>buffered_getstate</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1532'>
<a name='L1533'>    <font color='red'>{</font>"read", (PyCFunction)<a href='../S/2570.html#L774' title='Defined at 774 in Modules/_io/bufferedio.c.'>buffered_read</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1534'>    <font color='red'>{</font>"peek", (PyCFunction)<a href='../S/2570.html#L747' title='Defined at 747 in Modules/_io/bufferedio.c.'>buffered_peek</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1535'>    <font color='red'>{</font>"read1", (PyCFunction)<a href='../S/2570.html#L813' title='Defined at 813 in Modules/_io/bufferedio.c.'>buffered_read1</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1536'>    <font color='red'>{</font>"readline", (PyCFunction)<a href='../S/2570.html#L1013' title='Defined at 1013 in Modules/_io/bufferedio.c.'>buffered_readline</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1537'>    <font color='red'>{</font>"seek", (PyCFunction)<a href='../S/2570.html#L1039' title='Defined at 1039 in Modules/_io/bufferedio.c.'>buffered_seek</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1538'>    <font color='red'>{</font>"tell", (PyCFunction)<a href='../S/2570.html#L1025' title='Defined at 1025 in Modules/_io/bufferedio.c.'>buffered_tell</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1539'>    <font color='red'>{</font>"truncate", (PyCFunction)<a href='../S/2570.html#L1113' title='Defined at 1113 in Modules/_io/bufferedio.c.'>buffered_truncate</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1540'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L1541'><font color='red'>}</font>;
<a name='L1542'>
<a name='L1543'><b>static</b> <a href='../D/3506.html' title='Multiple defined in 2 places.'>PyMemberDef</a> bufferedreader_members[] = <font color='red'>{</font>
<a name='L1544'>    <font color='red'>{</font>"raw", <a href='../S/577.html#L44' title='Defined at 44 in Include/structmember.h.'>T_OBJECT</a>, <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, raw), <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a><font color='red'>}</font>,
<a name='L1545'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L1546'><font color='red'>}</font>;
<a name='L1547'>
<a name='L1548'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> bufferedreader_getset[] = <font color='red'>{</font>
<a name='L1549'>    <font color='red'>{</font>"closed", (getter)<a href='../S/2570.html#L452' title='Defined at 452 in Modules/_io/bufferedio.c.'>buffered_closed_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1550'>    <font color='red'>{</font>"name", (getter)<a href='../S/2570.html#L543' title='Defined at 543 in Modules/_io/bufferedio.c.'>buffered_name_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1551'>    <font color='red'>{</font>"mode", (getter)<a href='../S/2570.html#L550' title='Defined at 550 in Modules/_io/bufferedio.c.'>buffered_mode_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1552'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L1553'><font color='red'>}</font>;
<a name='L1554'>
<a name='L1555'>
<a name='L1556'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyBufferedReader_Type = <font color='red'>{</font>
<a name='L1557'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L1558'>    "_io.BufferedReader",       <i><font color='green'>/*tp_name*/</font></i>
<a name='L1559'>    <b>sizeof</b>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>),           <i><font color='green'>/*tp_basicsize*/</font></i>
<a name='L1560'>    0,                          <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L1561'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2570.html#L362' title='Defined at 362 in Modules/_io/bufferedio.c.'>buffered_dealloc</a>,     <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L1562'>    0,                          <i><font color='green'>/*tp_print*/</font></i>
<a name='L1563'>    0,                          <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L1564'>    0,                          <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L1565'>    0,                          <i><font color='green'>/*tp_compare */</font></i>
<a name='L1566'>    (reprfunc)<a href='../S/2570.html#L1192' title='Defined at 1192 in Modules/_io/bufferedio.c.'>buffered_repr</a>,    <i><font color='green'>/*tp_repr*/</font></i>
<a name='L1567'>    0,                          <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L1568'>    0,                          <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L1569'>    0,                          <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L1570'>    0,                          <i><font color='green'>/*tp_hash */</font></i>
<a name='L1571'>    0,                          <i><font color='green'>/*tp_call*/</font></i>
<a name='L1572'>    0,                          <i><font color='green'>/*tp_str*/</font></i>
<a name='L1573'>    0,                          <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L1574'>    0,                          <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L1575'>    0,                          <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L1576'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE
<a name='L1577'>            | Py_TPFLAGS_HAVE_GC, <i><font color='green'>/*tp_flags*/</font></i>
<a name='L1578'>    bufferedreader_doc,         <i><font color='green'>/* tp_doc */</font></i>
<a name='L1579'>    (traverseproc)<a href='../S/2570.html#L387' title='Defined at 387 in Modules/_io/bufferedio.c.'>buffered_traverse</a>, <i><font color='green'>/* tp_traverse */</font></i>
<a name='L1580'>    (inquiry)<a href='../S/2570.html#L395' title='Defined at 395 in Modules/_io/bufferedio.c.'>buffered_clear</a>,    <i><font color='green'>/* tp_clear */</font></i>
<a name='L1581'>    0,                          <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L1582'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, weakreflist), <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L1583'>    0,                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L1584'>    (iternextfunc)<a href='../S/2570.html#L1154' title='Defined at 1154 in Modules/_io/bufferedio.c.'>buffered_iternext</a>, <i><font color='green'>/* tp_iternext */</font></i>
<a name='L1585'>    bufferedreader_methods,     <i><font color='green'>/* tp_methods */</font></i>
<a name='L1586'>    bufferedreader_members,     <i><font color='green'>/* tp_members */</font></i>
<a name='L1587'>    bufferedreader_getset,      <i><font color='green'>/* tp_getset */</font></i>
<a name='L1588'>    0,                          <i><font color='green'>/* tp_base */</font></i>
<a name='L1589'>    0,                          <i><font color='green'>/* tp_dict */</font></i>
<a name='L1590'>    0,                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L1591'>    0,                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L1592'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, dict), <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L1593'>    (initproc)<a href='../S/2570.html#L1225' title='Defined at 1225 in Modules/_io/bufferedio.c.'>bufferedreader_init</a>, <i><font color='green'>/* tp_init */</font></i>
<a name='L1594'>    0,                          <i><font color='green'>/* tp_alloc */</font></i>
<a name='L1595'>    <a href='../S/2824.html#L730' title='Defined at 730 in Objects/typeobject.c.'>PyType_GenericNew</a>,          <i><font color='green'>/* tp_new */</font></i>
<a name='L1596'><font color='red'>}</font>;
<a name='L1597'>
<a name='L1598'>
<a name='L1599'>
<a name='L1600'><b>static</b> <b>int</b>
<a name='L1601'><a href='../R/6911.html' title='Multiple refered from 3 places.'>complain_about_max_buffer_size</a>(<b>void</b>)
<a name='L1602'><font color='red'>{</font>
<a name='L1603'>    <b>if</b> (<a href='../S/3087.html#L756' title='Defined at 756 in Python/_warnings.c.'>PyErr_WarnEx</a>(PyExc_DeprecationWarning,
<a name='L1604'>                     "max_buffer_size is deprecated", 1) &lt; 0)
<a name='L1605'>        <b>return</b> 0;
<a name='L1606'>    <b>return</b> 1;
<a name='L1607'><font color='red'>}</font>
<a name='L1608'>
<a name='L1609'><i><font color='green'>/*</font></i>
<a name='L1610'><i><font color='green'> * class BufferedWriter</font></i>
<a name='L1611'><i><font color='green'> */</font></i>
<a name='L1612'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferedwriter_doc,
<a name='L1613'>    "A buffer for a writeable sequential RawIO object.\n"
<a name='L1614'>    "\n"
<a name='L1615'>    "The constructor creates a BufferedWriter for the given writeable raw\n"
<a name='L1616'>    "stream. If the buffer_size is not given, it defaults to\n"
<a name='L1617'>    "DEFAULT_BUFFER_SIZE. max_buffer_size isn't used anymore.\n"
<a name='L1618'>    );
<a name='L1619'>
<a name='L1620'><b>static</b> <b>void</b>
<a name='L1621'><a href='../R/5708.html' title='Multiple refered from 5 places.'>_bufferedwriter_reset_buf</a>(buffered *self)
<a name='L1622'><font color='red'>{</font>
<a name='L1623'>    self-&gt;write_pos = 0;
<a name='L1624'>    self-&gt;write_end = -1;
<a name='L1625'><font color='red'>}</font>
<a name='L1626'>
<a name='L1627'><b>static</b> <b>int</b>
<a name='L1628'><a href='../S/2570.html#L1978' title='Refered from 1978 in Modules/_io/bufferedio.c.'>bufferedwriter_init</a>(buffered *self, PyObject *args, PyObject *kwds)
<a name='L1629'><font color='red'>{</font>
<a name='L1630'>    <i><font color='green'>/* TODO: properly deprecate max_buffer_size */</font></i>
<a name='L1631'>    <b>char</b> *kwlist[] = <font color='red'>{</font>"raw", "buffer_size", "max_buffer_size", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L1632'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> buffer_size = <a href='../S/2569.html#L61' title='Defined at 61 in Modules/_io/_iomodule.h.'>DEFAULT_BUFFER_SIZE</a>;
<a name='L1633'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> max_buffer_size = -234;
<a name='L1634'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *raw;
<a name='L1635'>
<a name='L1636'>    self-&gt;ok = 0;
<a name='L1637'>    self-&gt;detached = 0;
<a name='L1638'>
<a name='L1639'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "O|nn:BufferedReader", kwlist,
<a name='L1640'>                                     &amp;raw, &amp;buffer_size, &amp;max_buffer_size)) <font color='red'>{</font>
<a name='L1641'>        <b>return</b> -1;
<a name='L1642'>    <font color='red'>}</font>
<a name='L1643'>
<a name='L1644'>    <b>if</b> (max_buffer_size != -234 &amp;&amp; !<a href='../S/2570.html#L1601' title='Defined at 1601 in Modules/_io/bufferedio.c.'>complain_about_max_buffer_size</a>())
<a name='L1645'>        <b>return</b> -1;
<a name='L1646'>
<a name='L1647'>    <b>if</b> (<a href='../S/2573.html#L372' title='Defined at 372 in Modules/_io/iobase.c.'>_PyIOBase_check_writable</a>(raw, Py_True) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1648'>        <b>return</b> -1;
<a name='L1649'>
<a name='L1650'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;raw);
<a name='L1651'>    Py_INCREF(raw);
<a name='L1652'>    self-&gt;raw = raw;
<a name='L1653'>    self-&gt;readable = 0;
<a name='L1654'>    self-&gt;writable = 1;
<a name='L1655'>
<a name='L1656'>    self-&gt;buffer_size = buffer_size;
<a name='L1657'>    <b>if</b> (<a href='../S/2570.html#L679' title='Defined at 679 in Modules/_io/bufferedio.c.'>_buffered_init</a>(self) &lt; 0)
<a name='L1658'>        <b>return</b> -1;
<a name='L1659'>    <a href='../S/2570.html#L1621' title='Defined at 1621 in Modules/_io/bufferedio.c.'>_bufferedwriter_reset_buf</a>(self);
<a name='L1660'>    self-&gt;pos = 0;
<a name='L1661'>
<a name='L1662'>    self-&gt;fast_closed_checks = (<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self) == &amp;PyBufferedWriter_Type &amp;&amp;
<a name='L1663'>                                <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(raw) == &amp;PyFileIO_Type);
<a name='L1664'>
<a name='L1665'>    self-&gt;ok = 1;
<a name='L1666'>    <b>return</b> 0;
<a name='L1667'><font color='red'>}</font>
<a name='L1668'>
<a name='L1669'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L1670'><a href='../R/5707.html' title='Multiple refered from 2 places.'>_bufferedwriter_raw_write</a>(buffered *self, <b>char</b> *start, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len)
<a name='L1671'><font color='red'>{</font>
<a name='L1672'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> buf;
<a name='L1673'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *memobj, *res;
<a name='L1674'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n;
<a name='L1675'>    <i><font color='green'>/* NOTE: the buffer needn't be released as its object is NULL. */</font></i>
<a name='L1676'>    <b>if</b> (<a href='../S/2775.html#L650' title='Defined at 650 in Objects/abstract.c.'>PyBuffer_FillInfo</a>(&amp;buf, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, start, len, 1, <a href='../S/544.html#L182' title='Defined at 182 in Include/object.h.'>PyBUF_CONTIG_RO</a>) == -1)
<a name='L1677'>        <b>return</b> -1;
<a name='L1678'>    memobj = <a href='../S/2800.html#L74' title='Defined at 74 in Objects/memoryobject.c.'>PyMemoryView_FromBuffer</a>(&amp;buf);
<a name='L1679'>    <b>if</b> (memobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1680'>        <b>return</b> -1;
<a name='L1681'>    res = <a href='../S/2775.html#L2330' title='Defined at 2330 in Objects/abstract.c.'>PyObject_CallMethodObjArgs</a>(self-&gt;raw, _PyIO_str_write, memobj, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1682'>    Py_DECREF(memobj);
<a name='L1683'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1684'>        <b>return</b> -1;
<a name='L1685'>    n = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(res, PyExc_ValueError);
<a name='L1686'>    Py_DECREF(res);
<a name='L1687'>    <b>if</b> (n &lt; 0 || n &gt; len) <font color='red'>{</font>
<a name='L1688'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_IOError,
<a name='L1689'>                     "raw write() returned invalid length %zd "
<a name='L1690'>                     "(should have been between 0 and %zd)", n, len);
<a name='L1691'>        <b>return</b> -1;
<a name='L1692'>    <font color='red'>}</font>
<a name='L1693'>    <b>if</b> (n &gt; 0 &amp;&amp; self-&gt;abs_pos != -1)
<a name='L1694'>        self-&gt;abs_pos += n;
<a name='L1695'>    <b>return</b> n;
<a name='L1696'><font color='red'>}</font>
<a name='L1697'>
<a name='L1698'><i><font color='green'>/* `restore_pos` is 1 if we need to restore the raw stream position at</font></i>
<a name='L1699'><i><font color='green'>   the end, 0 otherwise. */</font></i>
<a name='L1700'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1701'><a href='../R/5706.html' title='Multiple refered from 10 places.'>_bufferedwriter_flush_unlocked</a>(buffered *self, <b>int</b> restore_pos)
<a name='L1702'><font color='red'>{</font>
<a name='L1703'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> written = 0;
<a name='L1704'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> n, rewind;
<a name='L1705'>
<a name='L1706'>    <b>if</b> (!<a href='../S/2570.html#L334' title='Defined at 334 in Modules/_io/bufferedio.c.'>VALID_WRITE_BUFFER</a>(self) || self-&gt;write_pos == self-&gt;write_end)
<a name='L1707'>        <b>goto</b> end;
<a name='L1708'>    <i><font color='green'>/* First, rewind */</font></i>
<a name='L1709'>    rewind = <a href='../S/2570.html#L348' title='Defined at 348 in Modules/_io/bufferedio.c.'>RAW_OFFSET</a>(self) + (self-&gt;pos - self-&gt;write_pos);
<a name='L1710'>    <b>if</b> (rewind != 0) <font color='red'>{</font>
<a name='L1711'>        n = <a href='../S/2570.html#L646' title='Defined at 646 in Modules/_io/bufferedio.c.'>_buffered_raw_seek</a>(self, -rewind, 1);
<a name='L1712'>        <b>if</b> (n &lt; 0) <font color='red'>{</font>
<a name='L1713'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1714'>        <font color='red'>}</font>
<a name='L1715'>        self-&gt;raw_pos -= rewind;
<a name='L1716'>    <font color='red'>}</font>
<a name='L1717'>    <b>while</b> (self-&gt;write_pos &lt; self-&gt;write_end) <font color='red'>{</font>
<a name='L1718'>        n = <a href='../S/2570.html#L1670' title='Defined at 1670 in Modules/_io/bufferedio.c.'>_bufferedwriter_raw_write</a>(self,
<a name='L1719'>            self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;write_pos,
<a name='L1720'>            <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(self-&gt;write_end - self-&gt;write_pos,
<a name='L1721'>                             <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>));
<a name='L1722'>        <b>if</b> (n == -1) <font color='red'>{</font>
<a name='L1723'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> *w = <a href='../S/2570.html#L608' title='Defined at 608 in Modules/_io/bufferedio.c.'>_buffered_check_blocking_error</a>();
<a name='L1724'>            <b>if</b> (w == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1725'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1726'>            self-&gt;write_pos += *w;
<a name='L1727'>            self-&gt;raw_pos = self-&gt;write_pos;
<a name='L1728'>            written += *w;
<a name='L1729'>            *w = written;
<a name='L1730'>            <i><font color='green'>/* Already re-raised */</font></i>
<a name='L1731'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1732'>        <font color='red'>}</font>
<a name='L1733'>        self-&gt;write_pos += n;
<a name='L1734'>        self-&gt;raw_pos = self-&gt;write_pos;
<a name='L1735'>        written += <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(n, <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L1736'>        <i><font color='green'>/* Partial writes can return successfully when interrupted by a</font></i>
<a name='L1737'><i><font color='green'>           signal (see write(2)).  We must run signal handlers before</font></i>
<a name='L1738'><i><font color='green'>           blocking another time, possibly indefinitely. */</font></i>
<a name='L1739'>        <b>if</b> (<a href='../D/3143.html' title='Multiple defined in 2 places.'>PyErr_CheckSignals</a>() &lt; 0)
<a name='L1740'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1741'>    <font color='red'>}</font>
<a name='L1742'>
<a name='L1743'>    <b>if</b> (restore_pos) <font color='red'>{</font>
<a name='L1744'>        <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> forward = rewind - written;
<a name='L1745'>        <b>if</b> (forward != 0) <font color='red'>{</font>
<a name='L1746'>            n = <a href='../S/2570.html#L646' title='Defined at 646 in Modules/_io/bufferedio.c.'>_buffered_raw_seek</a>(self, forward, 1);
<a name='L1747'>            <b>if</b> (n &lt; 0) <font color='red'>{</font>
<a name='L1748'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1749'>            <font color='red'>}</font>
<a name='L1750'>            self-&gt;raw_pos += forward;
<a name='L1751'>        <font color='red'>}</font>
<a name='L1752'>    <font color='red'>}</font>
<a name='L1753'>    <a href='../S/2570.html#L1621' title='Defined at 1621 in Modules/_io/bufferedio.c.'>_bufferedwriter_reset_buf</a>(self);
<a name='L1754'>
<a name='L1755'>end:
<a name='L1756'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1757'>
<a name='L1758'><a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L1759'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1760'><font color='red'>}</font>
<a name='L1761'>
<a name='L1762'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1763'><a href='../R/6340.html' title='Multiple refered from 2 places.'>bufferedwriter_write</a>(buffered *self, PyObject *args)
<a name='L1764'><font color='red'>{</font>
<a name='L1765'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1766'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> buf;
<a name='L1767'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> written, avail, remaining;
<a name='L1768'>    <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a> offset;
<a name='L1769'>
<a name='L1770'>    <a href='../D/526.html' title='Multiple defined in 3 places.'>CHECK_INITIALIZED</a>(self)
<a name='L1771'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:write", &amp;buf)) <font color='red'>{</font>
<a name='L1772'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1773'>    <font color='red'>}</font>
<a name='L1774'>
<a name='L1775'>    <b>if</b> (<a href='../D/1780.html' title='Multiple defined in 2 places.'>IS_CLOSED</a>(self)) <font color='red'>{</font>
<a name='L1776'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "write to closed file");
<a name='L1777'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;buf);
<a name='L1778'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1779'>    <font color='red'>}</font>
<a name='L1780'>
<a name='L1781'>    <b>if</b> (!<a href='../D/943.html' title='Multiple defined in 2 places.'>ENTER_BUFFERED</a>(self)) <font color='red'>{</font>
<a name='L1782'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;buf);
<a name='L1783'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1784'>    <font color='red'>}</font>
<a name='L1785'>
<a name='L1786'>    <i><font color='green'>/* Fast path: the data to write can be fully buffered. */</font></i>
<a name='L1787'>    <b>if</b> (!<a href='../S/2570.html#L331' title='Defined at 331 in Modules/_io/bufferedio.c.'>VALID_READ_BUFFER</a>(self) &amp;&amp; !<a href='../S/2570.html#L334' title='Defined at 334 in Modules/_io/bufferedio.c.'>VALID_WRITE_BUFFER</a>(self)) <font color='red'>{</font>
<a name='L1788'>        self-&gt;pos = 0;
<a name='L1789'>        self-&gt;raw_pos = 0;
<a name='L1790'>    <font color='red'>}</font>
<a name='L1791'>    avail = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(self-&gt;buffer_size - self-&gt;pos, <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L1792'>    <b>if</b> (buf.len &lt;= avail) <font color='red'>{</font>
<a name='L1793'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;pos, buf.buf, buf.len);
<a name='L1794'>        <b>if</b> (!<a href='../S/2570.html#L334' title='Defined at 334 in Modules/_io/bufferedio.c.'>VALID_WRITE_BUFFER</a>(self)) <font color='red'>{</font>
<a name='L1795'>            self-&gt;write_pos = self-&gt;pos;
<a name='L1796'>        <font color='red'>}</font>
<a name='L1797'>        <a href='../S/2570.html#L337' title='Defined at 337 in Modules/_io/bufferedio.c.'>ADJUST_POSITION</a>(self, self-&gt;pos + buf.len);
<a name='L1798'>        <b>if</b> (self-&gt;pos &gt; self-&gt;write_end)
<a name='L1799'>            self-&gt;write_end = self-&gt;pos;
<a name='L1800'>        written = buf.len;
<a name='L1801'>        <b>goto</b> end;
<a name='L1802'>    <font color='red'>}</font>
<a name='L1803'>
<a name='L1804'>    <i><font color='green'>/* First write the current buffer */</font></i>
<a name='L1805'>    res = <a href='../S/2570.html#L1701' title='Defined at 1701 in Modules/_io/bufferedio.c.'>_bufferedwriter_flush_unlocked</a>(self, 0);
<a name='L1806'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1807'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> *w = <a href='../S/2570.html#L608' title='Defined at 608 in Modules/_io/bufferedio.c.'>_buffered_check_blocking_error</a>();
<a name='L1808'>        <b>if</b> (w == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1809'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1810'>        <b>if</b> (self-&gt;readable)
<a name='L1811'>            <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L1812'>        <i><font color='green'>/* Make some place by shifting the buffer. */</font></i>
<a name='L1813'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2570.html#L334' title='Defined at 334 in Modules/_io/bufferedio.c.'>VALID_WRITE_BUFFER</a>(self));
<a name='L1814'>        <a href='../S/2664.html#L75' title='Defined at 75 in Modules/expat/xmlparse.c.'>memmove</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>, self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;write_pos,
<a name='L1815'>                <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(self-&gt;write_end - self-&gt;write_pos,
<a name='L1816'>                                 <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>));
<a name='L1817'>        self-&gt;write_end -= self-&gt;write_pos;
<a name='L1818'>        self-&gt;raw_pos -= self-&gt;write_pos;
<a name='L1819'>        self-&gt;pos -= self-&gt;write_pos;
<a name='L1820'>        self-&gt;write_pos = 0;
<a name='L1821'>        avail = <a href='../D/4230.html' title='Multiple defined in 2 places.'>Py_SAFE_DOWNCAST</a>(self-&gt;buffer_size - self-&gt;write_end,
<a name='L1822'>                                 <a href='../D/4353.html' title='Multiple defined in 3 places.'>Py_off_t</a>, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>);
<a name='L1823'>        <b>if</b> (buf.len &lt;= avail) <font color='red'>{</font>
<a name='L1824'>            <i><font color='green'>/* Everything can be buffered */</font></i>
<a name='L1825'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1826'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;write_end, buf.buf, buf.len);
<a name='L1827'>            self-&gt;write_end += buf.len;
<a name='L1828'>            written = buf.len;
<a name='L1829'>            <b>goto</b> end;
<a name='L1830'>        <font color='red'>}</font>
<a name='L1831'>        <i><font color='green'>/* Buffer as much as possible. */</font></i>
<a name='L1832'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> + self-&gt;write_end, buf.buf, avail);
<a name='L1833'>        self-&gt;write_end += avail;
<a name='L1834'>        <i><font color='green'>/* Already re-raised */</font></i>
<a name='L1835'>        *w = avail;
<a name='L1836'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1837'>    <font color='red'>}</font>
<a name='L1838'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(res);
<a name='L1839'>
<a name='L1840'>    <i><font color='green'>/* Adjust the raw stream position if it is away from the logical stream</font></i>
<a name='L1841'><i><font color='green'>       position. This happens if the read buffer has been filled but not</font></i>
<a name='L1842'><i><font color='green'>       modified (and therefore _bufferedwriter_flush_unlocked() didn't rewind</font></i>
<a name='L1843'><i><font color='green'>       the raw stream by itself).</font></i>
<a name='L1844'><i><font color='green'>       Fixes issue #6629.</font></i>
<a name='L1845'><i><font color='green'>    */</font></i>
<a name='L1846'>    offset = <a href='../S/2570.html#L348' title='Defined at 348 in Modules/_io/bufferedio.c.'>RAW_OFFSET</a>(self);
<a name='L1847'>    <b>if</b> (offset != 0) <font color='red'>{</font>
<a name='L1848'>        <b>if</b> (<a href='../S/2570.html#L646' title='Defined at 646 in Modules/_io/bufferedio.c.'>_buffered_raw_seek</a>(self, -offset, 1) &lt; 0)
<a name='L1849'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1850'>        self-&gt;raw_pos -= offset;
<a name='L1851'>    <font color='red'>}</font>
<a name='L1852'>
<a name='L1853'>    <i><font color='green'>/* Then write buf itself. At this point the buffer has been emptied. */</font></i>
<a name='L1854'>    remaining = buf.len;
<a name='L1855'>    written = 0;
<a name='L1856'>    <b>while</b> (remaining &gt; self-&gt;buffer_size) <font color='red'>{</font>
<a name='L1857'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n = <a href='../S/2570.html#L1670' title='Defined at 1670 in Modules/_io/bufferedio.c.'>_bufferedwriter_raw_write</a>(
<a name='L1858'>            self, (<b>char</b> *) buf.buf + written, buf.len - written);
<a name='L1859'>        <b>if</b> (n == -1) <font color='red'>{</font>
<a name='L1860'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> *w = <a href='../S/2570.html#L608' title='Defined at 608 in Modules/_io/bufferedio.c.'>_buffered_check_blocking_error</a>();
<a name='L1861'>            <b>if</b> (w == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1862'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1863'>            written += *w;
<a name='L1864'>            remaining -= *w;
<a name='L1865'>            <b>if</b> (remaining &gt; self-&gt;buffer_size) <font color='red'>{</font>
<a name='L1866'>                <i><font color='green'>/* Can't buffer everything, still buffer as much as possible */</font></i>
<a name='L1867'>                <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>,
<a name='L1868'>                       (<b>char</b> *) buf.buf + written, self-&gt;buffer_size);
<a name='L1869'>                self-&gt;raw_pos = 0;
<a name='L1870'>                <a href='../S/2570.html#L337' title='Defined at 337 in Modules/_io/bufferedio.c.'>ADJUST_POSITION</a>(self, self-&gt;buffer_size);
<a name='L1871'>                self-&gt;write_end = self-&gt;buffer_size;
<a name='L1872'>                *w = written + self-&gt;buffer_size;
<a name='L1873'>                <i><font color='green'>/* Already re-raised */</font></i>
<a name='L1874'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1875'>            <font color='red'>}</font>
<a name='L1876'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1877'>            <b>break</b>;
<a name='L1878'>        <font color='red'>}</font>
<a name='L1879'>        written += n;
<a name='L1880'>        remaining -= n;
<a name='L1881'>        <i><font color='green'>/* Partial writes can return successfully when interrupted by a</font></i>
<a name='L1882'><i><font color='green'>           signal (see write(2)).  We must run signal handlers before</font></i>
<a name='L1883'><i><font color='green'>           blocking another time, possibly indefinitely. */</font></i>
<a name='L1884'>        <b>if</b> (<a href='../D/3143.html' title='Multiple defined in 2 places.'>PyErr_CheckSignals</a>() &lt; 0)
<a name='L1885'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1886'>    <font color='red'>}</font>
<a name='L1887'>    <b>if</b> (self-&gt;readable)
<a name='L1888'>        <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L1889'>    <b>if</b> (remaining &gt; 0) <font color='red'>{</font>
<a name='L1890'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(self-&gt;<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>, (<b>char</b> *) buf.buf + written, remaining);
<a name='L1891'>        written += remaining;
<a name='L1892'>    <font color='red'>}</font>
<a name='L1893'>    self-&gt;write_pos = 0;
<a name='L1894'>    <i><font color='green'>/* TODO: sanity check (remaining &gt;= 0) */</font></i>
<a name='L1895'>    self-&gt;write_end = remaining;
<a name='L1896'>    <a href='../S/2570.html#L337' title='Defined at 337 in Modules/_io/bufferedio.c.'>ADJUST_POSITION</a>(self, remaining);
<a name='L1897'>    self-&gt;raw_pos = 0;
<a name='L1898'>
<a name='L1899'>end:
<a name='L1900'>    res = <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(written);
<a name='L1901'>
<a name='L1902'><a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L1903'>    <a href='../D/1894.html' title='Multiple defined in 2 places.'>LEAVE_BUFFERED</a>(self)
<a name='L1904'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;buf);
<a name='L1905'>    <b>return</b> res;
<a name='L1906'><font color='red'>}</font>
<a name='L1907'>
<a name='L1908'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> bufferedwriter_methods[] = <font color='red'>{</font>
<a name='L1909'>    <i><font color='green'>/* BufferedIOMixin methods */</font></i>
<a name='L1910'>    <font color='red'>{</font>"close", (PyCFunction)<a href='../S/2570.html#L459' title='Defined at 459 in Modules/_io/bufferedio.c.'>buffered_close</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1911'>    <font color='red'>{</font>"detach", (PyCFunction)<a href='../S/2570.html#L504' title='Defined at 504 in Modules/_io/bufferedio.c.'>buffered_detach</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1912'>    <font color='red'>{</font>"seekable", (PyCFunction)<a href='../S/2570.html#L522' title='Defined at 522 in Modules/_io/bufferedio.c.'>buffered_seekable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1913'>    <font color='red'>{</font>"readable", (PyCFunction)<a href='../S/2570.html#L529' title='Defined at 529 in Modules/_io/bufferedio.c.'>buffered_readable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1914'>    <font color='red'>{</font>"writable", (PyCFunction)<a href='../S/2570.html#L536' title='Defined at 536 in Modules/_io/bufferedio.c.'>buffered_writable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1915'>    <font color='red'>{</font>"fileno", (PyCFunction)<a href='../S/2570.html#L559' title='Defined at 559 in Modules/_io/bufferedio.c.'>buffered_fileno</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1916'>    <font color='red'>{</font>"isatty", (PyCFunction)<a href='../S/2570.html#L566' title='Defined at 566 in Modules/_io/bufferedio.c.'>buffered_isatty</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1917'>    <font color='red'>{</font>"_dealloc_warn", (PyCFunction)<a href='../S/2570.html#L409' title='Defined at 409 in Modules/_io/bufferedio.c.'>buffered_dealloc_warn</a>, METH_O<font color='red'>}</font>,
<a name='L1918'>    <font color='red'>{</font>"__getstate__", (PyCFunction)<a href='../S/2570.html#L575' title='Defined at 575 in Modules/_io/bufferedio.c.'>buffered_getstate</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1919'>
<a name='L1920'>    <font color='red'>{</font>"write", (PyCFunction)<a href='../S/2570.html#L1763' title='Defined at 1763 in Modules/_io/bufferedio.c.'>bufferedwriter_write</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1921'>    <font color='red'>{</font>"truncate", (PyCFunction)<a href='../S/2570.html#L1113' title='Defined at 1113 in Modules/_io/bufferedio.c.'>buffered_truncate</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1922'>    <font color='red'>{</font>"flush", (PyCFunction)<a href='../S/2570.html#L722' title='Defined at 722 in Modules/_io/bufferedio.c.'>buffered_flush</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1923'>    <font color='red'>{</font>"seek", (PyCFunction)<a href='../S/2570.html#L1039' title='Defined at 1039 in Modules/_io/bufferedio.c.'>buffered_seek</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1924'>    <font color='red'>{</font>"tell", (PyCFunction)<a href='../S/2570.html#L1025' title='Defined at 1025 in Modules/_io/bufferedio.c.'>buffered_tell</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L1925'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L1926'><font color='red'>}</font>;
<a name='L1927'>
<a name='L1928'><b>static</b> <a href='../D/3506.html' title='Multiple defined in 2 places.'>PyMemberDef</a> bufferedwriter_members[] = <font color='red'>{</font>
<a name='L1929'>    <font color='red'>{</font>"raw", <a href='../S/577.html#L44' title='Defined at 44 in Include/structmember.h.'>T_OBJECT</a>, <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, raw), <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a><font color='red'>}</font>,
<a name='L1930'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L1931'><font color='red'>}</font>;
<a name='L1932'>
<a name='L1933'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> bufferedwriter_getset[] = <font color='red'>{</font>
<a name='L1934'>    <font color='red'>{</font>"closed", (getter)<a href='../S/2570.html#L452' title='Defined at 452 in Modules/_io/bufferedio.c.'>buffered_closed_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1935'>    <font color='red'>{</font>"name", (getter)<a href='../S/2570.html#L543' title='Defined at 543 in Modules/_io/bufferedio.c.'>buffered_name_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1936'>    <font color='red'>{</font>"mode", (getter)<a href='../S/2570.html#L550' title='Defined at 550 in Modules/_io/bufferedio.c.'>buffered_mode_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L1937'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L1938'><font color='red'>}</font>;
<a name='L1939'>
<a name='L1940'>
<a name='L1941'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyBufferedWriter_Type = <font color='red'>{</font>
<a name='L1942'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L1943'>    "_io.BufferedWriter",       <i><font color='green'>/*tp_name*/</font></i>
<a name='L1944'>    <b>sizeof</b>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>),           <i><font color='green'>/*tp_basicsize*/</font></i>
<a name='L1945'>    0,                          <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L1946'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2570.html#L362' title='Defined at 362 in Modules/_io/bufferedio.c.'>buffered_dealloc</a>,     <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L1947'>    0,                          <i><font color='green'>/*tp_print*/</font></i>
<a name='L1948'>    0,                          <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L1949'>    0,                          <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L1950'>    0,                          <i><font color='green'>/*tp_compare */</font></i>
<a name='L1951'>    (reprfunc)<a href='../S/2570.html#L1192' title='Defined at 1192 in Modules/_io/bufferedio.c.'>buffered_repr</a>,    <i><font color='green'>/*tp_repr*/</font></i>
<a name='L1952'>    0,                          <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L1953'>    0,                          <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L1954'>    0,                          <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L1955'>    0,                          <i><font color='green'>/*tp_hash */</font></i>
<a name='L1956'>    0,                          <i><font color='green'>/*tp_call*/</font></i>
<a name='L1957'>    0,                          <i><font color='green'>/*tp_str*/</font></i>
<a name='L1958'>    0,                          <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L1959'>    0,                          <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L1960'>    0,                          <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L1961'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE
<a name='L1962'>        | Py_TPFLAGS_HAVE_GC,   <i><font color='green'>/*tp_flags*/</font></i>
<a name='L1963'>    bufferedwriter_doc,         <i><font color='green'>/* tp_doc */</font></i>
<a name='L1964'>    (traverseproc)<a href='../S/2570.html#L387' title='Defined at 387 in Modules/_io/bufferedio.c.'>buffered_traverse</a>, <i><font color='green'>/* tp_traverse */</font></i>
<a name='L1965'>    (inquiry)<a href='../S/2570.html#L395' title='Defined at 395 in Modules/_io/bufferedio.c.'>buffered_clear</a>,    <i><font color='green'>/* tp_clear */</font></i>
<a name='L1966'>    0,                          <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L1967'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, weakreflist), <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L1968'>    0,                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L1969'>    0,                          <i><font color='green'>/* tp_iternext */</font></i>
<a name='L1970'>    bufferedwriter_methods,     <i><font color='green'>/* tp_methods */</font></i>
<a name='L1971'>    bufferedwriter_members,     <i><font color='green'>/* tp_members */</font></i>
<a name='L1972'>    bufferedwriter_getset,      <i><font color='green'>/* tp_getset */</font></i>
<a name='L1973'>    0,                          <i><font color='green'>/* tp_base */</font></i>
<a name='L1974'>    0,                          <i><font color='green'>/* tp_dict */</font></i>
<a name='L1975'>    0,                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L1976'>    0,                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L1977'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, dict),   <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L1978'>    (initproc)<a href='../S/2570.html#L1628' title='Defined at 1628 in Modules/_io/bufferedio.c.'>bufferedwriter_init</a>, <i><font color='green'>/* tp_init */</font></i>
<a name='L1979'>    0,                          <i><font color='green'>/* tp_alloc */</font></i>
<a name='L1980'>    <a href='../S/2824.html#L730' title='Defined at 730 in Objects/typeobject.c.'>PyType_GenericNew</a>,          <i><font color='green'>/* tp_new */</font></i>
<a name='L1981'><font color='red'>}</font>;
<a name='L1982'>
<a name='L1983'>
<a name='L1984'>
<a name='L1985'><i><font color='green'>/*</font></i>
<a name='L1986'><i><font color='green'> * BufferedRWPair</font></i>
<a name='L1987'><i><font color='green'> */</font></i>
<a name='L1988'>
<a name='L1989'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferedrwpair_doc,
<a name='L1990'>    "A buffered reader and writer object together.\n"
<a name='L1991'>    "\n"
<a name='L1992'>    "A buffered reader object and buffered writer object put together to\n"
<a name='L1993'>    "form a sequential IO object that can read and write. This is typically\n"
<a name='L1994'>    "used with a socket or two-way pipe.\n"
<a name='L1995'>    "\n"
<a name='L1996'>    "reader and writer are RawIOBase objects that are readable and\n"
<a name='L1997'>    "writeable respectively. If the buffer_size is omitted it defaults to\n"
<a name='L1998'>    "DEFAULT_BUFFER_SIZE.\n"
<a name='L1999'>    );
<a name='L2000'>
<a name='L2001'><i><font color='green'>/* XXX The usefulness of this (compared to having two separate IO objects) is</font></i>
<a name='L2002'><i><font color='green'> * questionable.</font></i>
<a name='L2003'><i><font color='green'> */</font></i>
<a name='L2004'>
<a name='L2005'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L2006'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L2007'>    <a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a> *reader;
<a name='L2008'>    <a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a> *writer;
<a name='L2009'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *dict;
<a name='L2010'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *weakreflist;
<a name='L2011'><font color='red'>}</font> <a href='../R/10075.html' title='Multiple refered from 3 places.'>rwpair</a>;
<a name='L2012'>
<a name='L2013'><b>static</b> <b>int</b>
<a name='L2014'><a href='../S/2570.html#L2231' title='Refered from 2231 in Modules/_io/bufferedio.c.'>bufferedrwpair_init</a>(rwpair *self, PyObject *args, PyObject *kwds)
<a name='L2015'><font color='red'>{</font>
<a name='L2016'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *reader, *writer;
<a name='L2017'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> buffer_size = <a href='../S/2569.html#L61' title='Defined at 61 in Modules/_io/_iomodule.h.'>DEFAULT_BUFFER_SIZE</a>;
<a name='L2018'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> max_buffer_size = -234;
<a name='L2019'>
<a name='L2020'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "OO|nn:BufferedRWPair", &amp;reader, &amp;writer,
<a name='L2021'>                          &amp;buffer_size, &amp;max_buffer_size)) <font color='red'>{</font>
<a name='L2022'>        <b>return</b> -1;
<a name='L2023'>    <font color='red'>}</font>
<a name='L2024'>
<a name='L2025'>    <b>if</b> (max_buffer_size != -234 &amp;&amp; !<a href='../S/2570.html#L1601' title='Defined at 1601 in Modules/_io/bufferedio.c.'>complain_about_max_buffer_size</a>())
<a name='L2026'>        <b>return</b> -1;
<a name='L2027'>
<a name='L2028'>    <b>if</b> (<a href='../S/2573.html#L343' title='Defined at 343 in Modules/_io/iobase.c.'>_PyIOBase_check_readable</a>(reader, Py_True) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2029'>        <b>return</b> -1;
<a name='L2030'>    <b>if</b> (<a href='../S/2573.html#L372' title='Defined at 372 in Modules/_io/iobase.c.'>_PyIOBase_check_writable</a>(writer, Py_True) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2031'>        <b>return</b> -1;
<a name='L2032'>
<a name='L2033'>    self-&gt;reader = (<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a> *) <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(
<a name='L2034'>            (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) &amp;PyBufferedReader_Type, "On", reader, buffer_size);
<a name='L2035'>    <b>if</b> (self-&gt;reader == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2036'>        <b>return</b> -1;
<a name='L2037'>
<a name='L2038'>    self-&gt;writer = (<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a> *) <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(
<a name='L2039'>            (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) &amp;PyBufferedWriter_Type, "On", writer, buffer_size);
<a name='L2040'>    <b>if</b> (self-&gt;writer == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2041'>        <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;reader);
<a name='L2042'>        <b>return</b> -1;
<a name='L2043'>    <font color='red'>}</font>
<a name='L2044'>
<a name='L2045'>    <b>return</b> 0;
<a name='L2046'><font color='red'>}</font>
<a name='L2047'>
<a name='L2048'><b>static</b> <b>int</b>
<a name='L2049'><a href='../S/2570.html#L2217' title='Refered from 2217 in Modules/_io/bufferedio.c.'>bufferedrwpair_traverse</a>(rwpair *self, visitproc visit, <b>void</b> *arg)
<a name='L2050'><font color='red'>{</font>
<a name='L2051'>    Py_VISIT(self-&gt;dict);
<a name='L2052'>    <b>return</b> 0;
<a name='L2053'><font color='red'>}</font>
<a name='L2054'>
<a name='L2055'><b>static</b> <b>int</b>
<a name='L2056'><a href='../S/2570.html#L2218' title='Refered from 2218 in Modules/_io/bufferedio.c.'>bufferedrwpair_clear</a>(rwpair *self)
<a name='L2057'><font color='red'>{</font>
<a name='L2058'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;reader);
<a name='L2059'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;writer);
<a name='L2060'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;dict);
<a name='L2061'>    <b>return</b> 0;
<a name='L2062'><font color='red'>}</font>
<a name='L2063'>
<a name='L2064'><b>static</b> <b>void</b>
<a name='L2065'><a href='../S/2570.html#L2199' title='Refered from 2199 in Modules/_io/bufferedio.c.'>bufferedrwpair_dealloc</a>(rwpair *self)
<a name='L2066'><font color='red'>{</font>
<a name='L2067'>    <a href='../S/545.html#L281' title='Defined at 281 in Include/objimpl.h.'>_PyObject_GC_UNTRACK</a>(self);
<a name='L2068'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;reader);
<a name='L2069'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;writer);
<a name='L2070'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;dict);
<a name='L2071'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self);
<a name='L2072'><font color='red'>}</font>
<a name='L2073'>
<a name='L2074'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2075'><a href='../R/5765.html' title='Multiple refered from 12 places.'>_forward_call</a>(buffered *self, <b>const</b> <b>char</b> *name, PyObject *args)
<a name='L2076'><font color='red'>{</font>
<a name='L2077'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, name);
<a name='L2078'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ret;
<a name='L2079'>
<a name='L2080'>    <b>if</b> (func == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2081'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_AttributeError, name);
<a name='L2082'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2083'>    <font color='red'>}</font>
<a name='L2084'>
<a name='L2085'>    ret = <a href='../S/2775.html#L2135' title='Defined at 2135 in Objects/abstract.c.'>PyObject_CallObject</a>(func, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2086'>    Py_DECREF(func);
<a name='L2087'>    <b>return</b> ret;
<a name='L2088'><font color='red'>}</font>
<a name='L2089'>
<a name='L2090'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2091'><a href='../S/2570.html#L2170' title='Refered from 2170 in Modules/_io/bufferedio.c.'>bufferedrwpair_read</a>(rwpair *self, PyObject *args)
<a name='L2092'><font color='red'>{</font>
<a name='L2093'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;reader, "read", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2094'><font color='red'>}</font>
<a name='L2095'>
<a name='L2096'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2097'><a href='../S/2570.html#L2171' title='Refered from 2171 in Modules/_io/bufferedio.c.'>bufferedrwpair_peek</a>(rwpair *self, PyObject *args)
<a name='L2098'><font color='red'>{</font>
<a name='L2099'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;reader, "peek", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2100'><font color='red'>}</font>
<a name='L2101'>
<a name='L2102'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2103'><a href='../S/2570.html#L2172' title='Refered from 2172 in Modules/_io/bufferedio.c.'>bufferedrwpair_read1</a>(rwpair *self, PyObject *args)
<a name='L2104'><font color='red'>{</font>
<a name='L2105'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;reader, "read1", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2106'><font color='red'>}</font>
<a name='L2107'>
<a name='L2108'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2109'><a href='../S/2570.html#L2173' title='Refered from 2173 in Modules/_io/bufferedio.c.'>bufferedrwpair_readinto</a>(rwpair *self, PyObject *args)
<a name='L2110'><font color='red'>{</font>
<a name='L2111'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;reader, "readinto", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2112'><font color='red'>}</font>
<a name='L2113'>
<a name='L2114'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2115'><a href='../S/2570.html#L2175' title='Refered from 2175 in Modules/_io/bufferedio.c.'>bufferedrwpair_write</a>(rwpair *self, PyObject *args)
<a name='L2116'><font color='red'>{</font>
<a name='L2117'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;writer, "write", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2118'><font color='red'>}</font>
<a name='L2119'>
<a name='L2120'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2121'><a href='../S/2570.html#L2176' title='Refered from 2176 in Modules/_io/bufferedio.c.'>bufferedrwpair_flush</a>(rwpair *self, PyObject *args)
<a name='L2122'><font color='red'>{</font>
<a name='L2123'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;writer, "flush", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2124'><font color='red'>}</font>
<a name='L2125'>
<a name='L2126'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2127'><a href='../S/2570.html#L2178' title='Refered from 2178 in Modules/_io/bufferedio.c.'>bufferedrwpair_readable</a>(rwpair *self, PyObject *args)
<a name='L2128'><font color='red'>{</font>
<a name='L2129'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;reader, "readable", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2130'><font color='red'>}</font>
<a name='L2131'>
<a name='L2132'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2133'><a href='../S/2570.html#L2179' title='Refered from 2179 in Modules/_io/bufferedio.c.'>bufferedrwpair_writable</a>(rwpair *self, PyObject *args)
<a name='L2134'><font color='red'>{</font>
<a name='L2135'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;writer, "writable", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2136'><font color='red'>}</font>
<a name='L2137'>
<a name='L2138'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2139'><a href='../S/2570.html#L2181' title='Refered from 2181 in Modules/_io/bufferedio.c.'>bufferedrwpair_close</a>(rwpair *self, PyObject *args)
<a name='L2140'><font color='red'>{</font>
<a name='L2141'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ret = <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;writer, "close", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2142'>    <b>if</b> (ret == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2143'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2144'>    Py_DECREF(ret);
<a name='L2145'>
<a name='L2146'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;reader, "close", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2147'><font color='red'>}</font>
<a name='L2148'>
<a name='L2149'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2150'><a href='../S/2570.html#L2182' title='Refered from 2182 in Modules/_io/bufferedio.c.'>bufferedrwpair_isatty</a>(rwpair *self, PyObject *args)
<a name='L2151'><font color='red'>{</font>
<a name='L2152'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ret = <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;writer, "isatty", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2153'>
<a name='L2154'>    <b>if</b> (ret != Py_False) <font color='red'>{</font>
<a name='L2155'>        <i><font color='green'>/* either True or exception */</font></i>
<a name='L2156'>        <b>return</b> ret;
<a name='L2157'>    <font color='red'>}</font>
<a name='L2158'>    Py_DECREF(ret);
<a name='L2159'>
<a name='L2160'>    <b>return</b> <a href='../S/2570.html#L2075' title='Defined at 2075 in Modules/_io/bufferedio.c.'>_forward_call</a>(self-&gt;reader, "isatty", <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L2161'><font color='red'>}</font>
<a name='L2162'>
<a name='L2163'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2164'><a href='../S/2570.html#L2190' title='Refered from 2190 in Modules/_io/bufferedio.c.'>bufferedrwpair_closed_get</a>(rwpair *self, <b>void</b> *context)
<a name='L2165'><font color='red'>{</font>
<a name='L2166'>    <b>return</b> <a href='../S/2803.html#L822' title='Defined at 822 in Objects/object.c.'>PyObject_GetAttr</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self-&gt;writer, _PyIO_str_closed);
<a name='L2167'><font color='red'>}</font>
<a name='L2168'>
<a name='L2169'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> bufferedrwpair_methods[] = <font color='red'>{</font>
<a name='L2170'>    <font color='red'>{</font>"read", (PyCFunction)<a href='../S/2570.html#L2091' title='Defined at 2091 in Modules/_io/bufferedio.c.'>bufferedrwpair_read</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2171'>    <font color='red'>{</font>"peek", (PyCFunction)<a href='../S/2570.html#L2097' title='Defined at 2097 in Modules/_io/bufferedio.c.'>bufferedrwpair_peek</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2172'>    <font color='red'>{</font>"read1", (PyCFunction)<a href='../S/2570.html#L2103' title='Defined at 2103 in Modules/_io/bufferedio.c.'>bufferedrwpair_read1</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2173'>    <font color='red'>{</font>"readinto", (PyCFunction)<a href='../S/2570.html#L2109' title='Defined at 2109 in Modules/_io/bufferedio.c.'>bufferedrwpair_readinto</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2174'>
<a name='L2175'>    <font color='red'>{</font>"write", (PyCFunction)<a href='../S/2570.html#L2115' title='Defined at 2115 in Modules/_io/bufferedio.c.'>bufferedrwpair_write</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2176'>    <font color='red'>{</font>"flush", (PyCFunction)<a href='../S/2570.html#L2121' title='Defined at 2121 in Modules/_io/bufferedio.c.'>bufferedrwpair_flush</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2177'>
<a name='L2178'>    <font color='red'>{</font>"readable", (PyCFunction)<a href='../S/2570.html#L2127' title='Defined at 2127 in Modules/_io/bufferedio.c.'>bufferedrwpair_readable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2179'>    <font color='red'>{</font>"writable", (PyCFunction)<a href='../S/2570.html#L2133' title='Defined at 2133 in Modules/_io/bufferedio.c.'>bufferedrwpair_writable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2180'>
<a name='L2181'>    <font color='red'>{</font>"close", (PyCFunction)<a href='../S/2570.html#L2139' title='Defined at 2139 in Modules/_io/bufferedio.c.'>bufferedrwpair_close</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2182'>    <font color='red'>{</font>"isatty", (PyCFunction)<a href='../S/2570.html#L2150' title='Defined at 2150 in Modules/_io/bufferedio.c.'>bufferedrwpair_isatty</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2183'>
<a name='L2184'>    <font color='red'>{</font>"__getstate__", (PyCFunction)<a href='../S/2570.html#L575' title='Defined at 575 in Modules/_io/bufferedio.c.'>buffered_getstate</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2185'>
<a name='L2186'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2187'><font color='red'>}</font>;
<a name='L2188'>
<a name='L2189'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> bufferedrwpair_getset[] = <font color='red'>{</font>
<a name='L2190'>    <font color='red'>{</font>"closed", (getter)<a href='../S/2570.html#L2164' title='Defined at 2164 in Modules/_io/bufferedio.c.'>bufferedrwpair_closed_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L2191'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2192'><font color='red'>}</font>;
<a name='L2193'>
<a name='L2194'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyBufferedRWPair_Type = <font color='red'>{</font>
<a name='L2195'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L2196'>    "_io.BufferedRWPair",       <i><font color='green'>/*tp_name*/</font></i>
<a name='L2197'>    <b>sizeof</b>(<a href='../S/2570.html#L2011' title='Defined at 2011 in Modules/_io/bufferedio.c.'>rwpair</a>),            <i><font color='green'>/*tp_basicsize*/</font></i>
<a name='L2198'>    0,                          <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L2199'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2570.html#L2065' title='Defined at 2065 in Modules/_io/bufferedio.c.'>bufferedrwpair_dealloc</a>,     <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L2200'>    0,                          <i><font color='green'>/*tp_print*/</font></i>
<a name='L2201'>    0,                          <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L2202'>    0,                          <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L2203'>    0,                          <i><font color='green'>/*tp_compare */</font></i>
<a name='L2204'>    0,                          <i><font color='green'>/*tp_repr*/</font></i>
<a name='L2205'>    0,                          <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L2206'>    0,                          <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L2207'>    0,                          <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L2208'>    0,                          <i><font color='green'>/*tp_hash */</font></i>
<a name='L2209'>    0,                          <i><font color='green'>/*tp_call*/</font></i>
<a name='L2210'>    0,                          <i><font color='green'>/*tp_str*/</font></i>
<a name='L2211'>    0,                          <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L2212'>    0,                          <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L2213'>    0,                          <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L2214'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE
<a name='L2215'>        | Py_TPFLAGS_HAVE_GC,   <i><font color='green'>/* tp_flags */</font></i>
<a name='L2216'>    bufferedrwpair_doc,         <i><font color='green'>/* tp_doc */</font></i>
<a name='L2217'>    (traverseproc)<a href='../S/2570.html#L2049' title='Defined at 2049 in Modules/_io/bufferedio.c.'>bufferedrwpair_traverse</a>, <i><font color='green'>/* tp_traverse */</font></i>
<a name='L2218'>    (inquiry)<a href='../S/2570.html#L2056' title='Defined at 2056 in Modules/_io/bufferedio.c.'>bufferedrwpair_clear</a>, <i><font color='green'>/* tp_clear */</font></i>
<a name='L2219'>    0,                          <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L2220'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L2011' title='Defined at 2011 in Modules/_io/bufferedio.c.'>rwpair</a>, weakreflist), <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L2221'>    0,                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L2222'>    0,                          <i><font color='green'>/* tp_iternext */</font></i>
<a name='L2223'>    bufferedrwpair_methods,     <i><font color='green'>/* tp_methods */</font></i>
<a name='L2224'>    0,                          <i><font color='green'>/* tp_members */</font></i>
<a name='L2225'>    bufferedrwpair_getset,      <i><font color='green'>/* tp_getset */</font></i>
<a name='L2226'>    0,                          <i><font color='green'>/* tp_base */</font></i>
<a name='L2227'>    0,                          <i><font color='green'>/* tp_dict */</font></i>
<a name='L2228'>    0,                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L2229'>    0,                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L2230'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L2011' title='Defined at 2011 in Modules/_io/bufferedio.c.'>rwpair</a>, dict),     <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L2231'>    (initproc)<a href='../S/2570.html#L2014' title='Defined at 2014 in Modules/_io/bufferedio.c.'>bufferedrwpair_init</a>, <i><font color='green'>/* tp_init */</font></i>
<a name='L2232'>    0,                          <i><font color='green'>/* tp_alloc */</font></i>
<a name='L2233'>    <a href='../S/2824.html#L730' title='Defined at 730 in Objects/typeobject.c.'>PyType_GenericNew</a>,          <i><font color='green'>/* tp_new */</font></i>
<a name='L2234'><font color='red'>}</font>;
<a name='L2235'>
<a name='L2236'>
<a name='L2237'>
<a name='L2238'><i><font color='green'>/*</font></i>
<a name='L2239'><i><font color='green'> * BufferedRandom</font></i>
<a name='L2240'><i><font color='green'> */</font></i>
<a name='L2241'>
<a name='L2242'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bufferedrandom_doc,
<a name='L2243'>    "A buffered interface to random access streams.\n"
<a name='L2244'>    "\n"
<a name='L2245'>    "The constructor creates a reader and writer for a seekable stream,\n"
<a name='L2246'>    "raw, given in the first argument. If the buffer_size is omitted it\n"
<a name='L2247'>    "defaults to DEFAULT_BUFFER_SIZE. max_buffer_size isn't used anymore.\n"
<a name='L2248'>    );
<a name='L2249'>
<a name='L2250'><b>static</b> <b>int</b>
<a name='L2251'><a href='../S/2570.html#L2372' title='Refered from 2372 in Modules/_io/bufferedio.c.'>bufferedrandom_init</a>(buffered *self, PyObject *args, PyObject *kwds)
<a name='L2252'><font color='red'>{</font>
<a name='L2253'>    <b>char</b> *kwlist[] = <font color='red'>{</font>"raw", "buffer_size", "max_buffer_size", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L2254'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> buffer_size = <a href='../S/2569.html#L61' title='Defined at 61 in Modules/_io/_iomodule.h.'>DEFAULT_BUFFER_SIZE</a>;
<a name='L2255'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> max_buffer_size = -234;
<a name='L2256'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *raw;
<a name='L2257'>
<a name='L2258'>    self-&gt;ok = 0;
<a name='L2259'>    self-&gt;detached = 0;
<a name='L2260'>
<a name='L2261'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "O|nn:BufferedReader", kwlist,
<a name='L2262'>                                     &amp;raw, &amp;buffer_size, &amp;max_buffer_size)) <font color='red'>{</font>
<a name='L2263'>        <b>return</b> -1;
<a name='L2264'>    <font color='red'>}</font>
<a name='L2265'>
<a name='L2266'>    <b>if</b> (max_buffer_size != -234 &amp;&amp; !<a href='../S/2570.html#L1601' title='Defined at 1601 in Modules/_io/bufferedio.c.'>complain_about_max_buffer_size</a>())
<a name='L2267'>        <b>return</b> -1;
<a name='L2268'>
<a name='L2269'>    <b>if</b> (<a href='../S/2573.html#L314' title='Defined at 314 in Modules/_io/iobase.c.'>_PyIOBase_check_seekable</a>(raw, Py_True) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2270'>        <b>return</b> -1;
<a name='L2271'>    <b>if</b> (<a href='../S/2573.html#L343' title='Defined at 343 in Modules/_io/iobase.c.'>_PyIOBase_check_readable</a>(raw, Py_True) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2272'>        <b>return</b> -1;
<a name='L2273'>    <b>if</b> (<a href='../S/2573.html#L372' title='Defined at 372 in Modules/_io/iobase.c.'>_PyIOBase_check_writable</a>(raw, Py_True) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2274'>        <b>return</b> -1;
<a name='L2275'>
<a name='L2276'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;raw);
<a name='L2277'>    Py_INCREF(raw);
<a name='L2278'>    self-&gt;raw = raw;
<a name='L2279'>    self-&gt;buffer_size = buffer_size;
<a name='L2280'>    self-&gt;readable = 1;
<a name='L2281'>    self-&gt;writable = 1;
<a name='L2282'>
<a name='L2283'>    <b>if</b> (<a href='../S/2570.html#L679' title='Defined at 679 in Modules/_io/bufferedio.c.'>_buffered_init</a>(self) &lt; 0)
<a name='L2284'>        <b>return</b> -1;
<a name='L2285'>    <a href='../S/2570.html#L1219' title='Defined at 1219 in Modules/_io/bufferedio.c.'>_bufferedreader_reset_buf</a>(self);
<a name='L2286'>    <a href='../S/2570.html#L1621' title='Defined at 1621 in Modules/_io/bufferedio.c.'>_bufferedwriter_reset_buf</a>(self);
<a name='L2287'>    self-&gt;pos = 0;
<a name='L2288'>
<a name='L2289'>    self-&gt;fast_closed_checks = (<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self) == &amp;PyBufferedRandom_Type &amp;&amp;
<a name='L2290'>                                <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(raw) == &amp;PyFileIO_Type);
<a name='L2291'>
<a name='L2292'>    self-&gt;ok = 1;
<a name='L2293'>    <b>return</b> 0;
<a name='L2294'><font color='red'>}</font>
<a name='L2295'>
<a name='L2296'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> bufferedrandom_methods[] = <font color='red'>{</font>
<a name='L2297'>    <i><font color='green'>/* BufferedIOMixin methods */</font></i>
<a name='L2298'>    <font color='red'>{</font>"close", (PyCFunction)<a href='../S/2570.html#L459' title='Defined at 459 in Modules/_io/bufferedio.c.'>buffered_close</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2299'>    <font color='red'>{</font>"detach", (PyCFunction)<a href='../S/2570.html#L504' title='Defined at 504 in Modules/_io/bufferedio.c.'>buffered_detach</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2300'>    <font color='red'>{</font>"seekable", (PyCFunction)<a href='../S/2570.html#L522' title='Defined at 522 in Modules/_io/bufferedio.c.'>buffered_seekable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2301'>    <font color='red'>{</font>"readable", (PyCFunction)<a href='../S/2570.html#L529' title='Defined at 529 in Modules/_io/bufferedio.c.'>buffered_readable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2302'>    <font color='red'>{</font>"writable", (PyCFunction)<a href='../S/2570.html#L536' title='Defined at 536 in Modules/_io/bufferedio.c.'>buffered_writable</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2303'>    <font color='red'>{</font>"fileno", (PyCFunction)<a href='../S/2570.html#L559' title='Defined at 559 in Modules/_io/bufferedio.c.'>buffered_fileno</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2304'>    <font color='red'>{</font>"isatty", (PyCFunction)<a href='../S/2570.html#L566' title='Defined at 566 in Modules/_io/bufferedio.c.'>buffered_isatty</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2305'>    <font color='red'>{</font>"_dealloc_warn", (PyCFunction)<a href='../S/2570.html#L409' title='Defined at 409 in Modules/_io/bufferedio.c.'>buffered_dealloc_warn</a>, METH_O<font color='red'>}</font>,
<a name='L2306'>    <font color='red'>{</font>"__getstate__", (PyCFunction)<a href='../S/2570.html#L575' title='Defined at 575 in Modules/_io/bufferedio.c.'>buffered_getstate</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2307'>
<a name='L2308'>    <font color='red'>{</font>"flush", (PyCFunction)<a href='../S/2570.html#L722' title='Defined at 722 in Modules/_io/bufferedio.c.'>buffered_flush</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2309'>
<a name='L2310'>    <font color='red'>{</font>"seek", (PyCFunction)<a href='../S/2570.html#L1039' title='Defined at 1039 in Modules/_io/bufferedio.c.'>buffered_seek</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2311'>    <font color='red'>{</font>"tell", (PyCFunction)<a href='../S/2570.html#L1025' title='Defined at 1025 in Modules/_io/bufferedio.c.'>buffered_tell</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2312'>    <font color='red'>{</font>"truncate", (PyCFunction)<a href='../S/2570.html#L1113' title='Defined at 1113 in Modules/_io/bufferedio.c.'>buffered_truncate</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2313'>    <font color='red'>{</font>"read", (PyCFunction)<a href='../S/2570.html#L774' title='Defined at 774 in Modules/_io/bufferedio.c.'>buffered_read</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2314'>    <font color='red'>{</font>"read1", (PyCFunction)<a href='../S/2570.html#L813' title='Defined at 813 in Modules/_io/bufferedio.c.'>buffered_read1</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2315'>    <font color='red'>{</font>"readinto", (PyCFunction)<a href='../S/2570.html#L880' title='Defined at 880 in Modules/_io/bufferedio.c.'>buffered_readinto</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2316'>    <font color='red'>{</font>"readline", (PyCFunction)<a href='../S/2570.html#L1013' title='Defined at 1013 in Modules/_io/bufferedio.c.'>buffered_readline</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2317'>    <font color='red'>{</font>"peek", (PyCFunction)<a href='../S/2570.html#L747' title='Defined at 747 in Modules/_io/bufferedio.c.'>buffered_peek</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2318'>    <font color='red'>{</font>"write", (PyCFunction)<a href='../S/2570.html#L1763' title='Defined at 1763 in Modules/_io/bufferedio.c.'>bufferedwriter_write</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2319'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2320'><font color='red'>}</font>;
<a name='L2321'>
<a name='L2322'><b>static</b> <a href='../D/3506.html' title='Multiple defined in 2 places.'>PyMemberDef</a> bufferedrandom_members[] = <font color='red'>{</font>
<a name='L2323'>    <font color='red'>{</font>"raw", <a href='../S/577.html#L44' title='Defined at 44 in Include/structmember.h.'>T_OBJECT</a>, <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, raw), <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a><font color='red'>}</font>,
<a name='L2324'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2325'><font color='red'>}</font>;
<a name='L2326'>
<a name='L2327'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> bufferedrandom_getset[] = <font color='red'>{</font>
<a name='L2328'>    <font color='red'>{</font>"closed", (getter)<a href='../S/2570.html#L452' title='Defined at 452 in Modules/_io/bufferedio.c.'>buffered_closed_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L2329'>    <font color='red'>{</font>"name", (getter)<a href='../S/2570.html#L543' title='Defined at 543 in Modules/_io/bufferedio.c.'>buffered_name_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L2330'>    <font color='red'>{</font>"mode", (getter)<a href='../S/2570.html#L550' title='Defined at 550 in Modules/_io/bufferedio.c.'>buffered_mode_get</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L2331'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2332'><font color='red'>}</font>;
<a name='L2333'>
<a name='L2334'>
<a name='L2335'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyBufferedRandom_Type = <font color='red'>{</font>
<a name='L2336'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L2337'>    "_io.BufferedRandom",       <i><font color='green'>/*tp_name*/</font></i>
<a name='L2338'>    <b>sizeof</b>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>),           <i><font color='green'>/*tp_basicsize*/</font></i>
<a name='L2339'>    0,                          <i><font color='green'>/*tp_itemsize*/</font></i>
<a name='L2340'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2570.html#L362' title='Defined at 362 in Modules/_io/bufferedio.c.'>buffered_dealloc</a>,     <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L2341'>    0,                          <i><font color='green'>/*tp_print*/</font></i>
<a name='L2342'>    0,                          <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L2343'>    0,                          <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L2344'>    0,                          <i><font color='green'>/*tp_compare */</font></i>
<a name='L2345'>    (reprfunc)<a href='../S/2570.html#L1192' title='Defined at 1192 in Modules/_io/bufferedio.c.'>buffered_repr</a>,    <i><font color='green'>/*tp_repr*/</font></i>
<a name='L2346'>    0,                          <i><font color='green'>/*tp_as_number*/</font></i>
<a name='L2347'>    0,                          <i><font color='green'>/*tp_as_sequence*/</font></i>
<a name='L2348'>    0,                          <i><font color='green'>/*tp_as_mapping*/</font></i>
<a name='L2349'>    0,                          <i><font color='green'>/*tp_hash */</font></i>
<a name='L2350'>    0,                          <i><font color='green'>/*tp_call*/</font></i>
<a name='L2351'>    0,                          <i><font color='green'>/*tp_str*/</font></i>
<a name='L2352'>    0,                          <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L2353'>    0,                          <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L2354'>    0,                          <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L2355'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE
<a name='L2356'>        | Py_TPFLAGS_HAVE_GC,   <i><font color='green'>/*tp_flags*/</font></i>
<a name='L2357'>    bufferedrandom_doc,         <i><font color='green'>/* tp_doc */</font></i>
<a name='L2358'>    (traverseproc)<a href='../S/2570.html#L387' title='Defined at 387 in Modules/_io/bufferedio.c.'>buffered_traverse</a>, <i><font color='green'>/* tp_traverse */</font></i>
<a name='L2359'>    (inquiry)<a href='../S/2570.html#L395' title='Defined at 395 in Modules/_io/bufferedio.c.'>buffered_clear</a>,    <i><font color='green'>/* tp_clear */</font></i>
<a name='L2360'>    0,                          <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L2361'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, weakreflist), <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L2362'>    0,                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L2363'>    (iternextfunc)<a href='../S/2570.html#L1154' title='Defined at 1154 in Modules/_io/bufferedio.c.'>buffered_iternext</a>, <i><font color='green'>/* tp_iternext */</font></i>
<a name='L2364'>    bufferedrandom_methods,     <i><font color='green'>/* tp_methods */</font></i>
<a name='L2365'>    bufferedrandom_members,     <i><font color='green'>/* tp_members */</font></i>
<a name='L2366'>    bufferedrandom_getset,      <i><font color='green'>/* tp_getset */</font></i>
<a name='L2367'>    0,                          <i><font color='green'>/* tp_base */</font></i>
<a name='L2368'>    0,                          <i><font color='green'>/*tp_dict*/</font></i>
<a name='L2369'>    0,                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L2370'>    0,                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L2371'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2570.html#L236' title='Defined at 236 in Modules/_io/bufferedio.c.'>buffered</a>, dict), <i><font color='green'>/*tp_dictoffset*/</font></i>
<a name='L2372'>    (initproc)<a href='../S/2570.html#L2251' title='Defined at 2251 in Modules/_io/bufferedio.c.'>bufferedrandom_init</a>, <i><font color='green'>/* tp_init */</font></i>
<a name='L2373'>    0,                          <i><font color='green'>/* tp_alloc */</font></i>
<a name='L2374'>    <a href='../S/2824.html#L730' title='Defined at 730 in Objects/typeobject.c.'>PyType_GenericNew</a>,          <i><font color='green'>/* tp_new */</font></i>
<a name='L2375'><font color='red'>}</font>;
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L36'>[^]</a><a href='#L2251'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
