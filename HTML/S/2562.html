<html>
<head>
<title>Modules/_elementtree.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/_elementtree.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L134'>[^]</a><a href='#L2884'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L134' title='Defined at 134.'>LOCAL</a>
<li><a href='#L164' title='Defined at 164.'>LOCAL</a>
<li><a href='#L261' title='Defined at 261.'>LOCAL</a>
<li><a href='#L281' title='Defined at 281.'>LOCAL</a>
<li><a href='#L297' title='Defined at 297.'>LOCAL</a>
<li><a href='#L339' title='Defined at 339.'>LOCAL</a>
<li><a href='#L390' title='Defined at 390.'>LOCAL</a>
<li><a href='#L406' title='Defined at 406.'>LOCAL</a>
<li><a href='#L426' title='Defined at 426.'>LOCAL</a>
<li><a href='#L446' title='Defined at 446.'>LOCAL</a>
<li><a href='#L467' title='Defined at 467.'>element</a>
<li><a href='#L496' title='Defined at 496.'>subelement</a>
<li><a href='#L532' title='Defined at 532.'>element_dealloc</a>
<li><a href='#L551' title='Defined at 551.'>element_append</a>
<li><a href='#L564' title='Defined at 564.'>element_clear</a>
<li><a href='#L586' title='Defined at 586.'>element_copy</a>
<li><a href='#L628' title='Defined at 628.'>element_deepcopy</a>
<li><a href='#L714' title='Defined at 714.'>LOCAL</a>
<li><a href='#L754' title='Defined at 754.'>element_extend</a>
<li><a href='#L787' title='Defined at 787.'>element_find</a>
<li><a href='#L817' title='Defined at 817.'>element_findtext</a>
<li><a href='#L854' title='Defined at 854.'>element_findall</a>
<li><a href='#L891' title='Defined at 891.'>element_iterfind</a>
<li><a href='#L904' title='Defined at 904.'>element_get</a>
<li><a href='#L926' title='Defined at 926.'>element_getchildren</a>
<li><a href='#L953' title='Defined at 953.'>element_iter</a>
<li><a href='#L985' title='Defined at 985.'>element_itertext</a>
<li><a href='#L1014' title='Defined at 1014.'>element_getitem</a>
<li><a href='#L1031' title='Defined at 1031.'>element_insert</a>
<li><a href='#L1067' title='Defined at 1067.'>element_items</a>
<li><a href='#L1079' title='Defined at 1079.'>element_keys</a>
<li><a href='#L1091' title='Defined at 1091.'>element_length</a>
<li><a href='#L1100' title='Defined at 1100.'>element_makeelement</a>
<li><a href='#L1121' title='Defined at 1121.'>element_reduce</a>
<li><a href='#L1146' title='Defined at 1146.'>element_remove</a>
<li><a href='#L1190' title='Defined at 1190.'>element_repr</a>
<li><a href='#L1196' title='Defined at 1196.'>element_set</a>
<li><a href='#L1219' title='Defined at 1219.'>element_setitem</a>
<li><a href='#L1249' title='Defined at 1249.'>element_subscr</a>
<li><a href='#L1306' title='Defined at 1306.'>element_ass_subscr</a>
<li><a href='#L1479' title='Defined at 1479.'>element_getattro</a>
<li><a href='#L1525' title='Defined at 1525.'>element_setattr</a>
<li><a href='#L1640' title='Defined at 1640.'>LOCAL</a>
<li><a href='#L1672' title='Defined at 1672.'>treebuilder</a>
<li><a href='#L1681' title='Defined at 1681.'>treebuilder_dealloc</a>
<li><a href='#L1702' title='Defined at 1702.'>LOCAL</a>
<li><a href='#L1709' title='Defined at 1709.'>LOCAL</a>
<li><a href='#L1790' title='Defined at 1790.'>LOCAL</a>
<li><a href='#L1826' title='Defined at 1826.'>LOCAL</a>
<li><a href='#L1882' title='Defined at 1882.'>LOCAL</a>
<li><a href='#L1925' title='Defined at 1925.'>treebuilder_data</a>
<li><a href='#L1935' title='Defined at 1935.'>treebuilder_end</a>
<li><a href='#L1944' title='Defined at 1944.'>LOCAL</a>
<li><a href='#L1961' title='Defined at 1961.'>treebuilder_close</a>
<li><a href='#L1970' title='Defined at 1970.'>treebuilder_start</a>
<li><a href='#L1981' title='Defined at 1981.'>treebuilder_xml</a>
<li><a href='#L2073' title='Defined at 2073.'>LOCAL</a>
<li><a href='#L2139' title='Defined at 2139.'>expat_set_error</a>
<li><a href='#L2172' title='Defined at 2172.'>expat_default_handler</a>
<li><a href='#L2213' title='Defined at 2213.'>expat_start_handler</a>
<li><a href='#L2276' title='Defined at 2276.'>expat_data_handler</a>
<li><a href='#L2300' title='Defined at 2300.'>expat_end_handler</a>
<li><a href='#L2323' title='Defined at 2323.'>expat_start_ns_handler</a>
<li><a href='#L2351' title='Defined at 2351.'>expat_end_ns_handler</a>
<li><a href='#L2359' title='Defined at 2359.'>expat_comment_handler</a>
<li><a href='#L2375' title='Defined at 2375.'>expat_pi_handler</a>
<li><a href='#L2398' title='Defined at 2398.'>expat_unknown_encoding_handler</a>
<li><a href='#L2438' title='Defined at 2438.'>xmlparser</a>
<li><a href='#L2550' title='Defined at 2550.'>xmlparser_dealloc</a>
<li><a href='#L2574' title='Defined at 2574.'>LOCAL</a>
<li><a href='#L2597' title='Defined at 2597.'>xmlparser_close</a>
<li><a href='#L2620' title='Defined at 2620.'>xmlparser_feed</a>
<li><a href='#L2633' title='Defined at 2633.'>xmlparser_parse</a>
<li><a href='#L2692' title='Defined at 2692.'>xmlparser_setevents</a>
<li><a href='#L2800' title='Defined at 2800.'>xmlparser_getattro</a>
<li><a href='#L2884' title='Defined at 2884.'>PyInit__elementtree</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*</font></i>
<a name='L2'><i><font color='green'> * ElementTree</font></i>
<a name='L3'><i><font color='green'> * $Id: _elementtree.c 3473 2009-01-11 22:53:55Z fredrik $</font></i>
<a name='L4'><i><font color='green'> *</font></i>
<a name='L5'><i><font color='green'> * elementtree accelerator</font></i>
<a name='L6'><i><font color='green'> *</font></i>
<a name='L7'><i><font color='green'> * History:</font></i>
<a name='L8'><i><font color='green'> * 1999-06-20 fl  created (as part of sgmlop)</font></i>
<a name='L9'><i><font color='green'> * 2001-05-29 fl  effdom edition</font></i>
<a name='L10'><i><font color='green'> * 2003-02-27 fl  elementtree edition (alpha)</font></i>
<a name='L11'><i><font color='green'> * 2004-06-03 fl  updates for elementtree 1.2</font></i>
<a name='L12'><i><font color='green'> * 2005-01-05 fl  major optimization effort</font></i>
<a name='L13'><i><font color='green'> * 2005-01-11 fl  first public release (cElementTree 0.8)</font></i>
<a name='L14'><i><font color='green'> * 2005-01-12 fl  split element object into base and extras</font></i>
<a name='L15'><i><font color='green'> * 2005-01-13 fl  use tagged pointers for tail/text (cElementTree 0.9)</font></i>
<a name='L16'><i><font color='green'> * 2005-01-17 fl  added treebuilder close method</font></i>
<a name='L17'><i><font color='green'> * 2005-01-17 fl  fixed crash in getchildren</font></i>
<a name='L18'><i><font color='green'> * 2005-01-18 fl  removed observer api, added iterparse (cElementTree 0.9.3)</font></i>
<a name='L19'><i><font color='green'> * 2005-01-23 fl  revised iterparse api; added namespace event support (0.9.8)</font></i>
<a name='L20'><i><font color='green'> * 2005-01-26 fl  added VERSION module property (cElementTree 1.0)</font></i>
<a name='L21'><i><font color='green'> * 2005-01-28 fl  added remove method (1.0.1)</font></i>
<a name='L22'><i><font color='green'> * 2005-03-01 fl  added iselement function; fixed makeelement aliasing (1.0.2)</font></i>
<a name='L23'><i><font color='green'> * 2005-03-13 fl  export Comment and ProcessingInstruction/PI helpers</font></i>
<a name='L24'><i><font color='green'> * 2005-03-26 fl  added Comment and PI support to XMLParser</font></i>
<a name='L25'><i><font color='green'> * 2005-03-27 fl  event optimizations; complain about bogus events</font></i>
<a name='L26'><i><font color='green'> * 2005-08-08 fl  fixed read error handling in parse</font></i>
<a name='L27'><i><font color='green'> * 2005-08-11 fl  added runtime test for copy workaround (1.0.3)</font></i>
<a name='L28'><i><font color='green'> * 2005-12-13 fl  added expat_capi support (for xml.etree) (1.0.4)</font></i>
<a name='L29'><i><font color='green'> * 2005-12-16 fl  added support for non-standard encodings</font></i>
<a name='L30'><i><font color='green'> * 2006-03-08 fl  fixed a couple of potential null-refs and leaks</font></i>
<a name='L31'><i><font color='green'> * 2006-03-12 fl  merge in 2.5 ssize_t changes</font></i>
<a name='L32'><i><font color='green'> * 2007-08-25 fl  call custom builder's close method from XMLParser</font></i>
<a name='L33'><i><font color='green'> * 2007-08-31 fl  added iter, extend from ET 1.3</font></i>
<a name='L34'><i><font color='green'> * 2007-09-01 fl  fixed ParseError exception, setslice source type, etc</font></i>
<a name='L35'><i><font color='green'> * 2007-09-03 fl  fixed handling of negative insert indexes</font></i>
<a name='L36'><i><font color='green'> * 2007-09-04 fl  added itertext from ET 1.3</font></i>
<a name='L37'><i><font color='green'> * 2007-09-06 fl  added position attribute to ParseError exception</font></i>
<a name='L38'><i><font color='green'> * 2008-06-06 fl  delay error reporting in iterparse (from Hrvoje Niksic)</font></i>
<a name='L39'><i><font color='green'> *</font></i>
<a name='L40'><i><font color='green'> * Copyright (c) 1999-2009 by Secret Labs AB.  All rights reserved.</font></i>
<a name='L41'><i><font color='green'> * Copyright (c) 1999-2009 by Fredrik Lundh.</font></i>
<a name='L42'><i><font color='green'> *</font></i>
<a name='L43'><i><font color='green'> * info@pythonware.com</font></i>
<a name='L44'><i><font color='green'> * http://www.pythonware.com</font></i>
<a name='L45'><i><font color='green'> */</font></i>
<a name='L46'>
<a name='L47'><i><font color='green'>/* Licensed to PSF under a Contributor Agreement. */</font></i>
<a name='L48'><i><font color='green'>/* See http://www.python.org/psf/license for licensing details. */</font></i>
<a name='L49'>
<a name='L50'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L51'>
<a name='L52'><font color='darkred'>#define</font> <a href='../R/4851.html' title='Multiple refered from 8 places.'>VERSION</a> "1.0.6"
<a name='L53'>
<a name='L54'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L55'><i><font color='green'>/* configuration */</font></i>
<a name='L56'>
<a name='L57'><i><font color='green'>/* Leave defined to include the expat-based XMLParser type */</font></i>
<a name='L58'><font color='darkred'>#define</font> <a href='../R/4766.html' title='Multiple refered from 3 places.'>USE_EXPAT</a>
<a name='L59'>
<a name='L60'><i><font color='green'>/* Define to do all expat calls via pyexpat's embedded expat library */</font></i>
<a name='L61'><i><font color='green'>/* #define USE_PYEXPAT_CAPI */</font></i>
<a name='L62'>
<a name='L63'><i><font color='green'>/* An element can hold this many children without extra memory</font></i>
<a name='L64'><i><font color='green'>   allocations. */</font></i>
<a name='L65'><font color='darkred'>#define</font> <a href='../R/4361.html' title='Multiple refered from 3 places.'>STATIC_CHILDREN</a> 4
<a name='L66'>
<a name='L67'><i><font color='green'>/* For best performance, chose a value so that 80-90% of all nodes</font></i>
<a name='L68'><i><font color='green'>   have no more than the given number of children.  Set this to zero</font></i>
<a name='L69'><i><font color='green'>   to minimize the size of the element structure itself (this only</font></i>
<a name='L70'><i><font color='green'>   helps if you have lots of leaf nodes with attributes). */</font></i>
<a name='L71'>
<a name='L72'><i><font color='green'>/* Also note that pymalloc always allocates blocks in multiples of</font></i>
<a name='L73'><i><font color='green'>   eight bytes.  For the current version of cElementTree, this means</font></i>
<a name='L74'><i><font color='green'>   that the number of children should be an even number, at least on</font></i>
<a name='L75'><i><font color='green'>   32-bit platforms. */</font></i>
<a name='L76'>
<a name='L77'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L78'>
<a name='L79'><font color='darkred'>#if</font> 0
<a name='L80'><b>static</b> <b>int</b> memory = 0;
<a name='L81'><font color='darkred'>#define</font> <a href='../R/51.html' title='Multiple refered from 10 places.'>ALLOC</a>(size, comment)\
<a name='L82'><b>do</b> <font color='red'>{</font> memory += size; printf("%8d - %s\n", memory, comment); <font color='red'>}</font> <b>while</b> (0)
<a name='L83'><font color='darkred'>#define</font> <a href='../R/3934.html' title='Multiple refered from 3 places.'>RELEASE</a>(size, comment)\
<a name='L84'><b>do</b> <font color='red'>{</font> memory -= size; printf("%8d - %s\n", memory, comment); <font color='red'>}</font> <b>while</b> (0)
<a name='L85'><font color='darkred'>#else</font>
<a name='L86'><font color='darkred'>#define</font> <a href='../R/51.html' title='Multiple refered from 10 places.'>ALLOC</a>(size, comment)
<a name='L87'><font color='darkred'>#define</font> <a href='../R/3934.html' title='Multiple refered from 3 places.'>RELEASE</a>(size, comment)
<a name='L88'><font color='darkred'>#endif</font>
<a name='L89'>
<a name='L90'><i><font color='green'>/* compiler tweaks */</font></i>
<a name='L91'><font color='darkred'>#if</font> <b>defined</b>(_MSC_VER)
<a name='L92'><font color='darkred'>#define</font> <a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(type) <b>static</b> <b>__inline</b> type __fastcall
<a name='L93'><font color='darkred'>#else</font>
<a name='L94'><font color='darkred'>#define</font> <a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(type) <b>static</b> type
<a name='L95'><font color='darkred'>#endif</font>
<a name='L96'>
<a name='L97'><i><font color='green'>/* compatibility macros */</font></i>
<a name='L98'><font color='darkred'>#if</font> (<a href='../S/549.html#L34' title='Defined at 34 in Include/patchlevel.h.'>PY_VERSION_HEX</a> &lt; 0x02060000)
<a name='L99'><font color='darkred'>#define</font> <a href='../R/3779.html' title='Multiple refered from 45 places.'>Py_REFCNT</a>(ob) (((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)(ob))-&gt;ob_refcnt)
<a name='L100'><font color='darkred'>#define</font> <a href='../R/3810.html' title='Multiple refered from 598 places.'>Py_TYPE</a>(ob) (((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)(ob))-&gt;ob_type)
<a name='L101'><font color='darkred'>#endif</font>
<a name='L102'>
<a name='L103'><font color='darkred'>#if</font> (<a href='../S/549.html#L34' title='Defined at 34 in Include/patchlevel.h.'>PY_VERSION_HEX</a> &lt; 0x02050000)
<a name='L104'><b>typedef</b> <b>int</b> <a href='../R/3864.html' title='Multiple refered from 3002 places.'>Py_ssize_t</a>;
<a name='L105'><font color='darkred'>#define</font> <a href='../R/8629.html' title='Multiple refered from 33 places.'>lenfunc</a> inquiry
<a name='L106'><font color='darkred'>#endif</font>
<a name='L107'>
<a name='L108'><font color='darkred'>#if</font> (<a href='../S/549.html#L34' title='Defined at 34 in Include/patchlevel.h.'>PY_VERSION_HEX</a> &lt; 0x02040000)
<a name='L109'><font color='darkred'>#define</font> <a href='../R/2828.html' title='Multiple refered from 35 places.'>PyDict_CheckExact</a> PyDict_Check
<a name='L110'>
<a name='L111'><font color='darkred'>#if</font> !<b>defined</b>(<a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>)
<a name='L112'><font color='darkred'>#define</font> <a href='../R/3781.html' title='Multiple refered from 211 places.'>Py_RETURN_NONE</a> <b>return</b> Py_INCREF(Py_None), Py_None
<a name='L113'><font color='darkred'>#endif</font>
<a name='L114'><font color='darkred'>#endif</font>
<a name='L115'>
<a name='L116'><i><font color='green'>/* macros used to store 'join' flags in string object pointers.  note</font></i>
<a name='L117'><i><font color='green'>   that all use of text and tail as object pointers must be wrapped in</font></i>
<a name='L118'><i><font color='green'>   JOIN_OBJ.  see comments in the ElementObject definition for more</font></i>
<a name='L119'><i><font color='green'>   info. */</font></i>
<a name='L120'><font color='darkred'>#define</font> <a href='../R/1647.html' title='Multiple refered from 4 places.'>JOIN_GET</a>(p) ((<a href='../D/4394.html' title='Multiple defined in 4 places.'>Py_uintptr_t</a>) (p) &amp; 1)
<a name='L121'><font color='darkred'>#define</font> <a href='../R/1649.html' title='Multiple refered from 6 places.'>JOIN_SET</a>(p, flag) ((<b>void</b>*) ((<a href='../D/4394.html' title='Multiple defined in 4 places.'>Py_uintptr_t</a>) (<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(p)) | (flag)))
<a name='L122'><font color='darkred'>#define</font> <a href='../R/1648.html' title='Multiple refered from 19 places.'>JOIN_OBJ</a>(p) ((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) ((<a href='../D/4394.html' title='Multiple defined in 4 places.'>Py_uintptr_t</a>) (p) &amp; ~1))
<a name='L123'>
<a name='L124'><i><font color='green'>/* glue functions (see the init function for details) */</font></i>
<a name='L125'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elementtree_parseerror_obj;
<a name='L126'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elementtree_copyelement_obj;
<a name='L127'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elementtree_deepcopy_obj;
<a name='L128'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elementtree_iter_obj;
<a name='L129'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elementtree_itertext_obj;
<a name='L130'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elementpath_obj;
<a name='L131'>
<a name='L132'><i><font color='green'>/* helpers */</font></i>
<a name='L133'>
<a name='L134'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L135'>deepcopy(PyObject* object, PyObject* memo)
<a name='L136'><font color='red'>{</font>
<a name='L137'>    <i><font color='green'>/* do a deep copy of the given object */</font></i>
<a name='L138'>
<a name='L139'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L140'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L141'>
<a name='L142'>    <b>if</b> (!elementtree_deepcopy_obj) <font color='red'>{</font>
<a name='L143'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L144'>            PyExc_RuntimeError,
<a name='L145'>            "deepcopy helper not found"
<a name='L146'>            );
<a name='L147'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L148'>    <font color='red'>}</font>
<a name='L149'>
<a name='L150'>    <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(2);
<a name='L151'>    <b>if</b> (!<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>)
<a name='L152'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L153'>
<a name='L154'>    Py_INCREF(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>); PyTuple_SET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) <a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>);
<a name='L155'>    Py_INCREF(memo);   PyTuple_SET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 1, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) memo);
<a name='L156'>
<a name='L157'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L2135' title='Defined at 2135 in Objects/abstract.c.'>PyObject_CallObject</a>(elementtree_deepcopy_obj, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L158'>
<a name='L159'>    Py_DECREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L160'>
<a name='L161'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L162'><font color='red'>}</font>
<a name='L163'>
<a name='L164'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L165'>list_join(PyObject* list)
<a name='L166'><font color='red'>{</font>
<a name='L167'>    <i><font color='green'>/* join list elements (destroying the list in the process) */</font></i>
<a name='L168'>
<a name='L169'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* joiner;
<a name='L170'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* function;
<a name='L171'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L172'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L173'>
<a name='L174'>    <b>switch</b> (<a href='../S/534.html#L71' title='Defined at 71 in Include/listobject.h.'>PyList_GET_SIZE</a>(list)) <font color='red'>{</font>
<a name='L175'>    <b>case</b> 0:
<a name='L176'>        Py_DECREF(list);
<a name='L177'>        <b>return</b> <a href='../S/2779.html#L122' title='Defined at 122 in Objects/bytesobject.c.'>PyBytes_FromString</a>("");
<a name='L178'>    <b>case</b> 1:
<a name='L179'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = PyList_GET_ITEM(list, 0);
<a name='L180'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L181'>        Py_DECREF(list);
<a name='L182'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L183'>    <font color='red'>}</font>
<a name='L184'>
<a name='L185'>    <i><font color='green'>/* two or more elements: slice out a suitable separator from the</font></i>
<a name='L186'><i><font color='green'>       first member, and use that to join the entire list */</font></i>
<a name='L187'>
<a name='L188'>    joiner = <a href='../S/2775.html#L1608' title='Defined at 1608 in Objects/abstract.c.'>PySequence_GetSlice</a>(PyList_GET_ITEM(list, 0), 0, 0);
<a name='L189'>    <b>if</b> (!joiner)
<a name='L190'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L191'>
<a name='L192'>    function = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(joiner, "join");
<a name='L193'>    <b>if</b> (!function) <font color='red'>{</font>
<a name='L194'>        Py_DECREF(joiner);
<a name='L195'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L196'>    <font color='red'>}</font>
<a name='L197'>
<a name='L198'>    <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(1);
<a name='L199'>    <b>if</b> (!<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>)
<a name='L200'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L201'>
<a name='L202'>    PyTuple_SET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0, list);
<a name='L203'>
<a name='L204'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L2135' title='Defined at 2135 in Objects/abstract.c.'>PyObject_CallObject</a>(function, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L205'>
<a name='L206'>    Py_DECREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>); <i><font color='green'>/* also removes list */</font></i>
<a name='L207'>    Py_DECREF(function);
<a name='L208'>    Py_DECREF(joiner);
<a name='L209'>
<a name='L210'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L211'><font color='red'>}</font>
<a name='L212'>
<a name='L213'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L214'><i><font color='green'>/* the element type */</font></i>
<a name='L215'>
<a name='L216'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L217'>
<a name='L218'>    <i><font color='green'>/* attributes (a dictionary object), or None if no attributes */</font></i>
<a name='L219'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* attrib;
<a name='L220'>
<a name='L221'>    <i><font color='green'>/* child elements */</font></i>
<a name='L222'>    <b>int</b> length; <i><font color='green'>/* actual number of items */</font></i>
<a name='L223'>    <b>int</b> allocated; <i><font color='green'>/* allocated items */</font></i>
<a name='L224'>
<a name='L225'>    <i><font color='green'>/* this either points to _children or to a malloced buffer */</font></i>
<a name='L226'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* *children;
<a name='L227'>
<a name='L228'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* _children[<a href='../S/2562.html#L65' title='Defined at 65 in Modules/_elementtree.c.'>STATIC_CHILDREN</a>];
<a name='L229'>    
<a name='L230'><font color='red'>}</font> <a href='../R/956.html' title='Multiple refered from 2 places.'>ElementObjectExtra</a>;
<a name='L231'>
<a name='L232'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L233'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L234'>
<a name='L235'>    <i><font color='green'>/* element tag (a string). */</font></i>
<a name='L236'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L237'>
<a name='L238'>    <i><font color='green'>/* text before first child.  note that this is a tagged pointer;</font></i>
<a name='L239'><i><font color='green'>       use JOIN_OBJ to get the object pointer.  the join flag is used</font></i>
<a name='L240'><i><font color='green'>       to distinguish lists created by the tree builder from lists</font></i>
<a name='L241'><i><font color='green'>       assigned to the attribute by application code; the former</font></i>
<a name='L242'><i><font color='green'>       should be joined before being returned to the user, the latter</font></i>
<a name='L243'><i><font color='green'>       should be left intact. */</font></i>
<a name='L244'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* text;
<a name='L245'>
<a name='L246'>    <i><font color='green'>/* text after this element, in parent.  note that this is a tagged</font></i>
<a name='L247'><i><font color='green'>       pointer; use JOIN_OBJ to get the object pointer. */</font></i>
<a name='L248'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* tail;
<a name='L249'>
<a name='L250'>    <a href='../S/2562.html#L230' title='Defined at 230 in Modules/_elementtree.c.'>ElementObjectExtra</a>* extra;
<a name='L251'>
<a name='L252'><font color='red'>}</font> <a href='../R/955.html' title='Multiple refered from 27 places.'>ElementObject</a>;
<a name='L253'>
<a name='L254'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> Element_Type;
<a name='L255'>
<a name='L256'><font color='darkred'>#define</font> <a href='../R/957.html' title='Multiple refered from 3 places.'>Element_CheckExact</a>(op) (<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(op) == &amp;Element_Type)
<a name='L257'>
<a name='L258'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L259'><i><font color='green'>/* element constructor and destructor */</font></i>
<a name='L260'>
<a name='L261'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(<b>int</b>)
<a name='L262'>element_new_extra(ElementObject* self, PyObject* attrib)
<a name='L263'><font color='red'>{</font>
<a name='L264'>    self-&gt;extra = <a href='../S/2804.html#L1262' title='Defined at 1262 in Objects/obmalloc.c.'>PyObject_Malloc</a>(<b>sizeof</b>(<a href='../S/2562.html#L230' title='Defined at 230 in Modules/_elementtree.c.'>ElementObjectExtra</a>));
<a name='L265'>    <b>if</b> (!self-&gt;extra)
<a name='L266'>        <b>return</b> -1;
<a name='L267'>
<a name='L268'>    <b>if</b> (!attrib)
<a name='L269'>        attrib = Py_None;
<a name='L270'>
<a name='L271'>    Py_INCREF(attrib);
<a name='L272'>    self-&gt;extra-&gt;attrib = attrib;
<a name='L273'>
<a name='L274'>    self-&gt;extra-&gt;length = 0;
<a name='L275'>    self-&gt;extra-&gt;allocated = <a href='../S/2562.html#L65' title='Defined at 65 in Modules/_elementtree.c.'>STATIC_CHILDREN</a>;
<a name='L276'>    self-&gt;extra-&gt;children = self-&gt;extra-&gt;_children;
<a name='L277'>
<a name='L278'>    <b>return</b> 0;
<a name='L279'><font color='red'>}</font>
<a name='L280'>
<a name='L281'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(<b>void</b>)
<a name='L282'>element_dealloc_extra(ElementObject* self)
<a name='L283'><font color='red'>{</font>
<a name='L284'>    <b>int</b> i;
<a name='L285'>
<a name='L286'>    Py_DECREF(self-&gt;extra-&gt;attrib);
<a name='L287'>
<a name='L288'>    <b>for</b> (i = 0; i &lt; self-&gt;extra-&gt;length; i++)
<a name='L289'>        Py_DECREF(self-&gt;extra-&gt;children[i]);
<a name='L290'>
<a name='L291'>    <b>if</b> (self-&gt;extra-&gt;children != self-&gt;extra-&gt;_children)
<a name='L292'>        <a href='../D/3616.html' title='Multiple defined in 3 places.'>PyObject_Free</a>(self-&gt;extra-&gt;children);
<a name='L293'>
<a name='L294'>    <a href='../D/3616.html' title='Multiple defined in 3 places.'>PyObject_Free</a>(self-&gt;extra);
<a name='L295'><font color='red'>}</font>
<a name='L296'>
<a name='L297'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L298'>element_new(PyObject* tag, PyObject* attrib)
<a name='L299'><font color='red'>{</font>
<a name='L300'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* self;
<a name='L301'>
<a name='L302'>    self = PyObject_New(<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>, &amp;Element_Type);
<a name='L303'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L304'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L305'>
<a name='L306'>    <i><font color='green'>/* use None for empty dictionaries */</font></i>
<a name='L307'>    <b>if</b> (<a href='../D/3104.html' title='Multiple defined in 2 places.'>PyDict_CheckExact</a>(attrib) &amp;&amp; !<a href='../S/2787.html#L1620' title='Defined at 1620 in Objects/dictobject.c.'>PyDict_Size</a>(attrib))
<a name='L308'>        attrib = Py_None;
<a name='L309'>
<a name='L310'>    self-&gt;extra = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L311'>
<a name='L312'>    <b>if</b> (attrib != Py_None) <font color='red'>{</font>
<a name='L313'>
<a name='L314'>        <b>if</b> (element_new_extra(self, attrib) &lt; 0) <font color='red'>{</font>
<a name='L315'>            PyObject_Del(self);
<a name='L316'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L317'>        <font color='red'>}</font>
<a name='L318'>
<a name='L319'>        self-&gt;extra-&gt;length = 0;
<a name='L320'>        self-&gt;extra-&gt;allocated = <a href='../S/2562.html#L65' title='Defined at 65 in Modules/_elementtree.c.'>STATIC_CHILDREN</a>;
<a name='L321'>        self-&gt;extra-&gt;children = self-&gt;extra-&gt;_children;
<a name='L322'>
<a name='L323'>    <font color='red'>}</font>
<a name='L324'>
<a name='L325'>    Py_INCREF(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L326'>    self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a> = <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L327'>
<a name='L328'>    Py_INCREF(Py_None);
<a name='L329'>    self-&gt;text = Py_None;
<a name='L330'>
<a name='L331'>    Py_INCREF(Py_None);
<a name='L332'>    self-&gt;tail = Py_None;
<a name='L333'>
<a name='L334'>    <a href='../D/61.html' title='Multiple defined in 3 places.'>ALLOC</a>(<b>sizeof</b>(<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>), "create element");
<a name='L335'>
<a name='L336'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self;
<a name='L337'><font color='red'>}</font>
<a name='L338'>
<a name='L339'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(<b>int</b>)
<a name='L340'>element_resize(ElementObject* self, <b>int</b> extra)
<a name='L341'><font color='red'>{</font>
<a name='L342'>    <b>int</b> size;
<a name='L343'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* *children;
<a name='L344'>
<a name='L345'>    <i><font color='green'>/* make sure self-&gt;children can hold the given number of extra</font></i>
<a name='L346'><i><font color='green'>       elements.  set an exception and return -1 if allocation failed */</font></i>
<a name='L347'>
<a name='L348'>    <b>if</b> (!self-&gt;extra)
<a name='L349'>        element_new_extra(self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L350'>
<a name='L351'>    size = self-&gt;extra-&gt;length + extra;
<a name='L352'>
<a name='L353'>    <b>if</b> (size &gt; self-&gt;extra-&gt;allocated) <font color='red'>{</font>
<a name='L354'>        <i><font color='green'>/* use Python 2.4's list growth strategy */</font></i>
<a name='L355'>        size = (size &gt;&gt; 3) + (size &lt; 9 ? 3 : 6) + size;
<a name='L356'>        <i><font color='green'>/* Coverity CID #182 size_error: Allocating 1 bytes to pointer "children"</font></i>
<a name='L357'><i><font color='green'>         * which needs at least 4 bytes. </font></i>
<a name='L358'><i><font color='green'>         * Although it's a false alarm always assume at least one child to </font></i>
<a name='L359'><i><font color='green'>         * be safe.</font></i>
<a name='L360'><i><font color='green'>         */</font></i>
<a name='L361'>        size = size ? size : 1;
<a name='L362'>        <b>if</b> (self-&gt;extra-&gt;children != self-&gt;extra-&gt;_children) <font color='red'>{</font>
<a name='L363'>            <i><font color='green'>/* Coverity CID #182 size_error: Allocating 1 bytes to pointer</font></i>
<a name='L364'><i><font color='green'>             * "children", which needs at least 4 bytes. Although it's a </font></i>
<a name='L365'><i><font color='green'>             * false alarm always assume at least one child to be safe.</font></i>
<a name='L366'><i><font color='green'>             */</font></i>
<a name='L367'>            children = <a href='../D/3646.html' title='Multiple defined in 3 places.'>PyObject_Realloc</a>(self-&gt;extra-&gt;children,
<a name='L368'>                                        size * <b>sizeof</b>(<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*));
<a name='L369'>            <b>if</b> (!children)
<a name='L370'>                <b>goto</b> nomemory;
<a name='L371'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L372'>            children = <a href='../S/2804.html#L1262' title='Defined at 1262 in Objects/obmalloc.c.'>PyObject_Malloc</a>(size * <b>sizeof</b>(<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*));
<a name='L373'>            <b>if</b> (!children)
<a name='L374'>                <b>goto</b> nomemory;
<a name='L375'>            <i><font color='green'>/* copy existing children from static area to malloc buffer */</font></i>
<a name='L376'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(children, self-&gt;extra-&gt;children,
<a name='L377'>                   self-&gt;extra-&gt;length * <b>sizeof</b>(<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*));
<a name='L378'>        <font color='red'>}</font>
<a name='L379'>        self-&gt;extra-&gt;children = children;
<a name='L380'>        self-&gt;extra-&gt;allocated = size;
<a name='L381'>    <font color='red'>}</font>
<a name='L382'>
<a name='L383'>    <b>return</b> 0;
<a name='L384'>
<a name='L385'>  nomemory:
<a name='L386'>    <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L387'>    <b>return</b> -1;
<a name='L388'><font color='red'>}</font>
<a name='L389'>
<a name='L390'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(<b>int</b>)
<a name='L391'>element_add_subelement(ElementObject* self, PyObject* element)
<a name='L392'><font color='red'>{</font>
<a name='L393'>    <i><font color='green'>/* add a child element to a parent */</font></i>
<a name='L394'>
<a name='L395'>    <b>if</b> (element_resize(self, 1) &lt; 0)
<a name='L396'>        <b>return</b> -1;
<a name='L397'>
<a name='L398'>    Py_INCREF(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>);
<a name='L399'>    self-&gt;extra-&gt;children[self-&gt;extra-&gt;length] = <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L400'>
<a name='L401'>    self-&gt;extra-&gt;length++;
<a name='L402'>
<a name='L403'>    <b>return</b> 0;
<a name='L404'><font color='red'>}</font>
<a name='L405'>
<a name='L406'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L407'>element_get_attrib(ElementObject* self)
<a name='L408'><font color='red'>{</font>
<a name='L409'>    <i><font color='green'>/* return borrowed reference to attrib dictionary */</font></i>
<a name='L410'>    <i><font color='green'>/* note: this function assumes that the extra section exists */</font></i>
<a name='L411'>
<a name='L412'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res = self-&gt;extra-&gt;attrib;
<a name='L413'>
<a name='L414'>    <b>if</b> (res == Py_None) <font color='red'>{</font>
<a name='L415'>        Py_DECREF(res);
<a name='L416'>        <i><font color='green'>/* create missing dictionary */</font></i>
<a name='L417'>        res = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L418'>        <b>if</b> (!res)
<a name='L419'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L420'>        self-&gt;extra-&gt;attrib = res;
<a name='L421'>    <font color='red'>}</font>
<a name='L422'>
<a name='L423'>    <b>return</b> res;
<a name='L424'><font color='red'>}</font>
<a name='L425'>
<a name='L426'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L427'>element_get_text(ElementObject* self)
<a name='L428'><font color='red'>{</font>
<a name='L429'>    <i><font color='green'>/* return borrowed reference to text attribute */</font></i>
<a name='L430'>
<a name='L431'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res = self-&gt;text;
<a name='L432'>
<a name='L433'>    <b>if</b> (<a href='../S/2562.html#L120' title='Defined at 120 in Modules/_elementtree.c.'>JOIN_GET</a>(res)) <font color='red'>{</font>
<a name='L434'>        res = <a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(res);
<a name='L435'>        <b>if</b> (PyList_CheckExact(res)) <font color='red'>{</font>
<a name='L436'>            res = list_join(res);
<a name='L437'>            <b>if</b> (!res)
<a name='L438'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L439'>            self-&gt;text = res;
<a name='L440'>        <font color='red'>}</font>
<a name='L441'>    <font color='red'>}</font>
<a name='L442'>
<a name='L443'>    <b>return</b> res;
<a name='L444'><font color='red'>}</font>
<a name='L445'>
<a name='L446'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L447'>element_get_tail(ElementObject* self)
<a name='L448'><font color='red'>{</font>
<a name='L449'>    <i><font color='green'>/* return borrowed reference to text attribute */</font></i>
<a name='L450'>
<a name='L451'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res = self-&gt;tail;
<a name='L452'>
<a name='L453'>    <b>if</b> (<a href='../S/2562.html#L120' title='Defined at 120 in Modules/_elementtree.c.'>JOIN_GET</a>(res)) <font color='red'>{</font>
<a name='L454'>        res = <a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(res);
<a name='L455'>        <b>if</b> (PyList_CheckExact(res)) <font color='red'>{</font>
<a name='L456'>            res = list_join(res);
<a name='L457'>            <b>if</b> (!res)
<a name='L458'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L459'>            self-&gt;tail = res;
<a name='L460'>        <font color='red'>}</font>
<a name='L461'>    <font color='red'>}</font>
<a name='L462'>
<a name='L463'>    <b>return</b> res;
<a name='L464'><font color='red'>}</font>
<a name='L465'>
<a name='L466'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L467'><a href='../R/7498.html' title='Multiple refered from 82 places.'>element</a>(PyObject* self, PyObject* args, PyObject* kw)
<a name='L468'><font color='red'>{</font>
<a name='L469'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elem;
<a name='L470'>
<a name='L471'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L472'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* attrib = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L473'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O!:Element", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>,
<a name='L474'>                          &amp;PyDict_Type, &amp;attrib))
<a name='L475'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L476'>
<a name='L477'>    <b>if</b> (attrib || kw) <font color='red'>{</font>
<a name='L478'>        attrib = (attrib) ? <a href='../S/2787.html#L1602' title='Defined at 1602 in Objects/dictobject.c.'>PyDict_Copy</a>(attrib) : <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L479'>        <b>if</b> (!attrib)
<a name='L480'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L481'>        <b>if</b> (kw)
<a name='L482'>            <a href='../S/2787.html#L1493' title='Defined at 1493 in Objects/dictobject.c.'>PyDict_Update</a>(attrib, kw);
<a name='L483'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L484'>        Py_INCREF(Py_None);
<a name='L485'>        attrib = Py_None;
<a name='L486'>    <font color='red'>}</font>
<a name='L487'>
<a name='L488'>    elem = element_new(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, attrib);
<a name='L489'>
<a name='L490'>    Py_DECREF(attrib);
<a name='L491'>
<a name='L492'>    <b>return</b> elem;
<a name='L493'><font color='red'>}</font>
<a name='L494'>
<a name='L495'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L496'><a href='../S/2562.html#L2861' title='Refered from 2861 in Modules/_elementtree.c.'>subelement</a>(PyObject* self, PyObject* args, PyObject* kw)
<a name='L497'><font color='red'>{</font>
<a name='L498'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elem;
<a name='L499'>
<a name='L500'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* parent;
<a name='L501'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L502'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* attrib = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L503'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O!O|O!:SubElement",
<a name='L504'>                          &amp;Element_Type, &amp;parent, &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>,
<a name='L505'>                          &amp;PyDict_Type, &amp;attrib))
<a name='L506'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L507'>
<a name='L508'>    <b>if</b> (attrib || kw) <font color='red'>{</font>
<a name='L509'>        attrib = (attrib) ? <a href='../S/2787.html#L1602' title='Defined at 1602 in Objects/dictobject.c.'>PyDict_Copy</a>(attrib) : <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L510'>        <b>if</b> (!attrib)
<a name='L511'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L512'>        <b>if</b> (kw)
<a name='L513'>            <a href='../S/2787.html#L1493' title='Defined at 1493 in Objects/dictobject.c.'>PyDict_Update</a>(attrib, kw);
<a name='L514'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L515'>        Py_INCREF(Py_None);
<a name='L516'>        attrib = Py_None;
<a name='L517'>    <font color='red'>}</font>
<a name='L518'>
<a name='L519'>    elem = element_new(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, attrib);
<a name='L520'>
<a name='L521'>    Py_DECREF(attrib);
<a name='L522'>
<a name='L523'>    <b>if</b> (element_add_subelement(parent, elem) &lt; 0) <font color='red'>{</font>
<a name='L524'>        Py_DECREF(elem);
<a name='L525'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L526'>    <font color='red'>}</font>
<a name='L527'>
<a name='L528'>    <b>return</b> elem;
<a name='L529'><font color='red'>}</font>
<a name='L530'>
<a name='L531'><b>static</b> <b>void</b>
<a name='L532'><a href='../S/2562.html#L1581' title='Refered from 1581 in Modules/_elementtree.c.'>element_dealloc</a>(ElementObject* self)
<a name='L533'><font color='red'>{</font>
<a name='L534'>    <b>if</b> (self-&gt;extra)
<a name='L535'>        element_dealloc_extra(self);
<a name='L536'>
<a name='L537'>    <i><font color='green'>/* discard attributes */</font></i>
<a name='L538'>    Py_DECREF(self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L539'>    Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;text));
<a name='L540'>    Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;tail));
<a name='L541'>
<a name='L542'>    <a href='../D/4463.html' title='Multiple defined in 2 places.'>RELEASE</a>(<b>sizeof</b>(<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>), "destroy element");
<a name='L543'>
<a name='L544'>    PyObject_Del(self);
<a name='L545'><font color='red'>}</font>
<a name='L546'>
<a name='L547'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L548'><i><font color='green'>/* methods (in alphabetical order) */</font></i>
<a name='L549'>
<a name='L550'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L551'><a href='../S/2562.html#L1443' title='Refered from 1443 in Modules/_elementtree.c.'>element_append</a>(ElementObject* self, PyObject* args)
<a name='L552'><font color='red'>{</font>
<a name='L553'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L554'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O!:append", &amp;Element_Type, &amp;<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>))
<a name='L555'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L556'>
<a name='L557'>    <b>if</b> (element_add_subelement(self, <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>) &lt; 0)
<a name='L558'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L559'>
<a name='L560'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L561'><font color='red'>}</font>
<a name='L562'>
<a name='L563'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L564'><a href='../S/2562.html#L1434' title='Refered from 1434 in Modules/_elementtree.c.'>element_clear</a>(ElementObject* self, PyObject* args)
<a name='L565'><font color='red'>{</font>
<a name='L566'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":clear"))
<a name='L567'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L568'>
<a name='L569'>    <b>if</b> (self-&gt;extra) <font color='red'>{</font>
<a name='L570'>        element_dealloc_extra(self);
<a name='L571'>        self-&gt;extra = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L572'>    <font color='red'>}</font>
<a name='L573'>
<a name='L574'>    Py_INCREF(Py_None);
<a name='L575'>    Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;text));
<a name='L576'>    self-&gt;text = Py_None;
<a name='L577'>
<a name='L578'>    Py_INCREF(Py_None);
<a name='L579'>    Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;tail));
<a name='L580'>    self-&gt;tail = Py_None;
<a name='L581'>
<a name='L582'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L583'><font color='red'>}</font>
<a name='L584'>
<a name='L585'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L586'><a href='../R/7511.html' title='Multiple refered from 2 places.'>element_copy</a>(ElementObject* self, PyObject* args)
<a name='L587'><font color='red'>{</font>
<a name='L588'>    <b>int</b> i;
<a name='L589'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L590'>
<a name='L591'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":__copy__"))
<a name='L592'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L593'>
<a name='L594'>    <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a> = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) element_new(
<a name='L595'>        self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, (self-&gt;extra) ? self-&gt;extra-&gt;attrib : Py_None
<a name='L596'>        );
<a name='L597'>    <b>if</b> (!<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>)
<a name='L598'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L599'>
<a name='L600'>    Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;text));
<a name='L601'>    <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;text = self-&gt;text;
<a name='L602'>    Py_INCREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;text));
<a name='L603'>
<a name='L604'>    Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;tail));
<a name='L605'>    <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;tail = self-&gt;tail;
<a name='L606'>    Py_INCREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;tail));
<a name='L607'>
<a name='L608'>    <b>if</b> (self-&gt;extra) <font color='red'>{</font>
<a name='L609'>        
<a name='L610'>        <b>if</b> (element_resize(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>, self-&gt;extra-&gt;length) &lt; 0) <font color='red'>{</font>
<a name='L611'>            Py_DECREF(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>);
<a name='L612'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L613'>        <font color='red'>}</font>
<a name='L614'>
<a name='L615'>        <b>for</b> (i = 0; i &lt; self-&gt;extra-&gt;length; i++) <font color='red'>{</font>
<a name='L616'>            Py_INCREF(self-&gt;extra-&gt;children[i]);
<a name='L617'>            <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;extra-&gt;children[i] = self-&gt;extra-&gt;children[i];
<a name='L618'>        <font color='red'>}</font>
<a name='L619'>
<a name='L620'>        <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;extra-&gt;length = self-&gt;extra-&gt;length;
<a name='L621'>        
<a name='L622'>    <font color='red'>}</font>
<a name='L623'>
<a name='L624'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L625'><font color='red'>}</font>
<a name='L626'>
<a name='L627'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L628'><a href='../S/2562.html#L1461' title='Refered from 1461 in Modules/_elementtree.c.'>element_deepcopy</a>(ElementObject* self, PyObject* args)
<a name='L629'><font color='red'>{</font>
<a name='L630'>    <b>int</b> i;
<a name='L631'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L632'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L633'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* attrib;
<a name='L634'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* text;
<a name='L635'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* tail;
<a name='L636'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* id;
<a name='L637'>
<a name='L638'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* memo;
<a name='L639'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O:__deepcopy__", &amp;memo))
<a name='L640'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L641'>
<a name='L642'>    <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a> = <a href='../S/2611.html#L1978' title='Defined at 1978 in Modules/_sre.c.'>deepcopy</a>(self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, memo);
<a name='L643'>    <b>if</b> (!<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>)
<a name='L644'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L645'>
<a name='L646'>    <b>if</b> (self-&gt;extra) <font color='red'>{</font>
<a name='L647'>        attrib = <a href='../S/2611.html#L1978' title='Defined at 1978 in Modules/_sre.c.'>deepcopy</a>(self-&gt;extra-&gt;attrib, memo);
<a name='L648'>        <b>if</b> (!attrib) <font color='red'>{</font>
<a name='L649'>            Py_DECREF(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L650'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L651'>        <font color='red'>}</font>
<a name='L652'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L653'>        Py_INCREF(Py_None);
<a name='L654'>        attrib = Py_None;
<a name='L655'>    <font color='red'>}</font>
<a name='L656'>
<a name='L657'>    <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a> = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) element_new(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, attrib);
<a name='L658'>
<a name='L659'>    Py_DECREF(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L660'>    Py_DECREF(attrib);
<a name='L661'>
<a name='L662'>    <b>if</b> (!<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>)
<a name='L663'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L664'>    
<a name='L665'>    text = <a href='../S/2611.html#L1978' title='Defined at 1978 in Modules/_sre.c.'>deepcopy</a>(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;text), memo);
<a name='L666'>    <b>if</b> (!text)
<a name='L667'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L668'>    Py_DECREF(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;text);
<a name='L669'>    <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;text = <a href='../S/2562.html#L121' title='Defined at 121 in Modules/_elementtree.c.'>JOIN_SET</a>(text, <a href='../S/2562.html#L120' title='Defined at 120 in Modules/_elementtree.c.'>JOIN_GET</a>(self-&gt;text));
<a name='L670'>
<a name='L671'>    tail = <a href='../S/2611.html#L1978' title='Defined at 1978 in Modules/_sre.c.'>deepcopy</a>(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;tail), memo);
<a name='L672'>    <b>if</b> (!tail)
<a name='L673'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L674'>    Py_DECREF(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;tail);
<a name='L675'>    <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;tail = <a href='../S/2562.html#L121' title='Defined at 121 in Modules/_elementtree.c.'>JOIN_SET</a>(tail, <a href='../S/2562.html#L120' title='Defined at 120 in Modules/_elementtree.c.'>JOIN_GET</a>(self-&gt;tail));
<a name='L676'>
<a name='L677'>    <b>if</b> (self-&gt;extra) <font color='red'>{</font>
<a name='L678'>        
<a name='L679'>        <b>if</b> (element_resize(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>, self-&gt;extra-&gt;length) &lt; 0)
<a name='L680'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L681'>
<a name='L682'>        <b>for</b> (i = 0; i &lt; self-&gt;extra-&gt;length; i++) <font color='red'>{</font>
<a name='L683'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* child = <a href='../S/2611.html#L1978' title='Defined at 1978 in Modules/_sre.c.'>deepcopy</a>(self-&gt;extra-&gt;children[i], memo);
<a name='L684'>            <b>if</b> (!child) <font color='red'>{</font>
<a name='L685'>                <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;extra-&gt;length = i;
<a name='L686'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L687'>            <font color='red'>}</font>
<a name='L688'>            <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;extra-&gt;children[i] = child;
<a name='L689'>        <font color='red'>}</font>
<a name='L690'>
<a name='L691'>        <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>-&gt;extra-&gt;length = self-&gt;extra-&gt;length;
<a name='L692'>        
<a name='L693'>    <font color='red'>}</font>
<a name='L694'>
<a name='L695'>    <i><font color='green'>/* add object to memo dictionary (so deepcopy won't visit it again) */</font></i>
<a name='L696'>    id = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((<a href='../D/4394.html' title='Multiple defined in 4 places.'>Py_uintptr_t</a>) self);
<a name='L697'>    <b>if</b> (!id)
<a name='L698'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L699'>
<a name='L700'>    i = <a href='../S/2787.html#L786' title='Defined at 786 in Objects/dictobject.c.'>PyDict_SetItem</a>(memo, id, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>);
<a name='L701'>
<a name='L702'>    Py_DECREF(id);
<a name='L703'>
<a name='L704'>    <b>if</b> (i &lt; 0)
<a name='L705'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L706'>
<a name='L707'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L708'>
<a name='L709'>  <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L710'>    Py_DECREF(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>);
<a name='L711'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L712'><font color='red'>}</font>
<a name='L713'>
<a name='L714'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(<b>int</b>)
<a name='L715'>checkpath(PyObject* tag)
<a name='L716'><font color='red'>{</font>
<a name='L717'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L718'>    <b>int</b> check = 1;
<a name='L719'>
<a name='L720'>    <i><font color='green'>/* check if a tag contains an xpath character */</font></i>
<a name='L721'>
<a name='L722'><font color='darkred'>#define</font> <a href='../R/2226.html' title='Multiple refered from 2 places.'>PATHCHAR</a>(ch) \
<a name='L723'>    (ch == '/' || ch == '*' || ch == '[' || ch == '@' || ch == '.')
<a name='L724'>
<a name='L725'>    <b>if</b> (PyUnicode_Check(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>)) <font color='red'>{</font>
<a name='L726'>        <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *p = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L727'>        <b>for</b> (i = 0; i &lt; <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>); i++) <font color='red'>{</font>
<a name='L728'>            <b>if</b> (p[i] == '{')
<a name='L729'>                check = 0;
<a name='L730'>            <b>else</b> <b>if</b> (p[i] == '}')
<a name='L731'>                check = 1;
<a name='L732'>            <b>else</b> <b>if</b> (check &amp;&amp; <a href='../S/2562.html#L722' title='Defined at 722 in Modules/_elementtree.c.'>PATHCHAR</a>(p[i]))
<a name='L733'>                <b>return</b> 1;
<a name='L734'>        <font color='red'>}</font>
<a name='L735'>        <b>return</b> 0;
<a name='L736'>    <font color='red'>}</font>
<a name='L737'>    <b>if</b> (PyBytes_Check(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>)) <font color='red'>{</font>
<a name='L738'>        <b>char</b> *p = PyBytes_AS_STRING(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L739'>        <b>for</b> (i = 0; i &lt; PyBytes_GET_SIZE(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>); i++) <font color='red'>{</font>
<a name='L740'>            <b>if</b> (p[i] == '{')
<a name='L741'>                check = 0;
<a name='L742'>            <b>else</b> <b>if</b> (p[i] == '}')
<a name='L743'>                check = 1;
<a name='L744'>            <b>else</b> <b>if</b> (check &amp;&amp; <a href='../S/2562.html#L722' title='Defined at 722 in Modules/_elementtree.c.'>PATHCHAR</a>(p[i]))
<a name='L745'>                <b>return</b> 1;
<a name='L746'>        <font color='red'>}</font>
<a name='L747'>        <b>return</b> 0;
<a name='L748'>    <font color='red'>}</font>
<a name='L749'>
<a name='L750'>    <b>return</b> 1; <i><font color='green'>/* unknown type; might be path expression */</font></i>
<a name='L751'><font color='red'>}</font>
<a name='L752'>
<a name='L753'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L754'><a href='../S/2562.html#L1444' title='Refered from 1444 in Modules/_elementtree.c.'>element_extend</a>(ElementObject* self, PyObject* args)
<a name='L755'><font color='red'>{</font>
<a name='L756'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* seq;
<a name='L757'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i, seqlen = 0;
<a name='L758'>
<a name='L759'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* seq_in;
<a name='L760'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O:extend", &amp;seq_in))
<a name='L761'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L762'>
<a name='L763'>    seq = <a href='../S/2775.html#L1836' title='Defined at 1836 in Objects/abstract.c.'>PySequence_Fast</a>(seq_in, "");
<a name='L764'>    <b>if</b> (!seq) <font color='red'>{</font>
<a name='L765'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(
<a name='L766'>            PyExc_TypeError,
<a name='L767'>            "expected sequence, not \"%.200s\"", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(seq_in)-&gt;tp_name
<a name='L768'>            );
<a name='L769'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L770'>    <font color='red'>}</font>
<a name='L771'>
<a name='L772'>    seqlen = <a href='../S/2775.html#L1452' title='Defined at 1452 in Objects/abstract.c.'>PySequence_Size</a>(seq);
<a name='L773'>    <b>for</b> (i = 0; i &lt; seqlen; i++) <font color='red'>{</font>
<a name='L774'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a> = PySequence_Fast_GET_ITEM(seq, i);
<a name='L775'>        <b>if</b> (element_add_subelement(self, <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>) &lt; 0) <font color='red'>{</font>
<a name='L776'>            Py_DECREF(seq);
<a name='L777'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L778'>        <font color='red'>}</font>
<a name='L779'>    <font color='red'>}</font>
<a name='L780'>
<a name='L781'>    Py_DECREF(seq);
<a name='L782'>
<a name='L783'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L784'><font color='red'>}</font>
<a name='L785'>
<a name='L786'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L787'><a href='../S/2562.html#L1439' title='Refered from 1439 in Modules/_elementtree.c.'>element_find</a>(ElementObject* self, PyObject* args)
<a name='L788'><font color='red'>{</font>
<a name='L789'>    <b>int</b> i;
<a name='L790'>
<a name='L791'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L792'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* namespaces = Py_None;
<a name='L793'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O:find", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, &amp;namespaces))
<a name='L794'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L795'>
<a name='L796'>    <b>if</b> (checkpath(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>) || namespaces != Py_None)
<a name='L797'>        <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(
<a name='L798'>            elementpath_obj, "find", "OOO", self, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, namespaces
<a name='L799'>            );
<a name='L800'>
<a name='L801'>    <b>if</b> (!self-&gt;extra)
<a name='L802'>        <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L803'>        
<a name='L804'>    <b>for</b> (i = 0; i &lt; self-&gt;extra-&gt;length; i++) <font color='red'>{</font>
<a name='L805'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* item = self-&gt;extra-&gt;children[i];
<a name='L806'>        <b>if</b> (<a href='../S/2562.html#L256' title='Defined at 256 in Modules/_elementtree.c.'>Element_CheckExact</a>(item) &amp;&amp;
<a name='L807'>            <a href='../S/2803.html#L607' title='Defined at 607 in Objects/object.c.'>PyObject_RichCompareBool</a>(((<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*)item)-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>) == 1) <font color='red'>{</font>
<a name='L808'>            Py_INCREF(item);
<a name='L809'>            <b>return</b> item;
<a name='L810'>        <font color='red'>}</font>
<a name='L811'>    <font color='red'>}</font>
<a name='L812'>
<a name='L813'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L814'><font color='red'>}</font>
<a name='L815'>
<a name='L816'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L817'><a href='../S/2562.html#L1440' title='Refered from 1440 in Modules/_elementtree.c.'>element_findtext</a>(ElementObject* self, PyObject* args)
<a name='L818'><font color='red'>{</font>
<a name='L819'>    <b>int</b> i;
<a name='L820'>
<a name='L821'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L822'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* default_value = Py_None;
<a name='L823'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* namespaces = Py_None;
<a name='L824'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|OO:findtext", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, &amp;default_value, &amp;namespaces))
<a name='L825'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L826'>
<a name='L827'>    <b>if</b> (checkpath(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>) || namespaces != Py_None)
<a name='L828'>        <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(
<a name='L829'>            elementpath_obj, "findtext", "OOOO", self, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, default_value, namespaces
<a name='L830'>            );
<a name='L831'>
<a name='L832'>    <b>if</b> (!self-&gt;extra) <font color='red'>{</font>
<a name='L833'>        Py_INCREF(default_value);
<a name='L834'>        <b>return</b> default_value;
<a name='L835'>    <font color='red'>}</font>
<a name='L836'>
<a name='L837'>    <b>for</b> (i = 0; i &lt; self-&gt;extra-&gt;length; i++) <font color='red'>{</font>
<a name='L838'>        <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* item = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) self-&gt;extra-&gt;children[i];
<a name='L839'>        <b>if</b> (<a href='../S/2562.html#L256' title='Defined at 256 in Modules/_elementtree.c.'>Element_CheckExact</a>(item) &amp;&amp; (<a href='../S/2803.html#L607' title='Defined at 607 in Objects/object.c.'>PyObject_RichCompareBool</a>(item-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>) == 1)) <font color='red'>{</font>
<a name='L840'>
<a name='L841'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* text = element_get_text(item);
<a name='L842'>            <b>if</b> (text == Py_None)
<a name='L843'>                <b>return</b> <a href='../S/2779.html#L122' title='Defined at 122 in Objects/bytesobject.c.'>PyBytes_FromString</a>("");
<a name='L844'>            <a href='../S/544.html#L766' title='Defined at 766 in Include/object.h.'>Py_XINCREF</a>(text);
<a name='L845'>            <b>return</b> text;
<a name='L846'>        <font color='red'>}</font>
<a name='L847'>    <font color='red'>}</font>
<a name='L848'>
<a name='L849'>    Py_INCREF(default_value);
<a name='L850'>    <b>return</b> default_value;
<a name='L851'><font color='red'>}</font>
<a name='L852'>
<a name='L853'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L854'><a href='../S/2562.html#L1441' title='Refered from 1441 in Modules/_elementtree.c.'>element_findall</a>(ElementObject* self, PyObject* args)
<a name='L855'><font color='red'>{</font>
<a name='L856'>    <b>int</b> i;
<a name='L857'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* out;
<a name='L858'>
<a name='L859'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L860'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* namespaces = Py_None;
<a name='L861'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O:findall", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, &amp;namespaces))
<a name='L862'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L863'>
<a name='L864'>    <b>if</b> (checkpath(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>) || namespaces != Py_None)
<a name='L865'>        <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(
<a name='L866'>            elementpath_obj, "findall", "OOO", self, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, namespaces
<a name='L867'>            );
<a name='L868'>
<a name='L869'>    out = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L870'>    <b>if</b> (!out)
<a name='L871'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L872'>
<a name='L873'>    <b>if</b> (!self-&gt;extra)
<a name='L874'>        <b>return</b> out;
<a name='L875'>
<a name='L876'>    <b>for</b> (i = 0; i &lt; self-&gt;extra-&gt;length; i++) <font color='red'>{</font>
<a name='L877'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* item = self-&gt;extra-&gt;children[i];
<a name='L878'>        <b>if</b> (<a href='../S/2562.html#L256' title='Defined at 256 in Modules/_elementtree.c.'>Element_CheckExact</a>(item) &amp;&amp;
<a name='L879'>            <a href='../S/2803.html#L607' title='Defined at 607 in Objects/object.c.'>PyObject_RichCompareBool</a>(((<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*)item)-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>) == 1) <font color='red'>{</font>
<a name='L880'>            <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(out, item) &lt; 0) <font color='red'>{</font>
<a name='L881'>                Py_DECREF(out);
<a name='L882'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L883'>            <font color='red'>}</font>
<a name='L884'>        <font color='red'>}</font>
<a name='L885'>    <font color='red'>}</font>
<a name='L886'>
<a name='L887'>    <b>return</b> out;
<a name='L888'><font color='red'>}</font>
<a name='L889'>
<a name='L890'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L891'><a href='../S/2562.html#L1450' title='Refered from 1450 in Modules/_elementtree.c.'>element_iterfind</a>(ElementObject* self, PyObject* args)
<a name='L892'><font color='red'>{</font>
<a name='L893'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L894'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* namespaces = Py_None;
<a name='L895'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O:iterfind", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, &amp;namespaces))
<a name='L896'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L897'>
<a name='L898'>    <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(
<a name='L899'>        elementpath_obj, "iterfind", "OOO", self, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, namespaces
<a name='L900'>        );
<a name='L901'><font color='red'>}</font>
<a name='L902'>
<a name='L903'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L904'><a href='../S/2562.html#L1436' title='Refered from 1436 in Modules/_elementtree.c.'>element_get</a>(ElementObject* self, PyObject* args)
<a name='L905'><font color='red'>{</font>
<a name='L906'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L907'>
<a name='L908'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>;
<a name='L909'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* default_value = Py_None;
<a name='L910'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O:get", &amp;<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>, &amp;default_value))
<a name='L911'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L912'>
<a name='L913'>    <b>if</b> (!self-&gt;extra || self-&gt;extra-&gt;attrib == Py_None)
<a name='L914'>        <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = default_value;
<a name='L915'>    <b>else</b> <font color='red'>{</font>
<a name='L916'>        <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../S/2787.html#L704' title='Defined at 704 in Objects/dictobject.c.'>PyDict_GetItem</a>(self-&gt;extra-&gt;attrib, <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L917'>        <b>if</b> (!<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)
<a name='L918'>            <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = default_value;
<a name='L919'>    <font color='red'>}</font>
<a name='L920'>
<a name='L921'>    Py_INCREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L922'>    <b>return</b> <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L923'><font color='red'>}</font>
<a name='L924'>
<a name='L925'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L926'><a href='../S/2562.html#L1453' title='Refered from 1453 in Modules/_elementtree.c.'>element_getchildren</a>(ElementObject* self, PyObject* args)
<a name='L927'><font color='red'>{</font>
<a name='L928'>    <b>int</b> i;
<a name='L929'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* list;
<a name='L930'>
<a name='L931'>    <i><font color='green'>/* FIXME: report as deprecated? */</font></i>
<a name='L932'>
<a name='L933'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":getchildren"))
<a name='L934'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L935'>
<a name='L936'>    <b>if</b> (!self-&gt;extra)
<a name='L937'>        <b>return</b> <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L938'>
<a name='L939'>    list = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(self-&gt;extra-&gt;length);
<a name='L940'>    <b>if</b> (!list)
<a name='L941'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L942'>
<a name='L943'>    <b>for</b> (i = 0; i &lt; self-&gt;extra-&gt;length; i++) <font color='red'>{</font>
<a name='L944'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* item = self-&gt;extra-&gt;children[i];
<a name='L945'>        Py_INCREF(item);
<a name='L946'>        PyList_SET_ITEM(list, i, item);
<a name='L947'>    <font color='red'>}</font>
<a name='L948'>
<a name='L949'>    <b>return</b> list;
<a name='L950'><font color='red'>}</font>
<a name='L951'>
<a name='L952'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L953'><a href='../R/7524.html' title='Multiple refered from 2 places.'>element_iter</a>(ElementObject* self, PyObject* args)
<a name='L954'><font color='red'>{</font>
<a name='L955'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L956'>    
<a name='L957'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a> = Py_None;
<a name='L958'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|O:iter", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>))
<a name='L959'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L960'>
<a name='L961'>    <b>if</b> (!elementtree_iter_obj) <font color='red'>{</font>
<a name='L962'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L963'>            PyExc_RuntimeError,
<a name='L964'>            "iter helper not found"
<a name='L965'>            );
<a name='L966'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L967'>    <font color='red'>}</font>
<a name='L968'>
<a name='L969'>    <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(2);
<a name='L970'>    <b>if</b> (!<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>)
<a name='L971'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L972'>
<a name='L973'>    Py_INCREF(self); PyTuple_SET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self);
<a name='L974'>    Py_INCREF(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);  PyTuple_SET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 1, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L975'>
<a name='L976'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L2135' title='Defined at 2135 in Objects/abstract.c.'>PyObject_CallObject</a>(elementtree_iter_obj, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L977'>
<a name='L978'>    Py_DECREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L979'>
<a name='L980'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L981'><font color='red'>}</font>
<a name='L982'>
<a name='L983'>
<a name='L984'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L985'><a href='../S/2562.html#L1449' title='Refered from 1449 in Modules/_elementtree.c.'>element_itertext</a>(ElementObject* self, PyObject* args)
<a name='L986'><font color='red'>{</font>
<a name='L987'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L988'>    
<a name='L989'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":itertext"))
<a name='L990'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L991'>
<a name='L992'>    <b>if</b> (!elementtree_itertext_obj) <font color='red'>{</font>
<a name='L993'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L994'>            PyExc_RuntimeError,
<a name='L995'>            "itertext helper not found"
<a name='L996'>            );
<a name='L997'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L998'>    <font color='red'>}</font>
<a name='L999'>
<a name='L1000'>    <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(1);
<a name='L1001'>    <b>if</b> (!<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>)
<a name='L1002'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1003'>
<a name='L1004'>    Py_INCREF(self); PyTuple_SET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self);
<a name='L1005'>
<a name='L1006'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L2135' title='Defined at 2135 in Objects/abstract.c.'>PyObject_CallObject</a>(elementtree_itertext_obj, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1007'>
<a name='L1008'>    Py_DECREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1009'>
<a name='L1010'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1011'><font color='red'>}</font>
<a name='L1012'>
<a name='L1013'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1014'><a href='../R/7521.html' title='Multiple refered from 2 places.'>element_getitem</a>(PyObject* self_, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> index)
<a name='L1015'><font color='red'>{</font>
<a name='L1016'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* self = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) self_;
<a name='L1017'>
<a name='L1018'>    <b>if</b> (!self-&gt;extra || index &lt; 0 || index &gt;= self-&gt;extra-&gt;length) <font color='red'>{</font>
<a name='L1019'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L1020'>            PyExc_IndexError,
<a name='L1021'>            "child index out of range"
<a name='L1022'>            );
<a name='L1023'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1024'>    <font color='red'>}</font>
<a name='L1025'>
<a name='L1026'>    Py_INCREF(self-&gt;extra-&gt;children[index]);
<a name='L1027'>    <b>return</b> self-&gt;extra-&gt;children[index];
<a name='L1028'><font color='red'>}</font>
<a name='L1029'>
<a name='L1030'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1031'><a href='../S/2562.html#L1445' title='Refered from 1445 in Modules/_elementtree.c.'>element_insert</a>(ElementObject* self, PyObject* args)
<a name='L1032'><font color='red'>{</font>
<a name='L1033'>    <b>int</b> i;
<a name='L1034'>
<a name='L1035'>    <b>int</b> index;
<a name='L1036'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L1037'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "iO!:insert", &amp;index,
<a name='L1038'>                          &amp;Element_Type, &amp;<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>))
<a name='L1039'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1040'>
<a name='L1041'>    <b>if</b> (!self-&gt;extra)
<a name='L1042'>        element_new_extra(self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1043'>
<a name='L1044'>    <b>if</b> (index &lt; 0) <font color='red'>{</font>
<a name='L1045'>        index += self-&gt;extra-&gt;length;
<a name='L1046'>        <b>if</b> (index &lt; 0)
<a name='L1047'>            index = 0;
<a name='L1048'>    <font color='red'>}</font>
<a name='L1049'>    <b>if</b> (index &gt; self-&gt;extra-&gt;length)
<a name='L1050'>        index = self-&gt;extra-&gt;length;
<a name='L1051'>
<a name='L1052'>    <b>if</b> (element_resize(self, 1) &lt; 0)
<a name='L1053'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1054'>
<a name='L1055'>    <b>for</b> (i = self-&gt;extra-&gt;length; i &gt; index; i--)
<a name='L1056'>        self-&gt;extra-&gt;children[i] = self-&gt;extra-&gt;children[i-1];
<a name='L1057'>
<a name='L1058'>    Py_INCREF(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>);
<a name='L1059'>    self-&gt;extra-&gt;children[index] = <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L1060'>
<a name='L1061'>    self-&gt;extra-&gt;length++;
<a name='L1062'>
<a name='L1063'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1064'><font color='red'>}</font>
<a name='L1065'>
<a name='L1066'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1067'><a href='../S/2562.html#L1455' title='Refered from 1455 in Modules/_elementtree.c.'>element_items</a>(ElementObject* self, PyObject* args)
<a name='L1068'><font color='red'>{</font>
<a name='L1069'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":items"))
<a name='L1070'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1071'>
<a name='L1072'>    <b>if</b> (!self-&gt;extra || self-&gt;extra-&gt;attrib == Py_None)
<a name='L1073'>        <b>return</b> <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L1074'>
<a name='L1075'>    <b>return</b> <a href='../S/2787.html#L1650' title='Defined at 1650 in Objects/dictobject.c.'>PyDict_Items</a>(self-&gt;extra-&gt;attrib);
<a name='L1076'><font color='red'>}</font>
<a name='L1077'>
<a name='L1078'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1079'><a href='../S/2562.html#L1456' title='Refered from 1456 in Modules/_elementtree.c.'>element_keys</a>(ElementObject* self, PyObject* args)
<a name='L1080'><font color='red'>{</font>
<a name='L1081'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":keys"))
<a name='L1082'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1083'>
<a name='L1084'>    <b>if</b> (!self-&gt;extra || self-&gt;extra-&gt;attrib == Py_None)
<a name='L1085'>        <b>return</b> <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L1086'>
<a name='L1087'>    <b>return</b> <a href='../S/2787.html#L1630' title='Defined at 1630 in Objects/dictobject.c.'>PyDict_Keys</a>(self-&gt;extra-&gt;attrib);
<a name='L1088'><font color='red'>}</font>
<a name='L1089'>
<a name='L1090'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L1091'><a href='../R/7528.html' title='Multiple refered from 2 places.'>element_length</a>(ElementObject* self)
<a name='L1092'><font color='red'>{</font>
<a name='L1093'>    <b>if</b> (!self-&gt;extra)
<a name='L1094'>        <b>return</b> 0;
<a name='L1095'>
<a name='L1096'>    <b>return</b> self-&gt;extra-&gt;length;
<a name='L1097'><font color='red'>}</font>
<a name='L1098'>
<a name='L1099'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1100'><a href='../S/2562.html#L1458' title='Refered from 1458 in Modules/_elementtree.c.'>element_makeelement</a>(PyObject* self, PyObject* args, PyObject* kw)
<a name='L1101'><font color='red'>{</font>
<a name='L1102'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* elem;
<a name='L1103'>
<a name='L1104'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L1105'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* attrib;
<a name='L1106'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "OO:makeelement", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, &amp;attrib))
<a name='L1107'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1108'>
<a name='L1109'>    attrib = <a href='../S/2787.html#L1602' title='Defined at 1602 in Objects/dictobject.c.'>PyDict_Copy</a>(attrib);
<a name='L1110'>    <b>if</b> (!attrib)
<a name='L1111'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1112'>
<a name='L1113'>    elem = element_new(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, attrib);
<a name='L1114'>
<a name='L1115'>    Py_DECREF(attrib);
<a name='L1116'>
<a name='L1117'>    <b>return</b> elem;
<a name='L1118'><font color='red'>}</font>
<a name='L1119'>
<a name='L1120'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1121'><a href='../R/7530.html' title='Multiple refered from 2 places.'>element_reduce</a>(ElementObject* self, PyObject* args)
<a name='L1122'><font color='red'>{</font>
<a name='L1123'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":__reduce__"))
<a name='L1124'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1125'>
<a name='L1126'>    <i><font color='green'>/* Hack alert: This method is used to work around a __copy__</font></i>
<a name='L1127'><i><font color='green'>       problem on certain 2.3 and 2.4 versions.  To save time and</font></i>
<a name='L1128'><i><font color='green'>       simplify the code, we create the copy in here, and use a dummy</font></i>
<a name='L1129'><i><font color='green'>       copyelement helper to trick the copy module into doing the</font></i>
<a name='L1130'><i><font color='green'>       right thing. */</font></i>
<a name='L1131'>
<a name='L1132'>    <b>if</b> (!elementtree_copyelement_obj) <font color='red'>{</font>
<a name='L1133'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L1134'>            PyExc_RuntimeError,
<a name='L1135'>            "copyelement helper not found"
<a name='L1136'>            );
<a name='L1137'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1138'>    <font color='red'>}</font>
<a name='L1139'>
<a name='L1140'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>(
<a name='L1141'>        "O(N)", elementtree_copyelement_obj, <a href='../S/2562.html#L586' title='Defined at 586 in Modules/_elementtree.c.'>element_copy</a>(self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>)
<a name='L1142'>        );
<a name='L1143'><font color='red'>}</font>
<a name='L1144'>
<a name='L1145'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1146'><a href='../S/2562.html#L1446' title='Refered from 1446 in Modules/_elementtree.c.'>element_remove</a>(ElementObject* self, PyObject* args)
<a name='L1147'><font color='red'>{</font>
<a name='L1148'>    <b>int</b> i;
<a name='L1149'>
<a name='L1150'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L1151'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O!:remove", &amp;Element_Type, &amp;<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>))
<a name='L1152'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1153'>
<a name='L1154'>    <b>if</b> (!self-&gt;extra) <font color='red'>{</font>
<a name='L1155'>        <i><font color='green'>/* element has no children, so raise exception */</font></i>
<a name='L1156'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L1157'>            PyExc_ValueError,
<a name='L1158'>            "list.remove(x): x not in list"
<a name='L1159'>            );
<a name='L1160'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1161'>    <font color='red'>}</font>
<a name='L1162'>
<a name='L1163'>    <b>for</b> (i = 0; i &lt; self-&gt;extra-&gt;length; i++) <font color='red'>{</font>
<a name='L1164'>        <b>if</b> (self-&gt;extra-&gt;children[i] == <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>)
<a name='L1165'>            <b>break</b>;
<a name='L1166'>        <b>if</b> (<a href='../S/2803.html#L607' title='Defined at 607 in Objects/object.c.'>PyObject_RichCompareBool</a>(self-&gt;extra-&gt;children[i], <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>, <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>) == 1)
<a name='L1167'>            <b>break</b>;
<a name='L1168'>    <font color='red'>}</font>
<a name='L1169'>
<a name='L1170'>    <b>if</b> (i == self-&gt;extra-&gt;length) <font color='red'>{</font>
<a name='L1171'>        <i><font color='green'>/* element is not in children, so raise exception */</font></i>
<a name='L1172'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L1173'>            PyExc_ValueError,
<a name='L1174'>            "list.remove(x): x not in list"
<a name='L1175'>            );
<a name='L1176'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1177'>    <font color='red'>}</font>
<a name='L1178'>
<a name='L1179'>    Py_DECREF(self-&gt;extra-&gt;children[i]);
<a name='L1180'>
<a name='L1181'>    self-&gt;extra-&gt;length--;
<a name='L1182'>
<a name='L1183'>    <b>for</b> (; i &lt; self-&gt;extra-&gt;length; i++)
<a name='L1184'>        self-&gt;extra-&gt;children[i] = self-&gt;extra-&gt;children[i+1];
<a name='L1185'>
<a name='L1186'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1187'><font color='red'>}</font>
<a name='L1188'>
<a name='L1189'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1190'><a href='../S/2562.html#L1586' title='Refered from 1586 in Modules/_elementtree.c.'>element_repr</a>(ElementObject* self)
<a name='L1191'><font color='red'>{</font>
<a name='L1192'>    <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("&lt;Element %R at %p&gt;", self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, self);
<a name='L1193'><font color='red'>}</font>
<a name='L1194'>
<a name='L1195'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1196'><a href='../S/2562.html#L1437' title='Refered from 1437 in Modules/_elementtree.c.'>element_set</a>(ElementObject* self, PyObject* args)
<a name='L1197'><font color='red'>{</font>
<a name='L1198'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* attrib;
<a name='L1199'>
<a name='L1200'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>;
<a name='L1201'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L1202'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "OO:set", &amp;<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>, &amp;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>))
<a name='L1203'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1204'>
<a name='L1205'>    <b>if</b> (!self-&gt;extra)
<a name='L1206'>        element_new_extra(self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1207'>
<a name='L1208'>    attrib = element_get_attrib(self);
<a name='L1209'>    <b>if</b> (!attrib)
<a name='L1210'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1211'>
<a name='L1212'>    <b>if</b> (<a href='../S/2787.html#L786' title='Defined at 786 in Objects/dictobject.c.'>PyDict_SetItem</a>(attrib, <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) &lt; 0)
<a name='L1213'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1214'>
<a name='L1215'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1216'><font color='red'>}</font>
<a name='L1217'>
<a name='L1218'><b>static</b> <b>int</b>
<a name='L1219'><a href='../R/7535.html' title='Multiple refered from 2 places.'>element_setitem</a>(PyObject* self_, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> index, PyObject* item)
<a name='L1220'><font color='red'>{</font>
<a name='L1221'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* self = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) self_;
<a name='L1222'>    <b>int</b> i;
<a name='L1223'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* old;
<a name='L1224'>
<a name='L1225'>    <b>if</b> (!self-&gt;extra || index &lt; 0 || index &gt;= self-&gt;extra-&gt;length) <font color='red'>{</font>
<a name='L1226'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L1227'>            PyExc_IndexError,
<a name='L1228'>            "child assignment index out of range");
<a name='L1229'>        <b>return</b> -1;
<a name='L1230'>    <font color='red'>}</font>
<a name='L1231'>
<a name='L1232'>    old = self-&gt;extra-&gt;children[index];
<a name='L1233'>
<a name='L1234'>    <b>if</b> (item) <font color='red'>{</font>
<a name='L1235'>        Py_INCREF(item);
<a name='L1236'>        self-&gt;extra-&gt;children[index] = item;
<a name='L1237'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1238'>        self-&gt;extra-&gt;length--;
<a name='L1239'>        <b>for</b> (i = index; i &lt; self-&gt;extra-&gt;length; i++)
<a name='L1240'>            self-&gt;extra-&gt;children[i] = self-&gt;extra-&gt;children[i+1];
<a name='L1241'>    <font color='red'>}</font>
<a name='L1242'>
<a name='L1243'>    Py_DECREF(old);
<a name='L1244'>
<a name='L1245'>    <b>return</b> 0;
<a name='L1246'><font color='red'>}</font>
<a name='L1247'>
<a name='L1248'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1249'><a href='../S/2562.html#L1573' title='Refered from 1573 in Modules/_elementtree.c.'>element_subscr</a>(PyObject* self_, PyObject* item)
<a name='L1250'><font color='red'>{</font>
<a name='L1251'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* self = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) self_;
<a name='L1252'>
<a name='L1253'><font color='darkred'>#if</font> (<a href='../S/549.html#L34' title='Defined at 34 in Include/patchlevel.h.'>PY_VERSION_HEX</a> &lt; 0x02050000)
<a name='L1254'>    <b>if</b> (PyInt_Check(item) || PyLong_Check(item)) <font color='red'>{</font>
<a name='L1255'>        <b>long</b> i = PyInt_AsLong(item);
<a name='L1256'><font color='darkred'>#else</font>
<a name='L1257'>    <b>if</b> (PyIndex_Check(item)) <font color='red'>{</font>
<a name='L1258'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(item, PyExc_IndexError);
<a name='L1259'><font color='darkred'>#endif</font>
<a name='L1260'>
<a name='L1261'>        <b>if</b> (i == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L1262'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1263'>        <font color='red'>}</font>
<a name='L1264'>        <b>if</b> (i &lt; 0 &amp;&amp; self-&gt;extra)
<a name='L1265'>            i += self-&gt;extra-&gt;length;
<a name='L1266'>        <b>return</b> <a href='../S/2562.html#L1014' title='Defined at 1014 in Modules/_elementtree.c.'>element_getitem</a>(self_, i);
<a name='L1267'>    <font color='red'>}</font>
<a name='L1268'>    <b>else</b> <b>if</b> (PySlice_Check(item)) <font color='red'>{</font>
<a name='L1269'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start, stop, step, slicelen, cur, i;
<a name='L1270'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* list;
<a name='L1271'>
<a name='L1272'>        <b>if</b> (!self-&gt;extra)
<a name='L1273'>            <b>return</b> <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L1274'>
<a name='L1275'>        <b>if</b> (<a href='../S/2807.html#L134' title='Defined at 134 in Objects/sliceobject.c.'>PySlice_GetIndicesEx</a>(item,
<a name='L1276'>                self-&gt;extra-&gt;length,
<a name='L1277'>                &amp;start, &amp;stop, &amp;step, &amp;slicelen) &lt; 0) <font color='red'>{</font>
<a name='L1278'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1279'>        <font color='red'>}</font>
<a name='L1280'>
<a name='L1281'>        <b>if</b> (slicelen &lt;= 0)
<a name='L1282'>            <b>return</b> <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(0);
<a name='L1283'>        <b>else</b> <font color='red'>{</font>
<a name='L1284'>            list = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(slicelen);
<a name='L1285'>            <b>if</b> (!list)
<a name='L1286'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1287'>
<a name='L1288'>            <b>for</b> (cur = start, i = 0; i &lt; slicelen;
<a name='L1289'>                 cur += step, i++) <font color='red'>{</font>
<a name='L1290'>                <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* item = self-&gt;extra-&gt;children[cur];
<a name='L1291'>                Py_INCREF(item);
<a name='L1292'>                PyList_SET_ITEM(list, i, item);
<a name='L1293'>            <font color='red'>}</font>
<a name='L1294'>
<a name='L1295'>            <b>return</b> list;
<a name='L1296'>        <font color='red'>}</font>
<a name='L1297'>    <font color='red'>}</font>
<a name='L1298'>    <b>else</b> <font color='red'>{</font>
<a name='L1299'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L1300'>                "element indices must be integers");
<a name='L1301'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1302'>    <font color='red'>}</font>
<a name='L1303'><font color='red'>}</font>
<a name='L1304'>
<a name='L1305'><b>static</b> <b>int</b>
<a name='L1306'><a href='../S/2562.html#L1574' title='Refered from 1574 in Modules/_elementtree.c.'>element_ass_subscr</a>(PyObject* self_, PyObject* item, PyObject* value)
<a name='L1307'><font color='red'>{</font>
<a name='L1308'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* self = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) self_;
<a name='L1309'>
<a name='L1310'><font color='darkred'>#if</font> (<a href='../S/549.html#L34' title='Defined at 34 in Include/patchlevel.h.'>PY_VERSION_HEX</a> &lt; 0x02050000)
<a name='L1311'>    <b>if</b> (PyInt_Check(item) || PyLong_Check(item)) <font color='red'>{</font>
<a name='L1312'>        <b>long</b> i = PyInt_AsLong(item);
<a name='L1313'><font color='darkred'>#else</font>
<a name='L1314'>    <b>if</b> (PyIndex_Check(item)) <font color='red'>{</font>
<a name='L1315'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(item, PyExc_IndexError);
<a name='L1316'><font color='darkred'>#endif</font>
<a name='L1317'>
<a name='L1318'>        <b>if</b> (i == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L1319'>            <b>return</b> -1;
<a name='L1320'>        <font color='red'>}</font>
<a name='L1321'>        <b>if</b> (i &lt; 0 &amp;&amp; self-&gt;extra)
<a name='L1322'>            i += self-&gt;extra-&gt;length;
<a name='L1323'>        <b>return</b> <a href='../S/2562.html#L1219' title='Defined at 1219 in Modules/_elementtree.c.'>element_setitem</a>(self_, i, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1324'>    <font color='red'>}</font>
<a name='L1325'>    <b>else</b> <b>if</b> (PySlice_Check(item)) <font color='red'>{</font>
<a name='L1326'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start, stop, step, slicelen, newlen, cur, i;
<a name='L1327'>
<a name='L1328'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* recycle = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1329'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* seq = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1330'>
<a name='L1331'>        <b>if</b> (!self-&gt;extra)
<a name='L1332'>            element_new_extra(self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1333'>
<a name='L1334'>        <b>if</b> (<a href='../S/2807.html#L134' title='Defined at 134 in Objects/sliceobject.c.'>PySlice_GetIndicesEx</a>(item,
<a name='L1335'>                self-&gt;extra-&gt;length,
<a name='L1336'>                &amp;start, &amp;stop, &amp;step, &amp;slicelen) &lt; 0) <font color='red'>{</font>
<a name='L1337'>            <b>return</b> -1;
<a name='L1338'>        <font color='red'>}</font>
<a name='L1339'>
<a name='L1340'>        <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1341'>            newlen = 0;
<a name='L1342'>        <b>else</b> <font color='red'>{</font>
<a name='L1343'>            seq = <a href='../S/2775.html#L1836' title='Defined at 1836 in Objects/abstract.c.'>PySequence_Fast</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, "");
<a name='L1344'>            <b>if</b> (!seq) <font color='red'>{</font>
<a name='L1345'>                <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(
<a name='L1346'>                    PyExc_TypeError,
<a name='L1347'>                    "expected sequence, not \"%.200s\"", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)-&gt;tp_name
<a name='L1348'>                    );
<a name='L1349'>                <b>return</b> -1;
<a name='L1350'>            <font color='red'>}</font>
<a name='L1351'>            newlen = <a href='../S/2775.html#L1452' title='Defined at 1452 in Objects/abstract.c.'>PySequence_Size</a>(seq);
<a name='L1352'>        <font color='red'>}</font>
<a name='L1353'>
<a name='L1354'>        <b>if</b> (step !=  1 &amp;&amp; newlen != slicelen)
<a name='L1355'>        <font color='red'>{</font>
<a name='L1356'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError,
<a name='L1357'><font color='darkred'>#if</font> (<a href='../S/549.html#L34' title='Defined at 34 in Include/patchlevel.h.'>PY_VERSION_HEX</a> &lt; 0x02050000)
<a name='L1358'>                "attempt to assign sequence of size %d "
<a name='L1359'>                "to extended slice of size %d",
<a name='L1360'><font color='darkred'>#else</font>
<a name='L1361'>                "attempt to assign sequence of size %zd "
<a name='L1362'>                "to extended slice of size %zd",
<a name='L1363'><font color='darkred'>#endif</font>
<a name='L1364'>                newlen, slicelen
<a name='L1365'>                );
<a name='L1366'>            <b>return</b> -1;
<a name='L1367'>        <font color='red'>}</font>
<a name='L1368'>
<a name='L1369'>
<a name='L1370'>        <i><font color='green'>/* Resize before creating the recycle bin, to prevent refleaks. */</font></i>
<a name='L1371'>        <b>if</b> (newlen &gt; slicelen) <font color='red'>{</font>
<a name='L1372'>            <b>if</b> (element_resize(self, newlen - slicelen) &lt; 0) <font color='red'>{</font>
<a name='L1373'>                <b>if</b> (seq) <font color='red'>{</font>
<a name='L1374'>                    Py_DECREF(seq);
<a name='L1375'>                <font color='red'>}</font>
<a name='L1376'>                <b>return</b> -1;
<a name='L1377'>            <font color='red'>}</font>
<a name='L1378'>        <font color='red'>}</font>
<a name='L1379'>
<a name='L1380'>        <b>if</b> (slicelen &gt; 0) <font color='red'>{</font>
<a name='L1381'>            <i><font color='green'>/* to avoid recursive calls to this method (via decref), move</font></i>
<a name='L1382'><i><font color='green'>               old items to the recycle bin here, and get rid of them when</font></i>
<a name='L1383'><i><font color='green'>               we're done modifying the element */</font></i>
<a name='L1384'>            recycle = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(slicelen);
<a name='L1385'>            <b>if</b> (!recycle) <font color='red'>{</font>
<a name='L1386'>                <b>if</b> (seq) <font color='red'>{</font>
<a name='L1387'>                    Py_DECREF(seq);
<a name='L1388'>                <font color='red'>}</font>
<a name='L1389'>                <b>return</b> -1;
<a name='L1390'>            <font color='red'>}</font>
<a name='L1391'>            <b>for</b> (cur = start, i = 0; i &lt; slicelen;
<a name='L1392'>                 cur += step, i++)
<a name='L1393'>                PyList_SET_ITEM(recycle, i, self-&gt;extra-&gt;children[cur]);
<a name='L1394'>        <font color='red'>}</font>
<a name='L1395'>
<a name='L1396'>        <b>if</b> (newlen &lt; slicelen) <font color='red'>{</font>
<a name='L1397'>            <i><font color='green'>/* delete slice */</font></i>
<a name='L1398'>            <b>for</b> (i = stop; i &lt; self-&gt;extra-&gt;length; i++)
<a name='L1399'>                self-&gt;extra-&gt;children[i + newlen - slicelen] = self-&gt;extra-&gt;children[i];
<a name='L1400'>        <font color='red'>}</font> <b>else</b> <b>if</b> (newlen &gt; slicelen) <font color='red'>{</font>
<a name='L1401'>            <i><font color='green'>/* insert slice */</font></i>
<a name='L1402'>            <b>for</b> (i = self-&gt;extra-&gt;length-1; i &gt;= stop; i--)
<a name='L1403'>                self-&gt;extra-&gt;children[i + newlen - slicelen] = self-&gt;extra-&gt;children[i];
<a name='L1404'>        <font color='red'>}</font>
<a name='L1405'>
<a name='L1406'>        <i><font color='green'>/* replace the slice */</font></i>
<a name='L1407'>        <b>for</b> (cur = start, i = 0; i &lt; newlen;
<a name='L1408'>             cur += step, i++) <font color='red'>{</font>
<a name='L1409'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a> = PySequence_Fast_GET_ITEM(seq, i);
<a name='L1410'>            Py_INCREF(<a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>);
<a name='L1411'>            self-&gt;extra-&gt;children[cur] = <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>;
<a name='L1412'>        <font color='red'>}</font>
<a name='L1413'>
<a name='L1414'>        self-&gt;extra-&gt;length += newlen - slicelen;
<a name='L1415'>
<a name='L1416'>        <b>if</b> (seq) <font color='red'>{</font>
<a name='L1417'>            Py_DECREF(seq);
<a name='L1418'>        <font color='red'>}</font>
<a name='L1419'>
<a name='L1420'>        <i><font color='green'>/* discard the recycle bin, and everything in it */</font></i>
<a name='L1421'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(recycle);
<a name='L1422'>
<a name='L1423'>        <b>return</b> 0;
<a name='L1424'>    <font color='red'>}</font>
<a name='L1425'>    <b>else</b> <font color='red'>{</font>
<a name='L1426'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L1427'>                "element indices must be integers");
<a name='L1428'>        <b>return</b> -1;
<a name='L1429'>    <font color='red'>}</font>
<a name='L1430'><font color='red'>}</font>
<a name='L1431'>
<a name='L1432'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> element_methods[] = <font color='red'>{</font>
<a name='L1433'>
<a name='L1434'>    <font color='red'>{</font>"clear", (PyCFunction) <a href='../S/2562.html#L564' title='Defined at 564 in Modules/_elementtree.c.'>element_clear</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1435'>
<a name='L1436'>    <font color='red'>{</font>"get", (PyCFunction) <a href='../S/2562.html#L904' title='Defined at 904 in Modules/_elementtree.c.'>element_get</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1437'>    <font color='red'>{</font>"set", (PyCFunction) <a href='../S/2562.html#L1196' title='Defined at 1196 in Modules/_elementtree.c.'>element_set</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1438'>
<a name='L1439'>    <font color='red'>{</font>"find", (PyCFunction) <a href='../S/2562.html#L787' title='Defined at 787 in Modules/_elementtree.c.'>element_find</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1440'>    <font color='red'>{</font>"findtext", (PyCFunction) <a href='../S/2562.html#L817' title='Defined at 817 in Modules/_elementtree.c.'>element_findtext</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1441'>    <font color='red'>{</font>"findall", (PyCFunction) <a href='../S/2562.html#L854' title='Defined at 854 in Modules/_elementtree.c.'>element_findall</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1442'>
<a name='L1443'>    <font color='red'>{</font>"append", (PyCFunction) <a href='../S/2562.html#L551' title='Defined at 551 in Modules/_elementtree.c.'>element_append</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1444'>    <font color='red'>{</font>"extend", (PyCFunction) <a href='../S/2562.html#L754' title='Defined at 754 in Modules/_elementtree.c.'>element_extend</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1445'>    <font color='red'>{</font>"insert", (PyCFunction) <a href='../S/2562.html#L1031' title='Defined at 1031 in Modules/_elementtree.c.'>element_insert</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1446'>    <font color='red'>{</font>"remove", (PyCFunction) <a href='../S/2562.html#L1146' title='Defined at 1146 in Modules/_elementtree.c.'>element_remove</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1447'>
<a name='L1448'>    <font color='red'>{</font>"iter", (PyCFunction) <a href='../S/2562.html#L953' title='Defined at 953 in Modules/_elementtree.c.'>element_iter</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1449'>    <font color='red'>{</font>"itertext", (PyCFunction) <a href='../S/2562.html#L985' title='Defined at 985 in Modules/_elementtree.c.'>element_itertext</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1450'>    <font color='red'>{</font>"iterfind", (PyCFunction) <a href='../S/2562.html#L891' title='Defined at 891 in Modules/_elementtree.c.'>element_iterfind</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1451'>
<a name='L1452'>    <font color='red'>{</font>"getiterator", (PyCFunction) <a href='../S/2562.html#L953' title='Defined at 953 in Modules/_elementtree.c.'>element_iter</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1453'>    <font color='red'>{</font>"getchildren", (PyCFunction) <a href='../S/2562.html#L926' title='Defined at 926 in Modules/_elementtree.c.'>element_getchildren</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1454'>
<a name='L1455'>    <font color='red'>{</font>"items", (PyCFunction) <a href='../S/2562.html#L1067' title='Defined at 1067 in Modules/_elementtree.c.'>element_items</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1456'>    <font color='red'>{</font>"keys", (PyCFunction) <a href='../S/2562.html#L1079' title='Defined at 1079 in Modules/_elementtree.c.'>element_keys</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1457'>
<a name='L1458'>    <font color='red'>{</font>"makeelement", (PyCFunction) <a href='../S/2562.html#L1100' title='Defined at 1100 in Modules/_elementtree.c.'>element_makeelement</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1459'>
<a name='L1460'>    <font color='red'>{</font>"__copy__", (PyCFunction) <a href='../S/2562.html#L586' title='Defined at 586 in Modules/_elementtree.c.'>element_copy</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1461'>    <font color='red'>{</font>"__deepcopy__", (PyCFunction) <a href='../S/2562.html#L628' title='Defined at 628 in Modules/_elementtree.c.'>element_deepcopy</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1462'>
<a name='L1463'>    <i><font color='green'>/* Some 2.3 and 2.4 versions do not handle the __copy__ method on</font></i>
<a name='L1464'><i><font color='green'>       C objects correctly, so we have to fake it using a __reduce__-</font></i>
<a name='L1465'><i><font color='green'>       based hack (see the element_reduce implementation above for</font></i>
<a name='L1466'><i><font color='green'>       details). */</font></i>
<a name='L1467'>
<a name='L1468'>    <i><font color='green'>/* The behaviour has been changed in 2.3.5 and 2.4.1, so we're</font></i>
<a name='L1469'><i><font color='green'>       using a runtime test to figure out if we need to fake things</font></i>
<a name='L1470'><i><font color='green'>       or now (see the init code below).  The following entry is</font></i>
<a name='L1471'><i><font color='green'>       enabled only if the hack is needed. */</font></i>
<a name='L1472'>
<a name='L1473'>    <font color='red'>{</font>"!__reduce__", (PyCFunction) <a href='../S/2562.html#L1121' title='Defined at 1121 in Modules/_elementtree.c.'>element_reduce</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1474'>
<a name='L1475'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L1476'><font color='red'>}</font>;
<a name='L1477'>
<a name='L1478'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1479'><a href='../S/2562.html#L1593' title='Refered from 1593 in Modules/_elementtree.c.'>element_getattro</a>(ElementObject* self, PyObject* nameobj)
<a name='L1480'><font color='red'>{</font>
<a name='L1481'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L1482'>    <b>char</b> *name = "";
<a name='L1483'>
<a name='L1484'>    <b>if</b> (PyUnicode_Check(nameobj))
<a name='L1485'>        name = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(nameobj);
<a name='L1486'>    
<a name='L1487'>    <b>if</b> (name == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1488'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1489'>
<a name='L1490'>    <i><font color='green'>/* handle common attributes first */</font></i>
<a name='L1491'>    <b>if</b> (strcmp(name, "tag") == 0) <font color='red'>{</font>
<a name='L1492'>        res = self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L1493'>        Py_INCREF(res);
<a name='L1494'>        <b>return</b> res;
<a name='L1495'>    <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(name, "text") == 0) <font color='red'>{</font>
<a name='L1496'>        res = element_get_text(self);
<a name='L1497'>        Py_INCREF(res);
<a name='L1498'>        <b>return</b> res;
<a name='L1499'>    <font color='red'>}</font>
<a name='L1500'>
<a name='L1501'>    <i><font color='green'>/* methods */</font></i>
<a name='L1502'>    res = <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self, nameobj);
<a name='L1503'>    <b>if</b> (res)
<a name='L1504'>        <b>return</b> res;
<a name='L1505'>
<a name='L1506'>    <i><font color='green'>/* less common attributes */</font></i>
<a name='L1507'>    <b>if</b> (strcmp(name, "tail") == 0) <font color='red'>{</font>
<a name='L1508'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1509'>        res = element_get_tail(self);
<a name='L1510'>    <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(name, "attrib") == 0) <font color='red'>{</font>
<a name='L1511'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1512'>        <b>if</b> (!self-&gt;extra)
<a name='L1513'>            element_new_extra(self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1514'>        res = element_get_attrib(self);
<a name='L1515'>    <font color='red'>}</font>
<a name='L1516'>
<a name='L1517'>    <b>if</b> (!res)
<a name='L1518'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1519'>
<a name='L1520'>    Py_INCREF(res);
<a name='L1521'>    <b>return</b> res;
<a name='L1522'><font color='red'>}</font>
<a name='L1523'>
<a name='L1524'><b>static</b> <b>int</b>
<a name='L1525'><a href='../S/2562.html#L1584' title='Refered from 1584 in Modules/_elementtree.c.'>element_setattr</a>(ElementObject* self, <b>const</b> <b>char</b>* name, PyObject* value)
<a name='L1526'><font color='red'>{</font>
<a name='L1527'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1528'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L1529'>            PyExc_AttributeError,
<a name='L1530'>            "can't delete element attributes"
<a name='L1531'>            );
<a name='L1532'>        <b>return</b> -1;
<a name='L1533'>    <font color='red'>}</font>
<a name='L1534'>
<a name='L1535'>    <b>if</b> (strcmp(name, "tag") == 0) <font color='red'>{</font>
<a name='L1536'>        Py_DECREF(self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L1537'>        self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a> = <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L1538'>        Py_INCREF(self-&gt;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L1539'>    <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(name, "text") == 0) <font color='red'>{</font>
<a name='L1540'>        Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;text));
<a name='L1541'>        self-&gt;text = <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L1542'>        Py_INCREF(self-&gt;text);
<a name='L1543'>    <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(name, "tail") == 0) <font color='red'>{</font>
<a name='L1544'>        Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;tail));
<a name='L1545'>        self-&gt;tail = <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L1546'>        Py_INCREF(self-&gt;tail);
<a name='L1547'>    <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(name, "attrib") == 0) <font color='red'>{</font>
<a name='L1548'>        <b>if</b> (!self-&gt;extra)
<a name='L1549'>            element_new_extra(self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1550'>        Py_DECREF(self-&gt;extra-&gt;attrib);
<a name='L1551'>        self-&gt;extra-&gt;attrib = <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L1552'>        Py_INCREF(self-&gt;extra-&gt;attrib);
<a name='L1553'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1554'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_AttributeError, name);
<a name='L1555'>        <b>return</b> -1;
<a name='L1556'>    <font color='red'>}</font>
<a name='L1557'>
<a name='L1558'>    <b>return</b> 0;
<a name='L1559'><font color='red'>}</font>
<a name='L1560'>
<a name='L1561'><b>static</b> <a href='../S/544.html#L261' title='Defined at 261 in Include/object.h.'>PySequenceMethods</a> element_as_sequence = <font color='red'>{</font>
<a name='L1562'>    (<a href='../S/2562.html#L105' title='Defined at 105 in Modules/_elementtree.c.'>lenfunc</a>) <a href='../S/2562.html#L1091' title='Defined at 1091 in Modules/_elementtree.c.'>element_length</a>,
<a name='L1563'>    0, <i><font color='green'>/* sq_concat */</font></i>
<a name='L1564'>    0, <i><font color='green'>/* sq_repeat */</font></i>
<a name='L1565'>    <a href='../S/2562.html#L1014' title='Defined at 1014 in Modules/_elementtree.c.'>element_getitem</a>,
<a name='L1566'>    0,
<a name='L1567'>    <a href='../S/2562.html#L1219' title='Defined at 1219 in Modules/_elementtree.c.'>element_setitem</a>,
<a name='L1568'>    0,
<a name='L1569'><font color='red'>}</font>;
<a name='L1570'>
<a name='L1571'><b>static</b> <a href='../S/544.html#L267' title='Defined at 267 in Include/object.h.'>PyMappingMethods</a> element_as_mapping = <font color='red'>{</font>
<a name='L1572'>    (<a href='../S/2562.html#L105' title='Defined at 105 in Modules/_elementtree.c.'>lenfunc</a>) <a href='../S/2562.html#L1091' title='Defined at 1091 in Modules/_elementtree.c.'>element_length</a>,
<a name='L1573'>    (binaryfunc) <a href='../S/2562.html#L1249' title='Defined at 1249 in Modules/_elementtree.c.'>element_subscr</a>,
<a name='L1574'>    (objobjargproc) <a href='../S/2562.html#L1306' title='Defined at 1306 in Modules/_elementtree.c.'>element_ass_subscr</a>,
<a name='L1575'><font color='red'>}</font>;
<a name='L1576'>
<a name='L1577'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> Element_Type = <font color='red'>{</font>
<a name='L1578'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L1579'>    "Element", <b>sizeof</b>(<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>), 0,
<a name='L1580'>    <i><font color='green'>/* methods */</font></i>
<a name='L1581'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2562.html#L532' title='Defined at 532 in Modules/_elementtree.c.'>element_dealloc</a>, <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L1582'>    0, <i><font color='green'>/* tp_print */</font></i>
<a name='L1583'>    0, <i><font color='green'>/* tp_getattr */</font></i>
<a name='L1584'>    (setattrfunc)<a href='../S/2562.html#L1525' title='Defined at 1525 in Modules/_elementtree.c.'>element_setattr</a>, <i><font color='green'>/* tp_setattr */</font></i>
<a name='L1585'>    0, <i><font color='green'>/* tp_reserved */</font></i>
<a name='L1586'>    (reprfunc)<a href='../S/2562.html#L1190' title='Defined at 1190 in Modules/_elementtree.c.'>element_repr</a>, <i><font color='green'>/* tp_repr */</font></i>
<a name='L1587'>    0, <i><font color='green'>/* tp_as_number */</font></i>
<a name='L1588'>    &amp;element_as_sequence, <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L1589'>    &amp;element_as_mapping, <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L1590'>    0, <i><font color='green'>/* tp_hash */</font></i>
<a name='L1591'>    0, <i><font color='green'>/* tp_call */</font></i>
<a name='L1592'>    0, <i><font color='green'>/* tp_str */</font></i>
<a name='L1593'>    (getattrofunc)<a href='../S/2562.html#L1479' title='Defined at 1479 in Modules/_elementtree.c.'>element_getattro</a>, <i><font color='green'>/* tp_getattro */</font></i>
<a name='L1594'>    0, <i><font color='green'>/* tp_setattro */</font></i>
<a name='L1595'>    0, <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L1596'>    Py_TPFLAGS_DEFAULT, <i><font color='green'>/* tp_flags */</font></i>
<a name='L1597'>    0, <i><font color='green'>/* tp_doc */</font></i>
<a name='L1598'>    0, <i><font color='green'>/* tp_traverse */</font></i>
<a name='L1599'>    0, <i><font color='green'>/* tp_clear */</font></i>
<a name='L1600'>    0, <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L1601'>    0, <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L1602'>    0, <i><font color='green'>/* tp_iter */</font></i>
<a name='L1603'>    0, <i><font color='green'>/* tp_iternext */</font></i>
<a name='L1604'>    element_methods, <i><font color='green'>/* tp_methods */</font></i>
<a name='L1605'>    0, <i><font color='green'>/* tp_members */</font></i>
<a name='L1606'><font color='red'>}</font>;
<a name='L1607'>
<a name='L1608'><i><font color='green'>/* ==================================================================== */</font></i>
<a name='L1609'><i><font color='green'>/* the tree builder type */</font></i>
<a name='L1610'>
<a name='L1611'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L1612'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L1613'>
<a name='L1614'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* root; <i><font color='green'>/* root node (first created node) */</font></i>
<a name='L1615'>
<a name='L1616'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* this; <i><font color='green'>/* current node */</font></i>
<a name='L1617'>    <a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>* last; <i><font color='green'>/* most recently created node */</font></i>
<a name='L1618'>
<a name='L1619'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* data; <i><font color='green'>/* data collector (string or list), or NULL */</font></i>
<a name='L1620'>
<a name='L1621'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2844.html#L22' title='Defined at 22 in Parser/parser.h.'>stack</a>; <i><font color='green'>/* element stack */</font></i>
<a name='L1622'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> index; <i><font color='green'>/* current stack size (0=empty) */</font></i>
<a name='L1623'>
<a name='L1624'>    <i><font color='green'>/* element tracing */</font></i>
<a name='L1625'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* events; <i><font color='green'>/* list of events, or NULL if not collecting */</font></i>
<a name='L1626'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* start_event_obj; <i><font color='green'>/* event objects (NULL to ignore) */</font></i>
<a name='L1627'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* end_event_obj;
<a name='L1628'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* start_ns_event_obj;
<a name='L1629'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* end_ns_event_obj;
<a name='L1630'>
<a name='L1631'><font color='red'>}</font> <a href='../R/4698.html' title='Multiple refered from 15 places.'>TreeBuilderObject</a>;
<a name='L1632'>
<a name='L1633'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> TreeBuilder_Type;
<a name='L1634'>
<a name='L1635'><font color='darkred'>#define</font> <a href='../R/4699.html' title='Multiple refered from 7 places.'>TreeBuilder_CheckExact</a>(op) (<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(op) == &amp;TreeBuilder_Type)
<a name='L1636'>
<a name='L1637'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L1638'><i><font color='green'>/* constructor and destructor */</font></i>
<a name='L1639'>
<a name='L1640'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L1641'>treebuilder_new(<b>void</b>)
<a name='L1642'><font color='red'>{</font>
<a name='L1643'>    <a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>* self;
<a name='L1644'>
<a name='L1645'>    self = PyObject_New(<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>, &amp;TreeBuilder_Type);
<a name='L1646'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1647'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1648'>
<a name='L1649'>    self-&gt;root = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1650'>
<a name='L1651'>    Py_INCREF(Py_None);
<a name='L1652'>    self-&gt;this = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) Py_None;
<a name='L1653'>
<a name='L1654'>    Py_INCREF(Py_None);
<a name='L1655'>    self-&gt;last = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) Py_None;
<a name='L1656'>
<a name='L1657'>    self-&gt;data = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1658'>
<a name='L1659'>    self-&gt;<a href='../S/2844.html#L22' title='Defined at 22 in Parser/parser.h.'>stack</a> = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(20);
<a name='L1660'>    self-&gt;index = 0;
<a name='L1661'>
<a name='L1662'>    self-&gt;events = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1663'>    self-&gt;start_event_obj = self-&gt;end_event_obj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1664'>    self-&gt;start_ns_event_obj = self-&gt;end_ns_event_obj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1665'>
<a name='L1666'>    <a href='../D/61.html' title='Multiple defined in 3 places.'>ALLOC</a>(<b>sizeof</b>(<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>), "create treebuilder");
<a name='L1667'>
<a name='L1668'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self;
<a name='L1669'><font color='red'>}</font>
<a name='L1670'>
<a name='L1671'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1672'><a href='../S/2562.html#L2862' title='Refered from 2862 in Modules/_elementtree.c.'>treebuilder</a>(PyObject* self_, PyObject* args)
<a name='L1673'><font color='red'>{</font>
<a name='L1674'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":TreeBuilder"))
<a name='L1675'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1676'>
<a name='L1677'>    <b>return</b> treebuilder_new();
<a name='L1678'><font color='red'>}</font>
<a name='L1679'>
<a name='L1680'><b>static</b> <b>void</b>
<a name='L1681'><a href='../S/2562.html#L2004' title='Refered from 2004 in Modules/_elementtree.c.'>treebuilder_dealloc</a>(TreeBuilderObject* self)
<a name='L1682'><font color='red'>{</font>
<a name='L1683'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;end_ns_event_obj);
<a name='L1684'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;start_ns_event_obj);
<a name='L1685'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;end_event_obj);
<a name='L1686'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;start_event_obj);
<a name='L1687'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;events);
<a name='L1688'>    Py_DECREF(self-&gt;<a href='../S/2844.html#L22' title='Defined at 22 in Parser/parser.h.'>stack</a>);
<a name='L1689'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;data);
<a name='L1690'>    Py_DECREF(self-&gt;last);
<a name='L1691'>    Py_DECREF(self-&gt;this);
<a name='L1692'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;root);
<a name='L1693'>
<a name='L1694'>    <a href='../D/4463.html' title='Multiple defined in 2 places.'>RELEASE</a>(<b>sizeof</b>(<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>), "destroy treebuilder");
<a name='L1695'>
<a name='L1696'>    PyObject_Del(self);
<a name='L1697'><font color='red'>}</font>
<a name='L1698'>
<a name='L1699'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L1700'><i><font color='green'>/* handlers */</font></i>
<a name='L1701'>
<a name='L1702'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L1703'>treebuilder_handle_xml(TreeBuilderObject* self, PyObject* encoding,
<a name='L1704'>                       PyObject* standalone)
<a name='L1705'><font color='red'>{</font>
<a name='L1706'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1707'><font color='red'>}</font>
<a name='L1708'>
<a name='L1709'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L1710'>treebuilder_handle_start(TreeBuilderObject* self, PyObject* tag,
<a name='L1711'>                         PyObject* attrib)
<a name='L1712'><font color='red'>{</font>
<a name='L1713'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>;
<a name='L1714'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* this;
<a name='L1715'>
<a name='L1716'>    <b>if</b> (self-&gt;data) <font color='red'>{</font>
<a name='L1717'>        <b>if</b> (self-&gt;this == self-&gt;last) <font color='red'>{</font>
<a name='L1718'>            Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;last-&gt;text));
<a name='L1719'>            self-&gt;last-&gt;text = <a href='../S/2562.html#L121' title='Defined at 121 in Modules/_elementtree.c.'>JOIN_SET</a>(
<a name='L1720'>                self-&gt;data, PyList_CheckExact(self-&gt;data)
<a name='L1721'>                );
<a name='L1722'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1723'>            Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;last-&gt;tail));
<a name='L1724'>            self-&gt;last-&gt;tail = <a href='../S/2562.html#L121' title='Defined at 121 in Modules/_elementtree.c.'>JOIN_SET</a>(
<a name='L1725'>                self-&gt;data, PyList_CheckExact(self-&gt;data)
<a name='L1726'>                );
<a name='L1727'>        <font color='red'>}</font>
<a name='L1728'>        self-&gt;data = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1729'>    <font color='red'>}</font>
<a name='L1730'>
<a name='L1731'>    <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> = element_new(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, attrib);
<a name='L1732'>    <b>if</b> (!<a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>)
<a name='L1733'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1734'>
<a name='L1735'>    this = (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self-&gt;this;
<a name='L1736'>
<a name='L1737'>    <b>if</b> (this != Py_None) <font color='red'>{</font>
<a name='L1738'>        <b>if</b> (element_add_subelement((<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) this, <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>) &lt; 0)
<a name='L1739'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1740'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1741'>        <b>if</b> (self-&gt;root) <font color='red'>{</font>
<a name='L1742'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L1743'>                elementtree_parseerror_obj,
<a name='L1744'>                "multiple elements on top level"
<a name='L1745'>                );
<a name='L1746'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1747'>        <font color='red'>}</font>
<a name='L1748'>        Py_INCREF(<a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>);
<a name='L1749'>        self-&gt;root = <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>;
<a name='L1750'>    <font color='red'>}</font>
<a name='L1751'>
<a name='L1752'>    <b>if</b> (self-&gt;index &lt; <a href='../S/534.html#L71' title='Defined at 71 in Include/listobject.h.'>PyList_GET_SIZE</a>(self-&gt;<a href='../S/2844.html#L22' title='Defined at 22 in Parser/parser.h.'>stack</a>)) <font color='red'>{</font>
<a name='L1753'>        <b>if</b> (<a href='../S/2796.html#L199' title='Defined at 199 in Objects/listobject.c.'>PyList_SetItem</a>(self-&gt;<a href='../S/2844.html#L22' title='Defined at 22 in Parser/parser.h.'>stack</a>, self-&gt;index, this) &lt; 0)
<a name='L1754'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1755'>        Py_INCREF(this);
<a name='L1756'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1757'>        <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(self-&gt;<a href='../S/2844.html#L22' title='Defined at 22 in Parser/parser.h.'>stack</a>, this) &lt; 0)
<a name='L1758'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1759'>    <font color='red'>}</font>
<a name='L1760'>    self-&gt;index++;
<a name='L1761'>
<a name='L1762'>    Py_DECREF(this);
<a name='L1763'>    Py_INCREF(<a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>);
<a name='L1764'>    self-&gt;this = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>;
<a name='L1765'>
<a name='L1766'>    Py_DECREF(self-&gt;last);
<a name='L1767'>    Py_INCREF(<a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>);
<a name='L1768'>    self-&gt;last = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>;
<a name='L1769'>
<a name='L1770'>    <b>if</b> (self-&gt;start_event_obj) <font color='red'>{</font>
<a name='L1771'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L1772'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* action = self-&gt;start_event_obj;
<a name='L1773'>        res = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(2);
<a name='L1774'>        <b>if</b> (res) <font color='red'>{</font>
<a name='L1775'>            Py_INCREF(action); PyTuple_SET_ITEM(res, 0, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) action);
<a name='L1776'>            Py_INCREF(<a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>);   PyTuple_SET_ITEM(res, 1, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>);
<a name='L1777'>            <a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(self-&gt;events, res);
<a name='L1778'>            Py_DECREF(res);
<a name='L1779'>        <font color='red'>}</font> <b>else</b>
<a name='L1780'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>(); <i><font color='green'>/* FIXME: propagate error */</font></i>
<a name='L1781'>    <font color='red'>}</font>
<a name='L1782'>
<a name='L1783'>    <b>return</b> <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>;
<a name='L1784'>
<a name='L1785'>  <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L1786'>    Py_DECREF(<a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>);
<a name='L1787'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1788'><font color='red'>}</font>
<a name='L1789'>
<a name='L1790'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L1791'>treebuilder_handle_data(TreeBuilderObject* self, PyObject* data)
<a name='L1792'><font color='red'>{</font>
<a name='L1793'>    <b>if</b> (!self-&gt;data) <font color='red'>{</font>
<a name='L1794'>        <b>if</b> (self-&gt;last == (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) Py_None) <font color='red'>{</font>
<a name='L1795'>            <i><font color='green'>/* ignore calls to data before the first call to start */</font></i>
<a name='L1796'>            <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1797'>        <font color='red'>}</font>
<a name='L1798'>        <i><font color='green'>/* store the first item as is */</font></i>
<a name='L1799'>        Py_INCREF(data); self-&gt;data = data;
<a name='L1800'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1801'>        <i><font color='green'>/* more than one item; use a list to collect items */</font></i>
<a name='L1802'>        <b>if</b> (PyBytes_CheckExact(self-&gt;data) &amp;&amp; <a href='../D/4223.html' title='Multiple defined in 2 places.'>Py_REFCNT</a>(self-&gt;data) == 1 &amp;&amp;
<a name='L1803'>            PyBytes_CheckExact(data) &amp;&amp; PyBytes_GET_SIZE(data) == 1) <font color='red'>{</font>
<a name='L1804'>            <i><font color='green'>/* expat often generates single character data sections; handle</font></i>
<a name='L1805'><i><font color='green'>               the most common case by resizing the existing string... */</font></i>
<a name='L1806'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size = PyBytes_GET_SIZE(self-&gt;data);
<a name='L1807'>            <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;self-&gt;data, size + 1) &lt; 0)
<a name='L1808'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1809'>            PyBytes_AS_STRING(self-&gt;data)[size] = PyBytes_AS_STRING(data)[0];
<a name='L1810'>        <font color='red'>}</font> <b>else</b> <b>if</b> (PyList_CheckExact(self-&gt;data)) <font color='red'>{</font>
<a name='L1811'>            <b>if</b> (<a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(self-&gt;data, data) &lt; 0)
<a name='L1812'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1813'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1814'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* list = <a href='../S/2796.html#L113' title='Defined at 113 in Objects/listobject.c.'>PyList_New</a>(2);
<a name='L1815'>            <b>if</b> (!list)
<a name='L1816'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1817'>            PyList_SET_ITEM(list, 0, self-&gt;data);
<a name='L1818'>            Py_INCREF(data); PyList_SET_ITEM(list, 1, data);
<a name='L1819'>            self-&gt;data = list;
<a name='L1820'>        <font color='red'>}</font>
<a name='L1821'>    <font color='red'>}</font>
<a name='L1822'>
<a name='L1823'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L1824'><font color='red'>}</font>
<a name='L1825'>
<a name='L1826'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L1827'>treebuilder_handle_end(TreeBuilderObject* self, PyObject* tag)
<a name='L1828'><font color='red'>{</font>
<a name='L1829'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* item;
<a name='L1830'>
<a name='L1831'>    <b>if</b> (self-&gt;data) <font color='red'>{</font>
<a name='L1832'>        <b>if</b> (self-&gt;this == self-&gt;last) <font color='red'>{</font>
<a name='L1833'>            Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;last-&gt;text));
<a name='L1834'>            self-&gt;last-&gt;text = <a href='../S/2562.html#L121' title='Defined at 121 in Modules/_elementtree.c.'>JOIN_SET</a>(
<a name='L1835'>                self-&gt;data, PyList_CheckExact(self-&gt;data)
<a name='L1836'>                );
<a name='L1837'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1838'>            Py_DECREF(<a href='../S/2562.html#L122' title='Defined at 122 in Modules/_elementtree.c.'>JOIN_OBJ</a>(self-&gt;last-&gt;tail));
<a name='L1839'>            self-&gt;last-&gt;tail = <a href='../S/2562.html#L121' title='Defined at 121 in Modules/_elementtree.c.'>JOIN_SET</a>(
<a name='L1840'>                self-&gt;data, PyList_CheckExact(self-&gt;data)
<a name='L1841'>                );
<a name='L1842'>        <font color='red'>}</font>
<a name='L1843'>        self-&gt;data = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1844'>    <font color='red'>}</font>
<a name='L1845'>
<a name='L1846'>    <b>if</b> (self-&gt;index == 0) <font color='red'>{</font>
<a name='L1847'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L1848'>            PyExc_IndexError,
<a name='L1849'>            "pop from empty stack"
<a name='L1850'>            );
<a name='L1851'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1852'>    <font color='red'>}</font>
<a name='L1853'>
<a name='L1854'>    self-&gt;index--;
<a name='L1855'>
<a name='L1856'>    item = PyList_GET_ITEM(self-&gt;<a href='../S/2844.html#L22' title='Defined at 22 in Parser/parser.h.'>stack</a>, self-&gt;index);
<a name='L1857'>    Py_INCREF(item);
<a name='L1858'>
<a name='L1859'>    Py_DECREF(self-&gt;last);
<a name='L1860'>
<a name='L1861'>    self-&gt;last = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) self-&gt;this;
<a name='L1862'>    self-&gt;this = (<a href='../S/2562.html#L252' title='Defined at 252 in Modules/_elementtree.c.'>ElementObject</a>*) item;
<a name='L1863'>
<a name='L1864'>    <b>if</b> (self-&gt;end_event_obj) <font color='red'>{</font>
<a name='L1865'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L1866'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* action = self-&gt;end_event_obj;
<a name='L1867'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> = (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self-&gt;last;
<a name='L1868'>        res = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(2);
<a name='L1869'>        <b>if</b> (res) <font color='red'>{</font>
<a name='L1870'>            Py_INCREF(action); PyTuple_SET_ITEM(res, 0, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) action);
<a name='L1871'>            Py_INCREF(<a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>);   PyTuple_SET_ITEM(res, 1, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a>);
<a name='L1872'>            <a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(self-&gt;events, res);
<a name='L1873'>            Py_DECREF(res);
<a name='L1874'>        <font color='red'>}</font> <b>else</b>
<a name='L1875'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>(); <i><font color='green'>/* FIXME: propagate error */</font></i>
<a name='L1876'>    <font color='red'>}</font>
<a name='L1877'>
<a name='L1878'>    Py_INCREF(self-&gt;last);
<a name='L1879'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self-&gt;last;
<a name='L1880'><font color='red'>}</font>
<a name='L1881'>
<a name='L1882'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(<b>void</b>)
<a name='L1883'>treebuilder_handle_namespace(TreeBuilderObject* self, <b>int</b> start,
<a name='L1884'>                             PyObject *prefix, PyObject *uri)
<a name='L1885'><font color='red'>{</font>
<a name='L1886'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L1887'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* action;
<a name='L1888'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* parcel;
<a name='L1889'>
<a name='L1890'>    <b>if</b> (!self-&gt;events)
<a name='L1891'>        <b>return</b>;
<a name='L1892'>
<a name='L1893'>    <b>if</b> (start) <font color='red'>{</font>
<a name='L1894'>        <b>if</b> (!self-&gt;start_ns_event_obj)
<a name='L1895'>            <b>return</b>;
<a name='L1896'>        action = self-&gt;start_ns_event_obj;
<a name='L1897'>        parcel = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("OO", <a href='../S/2664.html#L148' title='Defined at 148 in Modules/expat/xmlparse.c.'>prefix</a>, uri);
<a name='L1898'>        <b>if</b> (!parcel)
<a name='L1899'>            <b>return</b>;
<a name='L1900'>        Py_INCREF(action);
<a name='L1901'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1902'>        <b>if</b> (!self-&gt;end_ns_event_obj)
<a name='L1903'>            <b>return</b>;
<a name='L1904'>        action = self-&gt;end_ns_event_obj;
<a name='L1905'>        Py_INCREF(action);
<a name='L1906'>        parcel = Py_None;
<a name='L1907'>        Py_INCREF(parcel);
<a name='L1908'>    <font color='red'>}</font>
<a name='L1909'>
<a name='L1910'>    res = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(2);
<a name='L1911'>
<a name='L1912'>    <b>if</b> (res) <font color='red'>{</font>
<a name='L1913'>        PyTuple_SET_ITEM(res, 0, action);
<a name='L1914'>        PyTuple_SET_ITEM(res, 1, parcel);
<a name='L1915'>        <a href='../S/2796.html#L286' title='Defined at 286 in Objects/listobject.c.'>PyList_Append</a>(self-&gt;events, res);
<a name='L1916'>        Py_DECREF(res);
<a name='L1917'>    <font color='red'>}</font> <b>else</b>
<a name='L1918'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>(); <i><font color='green'>/* FIXME: propagate error */</font></i>
<a name='L1919'><font color='red'>}</font>
<a name='L1920'>
<a name='L1921'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L1922'><i><font color='green'>/* methods (in alphabetical order) */</font></i>
<a name='L1923'>
<a name='L1924'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1925'><a href='../S/2562.html#L1992' title='Refered from 1992 in Modules/_elementtree.c.'>treebuilder_data</a>(TreeBuilderObject* self, PyObject* args)
<a name='L1926'><font color='red'>{</font>
<a name='L1927'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* data;
<a name='L1928'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O:data", &amp;data))
<a name='L1929'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1930'>
<a name='L1931'>    <b>return</b> treebuilder_handle_data(self, data);
<a name='L1932'><font color='red'>}</font>
<a name='L1933'>
<a name='L1934'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1935'><a href='../S/2562.html#L1994' title='Refered from 1994 in Modules/_elementtree.c.'>treebuilder_end</a>(TreeBuilderObject* self, PyObject* args)
<a name='L1936'><font color='red'>{</font>
<a name='L1937'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L1938'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O:end", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>))
<a name='L1939'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1940'>
<a name='L1941'>    <b>return</b> treebuilder_handle_end(self, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L1942'><font color='red'>}</font>
<a name='L1943'>
<a name='L1944'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L1945'>treebuilder_done(TreeBuilderObject* self)
<a name='L1946'><font color='red'>{</font>
<a name='L1947'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L1948'>
<a name='L1949'>    <i><font color='green'>/* FIXME: check stack size? */</font></i>
<a name='L1950'>
<a name='L1951'>    <b>if</b> (self-&gt;root)
<a name='L1952'>        res = self-&gt;root;
<a name='L1953'>    <b>else</b>
<a name='L1954'>        res = Py_None;
<a name='L1955'>
<a name='L1956'>    Py_INCREF(res);
<a name='L1957'>    <b>return</b> res;
<a name='L1958'><font color='red'>}</font>
<a name='L1959'>
<a name='L1960'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1961'><a href='../S/2562.html#L1996' title='Refered from 1996 in Modules/_elementtree.c.'>treebuilder_close</a>(TreeBuilderObject* self, PyObject* args)
<a name='L1962'><font color='red'>{</font>
<a name='L1963'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":close"))
<a name='L1964'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1965'>
<a name='L1966'>    <b>return</b> treebuilder_done(self);
<a name='L1967'><font color='red'>}</font>
<a name='L1968'>
<a name='L1969'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1970'><a href='../S/2562.html#L1993' title='Refered from 1993 in Modules/_elementtree.c.'>treebuilder_start</a>(TreeBuilderObject* self, PyObject* args)
<a name='L1971'><font color='red'>{</font>
<a name='L1972'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L1973'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* attrib = Py_None;
<a name='L1974'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O:start", &amp;<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, &amp;attrib))
<a name='L1975'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1976'>
<a name='L1977'>    <b>return</b> treebuilder_handle_start(self, <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, attrib);
<a name='L1978'><font color='red'>}</font>
<a name='L1979'>
<a name='L1980'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1981'><a href='../S/2562.html#L1995' title='Refered from 1995 in Modules/_elementtree.c.'>treebuilder_xml</a>(TreeBuilderObject* self, PyObject* args)
<a name='L1982'><font color='red'>{</font>
<a name='L1983'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>;
<a name='L1984'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* standalone;
<a name='L1985'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "OO:xml", &amp;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, &amp;standalone))
<a name='L1986'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1987'>
<a name='L1988'>    <b>return</b> treebuilder_handle_xml(self, <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, standalone);
<a name='L1989'><font color='red'>}</font>
<a name='L1990'>
<a name='L1991'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> treebuilder_methods[] = <font color='red'>{</font>
<a name='L1992'>    <font color='red'>{</font>"data", (PyCFunction) <a href='../S/2562.html#L1925' title='Defined at 1925 in Modules/_elementtree.c.'>treebuilder_data</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1993'>    <font color='red'>{</font>"start", (PyCFunction) <a href='../S/2562.html#L1970' title='Defined at 1970 in Modules/_elementtree.c.'>treebuilder_start</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1994'>    <font color='red'>{</font>"end", (PyCFunction) <a href='../S/2562.html#L1935' title='Defined at 1935 in Modules/_elementtree.c.'>treebuilder_end</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1995'>    <font color='red'>{</font>"xml", (PyCFunction) <a href='../S/2562.html#L1981' title='Defined at 1981 in Modules/_elementtree.c.'>treebuilder_xml</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1996'>    <font color='red'>{</font>"close", (PyCFunction) <a href='../S/2562.html#L1961' title='Defined at 1961 in Modules/_elementtree.c.'>treebuilder_close</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L1997'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L1998'><font color='red'>}</font>;
<a name='L1999'>
<a name='L2000'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> TreeBuilder_Type = <font color='red'>{</font>
<a name='L2001'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L2002'>    "TreeBuilder", <b>sizeof</b>(<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>), 0,
<a name='L2003'>    <i><font color='green'>/* methods */</font></i>
<a name='L2004'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2562.html#L1681' title='Defined at 1681 in Modules/_elementtree.c.'>treebuilder_dealloc</a>, <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L2005'>    0, <i><font color='green'>/* tp_print */</font></i>
<a name='L2006'>    0, <i><font color='green'>/* tp_getattr */</font></i>
<a name='L2007'>    0, <i><font color='green'>/* tp_setattr */</font></i>
<a name='L2008'>    0, <i><font color='green'>/* tp_reserved */</font></i>
<a name='L2009'>    0, <i><font color='green'>/* tp_repr */</font></i>
<a name='L2010'>    0, <i><font color='green'>/* tp_as_number */</font></i>
<a name='L2011'>    0, <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L2012'>    0, <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L2013'>    0, <i><font color='green'>/* tp_hash */</font></i>
<a name='L2014'>    0, <i><font color='green'>/* tp_call */</font></i>
<a name='L2015'>    0, <i><font color='green'>/* tp_str */</font></i>
<a name='L2016'>    0, <i><font color='green'>/* tp_getattro */</font></i>
<a name='L2017'>    0, <i><font color='green'>/* tp_setattro */</font></i>
<a name='L2018'>    0, <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L2019'>    Py_TPFLAGS_DEFAULT, <i><font color='green'>/* tp_flags */</font></i>
<a name='L2020'>    0, <i><font color='green'>/* tp_doc */</font></i>
<a name='L2021'>    0, <i><font color='green'>/* tp_traverse */</font></i>
<a name='L2022'>    0, <i><font color='green'>/* tp_clear */</font></i>
<a name='L2023'>    0, <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L2024'>    0, <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L2025'>    0, <i><font color='green'>/* tp_iter */</font></i>
<a name='L2026'>    0, <i><font color='green'>/* tp_iternext */</font></i>
<a name='L2027'>    treebuilder_methods, <i><font color='green'>/* tp_methods */</font></i>
<a name='L2028'>    0, <i><font color='green'>/* tp_members */</font></i>
<a name='L2029'><font color='red'>}</font>;
<a name='L2030'>
<a name='L2031'><i><font color='green'>/* ==================================================================== */</font></i>
<a name='L2032'><i><font color='green'>/* the expat interface */</font></i>
<a name='L2033'>
<a name='L2034'><font color='darkred'>#if</font> <b>defined</b>(<a href='../S/2562.html#L58' title='Defined at 58 in Modules/_elementtree.c.'>USE_EXPAT</a>)
<a name='L2035'>
<a name='L2036'><font color='darkred'>#include</font> "<a href='2653.html'>expat.h</a>"
<a name='L2037'>
<a name='L2038'><font color='darkred'>#if</font> <b>defined</b>(USE_PYEXPAT_CAPI)
<a name='L2039'><font color='darkred'>#include</font> "<a href='559.html'>pyexpat.h</a>"
<a name='L2040'><b>static</b> <b>struct</b> <a href='../S/559.html#L9' title='Defined at 9 in Include/pyexpat.h.'>PyExpat_CAPI</a>* expat_capi;
<a name='L2041'><font color='darkred'>#define</font> <a href='../R/923.html' title='Multiple refered from 18 places.'>EXPAT</a>(func) (expat_capi-&gt;func)
<a name='L2042'><font color='darkred'>#else</font>
<a name='L2043'><font color='darkred'>#define</font> <a href='../R/923.html' title='Multiple refered from 18 places.'>EXPAT</a>(func) (XML_##func)
<a name='L2044'><font color='darkred'>#endif</font>
<a name='L2045'>
<a name='L2046'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L2047'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L2048'>
<a name='L2049'>    <a href='../S/2653.html#L25' title='Defined at 25 in Modules/expat/expat.h.'>XML_Parser</a> parser;
<a name='L2050'>
<a name='L2051'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* target;
<a name='L2052'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* entity;
<a name='L2053'>
<a name='L2054'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* names;
<a name='L2055'>
<a name='L2056'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* handle_xml;
<a name='L2057'>
<a name='L2058'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* handle_start;
<a name='L2059'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* handle_data;
<a name='L2060'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* handle_end;
<a name='L2061'>
<a name='L2062'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* handle_comment;
<a name='L2063'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* handle_pi;
<a name='L2064'>
<a name='L2065'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* handle_close;
<a name='L2066'>
<a name='L2067'><font color='red'>}</font> <a href='../R/4948.html' title='Multiple refered from 5 places.'>XMLParserObject</a>;
<a name='L2068'>
<a name='L2069'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> XMLParser_Type;
<a name='L2070'>
<a name='L2071'><i><font color='green'>/* helpers */</font></i>
<a name='L2072'>
<a name='L2073'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L2074'>makeuniversal(XMLParserObject* self, <b>const</b> <b>char</b>* string)
<a name='L2075'><font color='red'>{</font>
<a name='L2076'>    <i><font color='green'>/* convert a UTF-8 tag/attribute name from the expat parser</font></i>
<a name='L2077'><i><font color='green'>       to a universal name string */</font></i>
<a name='L2078'>
<a name='L2079'>    <b>int</b> size = strlen(<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>);
<a name='L2080'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>;
<a name='L2081'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L2082'>
<a name='L2083'>    <i><font color='green'>/* look the 'raw' name up in the names dictionary */</font></i>
<a name='L2084'>    <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a> = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>, size);
<a name='L2085'>    <b>if</b> (!<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>)
<a name='L2086'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2087'>
<a name='L2088'>    <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../S/2787.html#L704' title='Defined at 704 in Objects/dictobject.c.'>PyDict_GetItem</a>(self-&gt;names, <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2089'>
<a name='L2090'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) <font color='red'>{</font>
<a name='L2091'>        Py_INCREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L2092'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2093'>        <i><font color='green'>/* new name.  convert to universal name, and decode as</font></i>
<a name='L2094'><i><font color='green'>           necessary */</font></i>
<a name='L2095'>
<a name='L2096'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L2097'>        <b>char</b>* p;
<a name='L2098'>        <b>int</b> i;
<a name='L2099'>
<a name='L2100'>        <i><font color='green'>/* look for namespace separator */</font></i>
<a name='L2101'>        <b>for</b> (i = 0; i &lt; size; i++)
<a name='L2102'>            <b>if</b> (<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>[i] == '}')
<a name='L2103'>                <b>break</b>;
<a name='L2104'>        <b>if</b> (i != size) <font color='red'>{</font>
<a name='L2105'>            <i><font color='green'>/* convert to universal name */</font></i>
<a name='L2106'>            <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a> = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, size+1);
<a name='L2107'>            p = PyBytes_AS_STRING(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L2108'>            p[0] = '{';
<a name='L2109'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(p+1, <a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>, size);
<a name='L2110'>            size++;
<a name='L2111'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2112'>            <i><font color='green'>/* plain name; use key as tag */</font></i>
<a name='L2113'>            Py_INCREF(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2114'>            <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a> = <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>;
<a name='L2115'>        <font color='red'>}</font>
<a name='L2116'>        
<a name='L2117'>        <i><font color='green'>/* decode universal name */</font></i>
<a name='L2118'>        p = PyBytes_AS_STRING(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L2119'>        <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(p, size, "strict");
<a name='L2120'>        Py_DECREF(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L2121'>        <b>if</b> (!<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) <font color='red'>{</font>
<a name='L2122'>            Py_DECREF(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2123'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2124'>        <font color='red'>}</font>
<a name='L2125'>
<a name='L2126'>        <i><font color='green'>/* add to names dictionary */</font></i>
<a name='L2127'>        <b>if</b> (<a href='../S/2787.html#L786' title='Defined at 786 in Objects/dictobject.c.'>PyDict_SetItem</a>(self-&gt;names, <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) &lt; 0) <font color='red'>{</font>
<a name='L2128'>            Py_DECREF(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2129'>            Py_DECREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L2130'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2131'>        <font color='red'>}</font>
<a name='L2132'>    <font color='red'>}</font>
<a name='L2133'>
<a name='L2134'>    Py_DECREF(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2135'>    <b>return</b> <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L2136'><font color='red'>}</font>
<a name='L2137'>
<a name='L2138'><b>static</b> <b>void</b>
<a name='L2139'><a href='../R/7627.html' title='Multiple refered from 2 places.'>expat_set_error</a>(<b>const</b> <b>char</b>* message, <b>int</b> line, <b>int</b> column)
<a name='L2140'><font color='red'>{</font>
<a name='L2141'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2142'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../D/10401.html' title='Multiple defined in 2 places.'>position</a>;
<a name='L2143'>    <b>char</b> <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>[256];
<a name='L2144'>
<a name='L2145'>    sprintf(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>, "%.100s: line %d, column %d", message, line, column);
<a name='L2146'>
<a name='L2147'>    <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a> = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(elementtree_parseerror_obj, "s", <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>);
<a name='L2148'>    <b>if</b> (!<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>)
<a name='L2149'>        <b>return</b>;
<a name='L2150'>
<a name='L2151'>    <i><font color='green'>/* add position attribute */</font></i>
<a name='L2152'>    <a href='../D/10401.html' title='Multiple defined in 2 places.'>position</a> = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(ii)", line, column);
<a name='L2153'>    <b>if</b> (!<a href='../D/10401.html' title='Multiple defined in 2 places.'>position</a>) <font color='red'>{</font>
<a name='L2154'>        Py_DECREF(<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>);
<a name='L2155'>        <b>return</b>;
<a name='L2156'>    <font color='red'>}</font>
<a name='L2157'>    <b>if</b> (<a href='../S/2803.html#L806' title='Defined at 806 in Objects/object.c.'>PyObject_SetAttrString</a>(<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>, "position", <a href='../D/10401.html' title='Multiple defined in 2 places.'>position</a>) == -1) <font color='red'>{</font>
<a name='L2158'>        Py_DECREF(<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>);
<a name='L2159'>        Py_DECREF(<a href='../D/10401.html' title='Multiple defined in 2 places.'>position</a>);
<a name='L2160'>        <b>return</b>;
<a name='L2161'>    <font color='red'>}</font>
<a name='L2162'>    Py_DECREF(<a href='../D/10401.html' title='Multiple defined in 2 places.'>position</a>);
<a name='L2163'>
<a name='L2164'>    <a href='../S/3106.html#L53' title='Defined at 53 in Python/errors.c.'>PyErr_SetObject</a>(elementtree_parseerror_obj, <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>);
<a name='L2165'>    Py_DECREF(<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>);
<a name='L2166'><font color='red'>}</font>
<a name='L2167'>
<a name='L2168'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L2169'><i><font color='green'>/* handlers */</font></i>
<a name='L2170'>
<a name='L2171'><b>static</b> <b>void</b>
<a name='L2172'><a href='../S/2562.html#L2523' title='Refered from 2523 in Modules/_elementtree.c.'>expat_default_handler</a>(XMLParserObject* self, <b>const</b> XML_Char* data_in,
<a name='L2173'>                      <b>int</b> data_len)
<a name='L2174'><font color='red'>{</font>
<a name='L2175'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>;
<a name='L2176'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L2177'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L2178'>
<a name='L2179'>    <b>if</b> (data_len &lt; 2 || data_in[0] != '&amp;')
<a name='L2180'>        <b>return</b>;
<a name='L2181'>
<a name='L2182'>    <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a> = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(data_in + 1, data_len - 2, "strict");
<a name='L2183'>    <b>if</b> (!<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>)
<a name='L2184'>        <b>return</b>;
<a name='L2185'>
<a name='L2186'>    <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../S/2787.html#L704' title='Defined at 704 in Objects/dictobject.c.'>PyDict_GetItem</a>(self-&gt;entity, <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2187'>
<a name='L2188'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) <font color='red'>{</font>
<a name='L2189'>        <b>if</b> (<a href='../S/2562.html#L1635' title='Defined at 1635 in Modules/_elementtree.c.'>TreeBuilder_CheckExact</a>(self-&gt;target))
<a name='L2190'>            res = treebuilder_handle_data(
<a name='L2191'>                (<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>
<a name='L2192'>                );
<a name='L2193'>        <b>else</b> <b>if</b> (self-&gt;handle_data)
<a name='L2194'>            res = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(self-&gt;handle_data, "O", <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L2195'>        <b>else</b>
<a name='L2196'>            res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2197'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L2198'>    <font color='red'>}</font> <b>else</b> <b>if</b> (!<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L2199'>        <i><font color='green'>/* Report the first error, not the last */</font></i>
<a name='L2200'>        <b>char</b> message[128] = "undefined entity ";
<a name='L2201'>        strncat(message, data_in, data_len &lt; 100?data_len:100);
<a name='L2202'>        <a href='../S/2562.html#L2139' title='Defined at 2139 in Modules/_elementtree.c.'>expat_set_error</a>(
<a name='L2203'>            message,
<a name='L2204'>            <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(GetErrorLineNumber)(self-&gt;parser),
<a name='L2205'>            <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(GetErrorColumnNumber)(self-&gt;parser)
<a name='L2206'>            );
<a name='L2207'>    <font color='red'>}</font>
<a name='L2208'>
<a name='L2209'>    Py_DECREF(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2210'><font color='red'>}</font>
<a name='L2211'>
<a name='L2212'><b>static</b> <b>void</b>
<a name='L2213'><a href='../S/2562.html#L2518' title='Refered from 2518 in Modules/_elementtree.c.'>expat_start_handler</a>(XMLParserObject* self, <b>const</b> XML_Char* tag_in,
<a name='L2214'>                    <b>const</b> XML_Char **attrib_in)
<a name='L2215'><font color='red'>{</font>
<a name='L2216'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L2217'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L2218'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* attrib;
<a name='L2219'>    <b>int</b> ok;
<a name='L2220'>
<a name='L2221'>    <i><font color='green'>/* tag name */</font></i>
<a name='L2222'>    <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a> = makeuniversal(self, tag_in);
<a name='L2223'>    <b>if</b> (!<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>)
<a name='L2224'>        <b>return</b>; <i><font color='green'>/* parser will look for errors */</font></i>
<a name='L2225'>
<a name='L2226'>    <i><font color='green'>/* attributes */</font></i>
<a name='L2227'>    <b>if</b> (attrib_in[0]) <font color='red'>{</font>
<a name='L2228'>        attrib = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L2229'>        <b>if</b> (!attrib)
<a name='L2230'>            <b>return</b>;
<a name='L2231'>        <b>while</b> (attrib_in[0] &amp;&amp; attrib_in[1]) <font color='red'>{</font>
<a name='L2232'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a> = makeuniversal(self, attrib_in[0]);
<a name='L2233'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(attrib_in[1], strlen(attrib_in[1]), "strict");
<a name='L2234'>            <b>if</b> (!<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a> || !<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) <font color='red'>{</font>
<a name='L2235'>                <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L2236'>                <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2237'>                Py_DECREF(attrib);
<a name='L2238'>                <b>return</b>;
<a name='L2239'>            <font color='red'>}</font>
<a name='L2240'>            ok = <a href='../S/2787.html#L786' title='Defined at 786 in Objects/dictobject.c.'>PyDict_SetItem</a>(attrib, <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L2241'>            Py_DECREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L2242'>            Py_DECREF(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L2243'>            <b>if</b> (ok &lt; 0) <font color='red'>{</font>
<a name='L2244'>                Py_DECREF(attrib);
<a name='L2245'>                <b>return</b>;
<a name='L2246'>            <font color='red'>}</font>
<a name='L2247'>            attrib_in += 2;
<a name='L2248'>        <font color='red'>}</font>
<a name='L2249'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2250'>        Py_INCREF(Py_None);
<a name='L2251'>        attrib = Py_None;
<a name='L2252'>    <font color='red'>}</font>
<a name='L2253'>
<a name='L2254'>    <b>if</b> (<a href='../S/2562.html#L1635' title='Defined at 1635 in Modules/_elementtree.c.'>TreeBuilder_CheckExact</a>(self-&gt;target))
<a name='L2255'>        <i><font color='green'>/* shortcut */</font></i>
<a name='L2256'>        res = treebuilder_handle_start((<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target,
<a name='L2257'>                                       <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, attrib);
<a name='L2258'>    <b>else</b> <b>if</b> (self-&gt;handle_start) <font color='red'>{</font>
<a name='L2259'>        <b>if</b> (attrib == Py_None) <font color='red'>{</font>
<a name='L2260'>            Py_DECREF(attrib);
<a name='L2261'>            attrib = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L2262'>            <b>if</b> (!attrib)
<a name='L2263'>                <b>return</b>;
<a name='L2264'>        <font color='red'>}</font>
<a name='L2265'>        res = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(self-&gt;handle_start, "OO", <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, attrib);
<a name='L2266'>    <font color='red'>}</font> <b>else</b>
<a name='L2267'>        res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2268'>
<a name='L2269'>    Py_DECREF(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L2270'>    Py_DECREF(attrib);
<a name='L2271'>
<a name='L2272'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L2273'><font color='red'>}</font>
<a name='L2274'>
<a name='L2275'><b>static</b> <b>void</b>
<a name='L2276'><a href='../S/2562.html#L2527' title='Refered from 2527 in Modules/_elementtree.c.'>expat_data_handler</a>(XMLParserObject* self, <b>const</b> XML_Char* data_in,
<a name='L2277'>                   <b>int</b> data_len)
<a name='L2278'><font color='red'>{</font>
<a name='L2279'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* data;
<a name='L2280'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L2281'>
<a name='L2282'>    data = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(data_in, data_len, "strict");
<a name='L2283'>    <b>if</b> (!data)
<a name='L2284'>        <b>return</b>; <i><font color='green'>/* parser will look for errors */</font></i>
<a name='L2285'>
<a name='L2286'>    <b>if</b> (<a href='../S/2562.html#L1635' title='Defined at 1635 in Modules/_elementtree.c.'>TreeBuilder_CheckExact</a>(self-&gt;target))
<a name='L2287'>        <i><font color='green'>/* shortcut */</font></i>
<a name='L2288'>        res = treebuilder_handle_data((<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target, data);
<a name='L2289'>    <b>else</b> <b>if</b> (self-&gt;handle_data)
<a name='L2290'>        res = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(self-&gt;handle_data, "O", data);
<a name='L2291'>    <b>else</b>
<a name='L2292'>        res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2293'>
<a name='L2294'>    Py_DECREF(data);
<a name='L2295'>
<a name='L2296'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L2297'><font color='red'>}</font>
<a name='L2298'>
<a name='L2299'><b>static</b> <b>void</b>
<a name='L2300'><a href='../S/2562.html#L2519' title='Refered from 2519 in Modules/_elementtree.c.'>expat_end_handler</a>(XMLParserObject* self, <b>const</b> XML_Char* tag_in)
<a name='L2301'><font color='red'>{</font>
<a name='L2302'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>;
<a name='L2303'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2304'>
<a name='L2305'>    <b>if</b> (<a href='../S/2562.html#L1635' title='Defined at 1635 in Modules/_elementtree.c.'>TreeBuilder_CheckExact</a>(self-&gt;target))
<a name='L2306'>        <i><font color='green'>/* shortcut */</font></i>
<a name='L2307'>        <i><font color='green'>/* the standard tree builder doesn't look at the end tag */</font></i>
<a name='L2308'>        res = treebuilder_handle_end(
<a name='L2309'>            (<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target, Py_None
<a name='L2310'>            );
<a name='L2311'>    <b>else</b> <b>if</b> (self-&gt;handle_end) <font color='red'>{</font>
<a name='L2312'>        <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a> = makeuniversal(self, tag_in);
<a name='L2313'>        <b>if</b> (<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>) <font color='red'>{</font>
<a name='L2314'>            res = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(self-&gt;handle_end, "O", <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L2315'>            Py_DECREF(<a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>);
<a name='L2316'>        <font color='red'>}</font>
<a name='L2317'>    <font color='red'>}</font>
<a name='L2318'>
<a name='L2319'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L2320'><font color='red'>}</font>
<a name='L2321'>
<a name='L2322'><b>static</b> <b>void</b>
<a name='L2323'><a href='../R/7629.html' title='Multiple refered from 2 places.'>expat_start_ns_handler</a>(XMLParserObject* self, <b>const</b> XML_Char* prefix,
<a name='L2324'>                       <b>const</b> XML_Char *uri)
<a name='L2325'><font color='red'>{</font>
<a name='L2326'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* sprefix = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2327'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* suri = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2328'>
<a name='L2329'>    suri = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(uri, strlen(uri), "strict");
<a name='L2330'>    <b>if</b> (!suri)
<a name='L2331'>        <b>return</b>;
<a name='L2332'>
<a name='L2333'>    <b>if</b> (<a href='../S/2664.html#L148' title='Defined at 148 in Modules/expat/xmlparse.c.'>prefix</a>)
<a name='L2334'>        sprefix = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(<a href='../S/2664.html#L148' title='Defined at 148 in Modules/expat/xmlparse.c.'>prefix</a>, strlen(<a href='../S/2664.html#L148' title='Defined at 148 in Modules/expat/xmlparse.c.'>prefix</a>), "strict");
<a name='L2335'>    <b>else</b>
<a name='L2336'>        sprefix = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("");
<a name='L2337'>    <b>if</b> (!sprefix) <font color='red'>{</font>
<a name='L2338'>        Py_DECREF(suri);
<a name='L2339'>        <b>return</b>;
<a name='L2340'>    <font color='red'>}</font>
<a name='L2341'>
<a name='L2342'>    treebuilder_handle_namespace(
<a name='L2343'>        (<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target, 1, sprefix, suri
<a name='L2344'>        );
<a name='L2345'>
<a name='L2346'>    Py_DECREF(sprefix);
<a name='L2347'>    Py_DECREF(suri);
<a name='L2348'><font color='red'>}</font>
<a name='L2349'>
<a name='L2350'><b>static</b> <b>void</b>
<a name='L2351'><a href='../R/7625.html' title='Multiple refered from 2 places.'>expat_end_ns_handler</a>(XMLParserObject* self, <b>const</b> XML_Char* prefix_in)
<a name='L2352'><font color='red'>{</font>
<a name='L2353'>    treebuilder_handle_namespace(
<a name='L2354'>        (<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target, 0, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L2355'>        );
<a name='L2356'><font color='red'>}</font>
<a name='L2357'>
<a name='L2358'><b>static</b> <b>void</b>
<a name='L2359'><a href='../S/2562.html#L2532' title='Refered from 2532 in Modules/_elementtree.c.'>expat_comment_handler</a>(XMLParserObject* self, <b>const</b> XML_Char* comment_in)
<a name='L2360'><font color='red'>{</font>
<a name='L2361'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* comment;
<a name='L2362'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L2363'>
<a name='L2364'>    <b>if</b> (self-&gt;handle_comment) <font color='red'>{</font>
<a name='L2365'>        comment = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(comment_in, strlen(comment_in), "strict");
<a name='L2366'>        <b>if</b> (comment) <font color='red'>{</font>
<a name='L2367'>            res = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(self-&gt;handle_comment, "O", comment);
<a name='L2368'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L2369'>            Py_DECREF(comment);
<a name='L2370'>        <font color='red'>}</font>
<a name='L2371'>    <font color='red'>}</font>
<a name='L2372'><font color='red'>}</font>
<a name='L2373'>
<a name='L2374'><b>static</b> <b>void</b>
<a name='L2375'><a href='../S/2562.html#L2537' title='Refered from 2537 in Modules/_elementtree.c.'>expat_pi_handler</a>(XMLParserObject* self, <b>const</b> XML_Char* target_in,
<a name='L2376'>                 <b>const</b> XML_Char* data_in)
<a name='L2377'><font color='red'>{</font>
<a name='L2378'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* target;
<a name='L2379'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* data;
<a name='L2380'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L2381'>
<a name='L2382'>    <b>if</b> (self-&gt;handle_pi) <font color='red'>{</font>
<a name='L2383'>        target = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(target_in, strlen(target_in), "strict");
<a name='L2384'>        data = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(data_in, strlen(data_in), "strict");
<a name='L2385'>        <b>if</b> (target &amp;&amp; data) <font color='red'>{</font>
<a name='L2386'>            res = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(self-&gt;handle_pi, "OO", target, data);
<a name='L2387'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(res);
<a name='L2388'>            Py_DECREF(data);
<a name='L2389'>            Py_DECREF(target);
<a name='L2390'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2391'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(data);
<a name='L2392'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target);
<a name='L2393'>        <font color='red'>}</font>
<a name='L2394'>    <font color='red'>}</font>
<a name='L2395'><font color='red'>}</font>
<a name='L2396'>
<a name='L2397'><b>static</b> <b>int</b>
<a name='L2398'><a href='../S/2562.html#L2541' title='Refered from 2541 in Modules/_elementtree.c.'>expat_unknown_encoding_handler</a>(XMLParserObject *self, <b>const</b> XML_Char *name,
<a name='L2399'>                               XML_Encoding *info)
<a name='L2400'><font color='red'>{</font>
<a name='L2401'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* u;
<a name='L2402'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>* p;
<a name='L2403'>    <b>unsigned</b> <b>char</b> s[256];
<a name='L2404'>    <b>int</b> i;
<a name='L2405'>
<a name='L2406'>    memset(info, 0, <b>sizeof</b>(XML_Encoding));
<a name='L2407'>
<a name='L2408'>    <b>for</b> (i = 0; i &lt; 256; i++)
<a name='L2409'>        s[i] = i;
<a name='L2410'>    
<a name='L2411'>    u = <a href='../D/3972.html' title='Multiple defined in 3 places.'>PyUnicode_Decode</a>((<b>char</b>*) s, 256, name, "replace");
<a name='L2412'>    <b>if</b> (!u)
<a name='L2413'>        <b>return</b> <a href='../D/5766.html' title='Multiple defined in 3 places.'>XML_STATUS_ERROR</a>;
<a name='L2414'>
<a name='L2415'>    <b>if</b> (<a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(u) != 256) <font color='red'>{</font>
<a name='L2416'>        Py_DECREF(u);
<a name='L2417'>        <b>return</b> <a href='../D/5766.html' title='Multiple defined in 3 places.'>XML_STATUS_ERROR</a>;
<a name='L2418'>    <font color='red'>}</font>
<a name='L2419'>
<a name='L2420'>    p = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(u);
<a name='L2421'>
<a name='L2422'>    <b>for</b> (i = 0; i &lt; 256; i++) <font color='red'>{</font>
<a name='L2423'>        <b>if</b> (p[i] != <a href='../S/587.html#L421' title='Defined at 421 in Include/unicodeobject.h.'>Py_UNICODE_REPLACEMENT_CHARACTER</a>)
<a name='L2424'>            info-&gt;map[i] = p[i];
<a name='L2425'>        <b>else</b>
<a name='L2426'>            info-&gt;map[i] = -1;
<a name='L2427'>    <font color='red'>}</font>
<a name='L2428'>
<a name='L2429'>    Py_DECREF(u);
<a name='L2430'>
<a name='L2431'>    <b>return</b> <a href='../D/5767.html' title='Multiple defined in 3 places.'>XML_STATUS_OK</a>;
<a name='L2432'><font color='red'>}</font>
<a name='L2433'>
<a name='L2434'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L2435'><i><font color='green'>/* constructor and destructor */</font></i>
<a name='L2436'>
<a name='L2437'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L2438'><a href='../R/11506.html' title='Multiple refered from 2 places.'>xmlparser</a>(PyObject* self_, PyObject* args, PyObject* kw)
<a name='L2439'><font color='red'>{</font>
<a name='L2440'>    <a href='../S/2562.html#L2067' title='Defined at 2067 in Modules/_elementtree.c.'>XMLParserObject</a>* self;
<a name='L2441'>    <i><font color='green'>/* FIXME: does this need to be static? */</font></i>
<a name='L2442'>    <b>static</b> XML_Memory_Handling_Suite memory_handler;
<a name='L2443'>
<a name='L2444'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* target = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2445'>    <b>char</b>* <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2446'>    <b>static</b> <b>char</b>* kwlist[] = <font color='red'>{</font> "target", "encoding", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> <font color='red'>}</font>;
<a name='L2447'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "|Oz:XMLParser", kwlist,
<a name='L2448'>                                     &amp;target, &amp;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>))
<a name='L2449'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2450'>
<a name='L2451'><font color='darkred'>#if</font> <b>defined</b>(USE_PYEXPAT_CAPI)
<a name='L2452'>    <b>if</b> (!expat_capi) <font color='red'>{</font>
<a name='L2453'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L2454'>            PyExc_RuntimeError, "cannot load dispatch table from pyexpat"
<a name='L2455'>            );
<a name='L2456'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2457'>    <font color='red'>}</font>
<a name='L2458'><font color='darkred'>#endif</font>
<a name='L2459'>
<a name='L2460'>    self = PyObject_New(<a href='../S/2562.html#L2067' title='Defined at 2067 in Modules/_elementtree.c.'>XMLParserObject</a>, &amp;XMLParser_Type);
<a name='L2461'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2462'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2463'>
<a name='L2464'>    self-&gt;entity = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L2465'>    <b>if</b> (!self-&gt;entity) <font color='red'>{</font>
<a name='L2466'>        PyObject_Del(self);
<a name='L2467'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2468'>    <font color='red'>}</font>
<a name='L2469'>     
<a name='L2470'>    self-&gt;names = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L2471'>    <b>if</b> (!self-&gt;names) <font color='red'>{</font>
<a name='L2472'>        PyObject_Del(self-&gt;entity);
<a name='L2473'>        PyObject_Del(self);
<a name='L2474'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2475'>    <font color='red'>}</font>
<a name='L2476'>
<a name='L2477'>    memory_handler.malloc_fcn = <a href='../S/2804.html#L1262' title='Defined at 1262 in Objects/obmalloc.c.'>PyObject_Malloc</a>;
<a name='L2478'>    memory_handler.realloc_fcn = <a href='../D/3646.html' title='Multiple defined in 3 places.'>PyObject_Realloc</a>;
<a name='L2479'>    memory_handler.free_fcn = <a href='../D/3616.html' title='Multiple defined in 3 places.'>PyObject_Free</a>;
<a name='L2480'>
<a name='L2481'>    self-&gt;parser = <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(ParserCreate_MM)(<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, &amp;memory_handler, "}");
<a name='L2482'>    <b>if</b> (!self-&gt;parser) <font color='red'>{</font>
<a name='L2483'>        PyObject_Del(self-&gt;names);
<a name='L2484'>        PyObject_Del(self-&gt;entity);
<a name='L2485'>        PyObject_Del(self);
<a name='L2486'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L2487'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2488'>    <font color='red'>}</font>
<a name='L2489'>
<a name='L2490'>    <i><font color='green'>/* setup target handlers */</font></i>
<a name='L2491'>    <b>if</b> (!target) <font color='red'>{</font>
<a name='L2492'>        target = treebuilder_new();
<a name='L2493'>        <b>if</b> (!target) <font color='red'>{</font>
<a name='L2494'>            <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(ParserFree)(self-&gt;parser);
<a name='L2495'>            PyObject_Del(self-&gt;names);
<a name='L2496'>            PyObject_Del(self-&gt;entity);
<a name='L2497'>            PyObject_Del(self);
<a name='L2498'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2499'>        <font color='red'>}</font>
<a name='L2500'>    <font color='red'>}</font> <b>else</b>
<a name='L2501'>        Py_INCREF(target);
<a name='L2502'>    self-&gt;target = target;
<a name='L2503'>
<a name='L2504'>    self-&gt;handle_xml = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(target, "xml");
<a name='L2505'>    self-&gt;handle_start = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(target, "start");
<a name='L2506'>    self-&gt;handle_data = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(target, "data");
<a name='L2507'>    self-&gt;handle_end = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(target, "end");
<a name='L2508'>    self-&gt;handle_comment = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(target, "comment");
<a name='L2509'>    self-&gt;handle_pi = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(target, "pi");
<a name='L2510'>    self-&gt;handle_close = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(target, "close");
<a name='L2511'>
<a name='L2512'>    <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L2513'>
<a name='L2514'>    <i><font color='green'>/* configure parser */</font></i>
<a name='L2515'>    <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetUserData)(self-&gt;parser, self);
<a name='L2516'>    <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetElementHandler)(
<a name='L2517'>        self-&gt;parser,
<a name='L2518'>        (XML_StartElementHandler) <a href='../S/2562.html#L2213' title='Defined at 2213 in Modules/_elementtree.c.'>expat_start_handler</a>,
<a name='L2519'>        (XML_EndElementHandler) <a href='../S/2562.html#L2300' title='Defined at 2300 in Modules/_elementtree.c.'>expat_end_handler</a>
<a name='L2520'>        );
<a name='L2521'>    <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetDefaultHandlerExpand)(
<a name='L2522'>        self-&gt;parser,
<a name='L2523'>        (XML_DefaultHandler) <a href='../S/2562.html#L2172' title='Defined at 2172 in Modules/_elementtree.c.'>expat_default_handler</a>
<a name='L2524'>        );
<a name='L2525'>    <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetCharacterDataHandler)(
<a name='L2526'>        self-&gt;parser,
<a name='L2527'>        (XML_CharacterDataHandler) <a href='../S/2562.html#L2276' title='Defined at 2276 in Modules/_elementtree.c.'>expat_data_handler</a>
<a name='L2528'>        );
<a name='L2529'>    <b>if</b> (self-&gt;handle_comment)
<a name='L2530'>        <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetCommentHandler)(
<a name='L2531'>            self-&gt;parser,
<a name='L2532'>            (XML_CommentHandler) <a href='../S/2562.html#L2359' title='Defined at 2359 in Modules/_elementtree.c.'>expat_comment_handler</a>
<a name='L2533'>            );
<a name='L2534'>    <b>if</b> (self-&gt;handle_pi)
<a name='L2535'>        <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetProcessingInstructionHandler)(
<a name='L2536'>            self-&gt;parser,
<a name='L2537'>            (XML_ProcessingInstructionHandler) <a href='../S/2562.html#L2375' title='Defined at 2375 in Modules/_elementtree.c.'>expat_pi_handler</a>
<a name='L2538'>            );
<a name='L2539'>    <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetUnknownEncodingHandler)(
<a name='L2540'>        self-&gt;parser,
<a name='L2541'>        (XML_UnknownEncodingHandler) <a href='../S/2562.html#L2398' title='Defined at 2398 in Modules/_elementtree.c.'>expat_unknown_encoding_handler</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L2542'>        );
<a name='L2543'>
<a name='L2544'>    <a href='../D/61.html' title='Multiple defined in 3 places.'>ALLOC</a>(<b>sizeof</b>(<a href='../S/2562.html#L2067' title='Defined at 2067 in Modules/_elementtree.c.'>XMLParserObject</a>), "create expatparser");
<a name='L2545'>
<a name='L2546'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self;
<a name='L2547'><font color='red'>}</font>
<a name='L2548'>
<a name='L2549'><b>static</b> <b>void</b>
<a name='L2550'><a href='../S/2562.html#L2827' title='Refered from 2827 in Modules/_elementtree.c.'>xmlparser_dealloc</a>(XMLParserObject* self)
<a name='L2551'><font color='red'>{</font>
<a name='L2552'>    <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(ParserFree)(self-&gt;parser);
<a name='L2553'>
<a name='L2554'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;handle_close);
<a name='L2555'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;handle_pi);
<a name='L2556'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;handle_comment);
<a name='L2557'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;handle_end);
<a name='L2558'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;handle_data);
<a name='L2559'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;handle_start);
<a name='L2560'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;handle_xml);
<a name='L2561'>
<a name='L2562'>    Py_DECREF(self-&gt;target);
<a name='L2563'>    Py_DECREF(self-&gt;entity);
<a name='L2564'>    Py_DECREF(self-&gt;names);
<a name='L2565'>
<a name='L2566'>    <a href='../D/4463.html' title='Multiple defined in 2 places.'>RELEASE</a>(<b>sizeof</b>(<a href='../S/2562.html#L2067' title='Defined at 2067 in Modules/_elementtree.c.'>XMLParserObject</a>), "destroy expatparser");
<a name='L2567'>
<a name='L2568'>    PyObject_Del(self);
<a name='L2569'><font color='red'>}</font>
<a name='L2570'>
<a name='L2571'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L2572'><i><font color='green'>/* methods (in alphabetical order) */</font></i>
<a name='L2573'>
<a name='L2574'><a href='../R/1749.html' title='Multiple refered from 6 places.'>LOCAL</a>(PyObject*)
<a name='L2575'>expat_parse(XMLParserObject* self, <b>char</b>* data, <b>int</b> data_len, <b>int</b> final)
<a name='L2576'><font color='red'>{</font>
<a name='L2577'>    <b>int</b> ok;
<a name='L2578'>
<a name='L2579'>    ok = <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(Parse)(self-&gt;parser, data, data_len, final);
<a name='L2580'>
<a name='L2581'>    <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L2582'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2583'>
<a name='L2584'>    <b>if</b> (!ok) <font color='red'>{</font>
<a name='L2585'>        <a href='../S/2562.html#L2139' title='Defined at 2139 in Modules/_elementtree.c.'>expat_set_error</a>(
<a name='L2586'>            <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(ErrorString)(<a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(GetErrorCode)(self-&gt;parser)),
<a name='L2587'>            <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(GetErrorLineNumber)(self-&gt;parser),
<a name='L2588'>            <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(GetErrorColumnNumber)(self-&gt;parser)
<a name='L2589'>            );
<a name='L2590'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2591'>    <font color='red'>}</font>
<a name='L2592'>
<a name='L2593'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L2594'><font color='red'>}</font>
<a name='L2595'>
<a name='L2596'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L2597'><a href='../S/2562.html#L2793' title='Refered from 2793 in Modules/_elementtree.c.'>xmlparser_close</a>(XMLParserObject* self, PyObject* args)
<a name='L2598'><font color='red'>{</font>
<a name='L2599'>    <i><font color='green'>/* end feeding data to parser */</font></i>
<a name='L2600'>
<a name='L2601'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L2602'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":close"))
<a name='L2603'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2604'>
<a name='L2605'>    res = expat_parse(self, "", 0, 1);
<a name='L2606'>    <b>if</b> (!res)
<a name='L2607'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2608'>
<a name='L2609'>    <b>if</b> (<a href='../S/2562.html#L1635' title='Defined at 1635 in Modules/_elementtree.c.'>TreeBuilder_CheckExact</a>(self-&gt;target)) <font color='red'>{</font>
<a name='L2610'>        Py_DECREF(res);
<a name='L2611'>        <b>return</b> treebuilder_done((<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target);
<a name='L2612'>    <font color='red'>}</font> <b>if</b> (self-&gt;handle_close) <font color='red'>{</font>
<a name='L2613'>        Py_DECREF(res);
<a name='L2614'>        <b>return</b> <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(self-&gt;handle_close, "");
<a name='L2615'>    <font color='red'>}</font> <b>else</b>
<a name='L2616'>        <b>return</b> res;
<a name='L2617'><font color='red'>}</font>
<a name='L2618'>
<a name='L2619'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L2620'><a href='../S/2562.html#L2792' title='Refered from 2792 in Modules/_elementtree.c.'>xmlparser_feed</a>(XMLParserObject* self, PyObject* args)
<a name='L2621'><font color='red'>{</font>
<a name='L2622'>    <i><font color='green'>/* feed data to parser */</font></i>
<a name='L2623'>
<a name='L2624'>    <b>char</b>* data;
<a name='L2625'>    <b>int</b> data_len;
<a name='L2626'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "s#:feed", &amp;data, &amp;data_len))
<a name='L2627'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2628'>
<a name='L2629'>    <b>return</b> expat_parse(self, data, data_len, 0);
<a name='L2630'><font color='red'>}</font>
<a name='L2631'>
<a name='L2632'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L2633'><a href='../S/2562.html#L2794' title='Refered from 2794 in Modules/_elementtree.c.'>xmlparser_parse</a>(XMLParserObject* self, PyObject* args)
<a name='L2634'><font color='red'>{</font>
<a name='L2635'>    <i><font color='green'>/* (internal) parse until end of input stream */</font></i>
<a name='L2636'>
<a name='L2637'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* reader;
<a name='L2638'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>;
<a name='L2639'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L2640'>
<a name='L2641'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* fileobj;
<a name='L2642'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O:_parse", &amp;fileobj))
<a name='L2643'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2644'>
<a name='L2645'>    reader = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(fileobj, "read");
<a name='L2646'>    <b>if</b> (!reader)
<a name='L2647'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2648'>    
<a name='L2649'>    <i><font color='green'>/* read from open file object */</font></i>
<a name='L2650'>    <b>for</b> (;;) <font color='red'>{</font>
<a name='L2651'>
<a name='L2652'>        <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(reader, "i", 64*1024);
<a name='L2653'>
<a name='L2654'>        <b>if</b> (!<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>) <font color='red'>{</font>
<a name='L2655'>            <i><font color='green'>/* read failed (e.g. due to KeyboardInterrupt) */</font></i>
<a name='L2656'>            Py_DECREF(reader);
<a name='L2657'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2658'>        <font color='red'>}</font>
<a name='L2659'>
<a name='L2660'>        <b>if</b> (!PyBytes_CheckExact(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>) || PyBytes_GET_SIZE(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>) == 0) <font color='red'>{</font>
<a name='L2661'>            Py_DECREF(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>);
<a name='L2662'>            <b>break</b>;
<a name='L2663'>        <font color='red'>}</font>
<a name='L2664'>
<a name='L2665'>        res = expat_parse(
<a name='L2666'>            self, PyBytes_AS_STRING(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>), PyBytes_GET_SIZE(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>), 0
<a name='L2667'>            );
<a name='L2668'>
<a name='L2669'>        Py_DECREF(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>);
<a name='L2670'>
<a name='L2671'>        <b>if</b> (!res) <font color='red'>{</font>
<a name='L2672'>            Py_DECREF(reader);
<a name='L2673'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2674'>        <font color='red'>}</font>
<a name='L2675'>        Py_DECREF(res);
<a name='L2676'>
<a name='L2677'>    <font color='red'>}</font>
<a name='L2678'>
<a name='L2679'>    Py_DECREF(reader);
<a name='L2680'>
<a name='L2681'>    res = expat_parse(self, "", 0, 1);
<a name='L2682'>
<a name='L2683'>    <b>if</b> (res &amp;&amp; <a href='../S/2562.html#L1635' title='Defined at 1635 in Modules/_elementtree.c.'>TreeBuilder_CheckExact</a>(self-&gt;target)) <font color='red'>{</font>
<a name='L2684'>        Py_DECREF(res);
<a name='L2685'>        <b>return</b> treebuilder_done((<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target);
<a name='L2686'>    <font color='red'>}</font>
<a name='L2687'>
<a name='L2688'>    <b>return</b> res;
<a name='L2689'><font color='red'>}</font>
<a name='L2690'>
<a name='L2691'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L2692'><a href='../S/2562.html#L2795' title='Refered from 2795 in Modules/_elementtree.c.'>xmlparser_setevents</a>(XMLParserObject* self, PyObject* args)
<a name='L2693'><font color='red'>{</font>
<a name='L2694'>    <i><font color='green'>/* activate element event reporting */</font></i>
<a name='L2695'>
<a name='L2696'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L2697'>    <a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>* target;
<a name='L2698'>
<a name='L2699'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* events; <i><font color='green'>/* event collector */</font></i>
<a name='L2700'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* event_set = Py_None;
<a name='L2701'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O!|O:_setevents",  &amp;PyList_Type, &amp;events,
<a name='L2702'>                          &amp;event_set))
<a name='L2703'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2704'>
<a name='L2705'>    <b>if</b> (!<a href='../S/2562.html#L1635' title='Defined at 1635 in Modules/_elementtree.c.'>TreeBuilder_CheckExact</a>(self-&gt;target)) <font color='red'>{</font>
<a name='L2706'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L2707'>            PyExc_TypeError,
<a name='L2708'>            "event handling only supported for cElementTree.Treebuilder "
<a name='L2709'>            "targets"
<a name='L2710'>            );
<a name='L2711'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2712'>    <font color='red'>}</font>
<a name='L2713'>
<a name='L2714'>    target = (<a href='../S/2562.html#L1631' title='Defined at 1631 in Modules/_elementtree.c.'>TreeBuilderObject</a>*) self-&gt;target;
<a name='L2715'>
<a name='L2716'>    Py_INCREF(events);
<a name='L2717'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target-&gt;events);
<a name='L2718'>    target-&gt;events = events;
<a name='L2719'>
<a name='L2720'>    <i><font color='green'>/* clear out existing events */</font></i>
<a name='L2721'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target-&gt;start_event_obj); target-&gt;start_event_obj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2722'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target-&gt;end_event_obj); target-&gt;end_event_obj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2723'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target-&gt;start_ns_event_obj); target-&gt;start_ns_event_obj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2724'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target-&gt;end_ns_event_obj); target-&gt;end_ns_event_obj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2725'>
<a name='L2726'>    <b>if</b> (event_set == Py_None) <font color='red'>{</font>
<a name='L2727'>        <i><font color='green'>/* default is "end" only */</font></i>
<a name='L2728'>        target-&gt;end_event_obj = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("end");
<a name='L2729'>        <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L2730'>    <font color='red'>}</font>
<a name='L2731'>
<a name='L2732'>    <b>if</b> (!PyTuple_Check(event_set)) <i><font color='green'>/* FIXME: handle arbitrary sequences */</font></i>
<a name='L2733'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2734'>
<a name='L2735'>    <b>for</b> (i = 0; i &lt; PyTuple_GET_SIZE(event_set); i++) <font color='red'>{</font>
<a name='L2736'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* item = PyTuple_GET_ITEM(event_set, i);
<a name='L2737'>        <b>char</b>* event;
<a name='L2738'>        <b>if</b> (PyUnicode_Check(item)) <font color='red'>{</font>
<a name='L2739'>            event = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(item);
<a name='L2740'>            <b>if</b> (event == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2741'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2742'>        <font color='red'>}</font> <b>else</b> <b>if</b> (PyBytes_Check(item))
<a name='L2743'>            event = PyBytes_AS_STRING(item);
<a name='L2744'>        <b>else</b> <font color='red'>{</font>
<a name='L2745'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2746'>        <font color='red'>}</font>
<a name='L2747'>        <b>if</b> (strcmp(event, "start") == 0) <font color='red'>{</font>
<a name='L2748'>            Py_INCREF(item);
<a name='L2749'>            target-&gt;start_event_obj = item;
<a name='L2750'>        <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(event, "end") == 0) <font color='red'>{</font>
<a name='L2751'>            Py_INCREF(item);
<a name='L2752'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target-&gt;end_event_obj);
<a name='L2753'>            target-&gt;end_event_obj = item;
<a name='L2754'>        <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(event, "start-ns") == 0) <font color='red'>{</font>
<a name='L2755'>            Py_INCREF(item);
<a name='L2756'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target-&gt;start_ns_event_obj);
<a name='L2757'>            target-&gt;start_ns_event_obj = item;
<a name='L2758'>            <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetNamespaceDeclHandler)(
<a name='L2759'>                self-&gt;parser,
<a name='L2760'>                (XML_StartNamespaceDeclHandler) <a href='../S/2562.html#L2323' title='Defined at 2323 in Modules/_elementtree.c.'>expat_start_ns_handler</a>,
<a name='L2761'>                (XML_EndNamespaceDeclHandler) <a href='../S/2562.html#L2351' title='Defined at 2351 in Modules/_elementtree.c.'>expat_end_ns_handler</a>
<a name='L2762'>                );
<a name='L2763'>        <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(event, "end-ns") == 0) <font color='red'>{</font>
<a name='L2764'>            Py_INCREF(item);
<a name='L2765'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(target-&gt;end_ns_event_obj);
<a name='L2766'>            target-&gt;end_ns_event_obj = item;
<a name='L2767'>            <a href='../D/998.html' title='Multiple defined in 2 places.'>EXPAT</a>(SetNamespaceDeclHandler)(
<a name='L2768'>                self-&gt;parser,
<a name='L2769'>                (XML_StartNamespaceDeclHandler) <a href='../S/2562.html#L2323' title='Defined at 2323 in Modules/_elementtree.c.'>expat_start_ns_handler</a>,
<a name='L2770'>                (XML_EndNamespaceDeclHandler) <a href='../S/2562.html#L2351' title='Defined at 2351 in Modules/_elementtree.c.'>expat_end_ns_handler</a>
<a name='L2771'>                );
<a name='L2772'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2773'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(
<a name='L2774'>                PyExc_ValueError,
<a name='L2775'>                "unknown event '%s'", event
<a name='L2776'>                );
<a name='L2777'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2778'>        <font color='red'>}</font>
<a name='L2779'>    <font color='red'>}</font>
<a name='L2780'>
<a name='L2781'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L2782'>
<a name='L2783'>  <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L2784'>    <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L2785'>        PyExc_TypeError,
<a name='L2786'>        "invalid event tuple"
<a name='L2787'>        );
<a name='L2788'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2789'><font color='red'>}</font>
<a name='L2790'>
<a name='L2791'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> xmlparser_methods[] = <font color='red'>{</font>
<a name='L2792'>    <font color='red'>{</font>"feed", (PyCFunction) <a href='../S/2562.html#L2620' title='Defined at 2620 in Modules/_elementtree.c.'>xmlparser_feed</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2793'>    <font color='red'>{</font>"close", (PyCFunction) <a href='../S/2562.html#L2597' title='Defined at 2597 in Modules/_elementtree.c.'>xmlparser_close</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2794'>    <font color='red'>{</font>"_parse", (PyCFunction) <a href='../S/2562.html#L2633' title='Defined at 2633 in Modules/_elementtree.c.'>xmlparser_parse</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2795'>    <font color='red'>{</font>"_setevents", (PyCFunction) <a href='../S/2562.html#L2692' title='Defined at 2692 in Modules/_elementtree.c.'>xmlparser_setevents</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2796'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2797'><font color='red'>}</font>;
<a name='L2798'>
<a name='L2799'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*  
<a name='L2800'><a href='../S/2562.html#L2839' title='Refered from 2839 in Modules/_elementtree.c.'>xmlparser_getattro</a>(XMLParserObject* self, PyObject* nameobj)
<a name='L2801'><font color='red'>{</font>
<a name='L2802'>    <b>if</b> (PyUnicode_Check(nameobj)) <font color='red'>{</font>
<a name='L2803'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* res;
<a name='L2804'>        <b>if</b> (<a href='../D/3968.html' title='Multiple defined in 3 places.'>PyUnicode_CompareWithASCIIString</a>(nameobj, "entity") == 0)
<a name='L2805'>            res = self-&gt;entity;
<a name='L2806'>        <b>else</b> <b>if</b> (<a href='../D/3968.html' title='Multiple defined in 3 places.'>PyUnicode_CompareWithASCIIString</a>(nameobj, "target") == 0)
<a name='L2807'>            res = self-&gt;target;
<a name='L2808'>        <b>else</b> <b>if</b> (<a href='../D/3968.html' title='Multiple defined in 3 places.'>PyUnicode_CompareWithASCIIString</a>(nameobj, "version") == 0) <font color='red'>{</font>
<a name='L2809'>            <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>(
<a name='L2810'>                "Expat %d.%d.%d", XML_MAJOR_VERSION,
<a name='L2811'>                XML_MINOR_VERSION, XML_MICRO_VERSION);
<a name='L2812'>        <font color='red'>}</font>
<a name='L2813'>        <b>else</b>
<a name='L2814'>            <b>goto</b> generic;
<a name='L2815'>
<a name='L2816'>        Py_INCREF(res);
<a name='L2817'>        <b>return</b> res;
<a name='L2818'>    <font color='red'>}</font>
<a name='L2819'>  generic:
<a name='L2820'>    <b>return</b> <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self, nameobj);
<a name='L2821'><font color='red'>}</font>
<a name='L2822'>
<a name='L2823'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> XMLParser_Type = <font color='red'>{</font>
<a name='L2824'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L2825'>    "XMLParser", <b>sizeof</b>(<a href='../S/2562.html#L2067' title='Defined at 2067 in Modules/_elementtree.c.'>XMLParserObject</a>), 0,
<a name='L2826'>    <i><font color='green'>/* methods */</font></i>
<a name='L2827'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2562.html#L2550' title='Defined at 2550 in Modules/_elementtree.c.'>xmlparser_dealloc</a>, <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L2828'>    0, <i><font color='green'>/* tp_print */</font></i>
<a name='L2829'>    0, <i><font color='green'>/* tp_getattr */</font></i>
<a name='L2830'>    0, <i><font color='green'>/* tp_setattr */</font></i>
<a name='L2831'>    0, <i><font color='green'>/* tp_reserved */</font></i>
<a name='L2832'>    0, <i><font color='green'>/* tp_repr */</font></i>
<a name='L2833'>    0, <i><font color='green'>/* tp_as_number */</font></i>
<a name='L2834'>    0, <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L2835'>    0, <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L2836'>    0, <i><font color='green'>/* tp_hash */</font></i>
<a name='L2837'>    0, <i><font color='green'>/* tp_call */</font></i>
<a name='L2838'>    0, <i><font color='green'>/* tp_str */</font></i>
<a name='L2839'>    (getattrofunc)<a href='../S/2562.html#L2800' title='Defined at 2800 in Modules/_elementtree.c.'>xmlparser_getattro</a>, <i><font color='green'>/* tp_getattro */</font></i>
<a name='L2840'>    0, <i><font color='green'>/* tp_setattro */</font></i>
<a name='L2841'>    0, <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L2842'>    Py_TPFLAGS_DEFAULT, <i><font color='green'>/* tp_flags */</font></i>
<a name='L2843'>    0, <i><font color='green'>/* tp_doc */</font></i>
<a name='L2844'>    0, <i><font color='green'>/* tp_traverse */</font></i>
<a name='L2845'>    0, <i><font color='green'>/* tp_clear */</font></i>
<a name='L2846'>    0, <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L2847'>    0, <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L2848'>    0, <i><font color='green'>/* tp_iter */</font></i>
<a name='L2849'>    0, <i><font color='green'>/* tp_iternext */</font></i>
<a name='L2850'>    xmlparser_methods, <i><font color='green'>/* tp_methods */</font></i>
<a name='L2851'>    0, <i><font color='green'>/* tp_members */</font></i>
<a name='L2852'><font color='red'>}</font>;
<a name='L2853'>
<a name='L2854'><font color='darkred'>#endif</font>
<a name='L2855'>
<a name='L2856'><i><font color='green'>/* ==================================================================== */</font></i>
<a name='L2857'><i><font color='green'>/* python module interface */</font></i>
<a name='L2858'>
<a name='L2859'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> _functions[] = <font color='red'>{</font>
<a name='L2860'>    <font color='red'>{</font>"Element", (PyCFunction) <a href='../S/2562.html#L467' title='Defined at 467 in Modules/_elementtree.c.'>element</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>|METH_KEYWORDS<font color='red'>}</font>,
<a name='L2861'>    <font color='red'>{</font>"SubElement", (PyCFunction) <a href='../S/2562.html#L496' title='Defined at 496 in Modules/_elementtree.c.'>subelement</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>|METH_KEYWORDS<font color='red'>}</font>,
<a name='L2862'>    <font color='red'>{</font>"TreeBuilder", (PyCFunction) <a href='../S/2562.html#L1672' title='Defined at 1672 in Modules/_elementtree.c.'>treebuilder</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L2863'><font color='darkred'>#if</font> <b>defined</b>(<a href='../S/2562.html#L58' title='Defined at 58 in Modules/_elementtree.c.'>USE_EXPAT</a>)
<a name='L2864'>    <font color='red'>{</font>"XMLParser", (PyCFunction) <a href='../S/2562.html#L2438' title='Defined at 2438 in Modules/_elementtree.c.'>xmlparser</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>|METH_KEYWORDS<font color='red'>}</font>,
<a name='L2865'>    <font color='red'>{</font>"XMLTreeBuilder", (PyCFunction) <a href='../S/2562.html#L2438' title='Defined at 2438 in Modules/_elementtree.c.'>xmlparser</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>|METH_KEYWORDS<font color='red'>}</font>,
<a name='L2866'><font color='darkred'>#endif</font>
<a name='L2867'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2868'><font color='red'>}</font>;
<a name='L2869'>
<a name='L2870'>
<a name='L2871'><b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> _elementtreemodule = <font color='red'>{</font>
<a name='L2872'>        <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,
<a name='L2873'>        "_elementtree",
<a name='L2874'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L2875'>        -1,
<a name='L2876'>        _functions,
<a name='L2877'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L2878'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L2879'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L2880'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L2881'><font color='red'>}</font>;
<a name='L2882'>
<a name='L2883'><a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L2884'>PyInit__elementtree(<b>void</b>)
<a name='L2885'><font color='red'>{</font>
<a name='L2886'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* m;
<a name='L2887'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* g;
<a name='L2888'>    <b>char</b>* <a href='../S/3149.html#L116' title='Defined at 116 in Python/thread_nt.h.'>bootstrap</a>;
<a name='L2889'>
<a name='L2890'>    <i><font color='green'>/* Initialize object types */</font></i>
<a name='L2891'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;TreeBuilder_Type) &lt; 0)
<a name='L2892'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2893'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;Element_Type) &lt; 0)
<a name='L2894'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2895'><font color='darkred'>#if</font> <b>defined</b>(<a href='../S/2562.html#L58' title='Defined at 58 in Modules/_elementtree.c.'>USE_EXPAT</a>)
<a name='L2896'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;XMLParser_Type) &lt; 0)
<a name='L2897'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2898'><font color='darkred'>#endif</font>
<a name='L2899'>
<a name='L2900'>    m = PyModule_Create(&amp;_elementtreemodule);
<a name='L2901'>    <b>if</b> (!m)
<a name='L2902'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2903'>
<a name='L2904'>    <i><font color='green'>/* The code below requires that the module gets already added</font></i>
<a name='L2905'><i><font color='green'>       to sys.modules. */</font></i>
<a name='L2906'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(<a href='../S/3120.html#L388' title='Defined at 388 in Python/import.c.'>PyImport_GetModuleDict</a>(),
<a name='L2907'>                         _elementtreemodule.m_name,
<a name='L2908'>                         m);
<a name='L2909'>
<a name='L2910'>    <i><font color='green'>/* python glue code */</font></i>
<a name='L2911'>
<a name='L2912'>    g = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L2913'>    <b>if</b> (!g)
<a name='L2914'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2915'>
<a name='L2916'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(g, "__builtins__", <a href='../S/3091.html#L3667' title='Defined at 3667 in Python/ceval.c.'>PyEval_GetBuiltins</a>());
<a name='L2917'>
<a name='L2918'>    <a href='../S/3149.html#L116' title='Defined at 116 in Python/thread_nt.h.'>bootstrap</a> = (
<a name='L2919'>
<a name='L2920'>        "from copy import copy, deepcopy\n"
<a name='L2921'>
<a name='L2922'>        "try:\n"
<a name='L2923'>        "  from xml.etree import ElementTree\n"
<a name='L2924'>        "except ImportError:\n"
<a name='L2925'>        "  import ElementTree\n"
<a name='L2926'>        "ET = ElementTree\n"
<a name='L2927'>        "del ElementTree\n"
<a name='L2928'>
<a name='L2929'>        "import _elementtree as cElementTree\n"
<a name='L2930'>
<a name='L2931'>        "try:\n" <i><font color='green'>/* check if copy works as is */</font></i>
<a name='L2932'>        "  copy(cElementTree.Element('x'))\n"
<a name='L2933'>        "except:\n"
<a name='L2934'>        "  def copyelement(elem):\n"
<a name='L2935'>        "    return elem\n"
<a name='L2936'>
<a name='L2937'>        "class CommentProxy:\n"
<a name='L2938'>        " def __call__(self, text=None):\n"
<a name='L2939'>        "  element = cElementTree.Element(ET.Comment)\n"
<a name='L2940'>        "  element.text = text\n"
<a name='L2941'>        "  return element\n"
<a name='L2942'>        " def __eq__(self, other):\n"
<a name='L2943'>        "  return ET.Comment == other\n"
<a name='L2944'>        "cElementTree.Comment = CommentProxy()\n"
<a name='L2945'>
<a name='L2946'>        "class ElementTree(ET.ElementTree):\n" <i><font color='green'>/* public */</font></i>
<a name='L2947'>        "  def parse(self, source, parser=None):\n"
<a name='L2948'>        "    close_source = False\n"
<a name='L2949'>        "    if not hasattr(source, 'read'):\n"
<a name='L2950'>        "      source = open(source, 'rb')\n"
<a name='L2951'>        "      close_source = True\n"
<a name='L2952'>        "    try:\n"
<a name='L2953'>        "      if parser is not None:\n"
<a name='L2954'>        "        while 1:\n"
<a name='L2955'>        "          data = source.read(65536)\n"
<a name='L2956'>        "          if not data:\n"
<a name='L2957'>        "            break\n"
<a name='L2958'>        "          parser.feed(data)\n"
<a name='L2959'>        "        self._root = parser.close()\n"
<a name='L2960'>        "      else:\n" 
<a name='L2961'>        "        parser = cElementTree.XMLParser()\n"
<a name='L2962'>        "        self._root = parser._parse(source)\n"
<a name='L2963'>        "      return self._root\n"
<a name='L2964'>        "    finally:\n"
<a name='L2965'>        "      if close_source:\n"
<a name='L2966'>        "        source.close()\n"
<a name='L2967'>        "cElementTree.ElementTree = ElementTree\n"
<a name='L2968'>
<a name='L2969'>        "def iter(node, tag=None):\n" <i><font color='green'>/* helper */</font></i>
<a name='L2970'>        "  if tag == '*':\n"
<a name='L2971'>        "    tag = None\n"
<a name='L2972'>        "  if tag is None or node.tag == tag:\n"
<a name='L2973'>        "    yield node\n"
<a name='L2974'>        "  for node in node:\n"
<a name='L2975'>        "    for node in iter(node, tag):\n"
<a name='L2976'>        "      yield node\n"
<a name='L2977'>
<a name='L2978'>        "def itertext(node):\n" <i><font color='green'>/* helper */</font></i>
<a name='L2979'>        "  if node.text:\n"
<a name='L2980'>        "    yield node.text\n"
<a name='L2981'>        "  for e in node:\n"
<a name='L2982'>        "    for s in e.itertext():\n"
<a name='L2983'>        "      yield s\n"
<a name='L2984'>        "    if e.tail:\n"
<a name='L2985'>        "      yield e.tail\n"
<a name='L2986'>
<a name='L2987'>        "def parse(source, parser=None):\n" <i><font color='green'>/* public */</font></i>
<a name='L2988'>        "  tree = ElementTree()\n"
<a name='L2989'>        "  tree.parse(source, parser)\n"
<a name='L2990'>        "  return tree\n"
<a name='L2991'>        "cElementTree.parse = parse\n"
<a name='L2992'>
<a name='L2993'>        "class iterparse:\n"
<a name='L2994'>        " root = None\n"
<a name='L2995'>        " def __init__(self, file, events=None):\n"
<a name='L2996'>        "  self._close_file = False\n"
<a name='L2997'>        "  if not hasattr(file, 'read'):\n"
<a name='L2998'>        "    file = open(file, 'rb')\n"
<a name='L2999'>        "    self._close_file = True\n"
<a name='L3000'>        "  self._file = file\n"
<a name='L3001'>        "  self._events = []\n"
<a name='L3002'>        "  self._index = 0\n"
<a name='L3003'>        "  self.root = self._root = None\n"
<a name='L3004'>        "  b = cElementTree.TreeBuilder()\n"
<a name='L3005'>        "  self._parser = cElementTree.XMLParser(b)\n"
<a name='L3006'>        "  self._parser._setevents(self._events, events)\n"
<a name='L3007'>        " def __next__(self):\n"
<a name='L3008'>        "  while 1:\n"
<a name='L3009'>        "    try:\n"
<a name='L3010'>        "      item = self._events[self._index]\n"
<a name='L3011'>        "    except IndexError:\n"
<a name='L3012'>        "      if self._parser is None:\n"
<a name='L3013'>        "        self.root = self._root\n"
<a name='L3014'>        "        if self._close_file:\n"
<a name='L3015'>        "          self._file.close()\n"
<a name='L3016'>        "        raise StopIteration\n"
<a name='L3017'>        "      # load event buffer\n"
<a name='L3018'>        "      del self._events[:]\n"
<a name='L3019'>        "      self._index = 0\n"
<a name='L3020'>        "      data = self._file.read(16384)\n"
<a name='L3021'>        "      if data:\n"
<a name='L3022'>        "        self._parser.feed(data)\n"
<a name='L3023'>        "      else:\n"
<a name='L3024'>        "        self._root = self._parser.close()\n"
<a name='L3025'>        "        self._parser = None\n"
<a name='L3026'>        "    else:\n"
<a name='L3027'>        "      self._index = self._index + 1\n"
<a name='L3028'>        "      return item\n"
<a name='L3029'>        " def __iter__(self):\n"
<a name='L3030'>        "  return self\n"
<a name='L3031'>        "cElementTree.iterparse = iterparse\n"
<a name='L3032'>
<a name='L3033'>        "class PIProxy:\n"
<a name='L3034'>        " def __call__(self, target, text=None):\n"
<a name='L3035'>        "  element = cElementTree.Element(ET.PI)\n"
<a name='L3036'>        "  element.text = target\n"
<a name='L3037'>        "  if text:\n"
<a name='L3038'>        "    element.text = element.text + ' ' + text\n"
<a name='L3039'>        "  return element\n"
<a name='L3040'>        " def __eq__(self, other):\n"
<a name='L3041'>        "  return ET.PI == other\n"
<a name='L3042'>        "cElementTree.PI = cElementTree.ProcessingInstruction = PIProxy()\n"
<a name='L3043'>
<a name='L3044'>        "def XML(text):\n" <i><font color='green'>/* public */</font></i>
<a name='L3045'>        "  parser = cElementTree.XMLParser()\n"
<a name='L3046'>        "  parser.feed(text)\n"
<a name='L3047'>        "  return parser.close()\n"
<a name='L3048'>        "cElementTree.XML = cElementTree.fromstring = XML\n"
<a name='L3049'>
<a name='L3050'>        "def XMLID(text):\n" <i><font color='green'>/* public */</font></i>
<a name='L3051'>        "  tree = XML(text)\n"
<a name='L3052'>        "  ids = {}\n"
<a name='L3053'>        "  for elem in tree.iter():\n"
<a name='L3054'>        "    id = elem.get('id')\n"
<a name='L3055'>        "    if id:\n"
<a name='L3056'>        "      ids[id] = elem\n"
<a name='L3057'>        "  return tree, ids\n"
<a name='L3058'>        "cElementTree.XMLID = XMLID\n"
<a name='L3059'>
<a name='L3060'>        "try:\n"
<a name='L3061'>        " register_namespace = ET.register_namespace\n"
<a name='L3062'>        "except AttributeError:\n"
<a name='L3063'>        " def register_namespace(prefix, uri):\n"
<a name='L3064'>        "  ET._namespace_map[uri] = prefix\n"
<a name='L3065'>        "cElementTree.register_namespace = register_namespace\n"
<a name='L3066'>
<a name='L3067'>        "cElementTree.dump = ET.dump\n"
<a name='L3068'>        "cElementTree.ElementPath = ElementPath = ET.ElementPath\n"
<a name='L3069'>        "cElementTree.iselement = ET.iselement\n"
<a name='L3070'>        "cElementTree.QName = ET.QName\n"
<a name='L3071'>        "cElementTree.tostring = ET.tostring\n"
<a name='L3072'>        "cElementTree.fromstringlist = ET.fromstringlist\n"
<a name='L3073'>        "cElementTree.tostringlist = ET.tostringlist\n"
<a name='L3074'>        "cElementTree.VERSION = '" <a href='../D/5478.html' title='Multiple defined in 3 places.'>VERSION</a> "'\n"
<a name='L3075'>        "cElementTree.__version__ = '" <a href='../D/5478.html' title='Multiple defined in 3 places.'>VERSION</a> "'\n"
<a name='L3076'>
<a name='L3077'>       );
<a name='L3078'>
<a name='L3079'>    <b>if</b> (!<a href='../S/3138.html#L2437' title='Defined at 2437 in Python/pythonrun.c.'>PyRun_String</a>(<a href='../S/3149.html#L116' title='Defined at 116 in Python/thread_nt.h.'>bootstrap</a>, <a href='../S/570.html#L151' title='Defined at 151 in Include/Python.h.'>Py_file_input</a>, g, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>))
<a name='L3080'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3081'>
<a name='L3082'>    elementpath_obj = <a href='../S/2787.html#L2168' title='Defined at 2168 in Objects/dictobject.c.'>PyDict_GetItemString</a>(g, "ElementPath");
<a name='L3083'>
<a name='L3084'>    elementtree_copyelement_obj = <a href='../S/2787.html#L2168' title='Defined at 2168 in Objects/dictobject.c.'>PyDict_GetItemString</a>(g, "copyelement");
<a name='L3085'>    <b>if</b> (elementtree_copyelement_obj) <font color='red'>{</font>
<a name='L3086'>        <i><font color='green'>/* reduce hack needed; enable reduce method */</font></i>
<a name='L3087'>        <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a>* mp;
<a name='L3088'>        <b>for</b> (mp = element_methods; mp-&gt;ml_name; mp++)
<a name='L3089'>            <b>if</b> (mp-&gt;ml_meth == (PyCFunction) <a href='../S/2562.html#L1121' title='Defined at 1121 in Modules/_elementtree.c.'>element_reduce</a>) <font color='red'>{</font>
<a name='L3090'>                mp-&gt;ml_name = "__reduce__";
<a name='L3091'>                <b>break</b>;
<a name='L3092'>            <font color='red'>}</font>
<a name='L3093'>    <font color='red'>}</font> <b>else</b>
<a name='L3094'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L3095'>
<a name='L3096'>    elementtree_deepcopy_obj = <a href='../S/2787.html#L2168' title='Defined at 2168 in Objects/dictobject.c.'>PyDict_GetItemString</a>(g, "deepcopy");
<a name='L3097'>    elementtree_iter_obj = <a href='../S/2787.html#L2168' title='Defined at 2168 in Objects/dictobject.c.'>PyDict_GetItemString</a>(g, "iter");
<a name='L3098'>    elementtree_itertext_obj = <a href='../S/2787.html#L2168' title='Defined at 2168 in Objects/dictobject.c.'>PyDict_GetItemString</a>(g, "itertext");
<a name='L3099'>
<a name='L3100'><font color='darkred'>#if</font> <b>defined</b>(USE_PYEXPAT_CAPI)
<a name='L3101'>    <i><font color='green'>/* link against pyexpat, if possible */</font></i>
<a name='L3102'>    expat_capi = <a href='../S/2780.html#L195' title='Defined at 195 in Objects/capsule.c.'>PyCapsule_Import</a>(<a href='../S/559.html#L7' title='Defined at 7 in Include/pyexpat.h.'>PyExpat_CAPSULE_NAME</a>, 0);
<a name='L3103'>    <b>if</b> (expat_capi) <font color='red'>{</font>
<a name='L3104'>        <i><font color='green'>/* check that it's usable */</font></i>
<a name='L3105'>        <b>if</b> (strcmp(expat_capi-&gt;magic, <a href='../S/559.html#L6' title='Defined at 6 in Include/pyexpat.h.'>PyExpat_CAPI_MAGIC</a>) != 0 ||
<a name='L3106'>            expat_capi-&gt;size &lt; <b>sizeof</b>(<b>struct</b> <a href='../S/559.html#L9' title='Defined at 9 in Include/pyexpat.h.'>PyExpat_CAPI</a>) ||
<a name='L3107'>            expat_capi-&gt;MAJOR_VERSION != XML_MAJOR_VERSION ||
<a name='L3108'>            expat_capi-&gt;MINOR_VERSION != XML_MINOR_VERSION ||
<a name='L3109'>            expat_capi-&gt;MICRO_VERSION != XML_MICRO_VERSION)
<a name='L3110'>            expat_capi = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3111'>    <font color='red'>}</font>
<a name='L3112'><font color='darkred'>#endif</font>
<a name='L3113'>
<a name='L3114'>    elementtree_parseerror_obj = <a href='../S/3106.html#L621' title='Defined at 621 in Python/errors.c.'>PyErr_NewException</a>(
<a name='L3115'>        "cElementTree.ParseError", PyExc_SyntaxError, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L3116'>        );
<a name='L3117'>    Py_INCREF(elementtree_parseerror_obj);
<a name='L3118'>    <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "ParseError", elementtree_parseerror_obj);
<a name='L3119'>
<a name='L3120'>    <b>return</b> m;
<a name='L3121'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L134'>[^]</a><a href='#L2884'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
