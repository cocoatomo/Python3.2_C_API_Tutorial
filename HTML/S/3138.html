<html>
<head>
<title>Python/pythonrun.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3402.html'>Python</a>/pythonrun.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L96'>[^]</a><a href='#L2474'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L96' title='Defined at 96.'>PyModule_GetWarningsModule</a>
<li><a href='#L106' title='Defined at 106.'>Py_IsInitialized</a>
<li><a href='#L124' title='Defined at 124.'>add_flag</a>
<li><a href='#L135' title='Defined at 135.'>get_codec_name</a>
<li><a href='#L168' title='Defined at 168.'>get_codeset</a>
<li><a href='#L180' title='Defined at 180.'>Py_InitializeEx</a>
<li><a href='#L319' title='Defined at 319.'>Py_Initialize</a>
<li><a href='#L332' title='Defined at 332.'>flush_std_files</a>
<li><a href='#L370' title='Defined at 370.'>Py_Finalize</a>
<li><a href='#L554' title='Defined at 554.'>Py_NewInterpreter</a>
<li><a href='#L647' title='Defined at 647.'>Py_EndInterpreter</a>
<li><a href='#L667' title='Defined at 667.'>Py_SetProgramName</a>
<li><a href='#L674' title='Defined at 674.'>Py_GetProgramName</a>
<li><a href='#L683' title='Defined at 683.'>Py_SetPythonHome</a>
<li><a href='#L689' title='Defined at 689.'>Py_GetPythonHome</a>
<li><a href='#L707' title='Defined at 707.'>initmain</a>
<li><a href='#L724' title='Defined at 724.'>initfsencoding</a>
<li><a href='#L760' title='Defined at 760.'>initsite</a>
<li><a href='#L775' title='Defined at 775.'>create_stdio</a>
<li><a href='#L858' title='Defined at 858.'>initstdio</a>
<li><a href='#L1001' title='Defined at 1001.'>PyRun_AnyFileExFlags</a>
<li><a href='#L1017' title='Defined at 1017.'>PyRun_InteractiveLoopFlags</a>
<li><a href='#L1050' title='Defined at 1050.'>PARSER_FLAGS</a>
<li><a href='#L1074' title='Defined at 1074.'>PyRun_InteractiveOneFlags</a>
<li><a href='#L1163' title='Defined at 1163.'>maybe_pyc_file</a>
<li><a href='#L1200' title='Defined at 1200.'>PyRun_SimpleFileExFlags</a>
<li><a href='#L1260' title='Defined at 1260.'>PyRun_SimpleStringFlags</a>
<li><a href='#L1277' title='Defined at 1277.'>parse_syntax_error</a>
<li><a href='#L1342' title='Defined at 1342.'>PyErr_Print</a>
<li><a href='#L1348' title='Defined at 1348.'>print_error_text</a>
<li><a href='#L1379' title='Defined at 1379.'>handle_system_exit</a>
<li><a href='#L1431' title='Defined at 1431.'>PyErr_PrintEx</a>
<li><a href='#L1498' title='Defined at 1498.'>print_exception</a>
<li><a href='#L1615' title='Defined at 1615.'>print_exception_recursive</a>
<li><a href='#L1659' title='Defined at 1659.'>PyErr_Display</a>
<li><a href='#L1683' title='Defined at 1683.'>PyRun_StringFlags</a>
<li><a href='#L1700' title='Defined at 1700.'>PyRun_FileExFlags</a>
<li><a href='#L1723' title='Defined at 1723.'>flush_io</a>
<li><a href='#L1752' title='Defined at 1752.'>run_mod</a>
<li><a href='#L1766' title='Defined at 1766.'>run_pyc_file</a>
<li><a href='#L1798' title='Defined at 1798.'>Py_CompileStringExFlags</a>
<li><a href='#L1825' title='Defined at 1825.'>PyCompileString</a>
<li><a href='#L1831' title='Defined at 1831.'>Py_SymtableString</a>
<li><a href='#L1853' title='Defined at 1853.'>PyParser_ASTFromString</a>
<li><a href='#L1881' title='Defined at 1881.'>PyParser_ASTFromFile</a>
<li><a href='#L1915' title='Defined at 1915.'>PyParser_SimpleParseFileFlags</a>
<li><a href='#L1930' title='Defined at 1930.'>PyParser_SimpleParseStringFlags</a>
<li><a href='#L1941' title='Defined at 1941.'>PyParser_SimpleParseStringFlagsFilename</a>
<li><a href='#L1953' title='Defined at 1953.'>PyParser_SimpleParseStringFilename</a>
<li><a href='#L1962' title='Defined at 1962.'>PyParser_SetError</a>
<li><a href='#L1970' title='Defined at 1970.'>err_input</a>
<li><a href='#L2092' title='Defined at 2092.'>Py_FatalError</a>
<li><a href='#L2130' title='Defined at 2130.'>_Py_PyAtExit</a>
<li><a href='#L2136' title='Defined at 2136.'>call_py_exitfuncs</a>
<li><a href='#L2150' title='Defined at 2150.'>wait_for_thread_shutdown</a>
<li><a href='#L2177' title='Defined at 2177.'>Py_AtExit</a>
<li><a href='#L2186' title='Defined at 2186.'>call_ll_exitfuncs</a>
<li><a href='#L2196' title='Defined at 2196.'>Py_Exit</a>
<li><a href='#L2204' title='Defined at 2204.'>initsigs</a>
<li><a href='#L2226' title='Defined at 2226.'>_Py_RestoreSignals</a>
<li><a href='#L2247' title='Defined at 2247.'>Py_FdIsInteractive</a>
<li><a href='#L2271' title='Defined at 2271.'>PyOS_CheckStack</a>
<li><a href='#L2300' title='Defined at 2300.'>PyOS_getsig</a>
<li><a href='#L2339' title='Defined at 2339.'>PyOS_setsig</a>
<li><a href='#L2366' title='Defined at 2366.'>PyAPI_FUNC</a>
<li><a href='#L2373' title='Defined at 2373.'>PyAPI_FUNC</a>
<li><a href='#L2380' title='Defined at 2380.'>PyAPI_FUNC</a>
<li><a href='#L2387' title='Defined at 2387.'>PyAPI_FUNC</a>
<li><a href='#L2394' title='Defined at 2394.'>PyAPI_FUNC</a>
<li><a href='#L2401' title='Defined at 2401.'>PyAPI_FUNC</a>
<li><a href='#L2408' title='Defined at 2408.'>PyAPI_FUNC</a>
<li><a href='#L2415' title='Defined at 2415.'>PyAPI_FUNC</a>
<li><a href='#L2423' title='Defined at 2423.'>PyAPI_FUNC</a>
<li><a href='#L2430' title='Defined at 2430.'>PyAPI_FUNC</a>
<li><a href='#L2438' title='Defined at 2438.'>PyAPI_FUNC</a>
<li><a href='#L2445' title='Defined at 2445.'>PyAPI_FUNC</a>
<li><a href='#L2452' title='Defined at 2452.'>PyAPI_FUNC</a>
<li><a href='#L2459' title='Defined at 2459.'>PyAPI_FUNC</a>
<li><a href='#L2467' title='Defined at 2467.'>PyAPI_FUNC</a>
<li><a href='#L2474' title='Defined at 2474.'>PyAPI_FUNC</a>
</ol>
<hr>
<pre>
<a name='L1'>
<a name='L2'><i><font color='green'>/* Python interpreter top-level routines, including init/exit */</font></i>
<a name='L3'>
<a name='L4'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L5'>
<a name='L6'><font color='darkred'>#include</font> "<a href='569.html'>Python-ast.h</a>"
<a name='L7'><font color='darkred'>#undef</font> <a href='../R/5254.html' title='Multiple refered from 9 places.'>Yield</a> <i><font color='green'>/* undefine macro conflicting with winbase.h */</font></i>
<a name='L8'><font color='darkred'>#include</font> "<a href='530.html'>grammar.h</a>"
<a name='L9'><font color='darkred'>#include</font> "<a href='543.html'>node.h</a>"
<a name='L10'><font color='darkred'>#include</font> "<a href='582.html'>token.h</a>"
<a name='L11'><font color='darkred'>#include</font> "<a href='548.html'>parsetok.h</a>"
<a name='L12'><font color='darkred'>#include</font> "<a href='521.html'>errcode.h</a>"
<a name='L13'><font color='darkred'>#include</font> "<a href='511.html'>code.h</a>"
<a name='L14'><font color='darkred'>#include</font> "<a href='579.html'>symtable.h</a>"
<a name='L15'><font color='darkred'>#include</font> "<a href='501.html'>ast.h</a>"
<a name='L16'><font color='darkred'>#include</font> "<a href='537.html'>marshal.h</a>"
<a name='L17'><font color='darkred'>#include</font> "<a href='547.html'>osdefs.h</a>"
<a name='L18'>
<a name='L19'><font color='darkred'>#ifdef</font> <a href='../D/1558.html' title='Multiple defined in 3 places.'>HAVE_SIGNAL_H</a>
<a name='L20'><font color='darkred'>#include</font> &lt;signal.h&gt;
<a name='L21'><font color='darkred'>#endif</font>
<a name='L22'>
<a name='L23'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L24'><font color='darkred'>#include</font> "malloc.h" <i><font color='green'>/* for alloca */</font></i>
<a name='L25'><font color='darkred'>#endif</font>
<a name='L26'>
<a name='L27'><font color='darkred'>#ifdef</font> HAVE_LANGINFO_H
<a name='L28'><font color='darkred'>#include</font> &lt;locale.h&gt;
<a name='L29'><font color='darkred'>#include</font> &lt;langinfo.h&gt;
<a name='L30'><font color='darkred'>#endif</font>
<a name='L31'>
<a name='L32'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L33'><font color='darkred'>#undef</font> <a href='../R/339.html' title='Multiple refered from 19 places.'>BYTE</a>
<a name='L34'><font color='darkred'>#include</font> "windows.h"
<a name='L35'><font color='darkred'>#define</font> <a href='../R/2227.html' title='Multiple refered from 16 places.'>PATH_MAX</a> <a href='../D/2043.html' title='Multiple defined in 8 places.'>MAXPATHLEN</a>
<a name='L36'><font color='darkred'>#endif</font>
<a name='L37'>
<a name='L38'><font color='darkred'>#ifndef</font> <a href='../S/544.html#L61' title='Defined at 61 in Include/object.h.'>Py_REF_DEBUG</a>
<a name='L39'><font color='darkred'>#define</font> <a href='../R/2296.html' title='Multiple refered from 2 places.'>PRINT_TOTAL_REFS</a>()
<a name='L40'><font color='darkred'>#else</font> <i><font color='green'>/* Py_REF_DEBUG */</font></i>
<a name='L41'><font color='darkred'>#define</font> <a href='../R/2296.html' title='Multiple refered from 2 places.'>PRINT_TOTAL_REFS</a>() fprintf(stderr,                              \
<a name='L42'>                   "[%" <a href='../D/2597.html' title='Multiple defined in 4 places.'>PY_FORMAT_SIZE_T</a> "d refs]\n",                   \
<a name='L43'>                   <a href='../S/2803.html#L15' title='Defined at 15 in Objects/object.c.'>_Py_GetRefTotal</a>())
<a name='L44'><font color='darkred'>#endif</font>
<a name='L45'>
<a name='L46'><font color='darkred'>#ifdef</font> __cplusplus
<a name='L47'><b>extern</b> "C" <font color='red'>{</font>
<a name='L48'><font color='darkred'>#endif</font>
<a name='L49'>
<a name='L50'><b>extern</b> wchar_t *<a href='../D/4143.html' title='Multiple defined in 4 places.'>Py_GetPath</a>(<b>void</b>);
<a name='L51'>
<a name='L52'><b>extern</b> <a href='../S/530.html#L67' title='Defined at 67 in Include/grammar.h.'>grammar</a> _PyParser_Grammar; <i><font color='green'>/* From graminit.c */</font></i>
<a name='L53'>
<a name='L54'><i><font color='green'>/* Forward */</font></i>
<a name='L55'><b>static</b> <b>void</b> <a href='../S/3138.html#L707' title='Defined at 707 in Python/pythonrun.c.'>initmain</a>(<b>void</b>);
<a name='L56'><b>static</b> <b>void</b> <a href='../S/3138.html#L724' title='Defined at 724 in Python/pythonrun.c.'>initfsencoding</a>(<b>void</b>);
<a name='L57'><b>static</b> <b>void</b> <a href='../S/3138.html#L760' title='Defined at 760 in Python/pythonrun.c.'>initsite</a>(<b>void</b>);
<a name='L58'><b>static</b> <b>int</b> <a href='../S/3138.html#L858' title='Defined at 858 in Python/pythonrun.c.'>initstdio</a>(<b>void</b>);
<a name='L59'><b>static</b> <b>void</b> <a href='../S/3138.html#L1723' title='Defined at 1723 in Python/pythonrun.c.'>flush_io</a>(<b>void</b>);
<a name='L60'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/3138.html#L1752' title='Defined at 1752 in Python/pythonrun.c.'>run_mod</a>(mod_ty, <b>const</b> <b>char</b> *, PyObject *, PyObject *,
<a name='L61'>                          PyCompilerFlags *, PyArena *);
<a name='L62'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/3138.html#L1766' title='Defined at 1766 in Python/pythonrun.c.'>run_pyc_file</a>(FILE *, <b>const</b> <b>char</b> *, PyObject *, PyObject *,
<a name='L63'>                              PyCompilerFlags *);
<a name='L64'><b>static</b> <b>void</b> <a href='../S/3138.html#L1970' title='Defined at 1970 in Python/pythonrun.c.'>err_input</a>(perrdetail *);
<a name='L65'><b>static</b> <b>void</b> <a href='../S/3138.html#L2204' title='Defined at 2204 in Python/pythonrun.c.'>initsigs</a>(<b>void</b>);
<a name='L66'><b>static</b> <b>void</b> <a href='../S/3138.html#L2136' title='Defined at 2136 in Python/pythonrun.c.'>call_py_exitfuncs</a>(<b>void</b>);
<a name='L67'><b>static</b> <b>void</b> <a href='../S/3138.html#L2150' title='Defined at 2150 in Python/pythonrun.c.'>wait_for_thread_shutdown</a>(<b>void</b>);
<a name='L68'><b>static</b> <b>void</b> <a href='../S/3138.html#L2186' title='Defined at 2186 in Python/pythonrun.c.'>call_ll_exitfuncs</a>(<b>void</b>);
<a name='L69'><b>extern</b> <b>void</b> <a href='../D/6206.html' title='Multiple defined in 3 places.'>_PyUnicode_Init</a>(<b>void</b>);
<a name='L70'><b>extern</b> <b>void</b> <a href='../D/6205.html' title='Multiple defined in 3 places.'>_PyUnicode_Fini</a>(<b>void</b>);
<a name='L71'><b>extern</b> <b>int</b> <a href='../S/2799.html#L4837' title='Defined at 4837 in Objects/longobject.c.'>_PyLong_Init</a>(<b>void</b>);
<a name='L72'><b>extern</b> <b>void</b> <a href='../S/2799.html#L4876' title='Defined at 4876 in Objects/longobject.c.'>PyLong_Fini</a>(<b>void</b>);
<a name='L73'>
<a name='L74'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L75'><b>extern</b> <b>void</b> <a href='../S/3134.html#L568' title='Defined at 568 in Python/pystate.c.'>_PyGILState_Init</a>(PyInterpreterState *, PyThreadState *);
<a name='L76'><b>extern</b> <b>void</b> <a href='../S/3134.html#L582' title='Defined at 582 in Python/pystate.c.'>_PyGILState_Fini</a>(<b>void</b>);
<a name='L77'><font color='darkred'>#endif</font> <i><font color='green'>/* WITH_THREAD */</font></i>
<a name='L78'>
<a name='L79'><b>int</b> Py_DebugFlag; <i><font color='green'>/* Needed by parser.c */</font></i>
<a name='L80'><b>int</b> Py_VerboseFlag; <i><font color='green'>/* Needed by import.c */</font></i>
<a name='L81'><b>int</b> Py_QuietFlag; <i><font color='green'>/* Needed by sysmodule.c */</font></i>
<a name='L82'><b>int</b> Py_InteractiveFlag; <i><font color='green'>/* Needed by Py_FdIsInteractive() below */</font></i>
<a name='L83'><b>int</b> Py_InspectFlag; <i><font color='green'>/* Needed to determine whether to exit at SystemError */</font></i>
<a name='L84'><b>int</b> Py_NoSiteFlag; <i><font color='green'>/* Suppress 'import site' */</font></i>
<a name='L85'><b>int</b> Py_BytesWarningFlag; <i><font color='green'>/* Warn on str(bytes) and str(buffer) */</font></i>
<a name='L86'><b>int</b> Py_DontWriteBytecodeFlag; <i><font color='green'>/* Suppress writing bytecode files (*.py[co]) */</font></i>
<a name='L87'><b>int</b> Py_UseClassExceptionsFlag = 1; <i><font color='green'>/* Needed by bltinmodule.c: deprecated */</font></i>
<a name='L88'><b>int</b> Py_FrozenFlag; <i><font color='green'>/* Needed by getpath.c */</font></i>
<a name='L89'><b>int</b> Py_IgnoreEnvironmentFlag; <i><font color='green'>/* e.g. PYTHONPATH, PYTHONHOME */</font></i>
<a name='L90'><b>int</b> Py_NoUserSiteDirectory = 0; <i><font color='green'>/* for -s and site.py */</font></i>
<a name='L91'><b>int</b> Py_UnbufferedStdioFlag = 0; <i><font color='green'>/* Unbuffered binary std{in,out,err} */</font></i>
<a name='L92'>
<a name='L93'><i><font color='green'>/* PyModule_GetWarningsModule is no longer necessary as of 2.6</font></i>
<a name='L94'><i><font color='green'>since _warnings is builtin.  This API should not be used. */</font></i>
<a name='L95'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L96'><a href='../S/3106.html#L760' title='Refered from 760 in Python/errors.c.'>PyModule_GetWarningsModule</a>(<b>void</b>)
<a name='L97'><font color='red'>{</font>
<a name='L98'>    <b>return</b> <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>("warnings");
<a name='L99'><font color='red'>}</font>
<a name='L100'>
<a name='L101'><b>static</b> <b>int</b> initialized = 0;
<a name='L102'>
<a name='L103'><i><font color='green'>/* API to access the initialized flag -- useful for esoteric use */</font></i>
<a name='L104'>
<a name='L105'><b>int</b>
<a name='L106'><a href='../S/2249.html#L447' title='Refered from 447 in Modules/_ctypes/callbacks.c.'>Py_IsInitialized</a>(<b>void</b>)
<a name='L107'><font color='red'>{</font>
<a name='L108'>    <b>return</b> initialized;
<a name='L109'><font color='red'>}</font>
<a name='L110'>
<a name='L111'><i><font color='green'>/* Global initializations.  Can be undone by Py_Finalize().  Don't</font></i>
<a name='L112'><i><font color='green'>   call this twice without an intervening Py_Finalize() call.  When</font></i>
<a name='L113'><i><font color='green'>   initializations fail, a fatal error is issued and the function does</font></i>
<a name='L114'><i><font color='green'>   not return.  On return, the first thread and interpreter state have</font></i>
<a name='L115'><i><font color='green'>   been created.</font></i>
<a name='L116'><i><font color='green'></font></i>
<a name='L117'><i><font color='green'>   Locking: you must hold the interpreter lock while calling this.</font></i>
<a name='L118'><i><font color='green'>   (If the lock has not yet been initialized, that's equivalent to</font></i>
<a name='L119'><i><font color='green'>   having the lock, but you cannot use multiple threads.)</font></i>
<a name='L120'><i><font color='green'></font></i>
<a name='L121'><i><font color='green'>*/</font></i>
<a name='L122'>
<a name='L123'><b>static</b> <b>int</b>
<a name='L124'><a href='../R/5916.html' title='Multiple refered from 4 places.'>add_flag</a>(<b>int</b> flag, <b>const</b> <b>char</b> *envs)
<a name='L125'><font color='red'>{</font>
<a name='L126'>    <b>int</b> env = atoi(envs);
<a name='L127'>    <b>if</b> (flag &lt; env)
<a name='L128'>        flag = env;
<a name='L129'>    <b>if</b> (flag &lt; 1)
<a name='L130'>        flag = 1;
<a name='L131'>    <b>return</b> flag;
<a name='L132'><font color='red'>}</font>
<a name='L133'>
<a name='L134'><b>static</b> <b>char</b>*
<a name='L135'><a href='../S/3138.html#L175' title='Refered from 175 in Python/pythonrun.c.'>get_codec_name</a>(<b>const</b> <b>char</b> *encoding)
<a name='L136'><font color='red'>{</font>
<a name='L137'>    <b>char</b> *name_utf8, *name_str;
<a name='L138'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *codec, *name = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L139'>
<a name='L140'>    codec = <a href='../S/3093.html#L98' title='Defined at 98 in Python/codecs.c.'>_PyCodec_Lookup</a>(<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>);
<a name='L141'>    <b>if</b> (!codec)
<a name='L142'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L143'>
<a name='L144'>    name = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(codec, "name");
<a name='L145'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(codec);
<a name='L146'>    <b>if</b> (!name)
<a name='L147'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L148'>
<a name='L149'>    name_utf8 = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(name);
<a name='L150'>    <b>if</b> (name == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L151'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L152'>    name_str = <a href='../D/11408.html' title='Multiple defined in 2 places.'>strdup</a>(name_utf8);
<a name='L153'>    Py_DECREF(name);
<a name='L154'>    <b>if</b> (name_str == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L155'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L156'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L157'>    <font color='red'>}</font>
<a name='L158'>    <b>return</b> name_str;
<a name='L159'>
<a name='L160'><a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L161'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(codec);
<a name='L162'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(name);
<a name='L163'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L164'><font color='red'>}</font>
<a name='L165'>
<a name='L166'><font color='darkred'>#if</font> <b>defined</b>(HAVE_LANGINFO_H) &amp;&amp; <b>defined</b>(CODESET)
<a name='L167'><b>static</b> <b>char</b>*
<a name='L168'><a href='../S/3138.html#L735' title='Refered from 735 in Python/pythonrun.c.'>get_codeset</a>(<b>void</b>)
<a name='L169'><font color='red'>{</font>
<a name='L170'>    <b>char</b>* codeset = nl_langinfo(CODESET);
<a name='L171'>    <b>if</b> (!codeset || codeset[0] == '\0') <font color='red'>{</font>
<a name='L172'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "CODESET is not set or empty");
<a name='L173'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L174'>    <font color='red'>}</font>
<a name='L175'>    <b>return</b> <a href='../S/3138.html#L135' title='Defined at 135 in Python/pythonrun.c.'>get_codec_name</a>(codeset);
<a name='L176'><font color='red'>}</font>
<a name='L177'><font color='darkred'>#endif</font>
<a name='L178'>
<a name='L179'><b>void</b>
<a name='L180'><a href='../S/3138.html#L321' title='Refered from 321 in Python/pythonrun.c.'>Py_InitializeEx</a>(<b>int</b> install_sigs)
<a name='L181'><font color='red'>{</font>
<a name='L182'>    <a href='../D/3410.html' title='Multiple defined in 2 places.'>PyInterpreterState</a> *interp;
<a name='L183'>    <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *tstate;
<a name='L184'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *bimod, *sysmod, *pstderr;
<a name='L185'>    <b>char</b> *p;
<a name='L186'>    <b>extern</b> <b>void</b> <a href='../S/2803.html#L1511' title='Defined at 1511 in Objects/object.c.'>_Py_ReadyTypes</a>(<b>void</b>);
<a name='L187'>
<a name='L188'>    <b>if</b> (initialized)
<a name='L189'>        <b>return</b>;
<a name='L190'>    initialized = 1;
<a name='L191'>
<a name='L192'><font color='darkred'>#if</font> <b>defined</b>(HAVE_LANGINFO_H) &amp;&amp; <b>defined</b>(<a href='../D/1552.html' title='Multiple defined in 2 places.'>HAVE_SETLOCALE</a>)
<a name='L193'>    <i><font color='green'>/* Set up the LC_CTYPE locale, so we can obtain</font></i>
<a name='L194'><i><font color='green'>       the locale's charset without having to switch</font></i>
<a name='L195'><i><font color='green'>       locales. */</font></i>
<a name='L196'>    setlocale(LC_CTYPE, "");
<a name='L197'><font color='darkred'>#endif</font>
<a name='L198'>
<a name='L199'>    <b>if</b> ((p = Py_GETENV("PYTHONDEBUG")) &amp;&amp; *p != '\0')
<a name='L200'>        Py_DebugFlag = <a href='../S/3138.html#L124' title='Defined at 124 in Python/pythonrun.c.'>add_flag</a>(Py_DebugFlag, p);
<a name='L201'>    <b>if</b> ((p = Py_GETENV("PYTHONVERBOSE")) &amp;&amp; *p != '\0')
<a name='L202'>        Py_VerboseFlag = <a href='../S/3138.html#L124' title='Defined at 124 in Python/pythonrun.c.'>add_flag</a>(Py_VerboseFlag, p);
<a name='L203'>    <b>if</b> ((p = Py_GETENV("PYTHONOPTIMIZE")) &amp;&amp; *p != '\0')
<a name='L204'>        Py_OptimizeFlag = <a href='../S/3138.html#L124' title='Defined at 124 in Python/pythonrun.c.'>add_flag</a>(Py_OptimizeFlag, p);
<a name='L205'>    <b>if</b> ((p = Py_GETENV("PYTHONDONTWRITEBYTECODE")) &amp;&amp; *p != '\0')
<a name='L206'>        Py_DontWriteBytecodeFlag = <a href='../S/3138.html#L124' title='Defined at 124 in Python/pythonrun.c.'>add_flag</a>(Py_DontWriteBytecodeFlag, p);
<a name='L207'>
<a name='L208'>    interp = <a href='../S/3134.html#L61' title='Defined at 61 in Python/pystate.c.'>PyInterpreterState_New</a>();
<a name='L209'>    <b>if</b> (interp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L210'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't make first interpreter");
<a name='L211'>
<a name='L212'>    tstate = <a href='../S/3134.html#L216' title='Defined at 216 in Python/pystate.c.'>PyThreadState_New</a>(interp);
<a name='L213'>    <b>if</b> (tstate == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L214'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't make first thread");
<a name='L215'>    (<b>void</b>) <a href='../S/3134.html#L380' title='Defined at 380 in Python/pystate.c.'>PyThreadState_Swap</a>(tstate);
<a name='L216'>
<a name='L217'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L218'>    <i><font color='green'>/* We can't call _PyEval_FiniThreads() in Py_Finalize because</font></i>
<a name='L219'><i><font color='green'>       destroying the GIL might fail when it is being referenced from</font></i>
<a name='L220'><i><font color='green'>       another running thread (see issue #9901).</font></i>
<a name='L221'><i><font color='green'>       Instead we destroy the previously created GIL here, which ensures</font></i>
<a name='L222'><i><font color='green'>       that we can call Py_Initialize / Py_Finalize multiple times. */</font></i>
<a name='L223'>    <a href='../S/3091.html#L316' title='Defined at 316 in Python/ceval.c.'>_PyEval_FiniThreads</a>();
<a name='L224'>
<a name='L225'>    <i><font color='green'>/* Auto-thread-state API */</font></i>
<a name='L226'>    <a href='../S/3134.html#L568' title='Defined at 568 in Python/pystate.c.'>_PyGILState_Init</a>(interp, tstate);
<a name='L227'><font color='darkred'>#endif</font> <i><font color='green'>/* WITH_THREAD */</font></i>
<a name='L228'>
<a name='L229'>    <a href='../S/2803.html#L1511' title='Defined at 1511 in Objects/object.c.'>_Py_ReadyTypes</a>();
<a name='L230'>
<a name='L231'>    <b>if</b> (!<a href='../S/2792.html#L586' title='Defined at 586 in Objects/frameobject.c.'>_PyFrame_Init</a>())
<a name='L232'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't init frames");
<a name='L233'>
<a name='L234'>    <b>if</b> (!<a href='../S/2799.html#L4837' title='Defined at 4837 in Objects/longobject.c.'>_PyLong_Init</a>())
<a name='L235'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't init longs");
<a name='L236'>
<a name='L237'>    <b>if</b> (!<a href='../S/2777.html#L16' title='Defined at 16 in Objects/bytearrayobject.c.'>PyByteArray_Init</a>())
<a name='L238'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't init bytearray");
<a name='L239'>
<a name='L240'>    <a href='../S/2791.html#L1892' title='Defined at 1892 in Objects/floatobject.c.'>_PyFloat_Init</a>();
<a name='L241'>
<a name='L242'>    interp-&gt;modules = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L243'>    <b>if</b> (interp-&gt;modules == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L244'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't make modules dictionary");
<a name='L245'>    interp-&gt;modules_reloading = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L246'>    <b>if</b> (interp-&gt;modules_reloading == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L247'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't make modules_reloading dictionary");
<a name='L248'>
<a name='L249'>    <i><font color='green'>/* Init Unicode implementation; relies on the codec registry */</font></i>
<a name='L250'>    <a href='../D/6206.html' title='Multiple defined in 3 places.'>_PyUnicode_Init</a>();
<a name='L251'>
<a name='L252'>    bimod = <a href='../S/3090.html#L2321' title='Defined at 2321 in Python/bltinmodule.c.'>_PyBuiltin_Init</a>();
<a name='L253'>    <b>if</b> (bimod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L254'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't initialize builtins modules");
<a name='L255'>    <a href='../S/3120.html#L626' title='Defined at 626 in Python/import.c.'>_PyImport_FixupBuiltin</a>(bimod, "builtins");
<a name='L256'>    interp-&gt;builtins = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(bimod);
<a name='L257'>    <b>if</b> (interp-&gt;builtins == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L258'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't initialize builtins dict");
<a name='L259'>    Py_INCREF(interp-&gt;builtins);
<a name='L260'>
<a name='L261'>    <i><font color='green'>/* initialize builtin exceptions */</font></i>
<a name='L262'>    <a href='../S/2789.html#L1971' title='Defined at 1971 in Objects/exceptions.c.'>_PyExc_Init</a>();
<a name='L263'>
<a name='L264'>    sysmod = <a href='../S/3144.html#L1556' title='Defined at 1556 in Python/sysmodule.c.'>_PySys_Init</a>();
<a name='L265'>    <b>if</b> (sysmod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L266'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't initialize sys");
<a name='L267'>    interp-&gt;sysdict = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(sysmod);
<a name='L268'>    <b>if</b> (interp-&gt;sysdict == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L269'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't initialize sys dict");
<a name='L270'>    Py_INCREF(interp-&gt;sysdict);
<a name='L271'>    <a href='../S/3120.html#L626' title='Defined at 626 in Python/import.c.'>_PyImport_FixupBuiltin</a>(sysmod, "sys");
<a name='L272'>    <a href='../S/3144.html#L1747' title='Defined at 1747 in Python/sysmodule.c.'>PySys_SetPath</a>(<a href='../D/4143.html' title='Multiple defined in 4 places.'>Py_GetPath</a>());
<a name='L273'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(interp-&gt;sysdict, "modules",
<a name='L274'>                         interp-&gt;modules);
<a name='L275'>
<a name='L276'>    <i><font color='green'>/* Set up a preliminary stderr printer until we have enough</font></i>
<a name='L277'><i><font color='green'>       infrastructure for the io module in place. */</font></i>
<a name='L278'>    pstderr = <a href='../S/2790.html#L355' title='Defined at 355 in Objects/fileobject.c.'>PyFile_NewStdPrinter</a>(<a href='../S/2759.html#L50' title='Defined at 50 in Modules/zlib/minigzip.c.'>fileno</a>(stderr));
<a name='L279'>    <b>if</b> (pstderr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L280'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't set preliminary stderr");
<a name='L281'>    <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("stderr", pstderr);
<a name='L282'>    <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("__stderr__", pstderr);
<a name='L283'>    Py_DECREF(pstderr);
<a name='L284'>
<a name='L285'>    <a href='../S/3120.html#L147' title='Defined at 147 in Python/import.c.'>_PyImport_Init</a>();
<a name='L286'>
<a name='L287'>    <a href='../S/3120.html#L186' title='Defined at 186 in Python/import.c.'>_PyImportHooks_Init</a>();
<a name='L288'>
<a name='L289'>    <i><font color='green'>/* Initialize _warnings. */</font></i>
<a name='L290'>    <a href='../S/3087.html#L945' title='Defined at 945 in Python/_warnings.c.'>_PyWarnings_Init</a>();
<a name='L291'>
<a name='L292'>    <a href='../S/3139.html#L57' title='Defined at 57 in Python/pytime.c.'>_PyTime_Init</a>();
<a name='L293'>
<a name='L294'>    <a href='../S/3138.html#L724' title='Defined at 724 in Python/pythonrun.c.'>initfsencoding</a>();
<a name='L295'>
<a name='L296'>    <b>if</b> (install_sigs)
<a name='L297'>        <a href='../S/3138.html#L2204' title='Defined at 2204 in Python/pythonrun.c.'>initsigs</a>(); <i><font color='green'>/* Signal handling stuff, including initintr() */</font></i>
<a name='L298'>
<a name='L299'>    <a href='../S/3138.html#L707' title='Defined at 707 in Python/pythonrun.c.'>initmain</a>(); <i><font color='green'>/* Module __main__ */</font></i>
<a name='L300'>    <b>if</b> (<a href='../S/3138.html#L858' title='Defined at 858 in Python/pythonrun.c.'>initstdio</a>() &lt; 0)
<a name='L301'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>(
<a name='L302'>            "Py_Initialize: can't initialize sys standard streams");
<a name='L303'>
<a name='L304'>    <i><font color='green'>/* Initialize warnings. */</font></i>
<a name='L305'>    <b>if</b> (<a href='../S/3144.html#L1156' title='Defined at 1156 in Python/sysmodule.c.'>PySys_HasWarnOptions</a>()) <font color='red'>{</font>
<a name='L306'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *warnings_module = <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>("warnings");
<a name='L307'>        <b>if</b> (warnings_module == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L308'>            fprintf(stderr, "'import warnings' failed; traceback:\n");
<a name='L309'>            <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L310'>        <font color='red'>}</font>
<a name='L311'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(warnings_module);
<a name='L312'>    <font color='red'>}</font>
<a name='L313'>
<a name='L314'>    <b>if</b> (!Py_NoSiteFlag)
<a name='L315'>        <a href='../S/3138.html#L760' title='Defined at 760 in Python/pythonrun.c.'>initsite</a>(); <i><font color='green'>/* Module site */</font></i>
<a name='L316'><font color='red'>}</font>
<a name='L317'>
<a name='L318'><b>void</b>
<a name='L319'><a href='../R/3730.html' title='Multiple refered from 17 places.'>Py_Initialize</a>(<b>void</b>)
<a name='L320'><font color='red'>{</font>
<a name='L321'>    <a href='../S/3138.html#L180' title='Defined at 180 in Python/pythonrun.c.'>Py_InitializeEx</a>(1);
<a name='L322'><font color='red'>}</font>
<a name='L323'>
<a name='L324'>
<a name='L325'><font color='darkred'>#ifdef</font> COUNT_ALLOCS
<a name='L326'><b>extern</b> <b>void</b> <a href='../S/2803.html#L89' title='Defined at 89 in Objects/object.c.'>dump_counts</a>(FILE*);
<a name='L327'><font color='darkred'>#endif</font>
<a name='L328'>
<a name='L329'><i><font color='green'>/* Flush stdout and stderr */</font></i>
<a name='L330'>
<a name='L331'><b>static</b> <b>void</b>
<a name='L332'><a href='../R/7876.html' title='Multiple refered from 2 places.'>flush_std_files</a>(<b>void</b>)
<a name='L333'><font color='red'>{</font>
<a name='L334'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *fout = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("stdout");
<a name='L335'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ferr = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("stderr");
<a name='L336'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tmp;
<a name='L337'>
<a name='L338'>    <b>if</b> (fout != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; fout != Py_None) <font color='red'>{</font>
<a name='L339'>        tmp = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(fout, "flush", "");
<a name='L340'>        <b>if</b> (tmp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L341'>            <a href='../S/3106.html#L708' title='Defined at 708 in Python/errors.c.'>PyErr_WriteUnraisable</a>(fout);
<a name='L342'>        <b>else</b>
<a name='L343'>            Py_DECREF(tmp);
<a name='L344'>    <font color='red'>}</font>
<a name='L345'>
<a name='L346'>    <b>if</b> (ferr != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; ferr != Py_None) <font color='red'>{</font>
<a name='L347'>        tmp = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(ferr, "flush", "");
<a name='L348'>        <b>if</b> (tmp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L349'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L350'>        <b>else</b>
<a name='L351'>            Py_DECREF(tmp);
<a name='L352'>    <font color='red'>}</font>
<a name='L353'><font color='red'>}</font>
<a name='L354'>
<a name='L355'><i><font color='green'>/* Undo the effect of Py_Initialize().</font></i>
<a name='L356'><i><font color='green'></font></i>
<a name='L357'><i><font color='green'>   Beware: if multiple interpreter and/or thread states exist, these</font></i>
<a name='L358'><i><font color='green'>   are not wiped out; only the current thread and interpreter state</font></i>
<a name='L359'><i><font color='green'>   are deleted.  But since everything else is deleted, those other</font></i>
<a name='L360'><i><font color='green'>   interpreter and thread states should no longer be used.</font></i>
<a name='L361'><i><font color='green'></font></i>
<a name='L362'><i><font color='green'>   (XXX We should do better, e.g. wipe out all interpreters and</font></i>
<a name='L363'><i><font color='green'>   threads.)</font></i>
<a name='L364'><i><font color='green'></font></i>
<a name='L365'><i><font color='green'>   Locking: as above.</font></i>
<a name='L366'><i><font color='green'></font></i>
<a name='L367'><i><font color='green'>*/</font></i>
<a name='L368'>
<a name='L369'><b>void</b>
<a name='L370'><a href='../R/3697.html' title='Multiple refered from 17 places.'>Py_Finalize</a>(<b>void</b>)
<a name='L371'><font color='red'>{</font>
<a name='L372'>    <a href='../D/3410.html' title='Multiple defined in 2 places.'>PyInterpreterState</a> *interp;
<a name='L373'>    <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *tstate;
<a name='L374'>
<a name='L375'>    <b>if</b> (!initialized)
<a name='L376'>        <b>return</b>;
<a name='L377'>
<a name='L378'>    <a href='../S/3138.html#L2150' title='Defined at 2150 in Python/pythonrun.c.'>wait_for_thread_shutdown</a>();
<a name='L379'>
<a name='L380'>    <i><font color='green'>/* The interpreter is still entirely intact at this point, and the</font></i>
<a name='L381'><i><font color='green'>     * exit funcs may be relying on that.  In particular, if some thread</font></i>
<a name='L382'><i><font color='green'>     * or exit func is still waiting to do an import, the import machinery</font></i>
<a name='L383'><i><font color='green'>     * expects Py_IsInitialized() to return true.  So don't say the</font></i>
<a name='L384'><i><font color='green'>     * interpreter is uninitialized until after the exit funcs have run.</font></i>
<a name='L385'><i><font color='green'>     * Note that Threading.py uses an exit func to do a join on all the</font></i>
<a name='L386'><i><font color='green'>     * threads created thru it, so this also protects pending imports in</font></i>
<a name='L387'><i><font color='green'>     * the threads created via Threading.</font></i>
<a name='L388'><i><font color='green'>     */</font></i>
<a name='L389'>    <a href='../S/3138.html#L2136' title='Defined at 2136 in Python/pythonrun.c.'>call_py_exitfuncs</a>();
<a name='L390'>    initialized = 0;
<a name='L391'>
<a name='L392'>    <i><font color='green'>/* Flush stdout+stderr */</font></i>
<a name='L393'>    <a href='../S/3138.html#L332' title='Defined at 332 in Python/pythonrun.c.'>flush_std_files</a>();
<a name='L394'>
<a name='L395'>    <i><font color='green'>/* Get current thread state and interpreter pointer */</font></i>
<a name='L396'>    tstate = <a href='../S/509.html#L90' title='Defined at 90 in Include/ceval.h.'>PyThreadState_GET</a>();
<a name='L397'>    interp = tstate-&gt;interp;
<a name='L398'>
<a name='L399'>    <i><font color='green'>/* Disable signal handling */</font></i>
<a name='L400'>    <a href='../D/3579.html' title='Multiple defined in 5 places.'>PyOS_FiniInterrupts</a>();
<a name='L401'>
<a name='L402'>    <i><font color='green'>/* Clear type lookup cache */</font></i>
<a name='L403'>    <a href='../S/2824.html#L38' title='Defined at 38 in Objects/typeobject.c.'>PyType_ClearCache</a>();
<a name='L404'>
<a name='L405'>    <i><font color='green'>/* Collect garbage.  This may call finalizers; it's nice to call these</font></i>
<a name='L406'><i><font color='green'>     * before all modules are destroyed.</font></i>
<a name='L407'><i><font color='green'>     * XXX If a __del__ or weakref callback is triggered here, and tries to</font></i>
<a name='L408'><i><font color='green'>     * XXX import a module, bad things can happen, because Python no</font></i>
<a name='L409'><i><font color='green'>     * XXX longer believes it's initialized.</font></i>
<a name='L410'><i><font color='green'>     * XXX     Fatal Python error: Interpreter not initialized (version mismatch?)</font></i>
<a name='L411'><i><font color='green'>     * XXX is easy to provoke that way.  I've also seen, e.g.,</font></i>
<a name='L412'><i><font color='green'>     * XXX     Exception exceptions.ImportError: 'No module named sha'</font></i>
<a name='L413'><i><font color='green'>     * XXX         in &lt;function callback at 0x008F5718&gt; ignored</font></i>
<a name='L414'><i><font color='green'>     * XXX but I'm unclear on exactly how that one happens.  In any case,</font></i>
<a name='L415'><i><font color='green'>     * XXX I haven't seen a real-life report of either of these.</font></i>
<a name='L416'><i><font color='green'>     */</font></i>
<a name='L417'>    <a href='../S/2676.html#L1351' title='Defined at 1351 in Modules/gcmodule.c.'>PyGC_Collect</a>();
<a name='L418'><font color='darkred'>#ifdef</font> COUNT_ALLOCS
<a name='L419'>    <i><font color='green'>/* With COUNT_ALLOCS, it helps to run GC multiple times:</font></i>
<a name='L420'><i><font color='green'>       each collection might release some types from the type</font></i>
<a name='L421'><i><font color='green'>       list, so they become garbage. */</font></i>
<a name='L422'>    <b>while</b> (<a href='../S/2676.html#L1351' title='Defined at 1351 in Modules/gcmodule.c.'>PyGC_Collect</a>() &gt; 0)
<a name='L423'>        <i><font color='green'>/* nothing */</font></i>;
<a name='L424'><font color='darkred'>#endif</font>
<a name='L425'>    <i><font color='green'>/* We run this while most interpreter state is still alive, so that</font></i>
<a name='L426'><i><font color='green'>       debug information can be printed out */</font></i>
<a name='L427'>    <a href='../S/2676.html#L1367' title='Defined at 1367 in Modules/gcmodule.c.'>_PyGC_Fini</a>();
<a name='L428'>
<a name='L429'>    <i><font color='green'>/* Destroy all modules */</font></i>
<a name='L430'>    <a href='../S/3120.html#L418' title='Defined at 418 in Python/import.c.'>PyImport_Cleanup</a>();
<a name='L431'>
<a name='L432'>    <i><font color='green'>/* Flush stdout+stderr (again, in case more was printed) */</font></i>
<a name='L433'>    <a href='../S/3138.html#L332' title='Defined at 332 in Python/pythonrun.c.'>flush_std_files</a>();
<a name='L434'>
<a name='L435'>    <i><font color='green'>/* Collect final garbage.  This disposes of cycles created by</font></i>
<a name='L436'><i><font color='green'>     * new-style class definitions, for example.</font></i>
<a name='L437'><i><font color='green'>     * XXX This is disabled because it caused too many problems.  If</font></i>
<a name='L438'><i><font color='green'>     * XXX a __del__ or weakref callback triggers here, Python code has</font></i>
<a name='L439'><i><font color='green'>     * XXX a hard time running, because even the sys module has been</font></i>
<a name='L440'><i><font color='green'>     * XXX cleared out (sys.stdout is gone, sys.excepthook is gone, etc).</font></i>
<a name='L441'><i><font color='green'>     * XXX One symptom is a sequence of information-free messages</font></i>
<a name='L442'><i><font color='green'>     * XXX coming from threads (if a __del__ or callback is invoked,</font></i>
<a name='L443'><i><font color='green'>     * XXX other threads can execute too, and any exception they encounter</font></i>
<a name='L444'><i><font color='green'>     * XXX triggers a comedy of errors as subsystem after subsystem</font></i>
<a name='L445'><i><font color='green'>     * XXX fails to find what it *expects* to find in sys to help report</font></i>
<a name='L446'><i><font color='green'>     * XXX the exception and consequent unexpected failures).  I've also</font></i>
<a name='L447'><i><font color='green'>     * XXX seen segfaults then, after adding print statements to the</font></i>
<a name='L448'><i><font color='green'>     * XXX Python code getting called.</font></i>
<a name='L449'><i><font color='green'>     */</font></i>
<a name='L450'><font color='darkred'>#if</font> 0
<a name='L451'>    <a href='../S/2676.html#L1351' title='Defined at 1351 in Modules/gcmodule.c.'>PyGC_Collect</a>();
<a name='L452'><font color='darkred'>#endif</font>
<a name='L453'>
<a name='L454'>    <i><font color='green'>/* Destroy the database used by _PyImport_{Fixup,Find}Extension */</font></i>
<a name='L455'>    <a href='../S/3120.html#L256' title='Defined at 256 in Python/import.c.'>_PyImport_Fini</a>();
<a name='L456'>
<a name='L457'>    <i><font color='green'>/* Debugging stuff */</font></i>
<a name='L458'><font color='darkred'>#ifdef</font> COUNT_ALLOCS
<a name='L459'>    <a href='../S/2803.html#L89' title='Defined at 89 in Objects/object.c.'>dump_counts</a>(stdout);
<a name='L460'><font color='darkred'>#endif</font>
<a name='L461'>
<a name='L462'>    <a href='../D/2532.html' title='Multiple defined in 2 places.'>PRINT_TOTAL_REFS</a>();
<a name='L463'>
<a name='L464'><font color='darkred'>#ifdef</font> <a href='../S/544.html#L56' title='Defined at 56 in Include/object.h.'>Py_TRACE_REFS</a>
<a name='L465'>    <i><font color='green'>/* Display all objects still alive -- this can invoke arbitrary</font></i>
<a name='L466'><i><font color='green'>     * __repr__ overrides, so requires a mostly-intact interpreter.</font></i>
<a name='L467'><i><font color='green'>     * Alas, a lot of stuff may still be alive now that will be cleaned</font></i>
<a name='L468'><i><font color='green'>     * up later.</font></i>
<a name='L469'><i><font color='green'>     */</font></i>
<a name='L470'>    <b>if</b> (Py_GETENV("PYTHONDUMPREFS"))
<a name='L471'>        <a href='../S/2803.html#L1702' title='Defined at 1702 in Objects/object.c.'>_Py_PrintReferences</a>(stderr);
<a name='L472'><font color='darkred'>#endif</font> <i><font color='green'>/* Py_TRACE_REFS */</font></i>
<a name='L473'>
<a name='L474'>    <i><font color='green'>/* Clear interpreter state */</font></i>
<a name='L475'>    <a href='../S/3134.html#L104' title='Defined at 104 in Python/pystate.c.'>PyInterpreterState_Clear</a>(interp);
<a name='L476'>
<a name='L477'>    <i><font color='green'>/* Now we decref the exception classes.  After this point nothing</font></i>
<a name='L478'><i><font color='green'>       can raise an exception.  That's okay, because each Fini() method</font></i>
<a name='L479'><i><font color='green'>       below has been checked to make sure no exceptions are ever</font></i>
<a name='L480'><i><font color='green'>       raised.</font></i>
<a name='L481'><i><font color='green'>    */</font></i>
<a name='L482'>
<a name='L483'>    <a href='../S/2789.html#L2123' title='Defined at 2123 in Objects/exceptions.c.'>_PyExc_Fini</a>();
<a name='L484'>
<a name='L485'>    <i><font color='green'>/* Cleanup auto-thread-state */</font></i>
<a name='L486'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L487'>    <a href='../S/3134.html#L582' title='Defined at 582 in Python/pystate.c.'>_PyGILState_Fini</a>();
<a name='L488'><font color='darkred'>#endif</font> <i><font color='green'>/* WITH_THREAD */</font></i>
<a name='L489'>
<a name='L490'>    <i><font color='green'>/* Delete current thread */</font></i>
<a name='L491'>    <a href='../S/3134.html#L380' title='Defined at 380 in Python/pystate.c.'>PyThreadState_Swap</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L492'>    <a href='../S/3134.html#L135' title='Defined at 135 in Python/pystate.c.'>PyInterpreterState_Delete</a>(interp);
<a name='L493'>
<a name='L494'>    <i><font color='green'>/* Sundry finalizers */</font></i>
<a name='L495'>    <a href='../S/2782.html#L397' title='Defined at 397 in Objects/classobject.c.'>PyMethod_Fini</a>();
<a name='L496'>    <a href='../S/2792.html#L950' title='Defined at 950 in Objects/frameobject.c.'>PyFrame_Fini</a>();
<a name='L497'>    <a href='../S/2801.html#L301' title='Defined at 301 in Objects/methodobject.c.'>PyCFunction_Fini</a>();
<a name='L498'>    <a href='../S/2823.html#L900' title='Defined at 900 in Objects/tupleobject.c.'>PyTuple_Fini</a>();
<a name='L499'>    <a href='../S/2796.html#L101' title='Defined at 101 in Objects/listobject.c.'>PyList_Fini</a>();
<a name='L500'>    <a href='../S/2806.html#L1077' title='Defined at 1077 in Objects/setobject.c.'>PySet_Fini</a>();
<a name='L501'>    <a href='../S/2779.html#L2995' title='Defined at 2995 in Objects/bytesobject.c.'>PyBytes_Fini</a>();
<a name='L502'>    <a href='../S/2777.html#L11' title='Defined at 11 in Objects/bytearrayobject.c.'>PyByteArray_Fini</a>();
<a name='L503'>    <a href='../S/2799.html#L4876' title='Defined at 4876 in Objects/longobject.c.'>PyLong_Fini</a>();
<a name='L504'>    <a href='../S/2791.html#L1990' title='Defined at 1990 in Objects/floatobject.c.'>PyFloat_Fini</a>();
<a name='L505'>    <a href='../S/2787.html#L221' title='Defined at 221 in Objects/dictobject.c.'>PyDict_Fini</a>();
<a name='L506'>
<a name='L507'>    <i><font color='green'>/* Cleanup Unicode implementation */</font></i>
<a name='L508'>    <a href='../D/6205.html' title='Multiple defined in 3 places.'>_PyUnicode_Fini</a>();
<a name='L509'>
<a name='L510'>    <i><font color='green'>/* reset file system default encoding */</font></i>
<a name='L511'>    <b>if</b> (!Py_HasFileSystemDefaultEncoding &amp;&amp; Py_FileSystemDefaultEncoding) <font color='red'>{</font>
<a name='L512'>        free((<b>char</b>*)Py_FileSystemDefaultEncoding);
<a name='L513'>        Py_FileSystemDefaultEncoding = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L514'>    <font color='red'>}</font>
<a name='L515'>
<a name='L516'>    <i><font color='green'>/* XXX Still allocated:</font></i>
<a name='L517'><i><font color='green'>       - various static ad-hoc pointers to interned strings</font></i>
<a name='L518'><i><font color='green'>       - int and float free list blocks</font></i>
<a name='L519'><i><font color='green'>       - whatever various modules and libraries allocate</font></i>
<a name='L520'><i><font color='green'>    */</font></i>
<a name='L521'>
<a name='L522'>    <a href='../S/2831.html#L35' title='Defined at 35 in Parser/acceler.c.'>PyGrammar_RemoveAccelerators</a>(&amp;_PyParser_Grammar);
<a name='L523'>
<a name='L524'><font color='darkred'>#ifdef</font> <a href='../S/544.html#L56' title='Defined at 56 in Include/object.h.'>Py_TRACE_REFS</a>
<a name='L525'>    <i><font color='green'>/* Display addresses (&amp; refcnts) of all objects still alive.</font></i>
<a name='L526'><i><font color='green'>     * An address can be used to find the repr of the object, printed</font></i>
<a name='L527'><i><font color='green'>     * above by _Py_PrintReferences.</font></i>
<a name='L528'><i><font color='green'>     */</font></i>
<a name='L529'>    <b>if</b> (Py_GETENV("PYTHONDUMPREFS"))
<a name='L530'>        <a href='../S/2803.html#L1718' title='Defined at 1718 in Objects/object.c.'>_Py_PrintReferenceAddresses</a>(stderr);
<a name='L531'><font color='darkred'>#endif</font> <i><font color='green'>/* Py_TRACE_REFS */</font></i>
<a name='L532'><font color='darkred'>#ifdef</font> <a href='../S/570.html#L58' title='Defined at 58 in Include/Python.h.'>PYMALLOC_DEBUG</a>
<a name='L533'>    <b>if</b> (Py_GETENV("PYTHONMALLOCSTATS"))
<a name='L534'>        <a href='../S/2804.html#L1738' title='Defined at 1738 in Objects/obmalloc.c.'>_PyObject_DebugMallocStats</a>();
<a name='L535'><font color='darkred'>#endif</font>
<a name='L536'>
<a name='L537'>    <a href='../S/3138.html#L2186' title='Defined at 2186 in Python/pythonrun.c.'>call_ll_exitfuncs</a>();
<a name='L538'><font color='red'>}</font>
<a name='L539'>
<a name='L540'><i><font color='green'>/* Create and initialize a new interpreter and thread, and return the</font></i>
<a name='L541'><i><font color='green'>   new thread.  This requires that Py_Initialize() has been called</font></i>
<a name='L542'><i><font color='green'>   first.</font></i>
<a name='L543'><i><font color='green'></font></i>
<a name='L544'><i><font color='green'>   Unsuccessful initialization yields a NULL pointer.  Note that *no*</font></i>
<a name='L545'><i><font color='green'>   exception information is available even in this case -- the</font></i>
<a name='L546'><i><font color='green'>   exception information is held in the thread, and there is no</font></i>
<a name='L547'><i><font color='green'>   thread.</font></i>
<a name='L548'><i><font color='green'></font></i>
<a name='L549'><i><font color='green'>   Locking: as above.</font></i>
<a name='L550'><i><font color='green'></font></i>
<a name='L551'><i><font color='green'>*/</font></i>
<a name='L552'>
<a name='L553'><a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *
<a name='L554'>Py_NewInterpreter(<b>void</b>)
<a name='L555'><font color='red'>{</font>
<a name='L556'>    <a href='../D/3410.html' title='Multiple defined in 2 places.'>PyInterpreterState</a> *interp;
<a name='L557'>    <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *tstate, *save_tstate;
<a name='L558'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *bimod, *sysmod;
<a name='L559'>
<a name='L560'>    <b>if</b> (!initialized)
<a name='L561'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_NewInterpreter: call Py_Initialize first");
<a name='L562'>
<a name='L563'>    interp = <a href='../S/3134.html#L61' title='Defined at 61 in Python/pystate.c.'>PyInterpreterState_New</a>();
<a name='L564'>    <b>if</b> (interp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L565'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L566'>
<a name='L567'>    tstate = <a href='../S/3134.html#L216' title='Defined at 216 in Python/pystate.c.'>PyThreadState_New</a>(interp);
<a name='L568'>    <b>if</b> (tstate == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L569'>        <a href='../S/3134.html#L135' title='Defined at 135 in Python/pystate.c.'>PyInterpreterState_Delete</a>(interp);
<a name='L570'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L571'>    <font color='red'>}</font>
<a name='L572'>
<a name='L573'>    save_tstate = <a href='../S/3134.html#L380' title='Defined at 380 in Python/pystate.c.'>PyThreadState_Swap</a>(tstate);
<a name='L574'>
<a name='L575'>    <i><font color='green'>/* XXX The following is lax in error checking */</font></i>
<a name='L576'>
<a name='L577'>    interp-&gt;modules = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L578'>    interp-&gt;modules_reloading = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L579'>
<a name='L580'>    bimod = <a href='../S/3120.html#L683' title='Defined at 683 in Python/import.c.'>_PyImport_FindBuiltin</a>("builtins");
<a name='L581'>    <b>if</b> (bimod != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L582'>        interp-&gt;builtins = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(bimod);
<a name='L583'>        <b>if</b> (interp-&gt;builtins == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L584'>            <b>goto</b> handle_error;
<a name='L585'>        Py_INCREF(interp-&gt;builtins);
<a name='L586'>    <font color='red'>}</font>
<a name='L587'>
<a name='L588'>    <i><font color='green'>/* initialize builtin exceptions */</font></i>
<a name='L589'>    <a href='../S/2789.html#L1971' title='Defined at 1971 in Objects/exceptions.c.'>_PyExc_Init</a>();
<a name='L590'>
<a name='L591'>    sysmod = <a href='../S/3120.html#L683' title='Defined at 683 in Python/import.c.'>_PyImport_FindBuiltin</a>("sys");
<a name='L592'>    <b>if</b> (bimod != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; sysmod != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L593'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pstderr;
<a name='L594'>        interp-&gt;sysdict = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(sysmod);
<a name='L595'>        <b>if</b> (interp-&gt;sysdict == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L596'>            <b>goto</b> handle_error;
<a name='L597'>        Py_INCREF(interp-&gt;sysdict);
<a name='L598'>        <a href='../S/3144.html#L1747' title='Defined at 1747 in Python/sysmodule.c.'>PySys_SetPath</a>(<a href='../D/4143.html' title='Multiple defined in 4 places.'>Py_GetPath</a>());
<a name='L599'>        <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(interp-&gt;sysdict, "modules",
<a name='L600'>                             interp-&gt;modules);
<a name='L601'>        <i><font color='green'>/* Set up a preliminary stderr printer until we have enough</font></i>
<a name='L602'><i><font color='green'>           infrastructure for the io module in place. */</font></i>
<a name='L603'>        pstderr = <a href='../S/2790.html#L355' title='Defined at 355 in Objects/fileobject.c.'>PyFile_NewStdPrinter</a>(<a href='../S/2759.html#L50' title='Defined at 50 in Modules/zlib/minigzip.c.'>fileno</a>(stderr));
<a name='L604'>        <b>if</b> (pstderr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L605'>            <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: can't set preliminary stderr");
<a name='L606'>        <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("stderr", pstderr);
<a name='L607'>        <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("__stderr__", pstderr);
<a name='L608'>        Py_DECREF(pstderr);
<a name='L609'>
<a name='L610'>        <a href='../S/3120.html#L186' title='Defined at 186 in Python/import.c.'>_PyImportHooks_Init</a>();
<a name='L611'>        <b>if</b> (<a href='../S/3138.html#L858' title='Defined at 858 in Python/pythonrun.c.'>initstdio</a>() &lt; 0)
<a name='L612'>            <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>(
<a name='L613'>            "Py_Initialize: can't initialize sys standard streams");
<a name='L614'>        <a href='../S/3138.html#L707' title='Defined at 707 in Python/pythonrun.c.'>initmain</a>();
<a name='L615'>        <b>if</b> (!Py_NoSiteFlag)
<a name='L616'>            <a href='../S/3138.html#L760' title='Defined at 760 in Python/pythonrun.c.'>initsite</a>();
<a name='L617'>    <font color='red'>}</font>
<a name='L618'>
<a name='L619'>    <b>if</b> (!<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L620'>        <b>return</b> tstate;
<a name='L621'>
<a name='L622'>handle_error:
<a name='L623'>    <i><font color='green'>/* Oops, it didn't work.  Undo it all. */</font></i>
<a name='L624'>
<a name='L625'>    <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L626'>    <a href='../S/3134.html#L271' title='Defined at 271 in Python/pystate.c.'>PyThreadState_Clear</a>(tstate);
<a name='L627'>    <a href='../S/3134.html#L380' title='Defined at 380 in Python/pystate.c.'>PyThreadState_Swap</a>(save_tstate);
<a name='L628'>    <a href='../S/3134.html#L337' title='Defined at 337 in Python/pystate.c.'>PyThreadState_Delete</a>(tstate);
<a name='L629'>    <a href='../S/3134.html#L135' title='Defined at 135 in Python/pystate.c.'>PyInterpreterState_Delete</a>(interp);
<a name='L630'>
<a name='L631'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L632'><font color='red'>}</font>
<a name='L633'>
<a name='L634'><i><font color='green'>/* Delete an interpreter and its last thread.  This requires that the</font></i>
<a name='L635'><i><font color='green'>   given thread state is current, that the thread has no remaining</font></i>
<a name='L636'><i><font color='green'>   frames, and that it is its interpreter's only remaining thread.</font></i>
<a name='L637'><i><font color='green'>   It is a fatal error to violate these constraints.</font></i>
<a name='L638'><i><font color='green'></font></i>
<a name='L639'><i><font color='green'>   (Py_Finalize() doesn't have these constraints -- it zaps</font></i>
<a name='L640'><i><font color='green'>   everything, regardless.)</font></i>
<a name='L641'><i><font color='green'></font></i>
<a name='L642'><i><font color='green'>   Locking: as above.</font></i>
<a name='L643'><i><font color='green'></font></i>
<a name='L644'><i><font color='green'>*/</font></i>
<a name='L645'>
<a name='L646'><b>void</b>
<a name='L647'>Py_EndInterpreter(PyThreadState *tstate)
<a name='L648'><font color='red'>{</font>
<a name='L649'>    <a href='../D/3410.html' title='Multiple defined in 2 places.'>PyInterpreterState</a> *interp = tstate-&gt;interp;
<a name='L650'>
<a name='L651'>    <b>if</b> (tstate != <a href='../S/509.html#L90' title='Defined at 90 in Include/ceval.h.'>PyThreadState_GET</a>())
<a name='L652'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_EndInterpreter: thread is not current");
<a name='L653'>    <b>if</b> (tstate-&gt;frame != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L654'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_EndInterpreter: thread still has a frame");
<a name='L655'>    <b>if</b> (tstate != interp-&gt;tstate_head || tstate-&gt;next != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L656'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_EndInterpreter: not the last thread");
<a name='L657'>
<a name='L658'>    <a href='../S/3120.html#L418' title='Defined at 418 in Python/import.c.'>PyImport_Cleanup</a>();
<a name='L659'>    <a href='../S/3134.html#L104' title='Defined at 104 in Python/pystate.c.'>PyInterpreterState_Clear</a>(interp);
<a name='L660'>    <a href='../S/3134.html#L380' title='Defined at 380 in Python/pystate.c.'>PyThreadState_Swap</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L661'>    <a href='../S/3134.html#L135' title='Defined at 135 in Python/pystate.c.'>PyInterpreterState_Delete</a>(interp);
<a name='L662'><font color='red'>}</font>
<a name='L663'>
<a name='L664'><b>static</b> wchar_t *progname = L"python";
<a name='L665'>
<a name='L666'><b>void</b>
<a name='L667'><a href='../R/3796.html' title='Multiple refered from 13 places.'>Py_SetProgramName</a>(wchar_t *pn)
<a name='L668'><font color='red'>{</font>
<a name='L669'>    <b>if</b> (pn &amp;&amp; *pn)
<a name='L670'>        progname = pn;
<a name='L671'><font color='red'>}</font>
<a name='L672'>
<a name='L673'>wchar_t *
<a name='L674'><a href='../R/3710.html' title='Multiple refered from 17 places.'>Py_GetProgramName</a>(<b>void</b>)
<a name='L675'><font color='red'>{</font>
<a name='L676'>    <b>return</b> progname;
<a name='L677'><font color='red'>}</font>
<a name='L678'>
<a name='L679'><b>static</b> wchar_t *default_home = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L680'><b>static</b> wchar_t env_home[<a href='../D/2461.html' title='Multiple defined in 2 places.'>PATH_MAX</a>+1];
<a name='L681'>
<a name='L682'><b>void</b>
<a name='L683'>Py_SetPythonHome(wchar_t *home)
<a name='L684'><font color='red'>{</font>
<a name='L685'>    default_home = home;
<a name='L686'><font color='red'>}</font>
<a name='L687'>
<a name='L688'>wchar_t *
<a name='L689'><a href='../R/3711.html' title='Multiple refered from 4 places.'>Py_GetPythonHome</a>(<b>void</b>)
<a name='L690'><font color='red'>{</font>
<a name='L691'>    wchar_t *home = default_home;
<a name='L692'>    <b>if</b> (home == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; !Py_IgnoreEnvironmentFlag) <font color='red'>{</font>
<a name='L693'>        <b>char</b>* chome = Py_GETENV("PYTHONHOME");
<a name='L694'>        <b>if</b> (chome) <font color='red'>{</font>
<a name='L695'>            <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> r = mbstowcs(env_home, chome, <a href='../D/2461.html' title='Multiple defined in 2 places.'>PATH_MAX</a>+1);
<a name='L696'>            <b>if</b> (r != (<a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a>)-1 &amp;&amp; r &lt;= <a href='../D/2461.html' title='Multiple defined in 2 places.'>PATH_MAX</a>)
<a name='L697'>                home = env_home;
<a name='L698'>        <font color='red'>}</font>
<a name='L699'>
<a name='L700'>    <font color='red'>}</font>
<a name='L701'>    <b>return</b> home;
<a name='L702'><font color='red'>}</font>
<a name='L703'>
<a name='L704'><i><font color='green'>/* Create __main__ module */</font></i>
<a name='L705'>
<a name='L706'><b>static</b> <b>void</b>
<a name='L707'><a href='../R/8398.html' title='Multiple refered from 3 places.'>initmain</a>(<b>void</b>)
<a name='L708'><font color='red'>{</font>
<a name='L709'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m, *d;
<a name='L710'>    m = <a href='../S/3120.html#L701' title='Defined at 701 in Python/import.c.'>PyImport_AddModule</a>("__main__");
<a name='L711'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L712'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("can't create __main__ module");
<a name='L713'>    d = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(m);
<a name='L714'>    <b>if</b> (<a href='../S/2787.html#L2168' title='Defined at 2168 in Objects/dictobject.c.'>PyDict_GetItemString</a>(d, "__builtins__") == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L715'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *bimod = <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>("builtins");
<a name='L716'>        <b>if</b> (bimod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ||
<a name='L717'>            <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "__builtins__", bimod) != 0)
<a name='L718'>            <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("can't add __builtins__ to __main__");
<a name='L719'>        Py_DECREF(bimod);
<a name='L720'>    <font color='red'>}</font>
<a name='L721'><font color='red'>}</font>
<a name='L722'>
<a name='L723'><b>static</b> <b>void</b>
<a name='L724'><a href='../R/8394.html' title='Multiple refered from 2 places.'>initfsencoding</a>(<b>void</b>)
<a name='L725'><font color='red'>{</font>
<a name='L726'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *codec;
<a name='L727'><font color='darkred'>#if</font> <b>defined</b>(HAVE_LANGINFO_H) &amp;&amp; <b>defined</b>(CODESET)
<a name='L728'>    <b>char</b> *codeset = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L729'>
<a name='L730'>    <b>if</b> (Py_FileSystemDefaultEncoding == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L731'>        <i><font color='green'>/* On Unix, set the file system encoding according to the</font></i>
<a name='L732'><i><font color='green'>           user's preference, if the CODESET names a well-known</font></i>
<a name='L733'><i><font color='green'>           Python codec, and Py_FileSystemDefaultEncoding isn't</font></i>
<a name='L734'><i><font color='green'>           initialized by other means. */</font></i>
<a name='L735'>        codeset = <a href='../S/3138.html#L168' title='Defined at 168 in Python/pythonrun.c.'>get_codeset</a>();
<a name='L736'>        <b>if</b> (codeset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L737'>            <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: Unable to get the locale encoding");
<a name='L738'>
<a name='L739'>        Py_FileSystemDefaultEncoding = codeset;
<a name='L740'>        Py_HasFileSystemDefaultEncoding = 0;
<a name='L741'>        <b>return</b>;
<a name='L742'>    <font color='red'>}</font>
<a name='L743'><font color='darkred'>#endif</font>
<a name='L744'>
<a name='L745'>    <i><font color='green'>/* the encoding is mbcs, utf-8 or ascii */</font></i>
<a name='L746'>    codec = <a href='../S/3093.html#L98' title='Defined at 98 in Python/codecs.c.'>_PyCodec_Lookup</a>(Py_FileSystemDefaultEncoding);
<a name='L747'>    <b>if</b> (!codec) <font color='red'>{</font>
<a name='L748'>        <i><font color='green'>/* Such error can only occurs in critical situations: no more</font></i>
<a name='L749'><i><font color='green'>         * memory, import a module of the standard library failed,</font></i>
<a name='L750'><i><font color='green'>         * etc. */</font></i>
<a name='L751'>        <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Py_Initialize: unable to load the file system codec");
<a name='L752'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L753'>        Py_DECREF(codec);
<a name='L754'>    <font color='red'>}</font>
<a name='L755'><font color='red'>}</font>
<a name='L756'>
<a name='L757'><i><font color='green'>/* Import the site module (not into __main__ though) */</font></i>
<a name='L758'>
<a name='L759'><b>static</b> <b>void</b>
<a name='L760'><a href='../R/8401.html' title='Multiple refered from 3 places.'>initsite</a>(<b>void</b>)
<a name='L761'><font color='red'>{</font>
<a name='L762'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m;
<a name='L763'>    m = <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>("site");
<a name='L764'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L765'>        <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L766'>        <a href='../S/3138.html#L370' title='Defined at 370 in Python/pythonrun.c.'>Py_Finalize</a>();
<a name='L767'>        exit(1);
<a name='L768'>    <font color='red'>}</font>
<a name='L769'>    <b>else</b> <font color='red'>{</font>
<a name='L770'>        Py_DECREF(m);
<a name='L771'>    <font color='red'>}</font>
<a name='L772'><font color='red'>}</font>
<a name='L773'>
<a name='L774'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L775'><a href='../R/7047.html' title='Multiple refered from 3 places.'>create_stdio</a>(PyObject* io,
<a name='L776'>    <b>int</b> fd, <b>int</b> write_mode, <b>char</b>* name,
<a name='L777'>    <b>char</b>* encoding, <b>char</b>* errors)
<a name='L778'><font color='red'>{</font>
<a name='L779'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *buf = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *stream = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *text = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *raw = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *res;
<a name='L780'>    <b>const</b> <b>char</b>* mode;
<a name='L781'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *line_buffering;
<a name='L782'>    <b>int</b> buffering, isatty;
<a name='L783'>
<a name='L784'>    <i><font color='green'>/* stdin is always opened in buffered mode, first because it shouldn't</font></i>
<a name='L785'><i><font color='green'>       make a difference in common use cases, second because TextIOWrapper</font></i>
<a name='L786'><i><font color='green'>       depends on the presence of a read1() method which only exists on</font></i>
<a name='L787'><i><font color='green'>       buffered streams.</font></i>
<a name='L788'><i><font color='green'>    */</font></i>
<a name='L789'>    <b>if</b> (Py_UnbufferedStdioFlag &amp;&amp; write_mode)
<a name='L790'>        buffering = 0;
<a name='L791'>    <b>else</b>
<a name='L792'>        buffering = -1;
<a name='L793'>    <b>if</b> (write_mode)
<a name='L794'>        mode = "wb";
<a name='L795'>    <b>else</b>
<a name='L796'>        mode = "rb";
<a name='L797'>    buf = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(io, "open", "isiOOOi",
<a name='L798'>                              fd, mode, buffering,
<a name='L799'>                              Py_None, Py_None, Py_None, 0);
<a name='L800'>    <b>if</b> (buf == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L801'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L802'>
<a name='L803'>    <b>if</b> (buffering) <font color='red'>{</font>
<a name='L804'>        raw = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(buf, "raw");
<a name='L805'>        <b>if</b> (raw == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L806'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L807'>    <font color='red'>}</font>
<a name='L808'>    <b>else</b> <font color='red'>{</font>
<a name='L809'>        raw = buf;
<a name='L810'>        Py_INCREF(raw);
<a name='L811'>    <font color='red'>}</font>
<a name='L812'>
<a name='L813'>    text = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(name);
<a name='L814'>    <b>if</b> (text == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2803.html#L806' title='Defined at 806 in Objects/object.c.'>PyObject_SetAttrString</a>(raw, "name", text) &lt; 0)
<a name='L815'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L816'>    res = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(raw, "isatty", "");
<a name='L817'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L818'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L819'>    isatty = <a href='../S/2803.html#L1140' title='Defined at 1140 in Objects/object.c.'>PyObject_IsTrue</a>(res);
<a name='L820'>    Py_DECREF(res);
<a name='L821'>    <b>if</b> (isatty == -1)
<a name='L822'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L823'>    <b>if</b> (isatty || Py_UnbufferedStdioFlag)
<a name='L824'>        line_buffering = Py_True;
<a name='L825'>    <b>else</b>
<a name='L826'>        line_buffering = Py_False;
<a name='L827'>
<a name='L828'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(raw);
<a name='L829'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(text);
<a name='L830'>
<a name='L831'>    stream = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(io, "TextIOWrapper", "OsssO",
<a name='L832'>                                 buf, <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, errors,
<a name='L833'>                                 "\n", line_buffering);
<a name='L834'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(buf);
<a name='L835'>    <b>if</b> (stream == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L836'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L837'>
<a name='L838'>    <b>if</b> (write_mode)
<a name='L839'>        mode = "w";
<a name='L840'>    <b>else</b>
<a name='L841'>        mode = "r";
<a name='L842'>    text = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(mode);
<a name='L843'>    <b>if</b> (!text || <a href='../S/2803.html#L806' title='Defined at 806 in Objects/object.c.'>PyObject_SetAttrString</a>(stream, "mode", text) &lt; 0)
<a name='L844'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L845'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(text);
<a name='L846'>    <b>return</b> stream;
<a name='L847'>
<a name='L848'><a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L849'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(buf);
<a name='L850'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(stream);
<a name='L851'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(text);
<a name='L852'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(raw);
<a name='L853'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L854'><font color='red'>}</font>
<a name='L855'>
<a name='L856'><i><font color='green'>/* Initialize sys.stdin, stdout, stderr and builtins.open */</font></i>
<a name='L857'><b>static</b> <b>int</b>
<a name='L858'><a href='../R/8402.html' title='Multiple refered from 3 places.'>initstdio</a>(<b>void</b>)
<a name='L859'><font color='red'>{</font>
<a name='L860'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *iomod = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *wrapper;
<a name='L861'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *bimod = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L862'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m;
<a name='L863'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *std = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L864'>    <b>int</b> status = 0, fd;
<a name='L865'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> * encoding_attr;
<a name='L866'>    <b>char</b> *<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *errors;
<a name='L867'>
<a name='L868'>    <i><font color='green'>/* Hack to avoid a nasty recursion issue when Python is invoked</font></i>
<a name='L869'><i><font color='green'>       in verbose mode: pre-import the Latin-1 and UTF-8 codecs */</font></i>
<a name='L870'>    <b>if</b> ((m = <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>("encodings.utf_8")) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L871'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L872'>    <font color='red'>}</font>
<a name='L873'>    Py_DECREF(m);
<a name='L874'>
<a name='L875'>    <b>if</b> (!(m = <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>("encodings.latin_1"))) <font color='red'>{</font>
<a name='L876'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L877'>    <font color='red'>}</font>
<a name='L878'>    Py_DECREF(m);
<a name='L879'>
<a name='L880'>    <b>if</b> (!(bimod = <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>("builtins"))) <font color='red'>{</font>
<a name='L881'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L882'>    <font color='red'>}</font>
<a name='L883'>
<a name='L884'>    <b>if</b> (!(iomod = <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>("io"))) <font color='red'>{</font>
<a name='L885'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L886'>    <font color='red'>}</font>
<a name='L887'>    <b>if</b> (!(wrapper = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(iomod, "OpenWrapper"))) <font color='red'>{</font>
<a name='L888'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L889'>    <font color='red'>}</font>
<a name='L890'>
<a name='L891'>    <i><font color='green'>/* Set builtins.open */</font></i>
<a name='L892'>    <b>if</b> (<a href='../S/2803.html#L806' title='Defined at 806 in Objects/object.c.'>PyObject_SetAttrString</a>(bimod, "open", wrapper) == -1) <font color='red'>{</font>
<a name='L893'>        Py_DECREF(wrapper);
<a name='L894'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L895'>    <font color='red'>}</font>
<a name='L896'>    Py_DECREF(wrapper);
<a name='L897'>
<a name='L898'>    <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> = Py_GETENV("PYTHONIOENCODING");
<a name='L899'>    errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L900'>    <b>if</b> (<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>) <font color='red'>{</font>
<a name='L901'>        <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> = <a href='../D/11408.html' title='Multiple defined in 2 places.'>strdup</a>(<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>);
<a name='L902'>        errors = strchr(<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, ':');
<a name='L903'>        <b>if</b> (errors) <font color='red'>{</font>
<a name='L904'>            *errors = '\0';
<a name='L905'>            errors++;
<a name='L906'>        <font color='red'>}</font>
<a name='L907'>    <font color='red'>}</font>
<a name='L908'>
<a name='L909'>    <i><font color='green'>/* Set sys.stdin */</font></i>
<a name='L910'>    fd = <a href='../S/2759.html#L50' title='Defined at 50 in Modules/zlib/minigzip.c.'>fileno</a>(stdin);
<a name='L911'>    <i><font color='green'>/* Under some conditions stdin, stdout and stderr may not be connected</font></i>
<a name='L912'><i><font color='green'>     * and fileno() may point to an invalid file descriptor. For example</font></i>
<a name='L913'><i><font color='green'>     * GUI apps don't have valid standard streams by default.</font></i>
<a name='L914'><i><font color='green'>     */</font></i>
<a name='L915'>    <b>if</b> (fd &lt; 0) <font color='red'>{</font>
<a name='L916'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L917'>        std = Py_None;
<a name='L918'>        Py_INCREF(std);
<a name='L919'><font color='darkred'>#else</font>
<a name='L920'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L921'><font color='darkred'>#endif</font>
<a name='L922'>    <font color='red'>}</font>
<a name='L923'>    <b>else</b> <font color='red'>{</font>
<a name='L924'>        std = <a href='../S/3138.html#L775' title='Defined at 775 in Python/pythonrun.c.'>create_stdio</a>(iomod, fd, 0, "&lt;stdin&gt;", <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, errors);
<a name='L925'>        <b>if</b> (std == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L926'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L927'>    <font color='red'>}</font> <i><font color='green'>/* if (fd &lt; 0) */</font></i>
<a name='L928'>    <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("__stdin__", std);
<a name='L929'>    <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("stdin", std);
<a name='L930'>    Py_DECREF(std);
<a name='L931'>
<a name='L932'>    <i><font color='green'>/* Set sys.stdout */</font></i>
<a name='L933'>    fd = <a href='../S/2759.html#L50' title='Defined at 50 in Modules/zlib/minigzip.c.'>fileno</a>(stdout);
<a name='L934'>    <b>if</b> (fd &lt; 0) <font color='red'>{</font>
<a name='L935'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L936'>        std = Py_None;
<a name='L937'>        Py_INCREF(std);
<a name='L938'><font color='darkred'>#else</font>
<a name='L939'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L940'><font color='darkred'>#endif</font>
<a name='L941'>    <font color='red'>}</font>
<a name='L942'>    <b>else</b> <font color='red'>{</font>
<a name='L943'>        std = <a href='../S/3138.html#L775' title='Defined at 775 in Python/pythonrun.c.'>create_stdio</a>(iomod, fd, 1, "&lt;stdout&gt;", <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, errors);
<a name='L944'>        <b>if</b> (std == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L945'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L946'>    <font color='red'>}</font> <i><font color='green'>/* if (fd &lt; 0) */</font></i>
<a name='L947'>    <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("__stdout__", std);
<a name='L948'>    <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("stdout", std);
<a name='L949'>    Py_DECREF(std);
<a name='L950'>
<a name='L951'><font color='darkred'>#if</font> 1 <i><font color='green'>/* Disable this if you have trouble debugging bootstrap stuff */</font></i>
<a name='L952'>    <i><font color='green'>/* Set sys.stderr, replaces the preliminary stderr */</font></i>
<a name='L953'>    fd = <a href='../S/2759.html#L50' title='Defined at 50 in Modules/zlib/minigzip.c.'>fileno</a>(stderr);
<a name='L954'>    <b>if</b> (fd &lt; 0) <font color='red'>{</font>
<a name='L955'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L956'>        std = Py_None;
<a name='L957'>        Py_INCREF(std);
<a name='L958'><font color='darkred'>#else</font>
<a name='L959'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L960'><font color='darkred'>#endif</font>
<a name='L961'>    <font color='red'>}</font>
<a name='L962'>    <b>else</b> <font color='red'>{</font>
<a name='L963'>        std = <a href='../S/3138.html#L775' title='Defined at 775 in Python/pythonrun.c.'>create_stdio</a>(iomod, fd, 1, "&lt;stderr&gt;", <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, "backslashreplace");
<a name='L964'>        <b>if</b> (std == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L965'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L966'>    <font color='red'>}</font> <i><font color='green'>/* if (fd &lt; 0) */</font></i>
<a name='L967'>
<a name='L968'>    <i><font color='green'>/* Same as hack above, pre-import stderr's codec to avoid recursion</font></i>
<a name='L969'><i><font color='green'>       when import.c tries to write to stderr in verbose mode. */</font></i>
<a name='L970'>    encoding_attr = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(std, "encoding");
<a name='L971'>    <b>if</b> (encoding_attr != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L972'>        <b>const</b> <b>char</b> * <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>;
<a name='L973'>        <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(encoding_attr);
<a name='L974'>        <b>if</b> (<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L975'>            <a href='../S/3093.html#L98' title='Defined at 98 in Python/codecs.c.'>_PyCodec_Lookup</a>(<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>);
<a name='L976'>        <font color='red'>}</font>
<a name='L977'>        Py_DECREF(encoding_attr);
<a name='L978'>    <font color='red'>}</font>
<a name='L979'>    <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();  <i><font color='green'>/* Not a fatal error if codec isn't available */</font></i>
<a name='L980'>
<a name='L981'>    <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("__stderr__", std);
<a name='L982'>    <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("stderr", std);
<a name='L983'>    Py_DECREF(std);
<a name='L984'><font color='darkred'>#endif</font>
<a name='L985'>
<a name='L986'>    <b>if</b> (0) <font color='red'>{</font>
<a name='L987'>  <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L988'>        status = -1;
<a name='L989'>    <font color='red'>}</font>
<a name='L990'>
<a name='L991'>    <b>if</b> (<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>)
<a name='L992'>        free(<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>);
<a name='L993'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(bimod);
<a name='L994'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(iomod);
<a name='L995'>    <b>return</b> status;
<a name='L996'><font color='red'>}</font>
<a name='L997'>
<a name='L998'><i><font color='green'>/* Parse input from a file and execute it */</font></i>
<a name='L999'>
<a name='L1000'><b>int</b>
<a name='L1001'><a href='../R/3330.html' title='Multiple refered from 4 places.'>PyRun_AnyFileExFlags</a>(FILE *fp, <b>const</b> <b>char</b> *filename, <b>int</b> closeit,
<a name='L1002'>                     PyCompilerFlags *flags)
<a name='L1003'><font color='red'>{</font>
<a name='L1004'>    <b>if</b> (filename == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1005'>        filename = "???";
<a name='L1006'>    <b>if</b> (<a href='../S/3138.html#L2247' title='Defined at 2247 in Python/pythonrun.c.'>Py_FdIsInteractive</a>(fp, filename)) <font color='red'>{</font>
<a name='L1007'>        <b>int</b> err = <a href='../S/3138.html#L1017' title='Defined at 1017 in Python/pythonrun.c.'>PyRun_InteractiveLoopFlags</a>(fp, filename, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1008'>        <b>if</b> (closeit)
<a name='L1009'>            fclose(fp);
<a name='L1010'>        <b>return</b> err;
<a name='L1011'>    <font color='red'>}</font>
<a name='L1012'>    <b>else</b>
<a name='L1013'>        <b>return</b> <a href='../S/3138.html#L1200' title='Defined at 1200 in Python/pythonrun.c.'>PyRun_SimpleFileExFlags</a>(fp, filename, closeit, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1014'><font color='red'>}</font>
<a name='L1015'>
<a name='L1016'><b>int</b>
<a name='L1017'><a href='../R/3333.html' title='Multiple refered from 2 places.'>PyRun_InteractiveLoopFlags</a>(FILE *fp, <b>const</b> <b>char</b> *filename, PyCompilerFlags *flags)
<a name='L1018'><font color='red'>{</font>
<a name='L1019'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L1020'>    <b>int</b> ret;
<a name='L1021'>    <a href='../S/571.html#L22' title='Defined at 22 in Include/pythonrun.h.'>PyCompilerFlags</a> local_flags;
<a name='L1022'>
<a name='L1023'>    <b>if</b> (<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1024'>        <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> = &amp;local_flags;
<a name='L1025'>        local_flags.cf_flags = 0;
<a name='L1026'>    <font color='red'>}</font>
<a name='L1027'>    v = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("ps1");
<a name='L1028'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1029'>        <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("ps1", v = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("&gt;&gt;&gt; "));
<a name='L1030'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(v);
<a name='L1031'>    <font color='red'>}</font>
<a name='L1032'>    v = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("ps2");
<a name='L1033'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1034'>        <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("ps2", v = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("... "));
<a name='L1035'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(v);
<a name='L1036'>    <font color='red'>}</font>
<a name='L1037'>    <b>for</b> (;;) <font color='red'>{</font>
<a name='L1038'>        ret = <a href='../S/3138.html#L1074' title='Defined at 1074 in Python/pythonrun.c.'>PyRun_InteractiveOneFlags</a>(fp, filename, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1039'>        <a href='../D/2532.html' title='Multiple defined in 2 places.'>PRINT_TOTAL_REFS</a>();
<a name='L1040'>        <b>if</b> (ret == <a href='../S/521.html#L17' title='Defined at 17 in Include/errcode.h.'>E_EOF</a>)
<a name='L1041'>            <b>return</b> 0;
<a name='L1042'>        <i><font color='green'>/*</font></i>
<a name='L1043'><i><font color='green'>        if (ret == E_NOMEM)</font></i>
<a name='L1044'><i><font color='green'>            return -1;</font></i>
<a name='L1045'><i><font color='green'>        */</font></i>
<a name='L1046'>    <font color='red'>}</font>
<a name='L1047'><font color='red'>}</font>
<a name='L1048'>
<a name='L1049'><i><font color='green'>/* compute parser flags based on compiler flags */</font></i>
<a name='L1050'><b>static</b> <b>int</b> <a href='../R/2223.html' title='Multiple refered from 2 places.'>PARSER_FLAGS</a>(PyCompilerFlags *flags)
<a name='L1051'><font color='red'>{</font>
<a name='L1052'>    <b>int</b> parser_flags = 0;
<a name='L1053'>    <b>if</b> (!<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>)
<a name='L1054'>        <b>return</b> 0;
<a name='L1055'>    <b>if</b> (<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>-&gt;cf_flags &amp; <a href='../S/571.html#L15' title='Defined at 15 in Include/pythonrun.h.'>PyCF_DONT_IMPLY_DEDENT</a>)
<a name='L1056'>        parser_flags |= <a href='../S/548.html#L24' title='Defined at 24 in Include/parsetok.h.'>PyPARSE_DONT_IMPLY_DEDENT</a>;
<a name='L1057'>    <b>if</b> (<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>-&gt;cf_flags &amp; <a href='../S/571.html#L17' title='Defined at 17 in Include/pythonrun.h.'>PyCF_IGNORE_COOKIE</a>)
<a name='L1058'>        parser_flags |= <a href='../S/548.html#L32' title='Defined at 32 in Include/parsetok.h.'>PyPARSE_IGNORE_COOKIE</a>;
<a name='L1059'>    <b>if</b> (<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>-&gt;cf_flags &amp; <a href='../S/511.html#L58' title='Defined at 58 in Include/code.h.'>CO_FUTURE_BARRY_AS_BDFL</a>)
<a name='L1060'>        parser_flags |= <a href='../S/548.html#L33' title='Defined at 33 in Include/parsetok.h.'>PyPARSE_BARRY_AS_BDFL</a>;
<a name='L1061'>    <b>return</b> parser_flags;
<a name='L1062'><font color='red'>}</font>
<a name='L1063'>
<a name='L1064'><font color='darkred'>#if</font> 0
<a name='L1065'><i><font color='green'>/* Keep an example of flags with future keyword support. */</font></i>
<a name='L1066'><font color='darkred'>#define</font> <a href='../R/2223.html' title='Multiple refered from 2 places.'>PARSER_FLAGS</a>(flags) \
<a name='L1067'>    ((<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>) ? ((((<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>)-&gt;cf_flags &amp; <a href='../S/571.html#L15' title='Defined at 15 in Include/pythonrun.h.'>PyCF_DONT_IMPLY_DEDENT</a>) ? \
<a name='L1068'>                  <a href='../S/548.html#L24' title='Defined at 24 in Include/parsetok.h.'>PyPARSE_DONT_IMPLY_DEDENT</a> : 0) \
<a name='L1069'>                | ((<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>)-&gt;cf_flags &amp; <a href='../S/511.html#L54' title='Defined at 54 in Include/code.h.'>CO_FUTURE_WITH_STATEMENT</a> ? \
<a name='L1070'>                   <a href='../S/548.html#L27' title='Defined at 27 in Include/parsetok.h.'>PyPARSE_WITH_IS_KEYWORD</a> : 0)) : 0)
<a name='L1071'><font color='darkred'>#endif</font>
<a name='L1072'>
<a name='L1073'><b>int</b>
<a name='L1074'><a href='../R/3334.html' title='Multiple refered from 2 places.'>PyRun_InteractiveOneFlags</a>(FILE *fp, <b>const</b> <b>char</b> *filename, PyCompilerFlags *flags)
<a name='L1075'><font color='red'>{</font>
<a name='L1076'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m, *d, *v, *w, *oenc = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1077'>    <a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a> mod;
<a name='L1078'>    <a href='../S/553.html#L12' title='Defined at 12 in Include/pyarena.h.'>PyArena</a> *arena;
<a name='L1079'>    <b>char</b> *ps1 = "", *ps2 = "", *enc = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1080'>    <b>int</b> errcode = 0;
<a name='L1081'>
<a name='L1082'>    <b>if</b> (fp == stdin) <font color='red'>{</font>
<a name='L1083'>        <i><font color='green'>/* Fetch encoding from sys.stdin */</font></i>
<a name='L1084'>        v = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("stdin");
<a name='L1085'>        <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || v == Py_None)
<a name='L1086'>            <b>return</b> -1;
<a name='L1087'>        oenc = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(v, "encoding");
<a name='L1088'>        <b>if</b> (!oenc)
<a name='L1089'>            <b>return</b> -1;
<a name='L1090'>        enc = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(oenc);
<a name='L1091'>        <b>if</b> (enc == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1092'>            <b>return</b> -1;
<a name='L1093'>    <font color='red'>}</font>
<a name='L1094'>    v = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("ps1");
<a name='L1095'>    <b>if</b> (v != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1096'>        v = <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>(v);
<a name='L1097'>        <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1098'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1099'>        <b>else</b> <b>if</b> (PyUnicode_Check(v)) <font color='red'>{</font>
<a name='L1100'>            ps1 = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(v);
<a name='L1101'>            <b>if</b> (ps1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1102'>                <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1103'>                ps1 = "";
<a name='L1104'>            <font color='red'>}</font>
<a name='L1105'>        <font color='red'>}</font>
<a name='L1106'>    <font color='red'>}</font>
<a name='L1107'>    w = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("ps2");
<a name='L1108'>    <b>if</b> (w != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1109'>        w = <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>(w);
<a name='L1110'>        <b>if</b> (w == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1111'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1112'>        <b>else</b> <b>if</b> (PyUnicode_Check(w)) <font color='red'>{</font>
<a name='L1113'>            ps2 = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(w);
<a name='L1114'>            <b>if</b> (ps2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1115'>                <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1116'>                ps2 = "";
<a name='L1117'>            <font color='red'>}</font>
<a name='L1118'>        <font color='red'>}</font>
<a name='L1119'>    <font color='red'>}</font>
<a name='L1120'>    arena = <a href='../S/3130.html#L130' title='Defined at 130 in Python/pyarena.c.'>PyArena_New</a>();
<a name='L1121'>    <b>if</b> (arena == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1122'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(v);
<a name='L1123'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(w);
<a name='L1124'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(oenc);
<a name='L1125'>        <b>return</b> -1;
<a name='L1126'>    <font color='red'>}</font>
<a name='L1127'>    mod = <a href='../S/3138.html#L1881' title='Defined at 1881 in Python/pythonrun.c.'>PyParser_ASTFromFile</a>(fp, filename, enc,
<a name='L1128'>                               <a href='../S/570.html#L150' title='Defined at 150 in Include/Python.h.'>Py_single_input</a>, ps1, ps2,
<a name='L1129'>                               <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, &amp;errcode, arena);
<a name='L1130'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(v);
<a name='L1131'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(w);
<a name='L1132'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(oenc);
<a name='L1133'>    <b>if</b> (mod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1134'>        <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1135'>        <b>if</b> (errcode == <a href='../S/521.html#L17' title='Defined at 17 in Include/errcode.h.'>E_EOF</a>) <font color='red'>{</font>
<a name='L1136'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1137'>            <b>return</b> <a href='../S/521.html#L17' title='Defined at 17 in Include/errcode.h.'>E_EOF</a>;
<a name='L1138'>        <font color='red'>}</font>
<a name='L1139'>        <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L1140'>        <b>return</b> -1;
<a name='L1141'>    <font color='red'>}</font>
<a name='L1142'>    m = <a href='../S/3120.html#L701' title='Defined at 701 in Python/import.c.'>PyImport_AddModule</a>("__main__");
<a name='L1143'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1144'>        <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1145'>        <b>return</b> -1;
<a name='L1146'>    <font color='red'>}</font>
<a name='L1147'>    d = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(m);
<a name='L1148'>    v = <a href='../S/3138.html#L1752' title='Defined at 1752 in Python/pythonrun.c.'>run_mod</a>(mod, filename, d, d, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, arena);
<a name='L1149'>    <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1150'>    <a href='../S/3138.html#L1723' title='Defined at 1723 in Python/pythonrun.c.'>flush_io</a>();
<a name='L1151'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1152'>        <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L1153'>        <b>return</b> -1;
<a name='L1154'>    <font color='red'>}</font>
<a name='L1155'>    Py_DECREF(v);
<a name='L1156'>    <b>return</b> 0;
<a name='L1157'><font color='red'>}</font>
<a name='L1158'>
<a name='L1159'><i><font color='green'>/* Check whether a file maybe a pyc file: Look at the extension,</font></i>
<a name='L1160'><i><font color='green'>   the file type, and, if we may close it, at the first few bytes. */</font></i>
<a name='L1161'>
<a name='L1162'><b>static</b> <b>int</b>
<a name='L1163'><a href='../S/3138.html#L1228' title='Refered from 1228 in Python/pythonrun.c.'>maybe_pyc_file</a>(FILE *fp, <b>const</b> <b>char</b>* filename, <b>const</b> <b>char</b>* ext, <b>int</b> closeit)
<a name='L1164'><font color='red'>{</font>
<a name='L1165'>    <b>if</b> (strcmp(ext, ".pyc") == 0 || strcmp(ext, ".pyo") == 0)
<a name='L1166'>        <b>return</b> 1;
<a name='L1167'>
<a name='L1168'>    <i><font color='green'>/* Only look into the file if we are allowed to close it, since</font></i>
<a name='L1169'><i><font color='green'>       it then should also be seekable. */</font></i>
<a name='L1170'>    <b>if</b> (closeit) <font color='red'>{</font>
<a name='L1171'>        <i><font color='green'>/* Read only two bytes of the magic. If the file was opened in</font></i>
<a name='L1172'><i><font color='green'>           text mode, the bytes 3 and 4 of the magic (\r\n) might not</font></i>
<a name='L1173'><i><font color='green'>           be read as they are on disk. */</font></i>
<a name='L1174'>        <b>unsigned</b> <b>int</b> halfmagic = <a href='../S/3120.html#L552' title='Defined at 552 in Python/import.c.'>PyImport_GetMagicNumber</a>() &amp; 0xFFFF;
<a name='L1175'>        <b>unsigned</b> <b>char</b> buf[2];
<a name='L1176'>        <i><font color='green'>/* Mess:  In case of -x, the stream is NOT at its start now,</font></i>
<a name='L1177'><i><font color='green'>           and ungetc() was used to push back the first newline,</font></i>
<a name='L1178'><i><font color='green'>           which makes the current stream position formally undefined,</font></i>
<a name='L1179'><i><font color='green'>           and a x-platform nightmare.</font></i>
<a name='L1180'><i><font color='green'>           Unfortunately, we have no direct way to know whether -x</font></i>
<a name='L1181'><i><font color='green'>           was specified.  So we use a terrible hack:  if the current</font></i>
<a name='L1182'><i><font color='green'>           stream position is not 0, we assume -x was specified, and</font></i>
<a name='L1183'><i><font color='green'>           give up.  Bug 132850 on SourceForge spells out the</font></i>
<a name='L1184'><i><font color='green'>           hopelessness of trying anything else (fseek and ftell</font></i>
<a name='L1185'><i><font color='green'>           don't work predictably x-platform for text-mode files).</font></i>
<a name='L1186'><i><font color='green'>        */</font></i>
<a name='L1187'>        <b>int</b> ispyc = 0;
<a name='L1188'>        <b>if</b> (ftell(fp) == 0) <font color='red'>{</font>
<a name='L1189'>            <b>if</b> (fread(buf, 1, 2, fp) == 2 &amp;&amp;
<a name='L1190'>                ((<b>unsigned</b> <b>int</b>)buf[1]&lt;&lt;8 | buf[0]) == halfmagic)
<a name='L1191'>                ispyc = 1;
<a name='L1192'>            rewind(fp);
<a name='L1193'>        <font color='red'>}</font>
<a name='L1194'>        <b>return</b> ispyc;
<a name='L1195'>    <font color='red'>}</font>
<a name='L1196'>    <b>return</b> 0;
<a name='L1197'><font color='red'>}</font>
<a name='L1198'>
<a name='L1199'><b>int</b>
<a name='L1200'><a href='../R/3335.html' title='Multiple refered from 4 places.'>PyRun_SimpleFileExFlags</a>(FILE *fp, <b>const</b> <b>char</b> *filename, <b>int</b> closeit,
<a name='L1201'>                        PyCompilerFlags *flags)
<a name='L1202'><font color='red'>{</font>
<a name='L1203'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m, *d, *v;
<a name='L1204'>    <b>const</b> <b>char</b> *ext;
<a name='L1205'>    <b>int</b> set_file_name = 0, ret;
<a name='L1206'>    <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> len;
<a name='L1207'>
<a name='L1208'>    m = <a href='../S/3120.html#L701' title='Defined at 701 in Python/import.c.'>PyImport_AddModule</a>("__main__");
<a name='L1209'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1210'>        <b>return</b> -1;
<a name='L1211'>    d = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(m);
<a name='L1212'>    <b>if</b> (<a href='../S/2787.html#L2168' title='Defined at 2168 in Objects/dictobject.c.'>PyDict_GetItemString</a>(d, "__file__") == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1213'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *f;
<a name='L1214'>        f = <a href='../D/3975.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeFSDefault</a>(filename);
<a name='L1215'>        <b>if</b> (f == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1216'>            <b>return</b> -1;
<a name='L1217'>        <b>if</b> (<a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "__file__", f) &lt; 0) <font color='red'>{</font>
<a name='L1218'>            Py_DECREF(f);
<a name='L1219'>            <b>return</b> -1;
<a name='L1220'>        <font color='red'>}</font>
<a name='L1221'>        <b>if</b> (<a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "__cached__", Py_None) &lt; 0)
<a name='L1222'>            <b>return</b> -1;
<a name='L1223'>        set_file_name = 1;
<a name='L1224'>        Py_DECREF(f);
<a name='L1225'>    <font color='red'>}</font>
<a name='L1226'>    len = strlen(filename);
<a name='L1227'>    ext = filename + len - (len &gt; 4 ? 4 : 0);
<a name='L1228'>    <b>if</b> (<a href='../S/3138.html#L1163' title='Defined at 1163 in Python/pythonrun.c.'>maybe_pyc_file</a>(fp, filename, ext, closeit)) <font color='red'>{</font>
<a name='L1229'>        <i><font color='green'>/* Try to run a pyc file. First, re-open in binary */</font></i>
<a name='L1230'>        <b>if</b> (closeit)
<a name='L1231'>            fclose(fp);
<a name='L1232'>        <b>if</b> ((fp = fopen(filename, "rb")) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1233'>            fprintf(stderr, "python: Can't reopen .pyc file\n");
<a name='L1234'>            ret = -1;
<a name='L1235'>            <b>goto</b> done;
<a name='L1236'>        <font color='red'>}</font>
<a name='L1237'>        <i><font color='green'>/* Turn on optimization if a .pyo file is given */</font></i>
<a name='L1238'>        <b>if</b> (strcmp(ext, ".pyo") == 0)
<a name='L1239'>            Py_OptimizeFlag = 1;
<a name='L1240'>        v = <a href='../S/3138.html#L1766' title='Defined at 1766 in Python/pythonrun.c.'>run_pyc_file</a>(fp, filename, d, d, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1241'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1242'>        v = <a href='../S/3138.html#L1700' title='Defined at 1700 in Python/pythonrun.c.'>PyRun_FileExFlags</a>(fp, filename, <a href='../S/570.html#L151' title='Defined at 151 in Include/Python.h.'>Py_file_input</a>, d, d,
<a name='L1243'>                              closeit, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1244'>    <font color='red'>}</font>
<a name='L1245'>    <a href='../S/3138.html#L1723' title='Defined at 1723 in Python/pythonrun.c.'>flush_io</a>();
<a name='L1246'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1247'>        <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L1248'>        ret = -1;
<a name='L1249'>        <b>goto</b> done;
<a name='L1250'>    <font color='red'>}</font>
<a name='L1251'>    Py_DECREF(v);
<a name='L1252'>    ret = 0;
<a name='L1253'>  done:
<a name='L1254'>    <b>if</b> (set_file_name &amp;&amp; <a href='../S/2787.html#L2194' title='Defined at 2194 in Objects/dictobject.c.'>PyDict_DelItemString</a>(d, "__file__"))
<a name='L1255'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1256'>    <b>return</b> ret;
<a name='L1257'><font color='red'>}</font>
<a name='L1258'>
<a name='L1259'><b>int</b>
<a name='L1260'><a href='../R/3337.html' title='Multiple refered from 2 places.'>PyRun_SimpleStringFlags</a>(<b>const</b> <b>char</b> *command, PyCompilerFlags *flags)
<a name='L1261'><font color='red'>{</font>
<a name='L1262'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m, *d, *v;
<a name='L1263'>    m = <a href='../S/3120.html#L701' title='Defined at 701 in Python/import.c.'>PyImport_AddModule</a>("__main__");
<a name='L1264'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1265'>        <b>return</b> -1;
<a name='L1266'>    d = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(m);
<a name='L1267'>    v = <a href='../S/3138.html#L1683' title='Defined at 1683 in Python/pythonrun.c.'>PyRun_StringFlags</a>(command, <a href='../S/570.html#L151' title='Defined at 151 in Include/Python.h.'>Py_file_input</a>, d, d, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1268'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1269'>        <a href='../S/3138.html#L1342' title='Defined at 1342 in Python/pythonrun.c.'>PyErr_Print</a>();
<a name='L1270'>        <b>return</b> -1;
<a name='L1271'>    <font color='red'>}</font>
<a name='L1272'>    Py_DECREF(v);
<a name='L1273'>    <b>return</b> 0;
<a name='L1274'><font color='red'>}</font>
<a name='L1275'>
<a name='L1276'><b>static</b> <b>int</b>
<a name='L1277'><a href='../S/3138.html#L1522' title='Refered from 1522 in Python/pythonrun.c.'>parse_syntax_error</a>(PyObject *err, PyObject **message, <b>const</b> <b>char</b> **filename,
<a name='L1278'>                   <b>int</b> *lineno, <b>int</b> *offset, <b>const</b> <b>char</b> **text)
<a name='L1279'><font color='red'>{</font>
<a name='L1280'>    <b>long</b> hold;
<a name='L1281'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L1282'>
<a name='L1283'>    <i><font color='green'>/* old style errors */</font></i>
<a name='L1284'>    <b>if</b> (PyTuple_Check(err))
<a name='L1285'>        <b>return</b> <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(err, "O(ziiz)", message, filename,
<a name='L1286'>                                lineno, offset, text);
<a name='L1287'>
<a name='L1288'>    <i><font color='green'>/* new style errors.  `err' is an instance */</font></i>
<a name='L1289'>
<a name='L1290'>    <b>if</b> (! (v = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(err, "msg")))
<a name='L1291'>        <b>goto</b> finally;
<a name='L1292'>    *message = v;
<a name='L1293'>
<a name='L1294'>    <b>if</b> (!(v = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(err, "filename")))
<a name='L1295'>        <b>goto</b> finally;
<a name='L1296'>    <b>if</b> (v == Py_None)
<a name='L1297'>        *filename = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1298'>    <b>else</b> <b>if</b> (! (*filename = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(v)))
<a name='L1299'>        <b>goto</b> finally;
<a name='L1300'>
<a name='L1301'>    Py_DECREF(v);
<a name='L1302'>    <b>if</b> (!(v = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(err, "lineno")))
<a name='L1303'>        <b>goto</b> finally;
<a name='L1304'>    hold = <a href='../S/2799.html#L416' title='Defined at 416 in Objects/longobject.c.'>PyLong_AsLong</a>(v);
<a name='L1305'>    Py_DECREF(v);
<a name='L1306'>    v = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1307'>    <b>if</b> (hold &lt; 0 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1308'>        <b>goto</b> finally;
<a name='L1309'>    *lineno = (<b>int</b>)hold;
<a name='L1310'>
<a name='L1311'>    <b>if</b> (!(v = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(err, "offset")))
<a name='L1312'>        <b>goto</b> finally;
<a name='L1313'>    <b>if</b> (v == Py_None) <font color='red'>{</font>
<a name='L1314'>        *offset = -1;
<a name='L1315'>        Py_DECREF(v);
<a name='L1316'>        v = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1317'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1318'>        hold = <a href='../S/2799.html#L416' title='Defined at 416 in Objects/longobject.c.'>PyLong_AsLong</a>(v);
<a name='L1319'>        Py_DECREF(v);
<a name='L1320'>        v = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1321'>        <b>if</b> (hold &lt; 0 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1322'>            <b>goto</b> finally;
<a name='L1323'>        *offset = (<b>int</b>)hold;
<a name='L1324'>    <font color='red'>}</font>
<a name='L1325'>
<a name='L1326'>    <b>if</b> (!(v = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(err, "text")))
<a name='L1327'>        <b>goto</b> finally;
<a name='L1328'>    <b>if</b> (v == Py_None)
<a name='L1329'>        *text = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1330'>    <b>else</b> <b>if</b> (!PyUnicode_Check(v) ||
<a name='L1331'>             !(*text = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(v)))
<a name='L1332'>        <b>goto</b> finally;
<a name='L1333'>    Py_DECREF(v);
<a name='L1334'>    <b>return</b> 1;
<a name='L1335'>
<a name='L1336'>finally:
<a name='L1337'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(v);
<a name='L1338'>    <b>return</b> 0;
<a name='L1339'><font color='red'>}</font>
<a name='L1340'>
<a name='L1341'><b>void</b>
<a name='L1342'><a href='../R/2878.html' title='Multiple refered from 33 places.'>PyErr_Print</a>(<b>void</b>)
<a name='L1343'><font color='red'>{</font>
<a name='L1344'>    <a href='../S/3138.html#L1431' title='Defined at 1431 in Python/pythonrun.c.'>PyErr_PrintEx</a>(1);
<a name='L1345'><font color='red'>}</font>
<a name='L1346'>
<a name='L1347'><b>static</b> <b>void</b>
<a name='L1348'><a href='../S/3138.html#L1537' title='Refered from 1537 in Python/pythonrun.c.'>print_error_text</a>(PyObject *f, <b>int</b> offset, <b>const</b> <b>char</b> *text)
<a name='L1349'><font color='red'>{</font>
<a name='L1350'>    <b>char</b> *nl;
<a name='L1351'>    <b>if</b> (offset &gt;= 0) <font color='red'>{</font>
<a name='L1352'>        <b>if</b> (offset &gt; 0 &amp;&amp; offset == strlen(text) &amp;&amp; text[offset - 1] == '\n')
<a name='L1353'>            offset--;
<a name='L1354'>        <b>for</b> (;;) <font color='red'>{</font>
<a name='L1355'>            nl = strchr(text, '\n');
<a name='L1356'>            <b>if</b> (nl == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || nl-text &gt;= offset)
<a name='L1357'>                <b>break</b>;
<a name='L1358'>            offset -= (<b>int</b>)(nl+1-text);
<a name='L1359'>            text = nl+1;
<a name='L1360'>        <font color='red'>}</font>
<a name='L1361'>        <b>while</b> (*text == ' ' || *text == '\t') <font color='red'>{</font>
<a name='L1362'>            text++;
<a name='L1363'>            offset--;
<a name='L1364'>        <font color='red'>}</font>
<a name='L1365'>    <font color='red'>}</font>
<a name='L1366'>    <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("    ", f);
<a name='L1367'>    <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(text, f);
<a name='L1368'>    <b>if</b> (*text == '\0' || text[strlen(text)-1] != '\n')
<a name='L1369'>        <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("\n", f);
<a name='L1370'>    <b>if</b> (offset == -1)
<a name='L1371'>        <b>return</b>;
<a name='L1372'>    <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("    ", f);
<a name='L1373'>    <b>while</b> (--offset &gt; 0)
<a name='L1374'>        <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(" ", f);
<a name='L1375'>    <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("^\n", f);
<a name='L1376'><font color='red'>}</font>
<a name='L1377'>
<a name='L1378'><b>static</b> <b>void</b>
<a name='L1379'><a href='../R/8254.html' title='Multiple refered from 2 places.'>handle_system_exit</a>(<b>void</b>)
<a name='L1380'><font color='red'>{</font>
<a name='L1381'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *exception, *<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, *tb;
<a name='L1382'>    <b>int</b> exitcode = 0;
<a name='L1383'>
<a name='L1384'>    <b>if</b> (Py_InspectFlag)
<a name='L1385'>        <i><font color='green'>/* Don't exit if -i flag was given. This flag is set to 0</font></i>
<a name='L1386'><i><font color='green'>         * when entering interactive mode for inspecting. */</font></i>
<a name='L1387'>        <b>return</b>;
<a name='L1388'>
<a name='L1389'>    <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;exception, &amp;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;tb);
<a name='L1390'>    fflush(stdout);
<a name='L1391'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == Py_None)
<a name='L1392'>        <b>goto</b> done;
<a name='L1393'>    <b>if</b> (PyExceptionInstance_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L1394'>        <i><font color='green'>/* The error code should be in the `code' attribute. */</font></i>
<a name='L1395'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a> = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, "code");
<a name='L1396'>        <b>if</b> (<a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a>) <font color='red'>{</font>
<a name='L1397'>            Py_DECREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1398'>            <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a>;
<a name='L1399'>            <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == Py_None)
<a name='L1400'>                <b>goto</b> done;
<a name='L1401'>        <font color='red'>}</font>
<a name='L1402'>        <i><font color='green'>/* If we failed to dig out the 'code' attribute,</font></i>
<a name='L1403'><i><font color='green'>           just let the else clause below print the error. */</font></i>
<a name='L1404'>    <font color='red'>}</font>
<a name='L1405'>    <b>if</b> (PyLong_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>))
<a name='L1406'>        exitcode = (<b>int</b>)<a href='../S/2799.html#L416' title='Defined at 416 in Objects/longobject.c.'>PyLong_AsLong</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1407'>    <b>else</b> <font color='red'>{</font>
<a name='L1408'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *sys_stderr = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("stderr");
<a name='L1409'>        <b>if</b> (sys_stderr != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; sys_stderr != Py_None) <font color='red'>{</font>
<a name='L1410'>            <a href='../S/2790.html#L131' title='Defined at 131 in Objects/fileobject.c.'>PyFile_WriteObject</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, sys_stderr, Py_PRINT_RAW);
<a name='L1411'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1412'>            <a href='../S/2803.html#L261' title='Defined at 261 in Objects/object.c.'>PyObject_Print</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, stderr, Py_PRINT_RAW);
<a name='L1413'>            fflush(stderr);
<a name='L1414'>        <font color='red'>}</font>
<a name='L1415'>        <a href='../D/3819.html' title='Multiple defined in 2 places.'>PySys_WriteStderr</a>("\n");
<a name='L1416'>        exitcode = 1;
<a name='L1417'>    <font color='red'>}</font>
<a name='L1418'> done:
<a name='L1419'>    <i><font color='green'>/* Restore and clear the exception info, in order to properly decref</font></i>
<a name='L1420'><i><font color='green'>     * the exception, value, and traceback.      If we just exit instead,</font></i>
<a name='L1421'><i><font color='green'>     * these leak, which confuses PYTHONDUMPREFS output, and may prevent</font></i>
<a name='L1422'><i><font color='green'>     * some finalizers from running.</font></i>
<a name='L1423'><i><font color='green'>     */</font></i>
<a name='L1424'>    <a href='../S/3106.html#L25' title='Defined at 25 in Python/errors.c.'>PyErr_Restore</a>(exception, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, tb);
<a name='L1425'>    <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1426'>    <a href='../D/4121.html' title='Multiple defined in 2 places.'>Py_Exit</a>(exitcode);
<a name='L1427'>    <i><font color='green'>/* NOTREACHED */</font></i>
<a name='L1428'><font color='red'>}</font>
<a name='L1429'>
<a name='L1430'><b>void</b>
<a name='L1431'><a href='../R/2879.html' title='Multiple refered from 3 places.'>PyErr_PrintEx</a>(<b>int</b> set_sys_last_vars)
<a name='L1432'><font color='red'>{</font>
<a name='L1433'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *exception, *v, *tb, *hook;
<a name='L1434'>
<a name='L1435'>    <b>if</b> (<a href='../S/3106.html#L189' title='Defined at 189 in Python/errors.c.'>PyErr_ExceptionMatches</a>(PyExc_SystemExit)) <font color='red'>{</font>
<a name='L1436'>        <a href='../S/3138.html#L1379' title='Defined at 1379 in Python/pythonrun.c.'>handle_system_exit</a>();
<a name='L1437'>    <font color='red'>}</font>
<a name='L1438'>    <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;exception, &amp;v, &amp;tb);
<a name='L1439'>    <b>if</b> (exception == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1440'>        <b>return</b>;
<a name='L1441'>    <a href='../S/3106.html#L202' title='Defined at 202 in Python/errors.c.'>PyErr_NormalizeException</a>(&amp;exception, &amp;v, &amp;tb);
<a name='L1442'>    <b>if</b> (tb == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1443'>        tb = Py_None;
<a name='L1444'>        Py_INCREF(tb);
<a name='L1445'>    <font color='red'>}</font>
<a name='L1446'>    <a href='../S/2789.html#L326' title='Defined at 326 in Objects/exceptions.c.'>PyException_SetTraceback</a>(v, tb);
<a name='L1447'>    <b>if</b> (exception == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1448'>        <b>return</b>;
<a name='L1449'>    <i><font color='green'>/* Now we know v != NULL too */</font></i>
<a name='L1450'>    <b>if</b> (set_sys_last_vars) <font color='red'>{</font>
<a name='L1451'>        <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("last_type", exception);
<a name='L1452'>        <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("last_value", v);
<a name='L1453'>        <a href='../S/3144.html#L54' title='Defined at 54 in Python/sysmodule.c.'>PySys_SetObject</a>("last_traceback", tb);
<a name='L1454'>    <font color='red'>}</font>
<a name='L1455'>    hook = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("excepthook");
<a name='L1456'>    <b>if</b> (hook) <font color='red'>{</font>
<a name='L1457'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L186' title='Defined at 186 in Objects/tupleobject.c.'>PyTuple_Pack</a>(3, exception, v, tb);
<a name='L1458'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = PyEval_CallObject(hook, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1459'>        <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1460'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *exception2, *v2, *tb2;
<a name='L1461'>            <b>if</b> (<a href='../S/3106.html#L189' title='Defined at 189 in Python/errors.c.'>PyErr_ExceptionMatches</a>(PyExc_SystemExit)) <font color='red'>{</font>
<a name='L1462'>                <a href='../S/3138.html#L1379' title='Defined at 1379 in Python/pythonrun.c.'>handle_system_exit</a>();
<a name='L1463'>            <font color='red'>}</font>
<a name='L1464'>            <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;exception2, &amp;v2, &amp;tb2);
<a name='L1465'>            <a href='../S/3106.html#L202' title='Defined at 202 in Python/errors.c.'>PyErr_NormalizeException</a>(&amp;exception2, &amp;v2, &amp;tb2);
<a name='L1466'>            <i><font color='green'>/* It should not be possible for exception2 or v2</font></i>
<a name='L1467'><i><font color='green'>               to be NULL. However PyErr_Display() can't</font></i>
<a name='L1468'><i><font color='green'>               tolerate NULLs, so just be safe. */</font></i>
<a name='L1469'>            <b>if</b> (exception2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1470'>                exception2 = Py_None;
<a name='L1471'>                Py_INCREF(exception2);
<a name='L1472'>            <font color='red'>}</font>
<a name='L1473'>            <b>if</b> (v2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1474'>                v2 = Py_None;
<a name='L1475'>                Py_INCREF(v2);
<a name='L1476'>            <font color='red'>}</font>
<a name='L1477'>            fflush(stdout);
<a name='L1478'>            <a href='../D/3819.html' title='Multiple defined in 2 places.'>PySys_WriteStderr</a>("Error in sys.excepthook:\n");
<a name='L1479'>            <a href='../S/3138.html#L1659' title='Defined at 1659 in Python/pythonrun.c.'>PyErr_Display</a>(exception2, v2, tb2);
<a name='L1480'>            <a href='../D/3819.html' title='Multiple defined in 2 places.'>PySys_WriteStderr</a>("\nOriginal exception was:\n");
<a name='L1481'>            <a href='../S/3138.html#L1659' title='Defined at 1659 in Python/pythonrun.c.'>PyErr_Display</a>(exception, v, tb);
<a name='L1482'>            Py_DECREF(exception2);
<a name='L1483'>            Py_DECREF(v2);
<a name='L1484'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(tb2);
<a name='L1485'>        <font color='red'>}</font>
<a name='L1486'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1487'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1488'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1489'>        <a href='../D/3819.html' title='Multiple defined in 2 places.'>PySys_WriteStderr</a>("sys.excepthook is missing\n");
<a name='L1490'>        <a href='../S/3138.html#L1659' title='Defined at 1659 in Python/pythonrun.c.'>PyErr_Display</a>(exception, v, tb);
<a name='L1491'>    <font color='red'>}</font>
<a name='L1492'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(exception);
<a name='L1493'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(v);
<a name='L1494'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(tb);
<a name='L1495'><font color='red'>}</font>
<a name='L1496'>
<a name='L1497'><b>static</b> <b>void</b>
<a name='L1498'><a href='../S/3138.html#L1653' title='Refered from 1653 in Python/pythonrun.c.'>print_exception</a>(PyObject *f, PyObject *value)
<a name='L1499'><font color='red'>{</font>
<a name='L1500'>    <b>int</b> err = 0;
<a name='L1501'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *type, *tb;
<a name='L1502'>
<a name='L1503'>    <b>if</b> (!PyExceptionInstance_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L1504'>        <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("TypeError: print_exception(): Exception expected for value, ", f);
<a name='L1505'>        <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)-&gt;tp_name, f);
<a name='L1506'>        <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(" found\n", f);
<a name='L1507'>        <b>return</b>;
<a name='L1508'>    <font color='red'>}</font>
<a name='L1509'>
<a name='L1510'>    Py_INCREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1511'>    fflush(stdout);
<a name='L1512'>    type = (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1513'>    tb = <a href='../S/2789.html#L318' title='Defined at 318 in Objects/exceptions.c.'>PyException_GetTraceback</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1514'>    <b>if</b> (tb &amp;&amp; tb != Py_None)
<a name='L1515'>        err = <a href='../S/3156.html#L366' title='Defined at 366 in Python/traceback.c.'>PyTraceBack_Print</a>(tb, f);
<a name='L1516'>    <b>if</b> (err == 0 &amp;&amp;
<a name='L1517'>        <a href='../S/2803.html#L794' title='Defined at 794 in Objects/object.c.'>PyObject_HasAttrString</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, "print_file_and_line"))
<a name='L1518'>    <font color='red'>{</font>
<a name='L1519'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *message;
<a name='L1520'>        <b>const</b> <b>char</b> *filename, *text;
<a name='L1521'>        <b>int</b> lineno, offset;
<a name='L1522'>        <b>if</b> (!<a href='../S/3138.html#L1277' title='Defined at 1277 in Python/pythonrun.c.'>parse_syntax_error</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;message, &amp;filename,
<a name='L1523'>                                &amp;lineno, &amp;offset, &amp;text))
<a name='L1524'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1525'>        <b>else</b> <font color='red'>{</font>
<a name='L1526'>            <b>char</b> buf[10];
<a name='L1527'>            <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("  File \"", f);
<a name='L1528'>            <b>if</b> (filename == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1529'>                <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("&lt;string&gt;", f);
<a name='L1530'>            <b>else</b>
<a name='L1531'>                <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(filename, f);
<a name='L1532'>            <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("\", line ", f);
<a name='L1533'>            <a href='../S/3126.html#L41' title='Defined at 41 in Python/mysnprintf.c.'>PyOS_snprintf</a>(buf, <b>sizeof</b>(buf), "%d", lineno);
<a name='L1534'>            <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(buf, f);
<a name='L1535'>            <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("\n", f);
<a name='L1536'>            <b>if</b> (text != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1537'>                <a href='../S/3138.html#L1348' title='Defined at 1348 in Python/pythonrun.c.'>print_error_text</a>(f, offset, text);
<a name='L1538'>            Py_DECREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1539'>            <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = message;
<a name='L1540'>            <i><font color='green'>/* Can't be bothered to check all those</font></i>
<a name='L1541'><i><font color='green'>               PyFile_WriteString() calls */</font></i>
<a name='L1542'>            <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1543'>                err = -1;
<a name='L1544'>        <font color='red'>}</font>
<a name='L1545'>    <font color='red'>}</font>
<a name='L1546'>    <b>if</b> (err) <font color='red'>{</font>
<a name='L1547'>        <i><font color='green'>/* Don't do anything else */</font></i>
<a name='L1548'>    <font color='red'>}</font>
<a name='L1549'>    <b>else</b> <font color='red'>{</font>
<a name='L1550'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* moduleName;
<a name='L1551'>        <b>char</b>* className;
<a name='L1552'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyExceptionClass_Check(type));
<a name='L1553'>        className = PyExceptionClass_Name(type);
<a name='L1554'>        <b>if</b> (className != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1555'>            <b>char</b> *dot = strrchr(className, '.');
<a name='L1556'>            <b>if</b> (dot != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1557'>                className = dot+1;
<a name='L1558'>        <font color='red'>}</font>
<a name='L1559'>
<a name='L1560'>        moduleName = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(type, "__module__");
<a name='L1561'>        <b>if</b> (moduleName == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || !PyUnicode_Check(moduleName))
<a name='L1562'>        <font color='red'>{</font>
<a name='L1563'>            Py_DECREF(moduleName);
<a name='L1564'>            err = <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("&lt;unknown&gt;", f);
<a name='L1565'>        <font color='red'>}</font>
<a name='L1566'>        <b>else</b> <font color='red'>{</font>
<a name='L1567'>            <b>char</b>* modstr = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(moduleName);
<a name='L1568'>            <b>if</b> (modstr &amp;&amp; strcmp(modstr, "builtins"))
<a name='L1569'>            <font color='red'>{</font>
<a name='L1570'>                err = <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(modstr, f);
<a name='L1571'>                err += <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(".", f);
<a name='L1572'>            <font color='red'>}</font>
<a name='L1573'>            Py_DECREF(moduleName);
<a name='L1574'>        <font color='red'>}</font>
<a name='L1575'>        <b>if</b> (err == 0) <font color='red'>{</font>
<a name='L1576'>            <b>if</b> (className == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1577'>                      err = <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("&lt;unknown&gt;", f);
<a name='L1578'>            <b>else</b>
<a name='L1579'>                      err = <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(className, f);
<a name='L1580'>        <font color='red'>}</font>
<a name='L1581'>    <font color='red'>}</font>
<a name='L1582'>    <b>if</b> (err == 0 &amp;&amp; (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> != Py_None)) <font color='red'>{</font>
<a name='L1583'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *s = <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1584'>        <i><font color='green'>/* only print colon if the str() of the</font></i>
<a name='L1585'><i><font color='green'>           object is not the empty string</font></i>
<a name='L1586'><i><font color='green'>        */</font></i>
<a name='L1587'>        <b>if</b> (s == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1588'>            err = -1;
<a name='L1589'>        <b>else</b> <b>if</b> (!PyUnicode_Check(s) ||
<a name='L1590'>            <a href='../D/4020.html' title='Multiple defined in 3 places.'>PyUnicode_GetSize</a>(s) != 0)
<a name='L1591'>            err = <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(": ", f);
<a name='L1592'>        <b>if</b> (err == 0)
<a name='L1593'>          err = <a href='../S/2790.html#L131' title='Defined at 131 in Objects/fileobject.c.'>PyFile_WriteObject</a>(s, f, Py_PRINT_RAW);
<a name='L1594'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(s);
<a name='L1595'>    <font color='red'>}</font>
<a name='L1596'>    <i><font color='green'>/* try to write a newline in any case */</font></i>
<a name='L1597'>    err += <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>("\n", f);
<a name='L1598'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(tb);
<a name='L1599'>    Py_DECREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1600'>    <i><font color='green'>/* If an error happened here, don't show it.</font></i>
<a name='L1601'><i><font color='green'>       XXX This is wrong, but too many callers rely on this behavior. */</font></i>
<a name='L1602'>    <b>if</b> (err != 0)
<a name='L1603'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1604'><font color='red'>}</font>
<a name='L1605'>
<a name='L1606'><b>static</b> <b>const</b> <b>char</b> *cause_message =
<a name='L1607'>    "\nThe above exception was the direct cause "
<a name='L1608'>    "of the following exception:\n\n";
<a name='L1609'>
<a name='L1610'><b>static</b> <b>const</b> <b>char</b> *context_message =
<a name='L1611'>    "\nDuring handling of the above exception, "
<a name='L1612'>    "another exception occurred:\n\n";
<a name='L1613'>
<a name='L1614'><b>static</b> <b>void</b>
<a name='L1615'><a href='../R/9707.html' title='Multiple refered from 3 places.'>print_exception_recursive</a>(PyObject *f, PyObject *value, PyObject *seen)
<a name='L1616'><font color='red'>{</font>
<a name='L1617'>    <b>int</b> err = 0, res;
<a name='L1618'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *cause, *context;
<a name='L1619'>
<a name='L1620'>    <b>if</b> (seen != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1621'>        <i><font color='green'>/* Exception chaining */</font></i>
<a name='L1622'>        <b>if</b> (<a href='../S/2806.html#L2315' title='Defined at 2315 in Objects/setobject.c.'>PySet_Add</a>(seen, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) == -1)
<a name='L1623'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1624'>        <b>else</b> <b>if</b> (PyExceptionInstance_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L1625'>            cause = <a href='../S/2789.html#L331' title='Defined at 331 in Objects/exceptions.c.'>PyException_GetCause</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1626'>            context = <a href='../S/2789.html#L346' title='Defined at 346 in Objects/exceptions.c.'>PyException_GetContext</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1627'>            <b>if</b> (cause) <font color='red'>{</font>
<a name='L1628'>                res = <a href='../S/2806.html#L2295' title='Defined at 2295 in Objects/setobject.c.'>PySet_Contains</a>(seen, cause);
<a name='L1629'>                <b>if</b> (res == -1)
<a name='L1630'>                    <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1631'>                <b>if</b> (res == 0) <font color='red'>{</font>
<a name='L1632'>                    <a href='../S/3138.html#L1615' title='Defined at 1615 in Python/pythonrun.c.'>print_exception_recursive</a>(
<a name='L1633'>                        f, cause, seen);
<a name='L1634'>                    err |= <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(
<a name='L1635'>                        cause_message, f);
<a name='L1636'>                <font color='red'>}</font>
<a name='L1637'>            <font color='red'>}</font>
<a name='L1638'>            <b>else</b> <b>if</b> (context) <font color='red'>{</font>
<a name='L1639'>                res = <a href='../S/2806.html#L2295' title='Defined at 2295 in Objects/setobject.c.'>PySet_Contains</a>(seen, context);
<a name='L1640'>                <b>if</b> (res == -1)
<a name='L1641'>                    <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1642'>                <b>if</b> (res == 0) <font color='red'>{</font>
<a name='L1643'>                    <a href='../S/3138.html#L1615' title='Defined at 1615 in Python/pythonrun.c.'>print_exception_recursive</a>(
<a name='L1644'>                        f, context, seen);
<a name='L1645'>                    err |= <a href='../S/2790.html#L167' title='Defined at 167 in Objects/fileobject.c.'>PyFile_WriteString</a>(
<a name='L1646'>                        context_message, f);
<a name='L1647'>                <font color='red'>}</font>
<a name='L1648'>            <font color='red'>}</font>
<a name='L1649'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(context);
<a name='L1650'>            <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(cause);
<a name='L1651'>        <font color='red'>}</font>
<a name='L1652'>    <font color='red'>}</font>
<a name='L1653'>    <a href='../S/3138.html#L1498' title='Defined at 1498 in Python/pythonrun.c.'>print_exception</a>(f, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1654'>    <b>if</b> (err != 0)
<a name='L1655'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1656'><font color='red'>}</font>
<a name='L1657'>
<a name='L1658'><b>void</b>
<a name='L1659'><a href='../R/2868.html' title='Multiple refered from 6 places.'>PyErr_Display</a>(PyObject *exception, PyObject *value, PyObject *tb)
<a name='L1660'><font color='red'>{</font>
<a name='L1661'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *seen;
<a name='L1662'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *f = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("stderr");
<a name='L1663'>    <b>if</b> (f == Py_None) <font color='red'>{</font>
<a name='L1664'>        <i><font color='green'>/* pass */</font></i>
<a name='L1665'>    <font color='red'>}</font>
<a name='L1666'>    <b>else</b> <b>if</b> (f == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1667'>        <a href='../S/2803.html#L339' title='Defined at 339 in Objects/object.c.'>_PyObject_Dump</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L1668'>        fprintf(stderr, "lost sys.stderr\n");
<a name='L1669'>    <font color='red'>}</font>
<a name='L1670'>    <b>else</b> <font color='red'>{</font>
<a name='L1671'>        <i><font color='green'>/* We choose to ignore seen being possibly NULL, and report</font></i>
<a name='L1672'><i><font color='green'>           at least the main exception (it could be a MemoryError).</font></i>
<a name='L1673'><i><font color='green'>        */</font></i>
<a name='L1674'>        seen = <a href='../S/2806.html#L2263' title='Defined at 2263 in Objects/setobject.c.'>PySet_New</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1675'>        <b>if</b> (seen == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1676'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1677'>        <a href='../S/3138.html#L1615' title='Defined at 1615 in Python/pythonrun.c.'>print_exception_recursive</a>(f, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, seen);
<a name='L1678'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(seen);
<a name='L1679'>    <font color='red'>}</font>
<a name='L1680'><font color='red'>}</font>
<a name='L1681'>
<a name='L1682'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1683'><a href='../R/3339.html' title='Multiple refered from 4 places.'>PyRun_StringFlags</a>(<b>const</b> <b>char</b> *str, <b>int</b> start, PyObject *globals,
<a name='L1684'>                  PyObject *locals, PyCompilerFlags *flags)
<a name='L1685'><font color='red'>{</font>
<a name='L1686'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ret = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1687'>    <a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a> mod;
<a name='L1688'>    <a href='../S/553.html#L12' title='Defined at 12 in Include/pyarena.h.'>PyArena</a> *arena = <a href='../S/3130.html#L130' title='Defined at 130 in Python/pyarena.c.'>PyArena_New</a>();
<a name='L1689'>    <b>if</b> (arena == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1690'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1691'>
<a name='L1692'>    mod = <a href='../S/3138.html#L1853' title='Defined at 1853 in Python/pythonrun.c.'>PyParser_ASTFromString</a>(str, "&lt;string&gt;", start, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, arena);
<a name='L1693'>    <b>if</b> (mod != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1694'>        ret = <a href='../S/3138.html#L1752' title='Defined at 1752 in Python/pythonrun.c.'>run_mod</a>(mod, "&lt;string&gt;", globals, locals, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, arena);
<a name='L1695'>    <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1696'>    <b>return</b> ret;
<a name='L1697'><font color='red'>}</font>
<a name='L1698'>
<a name='L1699'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1700'><a href='../R/3332.html' title='Multiple refered from 4 places.'>PyRun_FileExFlags</a>(FILE *fp, <b>const</b> <b>char</b> *filename, <b>int</b> start, PyObject *globals,
<a name='L1701'>                  PyObject *locals, <b>int</b> closeit, PyCompilerFlags *flags)
<a name='L1702'><font color='red'>{</font>
<a name='L1703'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ret;
<a name='L1704'>    <a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a> mod;
<a name='L1705'>    <a href='../S/553.html#L12' title='Defined at 12 in Include/pyarena.h.'>PyArena</a> *arena = <a href='../S/3130.html#L130' title='Defined at 130 in Python/pyarena.c.'>PyArena_New</a>();
<a name='L1706'>    <b>if</b> (arena == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1707'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1708'>
<a name='L1709'>    mod = <a href='../S/3138.html#L1881' title='Defined at 1881 in Python/pythonrun.c.'>PyParser_ASTFromFile</a>(fp, filename, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, start, 0, 0,
<a name='L1710'>                               <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, arena);
<a name='L1711'>    <b>if</b> (closeit)
<a name='L1712'>        fclose(fp);
<a name='L1713'>    <b>if</b> (mod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1714'>        <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1715'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1716'>    <font color='red'>}</font>
<a name='L1717'>    ret = <a href='../S/3138.html#L1752' title='Defined at 1752 in Python/pythonrun.c.'>run_mod</a>(mod, filename, globals, locals, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, arena);
<a name='L1718'>    <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1719'>    <b>return</b> ret;
<a name='L1720'><font color='red'>}</font>
<a name='L1721'>
<a name='L1722'><b>static</b> <b>void</b>
<a name='L1723'><a href='../R/7873.html' title='Multiple refered from 3 places.'>flush_io</a>(<b>void</b>)
<a name='L1724'><font color='red'>{</font>
<a name='L1725'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *f, *r;
<a name='L1726'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *type, *<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, *traceback;
<a name='L1727'>
<a name='L1728'>    <i><font color='green'>/* Save the current exception */</font></i>
<a name='L1729'>    <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;type, &amp;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;traceback);
<a name='L1730'>
<a name='L1731'>    f = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("stderr");
<a name='L1732'>    <b>if</b> (f != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1733'>        r = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(f, "flush", "");
<a name='L1734'>        <b>if</b> (r)
<a name='L1735'>            Py_DECREF(r);
<a name='L1736'>        <b>else</b>
<a name='L1737'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1738'>    <font color='red'>}</font>
<a name='L1739'>    f = <a href='../S/3144.html#L44' title='Defined at 44 in Python/sysmodule.c.'>PySys_GetObject</a>("stdout");
<a name='L1740'>    <b>if</b> (f != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1741'>        r = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(f, "flush", "");
<a name='L1742'>        <b>if</b> (r)
<a name='L1743'>            Py_DECREF(r);
<a name='L1744'>        <b>else</b>
<a name='L1745'>            <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L1746'>    <font color='red'>}</font>
<a name='L1747'>
<a name='L1748'>    <a href='../S/3106.html#L25' title='Defined at 25 in Python/errors.c.'>PyErr_Restore</a>(type, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, traceback);
<a name='L1749'><font color='red'>}</font>
<a name='L1750'>
<a name='L1751'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1752'><a href='../R/10071.html' title='Multiple refered from 4 places.'>run_mod</a>(mod_ty mod, <b>const</b> <b>char</b> *filename, PyObject *globals, PyObject *locals,
<a name='L1753'>         PyCompilerFlags *flags, PyArena *arena)
<a name='L1754'><font color='red'>{</font>
<a name='L1755'>    <a href='../S/511.html#L32' title='Defined at 32 in Include/code.h.'>PyCodeObject</a> *co;
<a name='L1756'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L1757'>    co = <a href='../D/2718.html' title='Multiple defined in 2 places.'>PyAST_Compile</a>(mod, filename, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, arena);
<a name='L1758'>    <b>if</b> (co == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1759'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1760'>    v = <a href='../S/3091.html#L759' title='Defined at 759 in Python/ceval.c.'>PyEval_EvalCode</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)co, globals, locals);
<a name='L1761'>    Py_DECREF(co);
<a name='L1762'>    <b>return</b> v;
<a name='L1763'><font color='red'>}</font>
<a name='L1764'>
<a name='L1765'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1766'><a href='../R/10072.html' title='Multiple refered from 2 places.'>run_pyc_file</a>(FILE *fp, <b>const</b> <b>char</b> *filename, PyObject *globals,
<a name='L1767'>             PyObject *locals, PyCompilerFlags *flags)
<a name='L1768'><font color='red'>{</font>
<a name='L1769'>    <a href='../S/511.html#L32' title='Defined at 32 in Include/code.h.'>PyCodeObject</a> *co;
<a name='L1770'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L1771'>    <b>long</b> magic;
<a name='L1772'>    <b>long</b> <a href='../S/3120.html#L552' title='Defined at 552 in Python/import.c.'>PyImport_GetMagicNumber</a>(<b>void</b>);
<a name='L1773'>
<a name='L1774'>    magic = <a href='../S/3124.html#L1050' title='Defined at 1050 in Python/marshal.c.'>PyMarshal_ReadLongFromFile</a>(fp);
<a name='L1775'>    <b>if</b> (magic != <a href='../S/3120.html#L552' title='Defined at 552 in Python/import.c.'>PyImport_GetMagicNumber</a>()) <font color='red'>{</font>
<a name='L1776'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError,
<a name='L1777'>                   "Bad magic number in .pyc file");
<a name='L1778'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1779'>    <font color='red'>}</font>
<a name='L1780'>    (<b>void</b>) <a href='../S/3124.html#L1050' title='Defined at 1050 in Python/marshal.c.'>PyMarshal_ReadLongFromFile</a>(fp);
<a name='L1781'>    v = <a href='../S/3124.html#L1079' title='Defined at 1079 in Python/marshal.c.'>PyMarshal_ReadLastObjectFromFile</a>(fp);
<a name='L1782'>    fclose(fp);
<a name='L1783'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || !PyCode_Check(v)) <font color='red'>{</font>
<a name='L1784'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(v);
<a name='L1785'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_RuntimeError,
<a name='L1786'>                   "Bad code object in .pyc file");
<a name='L1787'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1788'>    <font color='red'>}</font>
<a name='L1789'>    co = (<a href='../S/511.html#L32' title='Defined at 32 in Include/code.h.'>PyCodeObject</a> *)v;
<a name='L1790'>    v = <a href='../S/3091.html#L759' title='Defined at 759 in Python/ceval.c.'>PyEval_EvalCode</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)co, globals, locals);
<a name='L1791'>    <b>if</b> (v &amp;&amp; <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>)
<a name='L1792'>        <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>-&gt;cf_flags |= (co-&gt;co_flags &amp; <a href='../S/571.html#L10' title='Defined at 10 in Include/pythonrun.h.'>PyCF_MASK</a>);
<a name='L1793'>    Py_DECREF(co);
<a name='L1794'>    <b>return</b> v;
<a name='L1795'><font color='red'>}</font>
<a name='L1796'>
<a name='L1797'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1798'><a href='../R/3674.html' title='Multiple refered from 3 places.'>Py_CompileStringExFlags</a>(<b>const</b> <b>char</b> *str, <b>const</b> <b>char</b> *filename, <b>int</b> start,
<a name='L1799'>                        PyCompilerFlags *flags, <b>int</b> optimize)
<a name='L1800'><font color='red'>{</font>
<a name='L1801'>    <a href='../S/511.html#L32' title='Defined at 32 in Include/code.h.'>PyCodeObject</a> *co;
<a name='L1802'>    <a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a> mod;
<a name='L1803'>    <a href='../S/553.html#L12' title='Defined at 12 in Include/pyarena.h.'>PyArena</a> *arena = <a href='../S/3130.html#L130' title='Defined at 130 in Python/pyarena.c.'>PyArena_New</a>();
<a name='L1804'>    <b>if</b> (arena == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1805'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1806'>
<a name='L1807'>    mod = <a href='../S/3138.html#L1853' title='Defined at 1853 in Python/pythonrun.c.'>PyParser_ASTFromString</a>(str, filename, start, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, arena);
<a name='L1808'>    <b>if</b> (mod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1809'>        <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1810'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1811'>    <font color='red'>}</font>
<a name='L1812'>    <b>if</b> (<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> &amp;&amp; (<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>-&gt;cf_flags &amp; <a href='../S/571.html#L16' title='Defined at 16 in Include/pythonrun.h.'>PyCF_ONLY_AST</a>)) <font color='red'>{</font>
<a name='L1813'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/3137.html#L6947' title='Defined at 6947 in Python/Python-ast.c.'>PyAST_mod2obj</a>(mod);
<a name='L1814'>        <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1815'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1816'>    <font color='red'>}</font>
<a name='L1817'>    co = <a href='../S/3094.html#L258' title='Defined at 258 in Python/compile.c.'>PyAST_CompileEx</a>(mod, filename, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, optimize, arena);
<a name='L1818'>    <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1819'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)co;
<a name='L1820'><font color='red'>}</font>
<a name='L1821'>
<a name='L1822'><i><font color='green'>/* For use in Py_LIMITED_API */</font></i>
<a name='L1823'><font color='darkred'>#undef</font> <a href='../S/2729.html#L1096' title='Refered from 1096 in Modules/zipimport.c.'>Py_CompileString</a>
<a name='L1824'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1825'>PyCompileString(<b>const</b> <b>char</b> *str, <b>const</b> <b>char</b> *filename, <b>int</b> start)
<a name='L1826'><font color='red'>{</font>
<a name='L1827'>    <b>return</b> <a href='../S/3138.html#L2458' title='Defined at 2458 in Python/pythonrun.c.'>Py_CompileStringFlags</a>(str, filename, start, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1828'><font color='red'>}</font>
<a name='L1829'>
<a name='L1830'><b>struct</b> <a href='../S/579.html#L18' title='Defined at 18 in Include/symtable.h.'>symtable</a> *
<a name='L1831'><a href='../S/2716.html#L32' title='Refered from 32 in Modules/symtablemodule.c.'>Py_SymtableString</a>(<b>const</b> <b>char</b> *str, <b>const</b> <b>char</b> *filename, <b>int</b> start)
<a name='L1832'><font color='red'>{</font>
<a name='L1833'>    <b>struct</b> <a href='../S/579.html#L18' title='Defined at 18 in Include/symtable.h.'>symtable</a> *st;
<a name='L1834'>    <a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a> mod;
<a name='L1835'>    <a href='../S/571.html#L22' title='Defined at 22 in Include/pythonrun.h.'>PyCompilerFlags</a> <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>;
<a name='L1836'>    <a href='../S/553.html#L12' title='Defined at 12 in Include/pyarena.h.'>PyArena</a> *arena = <a href='../S/3130.html#L130' title='Defined at 130 in Python/pyarena.c.'>PyArena_New</a>();
<a name='L1837'>    <b>if</b> (arena == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1838'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1839'>
<a name='L1840'>    <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>.cf_flags = 0;
<a name='L1841'>    mod = <a href='../S/3138.html#L1853' title='Defined at 1853 in Python/pythonrun.c.'>PyParser_ASTFromString</a>(str, filename, start, &amp;<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, arena);
<a name='L1842'>    <b>if</b> (mod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1843'>        <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1844'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1845'>    <font color='red'>}</font>
<a name='L1846'>    st = <a href='../S/3143.html#L225' title='Defined at 225 in Python/symtable.c.'>PySymtable_Build</a>(mod, filename, 0);
<a name='L1847'>    <a href='../S/3130.html#L159' title='Defined at 159 in Python/pyarena.c.'>PyArena_Free</a>(arena);
<a name='L1848'>    <b>return</b> st;
<a name='L1849'><font color='red'>}</font>
<a name='L1850'>
<a name='L1851'><i><font color='green'>/* Preferred access to parser is through AST. */</font></i>
<a name='L1852'><a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a>
<a name='L1853'><a href='../R/3310.html' title='Multiple refered from 3 places.'>PyParser_ASTFromString</a>(<b>const</b> <b>char</b> *s, <b>const</b> <b>char</b> *filename, <b>int</b> start,
<a name='L1854'>                       PyCompilerFlags *flags, PyArena *arena)
<a name='L1855'><font color='red'>{</font>
<a name='L1856'>    <a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a> mod;
<a name='L1857'>    <a href='../S/571.html#L22' title='Defined at 22 in Include/pythonrun.h.'>PyCompilerFlags</a> localflags;
<a name='L1858'>    <a href='../S/548.html#L18' title='Defined at 18 in Include/parsetok.h.'>perrdetail</a> err;
<a name='L1859'>    <b>int</b> iflags = <a href='../D/2457.html' title='Multiple defined in 2 places.'>PARSER_FLAGS</a>(<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1860'>
<a name='L1861'>    <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *n = <a href='../S/2845.html#L44' title='Defined at 44 in Parser/parsetok.c.'>PyParser_ParseStringFlagsFilenameEx</a>(s, filename,
<a name='L1862'>                                    &amp;_PyParser_Grammar, start, &amp;err,
<a name='L1863'>                                    &amp;iflags);
<a name='L1864'>    <b>if</b> (<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1865'>        localflags.cf_flags = 0;
<a name='L1866'>        <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> = &amp;localflags;
<a name='L1867'>    <font color='red'>}</font>
<a name='L1868'>    <b>if</b> (n) <font color='red'>{</font>
<a name='L1869'>        <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>-&gt;cf_flags |= iflags &amp; <a href='../S/571.html#L10' title='Defined at 10 in Include/pythonrun.h.'>PyCF_MASK</a>;
<a name='L1870'>        mod = <a href='../S/3089.html#L221' title='Defined at 221 in Python/ast.c.'>PyAST_FromNode</a>(n, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, filename, arena);
<a name='L1871'>        <a href='../S/2842.html#L120' title='Defined at 120 in Parser/node.c.'>PyNode_Free</a>(n);
<a name='L1872'>        <b>return</b> mod;
<a name='L1873'>    <font color='red'>}</font>
<a name='L1874'>    <b>else</b> <font color='red'>{</font>
<a name='L1875'>        <a href='../S/3138.html#L1970' title='Defined at 1970 in Python/pythonrun.c.'>err_input</a>(&amp;err);
<a name='L1876'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1877'>    <font color='red'>}</font>
<a name='L1878'><font color='red'>}</font>
<a name='L1879'>
<a name='L1880'><a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a>
<a name='L1881'><a href='../R/3309.html' title='Multiple refered from 3 places.'>PyParser_ASTFromFile</a>(FILE *fp, <b>const</b> <b>char</b> *filename, <b>const</b> <b>char</b>* enc,
<a name='L1882'>                     <b>int</b> start, <b>char</b> *ps1,
<a name='L1883'>                     <b>char</b> *ps2, PyCompilerFlags *flags, <b>int</b> *errcode,
<a name='L1884'>                     PyArena *arena)
<a name='L1885'><font color='red'>{</font>
<a name='L1886'>    <a href='../S/569.html#L5' title='Defined at 5 in Include/Python-ast.h.'>mod_ty</a> mod;
<a name='L1887'>    <a href='../S/571.html#L22' title='Defined at 22 in Include/pythonrun.h.'>PyCompilerFlags</a> localflags;
<a name='L1888'>    <a href='../S/548.html#L18' title='Defined at 18 in Include/parsetok.h.'>perrdetail</a> err;
<a name='L1889'>    <b>int</b> iflags = <a href='../D/2457.html' title='Multiple defined in 2 places.'>PARSER_FLAGS</a>(<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1890'>
<a name='L1891'>    <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *n = <a href='../S/2845.html#L87' title='Defined at 87 in Parser/parsetok.c.'>PyParser_ParseFileFlagsEx</a>(fp, filename, enc,
<a name='L1892'>                                      &amp;_PyParser_Grammar,
<a name='L1893'>                            start, ps1, ps2, &amp;err, &amp;iflags);
<a name='L1894'>    <b>if</b> (<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1895'>        localflags.cf_flags = 0;
<a name='L1896'>        <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> = &amp;localflags;
<a name='L1897'>    <font color='red'>}</font>
<a name='L1898'>    <b>if</b> (n) <font color='red'>{</font>
<a name='L1899'>        <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>-&gt;cf_flags |= iflags &amp; <a href='../S/571.html#L10' title='Defined at 10 in Include/pythonrun.h.'>PyCF_MASK</a>;
<a name='L1900'>        mod = <a href='../S/3089.html#L221' title='Defined at 221 in Python/ast.c.'>PyAST_FromNode</a>(n, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, filename, arena);
<a name='L1901'>        <a href='../S/2842.html#L120' title='Defined at 120 in Parser/node.c.'>PyNode_Free</a>(n);
<a name='L1902'>        <b>return</b> mod;
<a name='L1903'>    <font color='red'>}</font>
<a name='L1904'>    <b>else</b> <font color='red'>{</font>
<a name='L1905'>        <a href='../S/3138.html#L1970' title='Defined at 1970 in Python/pythonrun.c.'>err_input</a>(&amp;err);
<a name='L1906'>        <b>if</b> (errcode)
<a name='L1907'>            *errcode = err.<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1908'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1909'>    <font color='red'>}</font>
<a name='L1910'><font color='red'>}</font>
<a name='L1911'>
<a name='L1912'><i><font color='green'>/* Simplified interface to parsefile -- return node or set exception */</font></i>
<a name='L1913'>
<a name='L1914'><a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *
<a name='L1915'><a href='../S/3138.html#L2369' title='Refered from 2369 in Python/pythonrun.c.'>PyParser_SimpleParseFileFlags</a>(FILE *fp, <b>const</b> <b>char</b> *filename, <b>int</b> start, <b>int</b> flags)
<a name='L1916'><font color='red'>{</font>
<a name='L1917'>    <a href='../S/548.html#L18' title='Defined at 18 in Include/parsetok.h.'>perrdetail</a> err;
<a name='L1918'>    <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *n = <a href='../S/2845.html#L77' title='Defined at 77 in Parser/parsetok.c.'>PyParser_ParseFileFlags</a>(fp, filename, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1919'>                                      &amp;_PyParser_Grammar,
<a name='L1920'>                                      start, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, &amp;err, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1921'>    <b>if</b> (n == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1922'>        <a href='../S/3138.html#L1970' title='Defined at 1970 in Python/pythonrun.c.'>err_input</a>(&amp;err);
<a name='L1923'>
<a name='L1924'>    <b>return</b> n;
<a name='L1925'><font color='red'>}</font>
<a name='L1926'>
<a name='L1927'><i><font color='green'>/* Simplified interface to parsestring -- return node or set exception */</font></i>
<a name='L1928'>
<a name='L1929'><a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *
<a name='L1930'><a href='../S/3138.html#L2376' title='Refered from 2376 in Python/pythonrun.c.'>PyParser_SimpleParseStringFlags</a>(<b>const</b> <b>char</b> *str, <b>int</b> start, <b>int</b> flags)
<a name='L1931'><font color='red'>{</font>
<a name='L1932'>    <a href='../S/548.html#L18' title='Defined at 18 in Include/parsetok.h.'>perrdetail</a> err;
<a name='L1933'>    <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *n = <a href='../S/2845.html#L26' title='Defined at 26 in Parser/parsetok.c.'>PyParser_ParseStringFlags</a>(str, &amp;_PyParser_Grammar,
<a name='L1934'>                                        start, &amp;err, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1935'>    <b>if</b> (n == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1936'>        <a href='../S/3138.html#L1970' title='Defined at 1970 in Python/pythonrun.c.'>err_input</a>(&amp;err);
<a name='L1937'>    <b>return</b> n;
<a name='L1938'><font color='red'>}</font>
<a name='L1939'>
<a name='L1940'><a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *
<a name='L1941'><a href='../S/3138.html#L1955' title='Refered from 1955 in Python/pythonrun.c.'>PyParser_SimpleParseStringFlagsFilename</a>(<b>const</b> <b>char</b> *str, <b>const</b> <b>char</b> *filename,
<a name='L1942'>                                        <b>int</b> start, <b>int</b> flags)
<a name='L1943'><font color='red'>{</font>
<a name='L1944'>    <a href='../S/548.html#L18' title='Defined at 18 in Include/parsetok.h.'>perrdetail</a> err;
<a name='L1945'>    <a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *n = <a href='../S/2845.html#L34' title='Defined at 34 in Parser/parsetok.c.'>PyParser_ParseStringFlagsFilename</a>(str, filename,
<a name='L1946'>                            &amp;_PyParser_Grammar, start, &amp;err, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L1947'>    <b>if</b> (n == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1948'>        <a href='../S/3138.html#L1970' title='Defined at 1970 in Python/pythonrun.c.'>err_input</a>(&amp;err);
<a name='L1949'>    <b>return</b> n;
<a name='L1950'><font color='red'>}</font>
<a name='L1951'>
<a name='L1952'><a href='../S/543.html#L17' title='Defined at 17 in Include/node.h.'>node</a> *
<a name='L1953'>PyParser_SimpleParseStringFilename(<b>const</b> <b>char</b> *str, <b>const</b> <b>char</b> *filename, <b>int</b> start)
<a name='L1954'><font color='red'>{</font>
<a name='L1955'>    <b>return</b> <a href='../S/3138.html#L1941' title='Defined at 1941 in Python/pythonrun.c.'>PyParser_SimpleParseStringFlagsFilename</a>(str, filename, start, 0);
<a name='L1956'><font color='red'>}</font>
<a name='L1957'>
<a name='L1958'><i><font color='green'>/* May want to move a more generalized form of this to parsetok.c or</font></i>
<a name='L1959'><i><font color='green'>   even parser modules. */</font></i>
<a name='L1960'>
<a name='L1961'><b>void</b>
<a name='L1962'><a href='../S/2695.html#L585' title='Refered from 585 in Modules/parsermodule.c.'>PyParser_SetError</a>(perrdetail *err)
<a name='L1963'><font color='red'>{</font>
<a name='L1964'>    <a href='../S/3138.html#L1970' title='Defined at 1970 in Python/pythonrun.c.'>err_input</a>(err);
<a name='L1965'><font color='red'>}</font>
<a name='L1966'>
<a name='L1967'><i><font color='green'>/* Set the error appropriate to the given input error code (see errcode.h) */</font></i>
<a name='L1968'>
<a name='L1969'><b>static</b> <b>void</b>
<a name='L1970'><a href='../R/7599.html' title='Multiple refered from 7 places.'>err_input</a>(perrdetail *err)
<a name='L1971'><font color='red'>{</font>
<a name='L1972'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v, *w, *errtype, *errtext;
<a name='L1973'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *msg_obj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1974'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *filename;
<a name='L1975'>    <b>char</b> *msg = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1976'>
<a name='L1977'>    errtype = PyExc_SyntaxError;
<a name='L1978'>    <b>switch</b> (err-&gt;<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>) <font color='red'>{</font>
<a name='L1979'>    <b>case</b> <a href='../S/521.html#L23' title='Defined at 23 in Include/errcode.h.'>E_ERROR</a>:
<a name='L1980'>        <b>return</b>;
<a name='L1981'>    <b>case</b> <a href='../S/521.html#L20' title='Defined at 20 in Include/errcode.h.'>E_SYNTAX</a>:
<a name='L1982'>        errtype = PyExc_IndentationError;
<a name='L1983'>        <b>if</b> (err-&gt;expected == <a href='../S/582.html#L17' title='Defined at 17 in Include/token.h.'>INDENT</a>)
<a name='L1984'>            msg = "expected an indented block";
<a name='L1985'>        <b>else</b> <b>if</b> (err-&gt;token == <a href='../S/582.html#L17' title='Defined at 17 in Include/token.h.'>INDENT</a>)
<a name='L1986'>            msg = "unexpected indent";
<a name='L1987'>        <b>else</b> <b>if</b> (err-&gt;token == <a href='../S/582.html#L18' title='Defined at 18 in Include/token.h.'>DEDENT</a>)
<a name='L1988'>            msg = "unexpected unindent";
<a name='L1989'>        <b>else</b> <font color='red'>{</font>
<a name='L1990'>            errtype = PyExc_SyntaxError;
<a name='L1991'>            msg = "invalid syntax";
<a name='L1992'>        <font color='red'>}</font>
<a name='L1993'>        <b>break</b>;
<a name='L1994'>    <b>case</b> <a href='../S/521.html#L19' title='Defined at 19 in Include/errcode.h.'>E_TOKEN</a>:
<a name='L1995'>        msg = "invalid token";
<a name='L1996'>        <b>break</b>;
<a name='L1997'>    <b>case</b> <a href='../S/521.html#L29' title='Defined at 29 in Include/errcode.h.'>E_EOFS</a>:
<a name='L1998'>        msg = "EOF while scanning triple-quoted string literal";
<a name='L1999'>        <b>break</b>;
<a name='L2000'>    <b>case</b> <a href='../S/521.html#L30' title='Defined at 30 in Include/errcode.h.'>E_EOLS</a>:
<a name='L2001'>        msg = "EOL while scanning string literal";
<a name='L2002'>        <b>break</b>;
<a name='L2003'>    <b>case</b> <a href='../S/521.html#L18' title='Defined at 18 in Include/errcode.h.'>E_INTR</a>:
<a name='L2004'>        <b>if</b> (!<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L2005'>            <a href='../S/3106.html#L116' title='Defined at 116 in Python/errors.c.'>PyErr_SetNone</a>(PyExc_KeyboardInterrupt);
<a name='L2006'>        <b>goto</b> cleanup;
<a name='L2007'>    <b>case</b> <a href='../S/521.html#L21' title='Defined at 21 in Include/errcode.h.'>E_NOMEM</a>:
<a name='L2008'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L2009'>        <b>goto</b> cleanup;
<a name='L2010'>    <b>case</b> <a href='../S/521.html#L17' title='Defined at 17 in Include/errcode.h.'>E_EOF</a>:
<a name='L2011'>        msg = "unexpected EOF while parsing";
<a name='L2012'>        <b>break</b>;
<a name='L2013'>    <b>case</b> <a href='../S/521.html#L24' title='Defined at 24 in Include/errcode.h.'>E_TABSPACE</a>:
<a name='L2014'>        errtype = PyExc_TabError;
<a name='L2015'>        msg = "inconsistent use of tabs and spaces in indentation";
<a name='L2016'>        <b>break</b>;
<a name='L2017'>    <b>case</b> <a href='../S/521.html#L25' title='Defined at 25 in Include/errcode.h.'>E_OVERFLOW</a>:
<a name='L2018'>        msg = "expression too long";
<a name='L2019'>        <b>break</b>;
<a name='L2020'>    <b>case</b> <a href='../S/521.html#L27' title='Defined at 27 in Include/errcode.h.'>E_DEDENT</a>:
<a name='L2021'>        errtype = PyExc_IndentationError;
<a name='L2022'>        msg = "unindent does not match any outer indentation level";
<a name='L2023'>        <b>break</b>;
<a name='L2024'>    <b>case</b> <a href='../S/521.html#L26' title='Defined at 26 in Include/errcode.h.'>E_TOODEEP</a>:
<a name='L2025'>        errtype = PyExc_IndentationError;
<a name='L2026'>        msg = "too many levels of indentation";
<a name='L2027'>        <b>break</b>;
<a name='L2028'>    <b>case</b> <a href='../S/521.html#L28' title='Defined at 28 in Include/errcode.h.'>E_DECODE</a>: <font color='red'>{</font>
<a name='L2029'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *type, *<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, *tb;
<a name='L2030'>        <a href='../S/3106.html#L304' title='Defined at 304 in Python/errors.c.'>PyErr_Fetch</a>(&amp;type, &amp;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>, &amp;tb);
<a name='L2031'>        msg = "unknown decode error";
<a name='L2032'>        <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2033'>            msg_obj = <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L2034'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(type);
<a name='L2035'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L2036'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(tb);
<a name='L2037'>        <b>break</b>;
<a name='L2038'>    <font color='red'>}</font>
<a name='L2039'>    <b>case</b> <a href='../S/521.html#L31' title='Defined at 31 in Include/errcode.h.'>E_LINECONT</a>:
<a name='L2040'>        msg = "unexpected character after line continuation character";
<a name='L2041'>        <b>break</b>;
<a name='L2042'>
<a name='L2043'>    <b>case</b> <a href='../S/521.html#L32' title='Defined at 32 in Include/errcode.h.'>E_IDENTIFIER</a>:
<a name='L2044'>        msg = "invalid character in identifier";
<a name='L2045'>        <b>break</b>;
<a name='L2046'>    <b>default</b>:
<a name='L2047'>        fprintf(stderr, "error=%d\n", err-&gt;<a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>);
<a name='L2048'>        msg = "unknown parsing error";
<a name='L2049'>        <b>break</b>;
<a name='L2050'>    <font color='red'>}</font>
<a name='L2051'>    <i><font color='green'>/* err-&gt;text may not be UTF-8 in case of decoding errors.</font></i>
<a name='L2052'><i><font color='green'>       Explicitly convert to an object. */</font></i>
<a name='L2053'>    <b>if</b> (!err-&gt;text) <font color='red'>{</font>
<a name='L2054'>        errtext = Py_None;
<a name='L2055'>        Py_INCREF(Py_None);
<a name='L2056'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2057'>        errtext = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(err-&gt;text, strlen(err-&gt;text),
<a name='L2058'>                                       "replace");
<a name='L2059'>    <font color='red'>}</font>
<a name='L2060'>    <b>if</b> (err-&gt;filename != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2061'>        filename = <a href='../D/3975.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeFSDefault</a>(err-&gt;filename);
<a name='L2062'>    <b>else</b> <font color='red'>{</font>
<a name='L2063'>        Py_INCREF(Py_None);
<a name='L2064'>        filename = Py_None;
<a name='L2065'>    <font color='red'>}</font>
<a name='L2066'>    <b>if</b> (filename != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2067'>        v = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(NiiN)", filename,
<a name='L2068'>                          err-&gt;lineno, err-&gt;offset, errtext);
<a name='L2069'>    <b>else</b>
<a name='L2070'>        v = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2071'>    <b>if</b> (v != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2072'>        <b>if</b> (msg_obj)
<a name='L2073'>            w = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(OO)", msg_obj, v);
<a name='L2074'>        <b>else</b>
<a name='L2075'>            w = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(sO)", msg, v);
<a name='L2076'>    <font color='red'>}</font> <b>else</b>
<a name='L2077'>        w = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2078'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(v);
<a name='L2079'>    <a href='../S/3106.html#L53' title='Defined at 53 in Python/errors.c.'>PyErr_SetObject</a>(errtype, w);
<a name='L2080'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(w);
<a name='L2081'>cleanup:
<a name='L2082'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(msg_obj);
<a name='L2083'>    <b>if</b> (err-&gt;text != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2084'>        PyObject_FREE(err-&gt;text);
<a name='L2085'>        err-&gt;text = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2086'>    <font color='red'>}</font>
<a name='L2087'><font color='red'>}</font>
<a name='L2088'>
<a name='L2089'><i><font color='green'>/* Print fatal error message and abort */</font></i>
<a name='L2090'>
<a name='L2091'><b>void</b>
<a name='L2092'><a href='../R/3695.html' title='Multiple refered from 214 places.'>Py_FatalError</a>(<b>const</b> <b>char</b> *msg)
<a name='L2093'><font color='red'>{</font>
<a name='L2094'>    fprintf(stderr, "Fatal Python error: %s\n", msg);
<a name='L2095'>    fflush(stderr); <i><font color='green'>/* it helps in Windows debug build */</font></i>
<a name='L2096'>    <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L2097'>        <a href='../S/3138.html#L1431' title='Defined at 1431 in Python/pythonrun.c.'>PyErr_PrintEx</a>(0);
<a name='L2098'>    <font color='red'>}</font>
<a name='L2099'><font color='darkred'>#ifdef</font> <a href='../S/2906.html#L81' title='Defined at 81 in PC/pyconfig.h.'>MS_WINDOWS</a>
<a name='L2100'>    <font color='red'>{</font>
<a name='L2101'>        <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> len = strlen(msg);
<a name='L2102'>        WCHAR* <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>;
<a name='L2103'>        <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> i;
<a name='L2104'>
<a name='L2105'>        <i><font color='green'>/* Convert the message to wchar_t. This uses a simple one-to-one</font></i>
<a name='L2106'><i><font color='green'>        conversion, assuming that the this error message actually uses ASCII</font></i>
<a name='L2107'><i><font color='green'>        only. If this ceases to be true, we will have to convert. */</font></i>
<a name='L2108'>        <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> = <a href='../D/6714.html' title='Multiple defined in 6 places.'>alloca</a>( (len+1) * (<b>sizeof</b> *<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>));
<a name='L2109'>        <b>for</b>( i=0; i&lt;=len; ++i)
<a name='L2110'>            <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>[i] = msg[i];
<a name='L2111'>        OutputDebugStringW(L"Fatal Python error: ");
<a name='L2112'>        OutputDebugStringW(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>);
<a name='L2113'>        OutputDebugStringW(L"\n");
<a name='L2114'>    <font color='red'>}</font>
<a name='L2115'><font color='darkred'>#ifdef</font> _DEBUG
<a name='L2116'>    DebugBreak();
<a name='L2117'><font color='darkred'>#endif</font>
<a name='L2118'><font color='darkred'>#endif</font> <i><font color='green'>/* MS_WINDOWS */</font></i>
<a name='L2119'>    <a href='../S/2520.html#L152' title='Defined at 152 in Modules/_ctypes/libffi_arm_wince/fficonfig.h.'>abort</a>();
<a name='L2120'><font color='red'>}</font>
<a name='L2121'>
<a name='L2122'><i><font color='green'>/* Clean up and exit */</font></i>
<a name='L2123'>
<a name='L2124'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2125'><font color='darkred'>#include</font> "<a href='572.html'>pythread.h</a>"
<a name='L2126'><font color='darkred'>#endif</font>
<a name='L2127'>
<a name='L2128'><b>static</b> <b>void</b> (*pyexitfunc)(<b>void</b>) = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2129'><i><font color='green'>/* For the atexit module. */</font></i>
<a name='L2130'><b>void</b> <a href='../S/2623.html#L299' title='Refered from 299 in Modules/atexitmodule.c.'>_Py_PyAtExit</a>(<b>void</b> (*func)(<b>void</b>))
<a name='L2131'><font color='red'>{</font>
<a name='L2132'>    pyexitfunc = func;
<a name='L2133'><font color='red'>}</font>
<a name='L2134'>
<a name='L2135'><b>static</b> <b>void</b>
<a name='L2136'><a href='../R/6560.html' title='Multiple refered from 2 places.'>call_py_exitfuncs</a>(<b>void</b>)
<a name='L2137'><font color='red'>{</font>
<a name='L2138'>    <b>if</b> (pyexitfunc == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2139'>        <b>return</b>;
<a name='L2140'>
<a name='L2141'>    (*pyexitfunc)();
<a name='L2142'>    <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L2143'><font color='red'>}</font>
<a name='L2144'>
<a name='L2145'><i><font color='green'>/* Wait until threading._shutdown completes, provided</font></i>
<a name='L2146'><i><font color='green'>   the threading module was imported in the first place.</font></i>
<a name='L2147'><i><font color='green'>   The shutdown routine will wait until all non-daemon</font></i>
<a name='L2148'><i><font color='green'>   "threading" threads have completed. */</font></i>
<a name='L2149'><b>static</b> <b>void</b>
<a name='L2150'><a href='../R/11381.html' title='Multiple refered from 2 places.'>wait_for_thread_shutdown</a>(<b>void</b>)
<a name='L2151'><font color='red'>{</font>
<a name='L2152'><font color='darkred'>#ifdef</font> <a href='../D/5537.html' title='Multiple defined in 3 places.'>WITH_THREAD</a>
<a name='L2153'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2154'>    <a href='../D/3832.html' title='Multiple defined in 2 places.'>PyThreadState</a> *tstate = <a href='../S/509.html#L90' title='Defined at 90 in Include/ceval.h.'>PyThreadState_GET</a>();
<a name='L2155'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *threading = <a href='../S/2775.html#L2020' title='Defined at 2020 in Objects/abstract.c.'>PyMapping_GetItemString</a>(tstate-&gt;interp-&gt;modules,
<a name='L2156'>                                                  "threading");
<a name='L2157'>    <b>if</b> (threading == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2158'>        <i><font color='green'>/* threading not imported */</font></i>
<a name='L2159'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L2160'>        <b>return</b>;
<a name='L2161'>    <font color='red'>}</font>
<a name='L2162'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(threading, "_shutdown", "");
<a name='L2163'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2164'>        <a href='../S/3106.html#L708' title='Defined at 708 in Python/errors.c.'>PyErr_WriteUnraisable</a>(threading);
<a name='L2165'>    <font color='red'>}</font>
<a name='L2166'>    <b>else</b> <font color='red'>{</font>
<a name='L2167'>        Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2168'>    <font color='red'>}</font>
<a name='L2169'>    Py_DECREF(threading);
<a name='L2170'><font color='darkred'>#endif</font>
<a name='L2171'><font color='red'>}</font>
<a name='L2172'>
<a name='L2173'><font color='darkred'>#define</font> <a href='../R/2076.html' title='Multiple refered from 2 places.'>NEXITFUNCS</a> 32
<a name='L2174'><b>static</b> <b>void</b> (*exitfuncs[<a href='../S/3138.html#L2173' title='Defined at 2173 in Python/pythonrun.c.'>NEXITFUNCS</a>])(<b>void</b>);
<a name='L2175'><b>static</b> <b>int</b> nexitfuncs = 0;
<a name='L2176'>
<a name='L2177'><b>int</b> <a href='../R/3650.html' title='Multiple refered from 6 places.'>Py_AtExit</a>(<b>void</b> (*func)(<b>void</b>))
<a name='L2178'><font color='red'>{</font>
<a name='L2179'>    <b>if</b> (nexitfuncs &gt;= <a href='../S/3138.html#L2173' title='Defined at 2173 in Python/pythonrun.c.'>NEXITFUNCS</a>)
<a name='L2180'>        <b>return</b> -1;
<a name='L2181'>    exitfuncs[nexitfuncs++] = func;
<a name='L2182'>    <b>return</b> 0;
<a name='L2183'><font color='red'>}</font>
<a name='L2184'>
<a name='L2185'><b>static</b> <b>void</b>
<a name='L2186'><a href='../R/6557.html' title='Multiple refered from 2 places.'>call_ll_exitfuncs</a>(<b>void</b>)
<a name='L2187'><font color='red'>{</font>
<a name='L2188'>    <b>while</b> (nexitfuncs &gt; 0)
<a name='L2189'>        (*exitfuncs[--nexitfuncs])();
<a name='L2190'>
<a name='L2191'>    fflush(stdout);
<a name='L2192'>    fflush(stderr);
<a name='L2193'><font color='red'>}</font>
<a name='L2194'>
<a name='L2195'><b>void</b>
<a name='L2196'><a href='../R/3689.html' title='Multiple refered from 11 places.'>Py_Exit</a>(<b>int</b> sts)
<a name='L2197'><font color='red'>{</font>
<a name='L2198'>    <a href='../S/3138.html#L370' title='Defined at 370 in Python/pythonrun.c.'>Py_Finalize</a>();
<a name='L2199'>
<a name='L2200'>    exit(sts);
<a name='L2201'><font color='red'>}</font>
<a name='L2202'>
<a name='L2203'><b>static</b> <b>void</b>
<a name='L2204'><a href='../R/8400.html' title='Multiple refered from 2 places.'>initsigs</a>(<b>void</b>)
<a name='L2205'><font color='red'>{</font>
<a name='L2206'><font color='darkred'>#ifdef</font> SIGPIPE
<a name='L2207'>    <a href='../S/3138.html#L2339' title='Defined at 2339 in Python/pythonrun.c.'>PyOS_setsig</a>(SIGPIPE, SIG_IGN);
<a name='L2208'><font color='darkred'>#endif</font>
<a name='L2209'><font color='darkred'>#ifdef</font> SIGXFZ
<a name='L2210'>    <a href='../S/3138.html#L2339' title='Defined at 2339 in Python/pythonrun.c.'>PyOS_setsig</a>(SIGXFZ, SIG_IGN);
<a name='L2211'><font color='darkred'>#endif</font>
<a name='L2212'><font color='darkred'>#ifdef</font> SIGXFSZ
<a name='L2213'>    <a href='../S/3138.html#L2339' title='Defined at 2339 in Python/pythonrun.c.'>PyOS_setsig</a>(SIGXFSZ, SIG_IGN);
<a name='L2214'><font color='darkred'>#endif</font>
<a name='L2215'>    <a href='../D/3580.html' title='Multiple defined in 5 places.'>PyOS_InitInterrupts</a>(); <i><font color='green'>/* May imply initsignal() */</font></i>
<a name='L2216'><font color='red'>}</font>
<a name='L2217'>
<a name='L2218'>
<a name='L2219'><i><font color='green'>/* Restore signals that the interpreter has called SIG_IGN on to SIG_DFL.</font></i>
<a name='L2220'><i><font color='green'> *</font></i>
<a name='L2221'><i><font color='green'> * All of the code in this function must only use async-signal-safe functions,</font></i>
<a name='L2222'><i><font color='green'> * listed at `man 7 signal` or</font></i>
<a name='L2223'><i><font color='green'> * http://www.opengroup.org/onlinepubs/009695399/functions/xsh_chap02_04.html.</font></i>
<a name='L2224'><i><font color='green'> */</font></i>
<a name='L2225'><b>void</b>
<a name='L2226'><a href='../S/2589.html#L141' title='Refered from 141 in Modules/_posixsubprocess.c.'>_Py_RestoreSignals</a>(<b>void</b>)
<a name='L2227'><font color='red'>{</font>
<a name='L2228'><font color='darkred'>#ifdef</font> SIGPIPE
<a name='L2229'>    <a href='../S/3138.html#L2339' title='Defined at 2339 in Python/pythonrun.c.'>PyOS_setsig</a>(SIGPIPE, SIG_DFL);
<a name='L2230'><font color='darkred'>#endif</font>
<a name='L2231'><font color='darkred'>#ifdef</font> SIGXFZ
<a name='L2232'>    <a href='../S/3138.html#L2339' title='Defined at 2339 in Python/pythonrun.c.'>PyOS_setsig</a>(SIGXFZ, SIG_DFL);
<a name='L2233'><font color='darkred'>#endif</font>
<a name='L2234'><font color='darkred'>#ifdef</font> SIGXFSZ
<a name='L2235'>    <a href='../S/3138.html#L2339' title='Defined at 2339 in Python/pythonrun.c.'>PyOS_setsig</a>(SIGXFSZ, SIG_DFL);
<a name='L2236'><font color='darkred'>#endif</font>
<a name='L2237'><font color='red'>}</font>
<a name='L2238'>
<a name='L2239'>
<a name='L2240'><i><font color='green'>/*</font></i>
<a name='L2241'><i><font color='green'> * The file descriptor fd is considered ``interactive'' if either</font></i>
<a name='L2242'><i><font color='green'> *   a) isatty(fd) is TRUE, or</font></i>
<a name='L2243'><i><font color='green'> *   b) the -i flag was given, and the filename associated with</font></i>
<a name='L2244'><i><font color='green'> *      the descriptor is NULL or "&lt;stdin&gt;" or "???".</font></i>
<a name='L2245'><i><font color='green'> */</font></i>
<a name='L2246'><b>int</b>
<a name='L2247'><a href='../R/3696.html' title='Multiple refered from 2 places.'>Py_FdIsInteractive</a>(FILE *fp, <b>const</b> <b>char</b> *filename)
<a name='L2248'><font color='red'>{</font>
<a name='L2249'>    <b>if</b> (isatty((<b>int</b>)<a href='../S/2759.html#L50' title='Defined at 50 in Modules/zlib/minigzip.c.'>fileno</a>(fp)))
<a name='L2250'>        <b>return</b> 1;
<a name='L2251'>    <b>if</b> (!Py_InteractiveFlag)
<a name='L2252'>        <b>return</b> 0;
<a name='L2253'>    <b>return</b> (filename == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) ||
<a name='L2254'>           (strcmp(filename, "&lt;stdin&gt;") == 0) ||
<a name='L2255'>           (strcmp(filename, "???") == 0);
<a name='L2256'><font color='red'>}</font>
<a name='L2257'>
<a name='L2258'>
<a name='L2259'><font color='darkred'>#if</font> <b>defined</b>(USE_STACKCHECK)
<a name='L2260'><font color='darkred'>#if</font> <b>defined</b>(<a href='../D/5523.html' title='Multiple defined in 3 places.'>WIN32</a>) &amp;&amp; <b>defined</b>(_MSC_VER)
<a name='L2261'>
<a name='L2262'><i><font color='green'>/* Stack checking for Microsoft C */</font></i>
<a name='L2263'>
<a name='L2264'><font color='darkred'>#include</font> &lt;malloc.h&gt;
<a name='L2265'><font color='darkred'>#include</font> &lt;excpt.h&gt;
<a name='L2266'>
<a name='L2267'><i><font color='green'>/*</font></i>
<a name='L2268'><i><font color='green'> * Return non-zero when we run out of memory on the stack; zero otherwise.</font></i>
<a name='L2269'><i><font color='green'> */</font></i>
<a name='L2270'><b>int</b>
<a name='L2271'><a href='../R/3228.html' title='Multiple refered from 4 places.'>PyOS_CheckStack</a>(<b>void</b>)
<a name='L2272'><font color='red'>{</font>
<a name='L2273'>    __try <font color='red'>{</font>
<a name='L2274'>        <i><font color='green'>/* alloca throws a stack overflow exception if there's</font></i>
<a name='L2275'><i><font color='green'>           not enough space left on the stack */</font></i>
<a name='L2276'>        <a href='../D/6714.html' title='Multiple defined in 6 places.'>alloca</a>(PYOS_STACK_MARGIN * <b>sizeof</b>(<b>void</b>*));
<a name='L2277'>        <b>return</b> 0;
<a name='L2278'>    <font color='red'>}</font> __except (GetExceptionCode() == STATUS_STACK_OVERFLOW ?
<a name='L2279'>                    EXCEPTION_EXECUTE_HANDLER :
<a name='L2280'>            EXCEPTION_CONTINUE_SEARCH) <font color='red'>{</font>
<a name='L2281'>        <b>int</b> errcode = _resetstkoflw();
<a name='L2282'>        <b>if</b> (errcode == 0)
<a name='L2283'>        <font color='red'>{</font>
<a name='L2284'>            <a href='../D/4129.html' title='Multiple defined in 2 places.'>Py_FatalError</a>("Could not reset the stack!");
<a name='L2285'>        <font color='red'>}</font>
<a name='L2286'>    <font color='red'>}</font>
<a name='L2287'>    <b>return</b> 1;
<a name='L2288'><font color='red'>}</font>
<a name='L2289'>
<a name='L2290'><font color='darkred'>#endif</font> <i><font color='green'>/* WIN32 &amp;&amp; _MSC_VER */</font></i>
<a name='L2291'>
<a name='L2292'><i><font color='green'>/* Alternate implementations can be added here... */</font></i>
<a name='L2293'>
<a name='L2294'><font color='darkred'>#endif</font> <i><font color='green'>/* USE_STACKCHECK */</font></i>
<a name='L2295'>
<a name='L2296'>
<a name='L2297'><i><font color='green'>/* Wrappers around sigaction() or signal(). */</font></i>
<a name='L2298'>
<a name='L2299'>PyOS_sighandler_t
<a name='L2300'><a href='../S/2710.html#L606' title='Refered from 606 in Modules/signalmodule.c.'>PyOS_getsig</a>(<b>int</b> sig)
<a name='L2301'><font color='red'>{</font>
<a name='L2302'><font color='darkred'>#ifdef</font> <a href='../S/2894.html#L234' title='Defined at 234 in PC/os2emx/pyconfig.h.'>HAVE_SIGACTION</a>
<a name='L2303'>    <b>struct</b> sigaction context;
<a name='L2304'>    <b>if</b> (sigaction(sig, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, &amp;context) == -1)
<a name='L2305'>        <b>return</b> <a href='../S/2710.html#L26' title='Defined at 26 in Modules/signalmodule.c.'>SIG_ERR</a>;
<a name='L2306'>    <b>return</b> context.sa_handler;
<a name='L2307'><font color='darkred'>#else</font>
<a name='L2308'>    PyOS_sighandler_t handler;
<a name='L2309'><i><font color='green'>/* Special signal handling for the secure CRT in Visual Studio 2005 */</font></i>
<a name='L2310'><font color='darkred'>#if</font> <b>defined</b>(_MSC_VER) &amp;&amp; _MSC_VER &gt;= 1400
<a name='L2311'>    <b>switch</b> (sig) <font color='red'>{</font>
<a name='L2312'>    <i><font color='green'>/* Only these signals are valid */</font></i>
<a name='L2313'>    <b>case</b> SIGINT:
<a name='L2314'>    <b>case</b> SIGILL:
<a name='L2315'>    <b>case</b> SIGFPE:
<a name='L2316'>    <b>case</b> SIGSEGV:
<a name='L2317'>    <b>case</b> SIGTERM:
<a name='L2318'>    <b>case</b> SIGBREAK:
<a name='L2319'>    <b>case</b> SIGABRT:
<a name='L2320'>        <b>break</b>;
<a name='L2321'>    <i><font color='green'>/* Don't call signal() with other values or it will assert */</font></i>
<a name='L2322'>    <b>default</b>:
<a name='L2323'>        <b>return</b> <a href='../S/2710.html#L26' title='Defined at 26 in Modules/signalmodule.c.'>SIG_ERR</a>;
<a name='L2324'>    <font color='red'>}</font>
<a name='L2325'><font color='darkred'>#endif</font> <i><font color='green'>/* _MSC_VER &amp;&amp; _MSC_VER &gt;= 1400 */</font></i>
<a name='L2326'>    handler = signal(sig, SIG_IGN);
<a name='L2327'>    <b>if</b> (handler != <a href='../S/2710.html#L26' title='Defined at 26 in Modules/signalmodule.c.'>SIG_ERR</a>)
<a name='L2328'>        signal(sig, handler);
<a name='L2329'>    <b>return</b> handler;
<a name='L2330'><font color='darkred'>#endif</font>
<a name='L2331'><font color='red'>}</font>
<a name='L2332'>
<a name='L2333'><i><font color='green'>/*</font></i>
<a name='L2334'><i><font color='green'> * All of the code in this function must only use async-signal-safe functions,</font></i>
<a name='L2335'><i><font color='green'> * listed at `man 7 signal` or</font></i>
<a name='L2336'><i><font color='green'> * http://www.opengroup.org/onlinepubs/009695399/functions/xsh_chap02_04.html.</font></i>
<a name='L2337'><i><font color='green'> */</font></i>
<a name='L2338'>PyOS_sighandler_t
<a name='L2339'><a href='../R/3235.html' title='Multiple refered from 34 places.'>PyOS_setsig</a>(<b>int</b> sig, PyOS_sighandler_t handler)
<a name='L2340'><font color='red'>{</font>
<a name='L2341'><font color='darkred'>#ifdef</font> <a href='../S/2894.html#L234' title='Defined at 234 in PC/os2emx/pyconfig.h.'>HAVE_SIGACTION</a>
<a name='L2342'>    <i><font color='green'>/* Some code in Modules/signalmodule.c depends on sigaction() being</font></i>
<a name='L2343'><i><font color='green'>     * used here if HAVE_SIGACTION is defined.  Fix that if this code</font></i>
<a name='L2344'><i><font color='green'>     * changes to invalidate that assumption.</font></i>
<a name='L2345'><i><font color='green'>     */</font></i>
<a name='L2346'>    <b>struct</b> sigaction context, ocontext;
<a name='L2347'>    context.sa_handler = handler;
<a name='L2348'>    sigemptyset(&amp;context.sa_mask);
<a name='L2349'>    context.sa_flags = 0;
<a name='L2350'>    <b>if</b> (sigaction(sig, &amp;context, &amp;ocontext) == -1)
<a name='L2351'>        <b>return</b> <a href='../S/2710.html#L26' title='Defined at 26 in Modules/signalmodule.c.'>SIG_ERR</a>;
<a name='L2352'>    <b>return</b> ocontext.sa_handler;
<a name='L2353'><font color='darkred'>#else</font>
<a name='L2354'>    PyOS_sighandler_t oldhandler;
<a name='L2355'>    oldhandler = signal(sig, handler);
<a name='L2356'><font color='darkred'>#ifdef</font> HAVE_SIGINTERRUPT
<a name='L2357'>    siginterrupt(sig, 1);
<a name='L2358'><font color='darkred'>#endif</font>
<a name='L2359'>    <b>return</b> oldhandler;
<a name='L2360'><font color='darkred'>#endif</font>
<a name='L2361'><font color='red'>}</font>
<a name='L2362'>
<a name='L2363'><i><font color='green'>/* Deprecated C API functions still provided for binary compatiblity */</font></i>
<a name='L2364'>
<a name='L2365'><font color='darkred'>#undef</font> PyParser_SimpleParseFile
<a name='L2366'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(node *)
<a name='L2367'>PyParser_SimpleParseFile(FILE *fp, <b>const</b> <b>char</b> *filename, <b>int</b> start)
<a name='L2368'><font color='red'>{</font>
<a name='L2369'>    <b>return</b> <a href='../S/3138.html#L1915' title='Defined at 1915 in Python/pythonrun.c.'>PyParser_SimpleParseFileFlags</a>(fp, filename, start, 0);
<a name='L2370'><font color='red'>}</font>
<a name='L2371'>
<a name='L2372'><font color='darkred'>#undef</font> <a href='../S/571.html#L78' title='Refered from 78 in Include/pythonrun.h.'>PyParser_SimpleParseString</a>
<a name='L2373'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(node *)
<a name='L2374'>PyParser_SimpleParseString(<b>const</b> <b>char</b> *str, <b>int</b> start)
<a name='L2375'><font color='red'>{</font>
<a name='L2376'>    <b>return</b> <a href='../S/3138.html#L1930' title='Defined at 1930 in Python/pythonrun.c.'>PyParser_SimpleParseStringFlags</a>(str, start, 0);
<a name='L2377'><font color='red'>}</font>
<a name='L2378'>
<a name='L2379'><font color='darkred'>#undef</font> <a href='../S/3110.html#L98' title='Refered from 98 in Python/frozenmain.c.'>PyRun_AnyFile</a>
<a name='L2380'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(<b>int</b>)
<a name='L2381'>PyRun_AnyFile(FILE *fp, <b>const</b> <b>char</b> *name)
<a name='L2382'><font color='red'>{</font>
<a name='L2383'>    <b>return</b> <a href='../S/3138.html#L1001' title='Defined at 1001 in Python/pythonrun.c.'>PyRun_AnyFileExFlags</a>(fp, name, 0, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2384'><font color='red'>}</font>
<a name='L2385'>
<a name='L2386'><font color='darkred'>#undef</font> PyRun_AnyFileEx
<a name='L2387'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(<b>int</b>)
<a name='L2388'>PyRun_AnyFileEx(FILE *fp, <b>const</b> <b>char</b> *name, <b>int</b> closeit)
<a name='L2389'><font color='red'>{</font>
<a name='L2390'>    <b>return</b> <a href='../S/3138.html#L1001' title='Defined at 1001 in Python/pythonrun.c.'>PyRun_AnyFileExFlags</a>(fp, name, closeit, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2391'><font color='red'>}</font>
<a name='L2392'>
<a name='L2393'><font color='darkred'>#undef</font> <a href='../S/2686.html#L708' title='Refered from 708 in Modules/main.c.'>PyRun_AnyFileFlags</a>
<a name='L2394'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(<b>int</b>)
<a name='L2395'>PyRun_AnyFileFlags(FILE *fp, <b>const</b> <b>char</b> *name, PyCompilerFlags *flags)
<a name='L2396'><font color='red'>{</font>
<a name='L2397'>    <b>return</b> <a href='../S/3138.html#L1001' title='Defined at 1001 in Python/pythonrun.c.'>PyRun_AnyFileExFlags</a>(fp, name, 0, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L2398'><font color='red'>}</font>
<a name='L2399'>
<a name='L2400'><font color='darkred'>#undef</font> PyRun_File
<a name='L2401'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(PyObject *)
<a name='L2402'>PyRun_File(FILE *fp, <b>const</b> <b>char</b> *p, <b>int</b> s, PyObject *g, PyObject *l)
<a name='L2403'><font color='red'>{</font>
<a name='L2404'>    <b>return</b> <a href='../S/3138.html#L1700' title='Defined at 1700 in Python/pythonrun.c.'>PyRun_FileExFlags</a>(fp, p, s, g, l, 0, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2405'><font color='red'>}</font>
<a name='L2406'>
<a name='L2407'><font color='darkred'>#undef</font> PyRun_FileEx
<a name='L2408'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(PyObject *)
<a name='L2409'>PyRun_FileEx(FILE *fp, <b>const</b> <b>char</b> *p, <b>int</b> s, PyObject *g, PyObject *l, <b>int</b> c)
<a name='L2410'><font color='red'>{</font>
<a name='L2411'>    <b>return</b> <a href='../S/3138.html#L1700' title='Defined at 1700 in Python/pythonrun.c.'>PyRun_FileExFlags</a>(fp, p, s, g, l, c, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2412'><font color='red'>}</font>
<a name='L2413'>
<a name='L2414'><font color='darkred'>#undef</font> PyRun_FileFlags
<a name='L2415'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(PyObject *)
<a name='L2416'>PyRun_FileFlags(FILE *fp, <b>const</b> <b>char</b> *p, <b>int</b> s, PyObject *g, PyObject *l,
<a name='L2417'>                PyCompilerFlags *flags)
<a name='L2418'><font color='red'>{</font>
<a name='L2419'>    <b>return</b> <a href='../S/3138.html#L1700' title='Defined at 1700 in Python/pythonrun.c.'>PyRun_FileExFlags</a>(fp, p, s, g, l, 0, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L2420'><font color='red'>}</font>
<a name='L2421'>
<a name='L2422'><font color='darkred'>#undef</font> PyRun_SimpleFile
<a name='L2423'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(<b>int</b>)
<a name='L2424'>PyRun_SimpleFile(FILE *f, <b>const</b> <b>char</b> *p)
<a name='L2425'><font color='red'>{</font>
<a name='L2426'>    <b>return</b> <a href='../S/3138.html#L1200' title='Defined at 1200 in Python/pythonrun.c.'>PyRun_SimpleFileExFlags</a>(f, p, 0, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2427'><font color='red'>}</font>
<a name='L2428'>
<a name='L2429'><font color='darkred'>#undef</font> PyRun_SimpleFileEx
<a name='L2430'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(<b>int</b>)
<a name='L2431'>PyRun_SimpleFileEx(FILE *f, <b>const</b> <b>char</b> *p, <b>int</b> c)
<a name='L2432'><font color='red'>{</font>
<a name='L2433'>    <b>return</b> <a href='../S/3138.html#L1200' title='Defined at 1200 in Python/pythonrun.c.'>PyRun_SimpleFileExFlags</a>(f, p, c, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2434'><font color='red'>}</font>
<a name='L2435'>
<a name='L2436'>
<a name='L2437'><font color='darkred'>#undef</font> <a href='../R/3338.html' title='Multiple refered from 2 places.'>PyRun_String</a>
<a name='L2438'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(PyObject *)
<a name='L2439'>PyRun_String(<b>const</b> <b>char</b> *str, <b>int</b> s, PyObject *g, PyObject *l)
<a name='L2440'><font color='red'>{</font>
<a name='L2441'>    <b>return</b> <a href='../S/3138.html#L1683' title='Defined at 1683 in Python/pythonrun.c.'>PyRun_StringFlags</a>(str, s, g, l, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2442'><font color='red'>}</font>
<a name='L2443'>
<a name='L2444'><font color='darkred'>#undef</font> <a href='../R/3336.html' title='Multiple refered from 12 places.'>PyRun_SimpleString</a>
<a name='L2445'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(<b>int</b>)
<a name='L2446'>PyRun_SimpleString(<b>const</b> <b>char</b> *s)
<a name='L2447'><font color='red'>{</font>
<a name='L2448'>    <b>return</b> <a href='../S/3138.html#L1260' title='Defined at 1260 in Python/pythonrun.c.'>PyRun_SimpleStringFlags</a>(s, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2449'><font color='red'>}</font>
<a name='L2450'>
<a name='L2451'><font color='darkred'>#undef</font> <a href='../S/2729.html#L1096' title='Refered from 1096 in Modules/zipimport.c.'>Py_CompileString</a>
<a name='L2452'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(PyObject *)
<a name='L2453'>Py_CompileString(<b>const</b> <b>char</b> *str, <b>const</b> <b>char</b> *p, <b>int</b> s)
<a name='L2454'><font color='red'>{</font>
<a name='L2455'>    <b>return</b> <a href='../S/3138.html#L1798' title='Defined at 1798 in Python/pythonrun.c.'>Py_CompileStringExFlags</a>(str, p, s, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, -1);
<a name='L2456'><font color='red'>}</font>
<a name='L2457'>
<a name='L2458'><font color='darkred'>#undef</font> <a href='../S/3138.html#L1827' title='Refered from 1827 in Python/pythonrun.c.'>Py_CompileStringFlags</a>
<a name='L2459'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(PyObject *)
<a name='L2460'>Py_CompileStringFlags(<b>const</b> <b>char</b> *str, <b>const</b> <b>char</b> *p, <b>int</b> s,
<a name='L2461'>                      PyCompilerFlags *flags)
<a name='L2462'><font color='red'>{</font>
<a name='L2463'>    <b>return</b> <a href='../S/3138.html#L1798' title='Defined at 1798 in Python/pythonrun.c.'>Py_CompileStringExFlags</a>(str, p, s, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>, -1);
<a name='L2464'><font color='red'>}</font>
<a name='L2465'>
<a name='L2466'><font color='darkred'>#undef</font> PyRun_InteractiveOne
<a name='L2467'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(<b>int</b>)
<a name='L2468'>PyRun_InteractiveOne(FILE *f, <b>const</b> <b>char</b> *p)
<a name='L2469'><font color='red'>{</font>
<a name='L2470'>    <b>return</b> <a href='../S/3138.html#L1074' title='Defined at 1074 in Python/pythonrun.c.'>PyRun_InteractiveOneFlags</a>(f, p, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2471'><font color='red'>}</font>
<a name='L2472'>
<a name='L2473'><font color='darkred'>#undef</font> PyRun_InteractiveLoop
<a name='L2474'><a href='../R/2475.html' title='Multiple refered from 87 places.'>PyAPI_FUNC</a>(<b>int</b>)
<a name='L2475'>PyRun_InteractiveLoop(FILE *f, <b>const</b> <b>char</b> *p)
<a name='L2476'><font color='red'>{</font>
<a name='L2477'>    <b>return</b> <a href='../S/3138.html#L1017' title='Defined at 1017 in Python/pythonrun.c.'>PyRun_InteractiveLoopFlags</a>(f, p, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2478'><font color='red'>}</font>
<a name='L2479'>
<a name='L2480'><font color='darkred'>#ifdef</font> __cplusplus
<a name='L2481'><font color='red'>}</font>
<a name='L2482'><font color='darkred'>#endif</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L96'>[^]</a><a href='#L2474'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
