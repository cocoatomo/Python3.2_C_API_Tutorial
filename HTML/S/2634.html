<html>
<head>
<title>Modules/cjkcodecs/cjkcodecs.h</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/<a href='../files/3388.html'>cjkcodecs</a>/cjkcodecs.h</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L245'>[^]</a><a href='#L357'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2><a href='../J/432.html' title='Multiple included from 6 places.'>INCLUDED FROM</a></h2>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L245' title='Defined at 245.'>getmultibytecodec</a>
<li><a href='#L260' title='Defined at 260.'>getcodec</a>
<li><a href='#L305' title='Defined at 305.'>register_maps</a>
<li><a href='#L323' title='Defined at 323.'>find_pairencmap</a>
<li><a href='#L357' title='Defined at 357.'>importmap</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*</font></i>
<a name='L2'><i><font color='green'> * cjkcodecs.h: common header for cjkcodecs</font></i>
<a name='L3'><i><font color='green'> *</font></i>
<a name='L4'><i><font color='green'> * Written by Hye-Shik Chang &lt;perky@FreeBSD.org&gt;</font></i>
<a name='L5'><i><font color='green'> */</font></i>
<a name='L6'>
<a name='L7'><font color='darkred'>#ifndef</font> <a href='../S/2634.html#L8' title='Defined at 8 in Modules/cjkcodecs/cjkcodecs.h.'>_CJKCODECS_H_</a>
<a name='L8'><font color='darkred'>#define</font> <a href='../S/2634.html#L7' title='Refered from 7 in Modules/cjkcodecs/cjkcodecs.h.'>_CJKCODECS_H_</a>
<a name='L9'>
<a name='L10'><font color='darkred'>#define</font> <a href='../R/2388.html' title='Multiple refered from 2 places.'>PY_SSIZE_T_CLEAN</a>
<a name='L11'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L12'><font color='darkred'>#include</font> "<a href='2643.html'>multibytecodec.h</a>"
<a name='L13'>
<a name='L14'>
<a name='L15'><i><font color='green'>/* a unicode "undefined" codepoint */</font></i>
<a name='L16'><font color='darkred'>#define</font> <a href='../R/4732.html' title='Multiple refered from 2 places.'>UNIINV</a>  0xFFFE
<a name='L17'>
<a name='L18'><i><font color='green'>/* internal-use DBCS codepoints which aren't used by any charsets */</font></i>
<a name='L19'><font color='darkred'>#define</font> <a href='../R/2098.html' title='Multiple refered from 6 places.'>NOCHAR</a>  0xFFFF
<a name='L20'><font color='darkred'>#define</font> <a href='../R/1988.html' title='Multiple refered from 5 places.'>MULTIC</a>  0xFFFE
<a name='L21'><font color='darkred'>#define</font> <a href='../R/680.html' title='Multiple refered from 11 places.'>DBCINV</a>  0xFFFD
<a name='L22'>
<a name='L23'><i><font color='green'>/* shorter macros to save source size of mapping tables */</font></i>
<a name='L24'><font color='darkred'>#define</font> <a href='../R/4707.html' title='Multiple refered from 1007 places.'>U</a> <a href='../S/2634.html#L16' title='Defined at 16 in Modules/cjkcodecs/cjkcodecs.h.'>UNIINV</a>
<a name='L25'><font color='darkred'>#define</font> <a href='../R/2045.html' title='Multiple refered from 6557 places.'>N</a> <a href='../S/2634.html#L19' title='Defined at 19 in Modules/cjkcodecs/cjkcodecs.h.'>NOCHAR</a>
<a name='L26'><font color='darkred'>#define</font> <a href='../R/1803.html' title='Multiple refered from 100 places.'>M</a> <a href='../S/2634.html#L20' title='Defined at 20 in Modules/cjkcodecs/cjkcodecs.h.'>MULTIC</a>
<a name='L27'><font color='darkred'>#define</font> <a href='../R/657.html' title='Multiple refered from 23 places.'>D</a> <a href='../S/2634.html#L21' title='Defined at 21 in Modules/cjkcodecs/cjkcodecs.h.'>DBCINV</a>
<a name='L28'>
<a name='L29'><b>struct</b> <a href='../R/7166.html' title='Multiple refered from 17 places.'>dbcs_index</a> <font color='red'>{</font>
<a name='L30'>    <b>const</b> <a href='../D/11930.html' title='Multiple defined in 2 places.'>ucs2_t</a> *map;
<a name='L31'>    <b>unsigned</b> <b>char</b> bottom, top;
<a name='L32'><font color='red'>}</font>;
<a name='L33'><b>typedef</b> <b>struct</b> <a href='../S/2634.html#L29' title='Defined at 29 in Modules/cjkcodecs/cjkcodecs.h.'>dbcs_index</a> <a href='../R/7196.html' title='Multiple refered from 2 places.'>decode_map</a>;
<a name='L34'>
<a name='L35'><b>struct</b> <a href='../R/11402.html' title='Multiple refered from 3 places.'>widedbcs_index</a> <font color='red'>{</font>
<a name='L36'>    <b>const</b> <a href='../D/11931.html' title='Multiple defined in 2 places.'>ucs4_t</a> *map;
<a name='L37'>    <b>unsigned</b> <b>char</b> bottom, top;
<a name='L38'><font color='red'>}</font>;
<a name='L39'><b>typedef</b> <b>struct</b> <a href='../S/2634.html#L35' title='Defined at 35 in Modules/cjkcodecs/cjkcodecs.h.'>widedbcs_index</a> widedecode_map;
<a name='L40'>
<a name='L41'><b>struct</b> <a href='../R/11151.html' title='Multiple refered from 13 places.'>unim_index</a> <font color='red'>{</font>
<a name='L42'>    <b>const</b> <a href='../D/725.html' title='Multiple defined in 2 places.'>DBCHAR</a> *map;
<a name='L43'>    <b>unsigned</b> <b>char</b> bottom, top;
<a name='L44'><font color='red'>}</font>;
<a name='L45'><b>typedef</b> <b>struct</b> <a href='../S/2634.html#L41' title='Defined at 41 in Modules/cjkcodecs/cjkcodecs.h.'>unim_index</a> <a href='../R/7544.html' title='Multiple refered from 2 places.'>encode_map</a>;
<a name='L46'>
<a name='L47'><b>struct</b> unim_index_bytebased <font color='red'>{</font>
<a name='L48'>    <b>const</b> <b>unsigned</b> <b>char</b> *map;
<a name='L49'>    <b>unsigned</b> <b>char</b> bottom, top;
<a name='L50'><font color='red'>}</font>;
<a name='L51'>
<a name='L52'><b>struct</b> <a href='../R/7167.html' title='Multiple refered from 6 places.'>dbcs_map</a> <font color='red'>{</font>
<a name='L53'>    <b>const</b> <b>char</b> *charset;
<a name='L54'>    <b>const</b> <b>struct</b> <a href='../S/2634.html#L41' title='Defined at 41 in Modules/cjkcodecs/cjkcodecs.h.'>unim_index</a> *encmap;
<a name='L55'>    <b>const</b> <b>struct</b> <a href='../S/2634.html#L29' title='Defined at 29 in Modules/cjkcodecs/cjkcodecs.h.'>dbcs_index</a> *decmap;
<a name='L56'><font color='red'>}</font>;
<a name='L57'>
<a name='L58'><b>struct</b> <a href='../R/9443.html' title='Multiple refered from 2 places.'>pair_encodemap</a> <font color='red'>{</font>
<a name='L59'>    <a href='../D/11931.html' title='Multiple defined in 2 places.'>ucs4_t</a> uniseq;
<a name='L60'>    <a href='../D/725.html' title='Multiple defined in 2 places.'>DBCHAR</a> <a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a>;
<a name='L61'><font color='red'>}</font>;
<a name='L62'>
<a name='L63'><b>static</b> <b>const</b> <a href='../S/2643.html#L63' title='Defined at 63 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec</a> *codec_list;
<a name='L64'><b>static</b> <b>const</b> <b>struct</b> <a href='../S/2634.html#L52' title='Defined at 52 in Modules/cjkcodecs/cjkcodecs.h.'>dbcs_map</a> *mapping_list;
<a name='L65'>
<a name='L66'><font color='darkred'>#define</font> CODEC_INIT(encoding)                                            \
<a name='L67'>    <b>static</b> <b>int</b> <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>##_codec_init(<b>const</b> <b>void</b> *<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>)
<a name='L68'>
<a name='L69'><font color='darkred'>#define</font> ENCODER_INIT(encoding)                                          \
<a name='L70'>    <b>static</b> <b>int</b> <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>##_encode_init(                                  \
<a name='L71'>        <a href='../S/2643.html#L31' title='Defined at 31 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_State</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, <b>const</b> <b>void</b> *<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>)
<a name='L72'><font color='darkred'>#define</font> ENCODER(encoding)                                               \
<a name='L73'>    <b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>##_encode(                                \
<a name='L74'>        <a href='../S/2643.html#L31' title='Defined at 31 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_State</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, <b>const</b> <b>void</b> *<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>,                \
<a name='L75'>        <b>const</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> **inbuf, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> inleft,                    \
<a name='L76'>        <b>unsigned</b> <b>char</b> **outbuf, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> outleft, <b>int</b> <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>)
<a name='L77'><font color='darkred'>#define</font> ENCODER_RESET(encoding)                                         \
<a name='L78'>    <b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>##_encode_reset(                          \
<a name='L79'>        <a href='../S/2643.html#L31' title='Defined at 31 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_State</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, <b>const</b> <b>void</b> *<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>,                \
<a name='L80'>        <b>unsigned</b> <b>char</b> **outbuf, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> outleft)
<a name='L81'>
<a name='L82'><font color='darkred'>#define</font> DECODER_INIT(encoding)                                          \
<a name='L83'>    <b>static</b> <b>int</b> <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>##_decode_init(                                  \
<a name='L84'>        <a href='../S/2643.html#L31' title='Defined at 31 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_State</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, <b>const</b> <b>void</b> *<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>)
<a name='L85'><font color='darkred'>#define</font> DECODER(encoding)                                               \
<a name='L86'>    <b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>##_decode(                                \
<a name='L87'>        <a href='../S/2643.html#L31' title='Defined at 31 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_State</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, <b>const</b> <b>void</b> *<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>,                \
<a name='L88'>        <b>const</b> <b>unsigned</b> <b>char</b> **inbuf, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> inleft,                 \
<a name='L89'>        <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> **outbuf, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> outleft)
<a name='L90'><font color='darkred'>#define</font> DECODER_RESET(encoding)                                         \
<a name='L91'>    <b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>##_decode_reset(                          \
<a name='L92'>        <a href='../S/2643.html#L31' title='Defined at 31 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec_State</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, <b>const</b> <b>void</b> *<a href='../D/7740.html' title='Multiple defined in 3 places.'>config</a>)
<a name='L93'>
<a name='L94'><font color='darkred'>#if</font> <a href='../D/4282.html' title='Multiple defined in 3 places.'>Py_UNICODE_SIZE</a> == 4
<a name='L95'><font color='darkred'>#define</font> <a href='../R/4711.html' title='Multiple refered from 11 places.'>UCS4INVALID</a>(code)       \
<a name='L96'>    <b>if</b> ((<a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a>) &gt; 0xFFFF)        \
<a name='L97'>    <b>return</b> 1;
<a name='L98'><font color='darkred'>#else</font>
<a name='L99'><font color='darkred'>#define</font> <a href='../R/4711.html' title='Multiple refered from 11 places.'>UCS4INVALID</a>(code)       \
<a name='L100'>    <b>if</b> (0) ;
<a name='L101'><font color='darkred'>#endif</font>
<a name='L102'>
<a name='L103'><font color='darkred'>#define</font> <a href='../R/2081.html' title='Multiple refered from 11 places.'>NEXT_IN</a>(i)                              \
<a name='L104'>    (*inbuf) += (i);                            \
<a name='L105'>    (inleft) -= (i);
<a name='L106'><font color='darkred'>#define</font> <a href='../R/2082.html' title='Multiple refered from 23 places.'>NEXT_OUT</a>(o)                             \
<a name='L107'>    (*outbuf) += (o);                           \
<a name='L108'>    (outleft) -= (o);
<a name='L109'><font color='darkred'>#define</font> <a href='../R/2077.html' title='Multiple refered from 114 places.'>NEXT</a>(i, o)                              \
<a name='L110'>    <a href='../S/2634.html#L103' title='Defined at 103 in Modules/cjkcodecs/cjkcodecs.h.'>NEXT_IN</a>(i) <a href='../S/2634.html#L106' title='Defined at 106 in Modules/cjkcodecs/cjkcodecs.h.'>NEXT_OUT</a>(o)
<a name='L111'>
<a name='L112'><font color='darkred'>#define</font> <a href='../R/3947.html' title='Multiple refered from 26 places.'>REQUIRE_INBUF</a>(n)                        \
<a name='L113'>    <b>if</b> (inleft &lt; (n))                           \
<a name='L114'>        <b>return</b> <a href='../S/2643.html#L119' title='Defined at 119 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOFEW</a>;
<a name='L115'><font color='darkred'>#define</font> <a href='../R/3948.html' title='Multiple refered from 40 places.'>REQUIRE_OUTBUF</a>(n)                       \
<a name='L116'>    <b>if</b> (outleft &lt; (n))                          \
<a name='L117'>        <b>return</b> <a href='../S/2643.html#L118' title='Defined at 118 in Modules/cjkcodecs/multibytecodec.h.'>MBERR_TOOSMALL</a>;
<a name='L118'>
<a name='L119'><font color='darkred'>#define</font> <a href='../R/1503.html' title='Multiple refered from 29 places.'>IN1</a> ((*inbuf)[0])
<a name='L120'><font color='darkred'>#define</font> <a href='../R/1504.html' title='Multiple refered from 39 places.'>IN2</a> ((*inbuf)[1])
<a name='L121'><font color='darkred'>#define</font> <a href='../R/1505.html' title='Multiple refered from 12 places.'>IN3</a> ((*inbuf)[2])
<a name='L122'><font color='darkred'>#define</font> <a href='../R/1506.html' title='Multiple refered from 2 places.'>IN4</a> ((*inbuf)[3])
<a name='L123'>
<a name='L124'><font color='darkred'>#define</font> <a href='../R/2203.html' title='Multiple refered from 50 places.'>OUT1</a>(c) ((*outbuf)[0]) = (c);
<a name='L125'><font color='darkred'>#define</font> <a href='../R/2204.html' title='Multiple refered from 22 places.'>OUT2</a>(c) ((*outbuf)[1]) = (c);
<a name='L126'><font color='darkred'>#define</font> <a href='../R/2205.html' title='Multiple refered from 4 places.'>OUT3</a>(c) ((*outbuf)[2]) = (c);
<a name='L127'><font color='darkred'>#define</font> <a href='../R/2206.html' title='Multiple refered from 4 places.'>OUT4</a>(c) ((*outbuf)[3]) = (c);
<a name='L128'>
<a name='L129'><font color='darkred'>#define</font> <a href='../R/4917.html' title='Multiple refered from 28 places.'>WRITE1</a>(c1)              \
<a name='L130'>    <a href='../S/2634.html#L115' title='Defined at 115 in Modules/cjkcodecs/cjkcodecs.h.'>REQUIRE_OUTBUF</a>(1)           \
<a name='L131'>    (*outbuf)[0] = (c1);
<a name='L132'><font color='darkred'>#define</font> <a href='../R/4918.html' title='Multiple refered from 14 places.'>WRITE2</a>(c1, c2)          \
<a name='L133'>    <a href='../S/2634.html#L115' title='Defined at 115 in Modules/cjkcodecs/cjkcodecs.h.'>REQUIRE_OUTBUF</a>(2)           \
<a name='L134'>    (*outbuf)[0] = (c1);        \
<a name='L135'>    (*outbuf)[1] = (c2);
<a name='L136'><font color='darkred'>#define</font> <a href='../R/4919.html' title='Multiple refered from 8 places.'>WRITE3</a>(c1, c2, c3)      \
<a name='L137'>    <a href='../S/2634.html#L115' title='Defined at 115 in Modules/cjkcodecs/cjkcodecs.h.'>REQUIRE_OUTBUF</a>(3)           \
<a name='L138'>    (*outbuf)[0] = (c1);        \
<a name='L139'>    (*outbuf)[1] = (c2);        \
<a name='L140'>    (*outbuf)[2] = (c3);
<a name='L141'><font color='darkred'>#define</font> <a href='../R/4920.html' title='Multiple refered from 3 places.'>WRITE4</a>(c1, c2, c3, c4)  \
<a name='L142'>    <a href='../S/2634.html#L115' title='Defined at 115 in Modules/cjkcodecs/cjkcodecs.h.'>REQUIRE_OUTBUF</a>(4)           \
<a name='L143'>    (*outbuf)[0] = (c1);        \
<a name='L144'>    (*outbuf)[1] = (c2);        \
<a name='L145'>    (*outbuf)[2] = (c3);        \
<a name='L146'>    (*outbuf)[3] = (c4);
<a name='L147'>
<a name='L148'><font color='darkred'>#if</font> <a href='../D/4282.html' title='Multiple defined in 3 places.'>Py_UNICODE_SIZE</a> == 2
<a name='L149'><font color='darkred'># define</font> <a href='../R/4921.html' title='Multiple refered from 7 places.'>WRITEUCS4</a>(c)                                           \
<a name='L150'>    <a href='../S/2634.html#L115' title='Defined at 115 in Modules/cjkcodecs/cjkcodecs.h.'>REQUIRE_OUTBUF</a>(2)                                           \
<a name='L151'>    (*outbuf)[0] = 0xd800 + (((c) - 0x10000) &gt;&gt; 10);            \
<a name='L152'>    (*outbuf)[1] = 0xdc00 + (((c) - 0x10000) &amp; 0x3ff);          \
<a name='L153'>    <a href='../S/2634.html#L106' title='Defined at 106 in Modules/cjkcodecs/cjkcodecs.h.'>NEXT_OUT</a>(2)
<a name='L154'><font color='darkred'>#else</font>
<a name='L155'><font color='darkred'># define</font> <a href='../R/4921.html' title='Multiple refered from 7 places.'>WRITEUCS4</a>(c)                                           \
<a name='L156'>    <a href='../S/2634.html#L115' title='Defined at 115 in Modules/cjkcodecs/cjkcodecs.h.'>REQUIRE_OUTBUF</a>(1)                                           \
<a name='L157'>    **outbuf = (<a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>)(c);                                 \
<a name='L158'>    <a href='../S/2634.html#L106' title='Defined at 106 in Modules/cjkcodecs/cjkcodecs.h.'>NEXT_OUT</a>(1)
<a name='L159'><font color='darkred'>#endif</font>
<a name='L160'>
<a name='L161'><font color='darkred'>#define</font> <a href='../S/2634.html#L166' title='Refered from 166 in Modules/cjkcodecs/cjkcodecs.h.'>_TRYMAP_ENC</a>(m, assi, val)                               \
<a name='L162'>    ((m)-&gt;map != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; (val) &gt;= (m)-&gt;bottom &amp;&amp;                \
<a name='L163'>        (val)&lt;= (m)-&gt;top &amp;&amp; ((assi) = (m)-&gt;map[(val) -          \
<a name='L164'>        (m)-&gt;bottom]) != <a href='../S/2634.html#L19' title='Defined at 19 in Modules/cjkcodecs/cjkcodecs.h.'>NOCHAR</a>)
<a name='L165'><font color='darkred'>#define</font> <a href='../R/4571.html' title='Multiple refered from 2 places.'>TRYMAP_ENC_COND</a>(charset, assi, uni)                     \
<a name='L166'>    <a href='../S/2634.html#L161' title='Defined at 161 in Modules/cjkcodecs/cjkcodecs.h.'>_TRYMAP_ENC</a>(&amp;charset##_encmap[(uni) &gt;&gt; 8], assi, (uni) &amp; 0xff)
<a name='L167'><font color='darkred'>#define</font> <a href='../R/4570.html' title='Multiple refered from 29 places.'>TRYMAP_ENC</a>(charset, assi, uni)                          \
<a name='L168'>    <b>if</b> <a href='../S/2634.html#L165' title='Defined at 165 in Modules/cjkcodecs/cjkcodecs.h.'>TRYMAP_ENC_COND</a>(charset, assi, uni)
<a name='L169'>
<a name='L170'><font color='darkred'>#define</font> <a href='../R/5656.html' title='Multiple refered from 2 places.'>_TRYMAP_DEC</a>(m, assi, val)                               \
<a name='L171'>    ((m)-&gt;map != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; (val) &gt;= (m)-&gt;bottom &amp;&amp;                \
<a name='L172'>        (val)&lt;= (m)-&gt;top &amp;&amp; ((assi) = (m)-&gt;map[(val) -          \
<a name='L173'>        (m)-&gt;bottom]) != <a href='../S/2634.html#L16' title='Defined at 16 in Modules/cjkcodecs/cjkcodecs.h.'>UNIINV</a>)
<a name='L174'><font color='darkred'>#define</font> <a href='../R/4569.html' title='Multiple refered from 48 places.'>TRYMAP_DEC</a>(charset, assi, c1, c2)                       \
<a name='L175'>    <b>if</b> <a href='../S/2634.html#L170' title='Defined at 170 in Modules/cjkcodecs/cjkcodecs.h.'>_TRYMAP_DEC</a>(&amp;charset##_decmap[c1], assi, c2)
<a name='L176'>
<a name='L177'><font color='darkred'>#define</font> <a href='../S/2634.html#L184' title='Refered from 184 in Modules/cjkcodecs/cjkcodecs.h.'>_TRYMAP_ENC_MPLANE</a>(m, assplane, asshi, asslo, val)      \
<a name='L178'>    ((m)-&gt;map != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; (val) &gt;= (m)-&gt;bottom &amp;&amp;                \
<a name='L179'>        (val)&lt;= (m)-&gt;top &amp;&amp;                                     \
<a name='L180'>        ((assplane) = (m)-&gt;map[((val) - (m)-&gt;bottom)*3]) != 0 &amp;&amp; \
<a name='L181'>        (((asshi) = (m)-&gt;map[((val) - (m)-&gt;bottom)*3 + 1]), 1) &amp;&amp; \
<a name='L182'>        (((asslo) = (m)-&gt;map[((val) - (m)-&gt;bottom)*3 + 2]), 1))
<a name='L183'><font color='darkred'>#define</font> TRYMAP_ENC_MPLANE(charset, assplane, asshi, asslo, uni) \
<a name='L184'>    <b>if</b> <a href='../S/2634.html#L177' title='Defined at 177 in Modules/cjkcodecs/cjkcodecs.h.'>_TRYMAP_ENC_MPLANE</a>(&amp;charset##_encmap[(uni) &gt;&gt; 8], \
<a name='L185'>                       assplane, asshi, asslo, (uni) &amp; 0xff)
<a name='L186'><font color='darkred'>#define</font> TRYMAP_DEC_MPLANE(charset, assi, plane, c1, c2)         \
<a name='L187'>    <b>if</b> <a href='../S/2634.html#L170' title='Defined at 170 in Modules/cjkcodecs/cjkcodecs.h.'>_TRYMAP_DEC</a>(&amp;charset##_decmap[plane][c1], assi, c2)
<a name='L188'>
<a name='L189'><font color='darkred'>#if</font> <a href='../D/4282.html' title='Multiple defined in 3 places.'>Py_UNICODE_SIZE</a> == 2
<a name='L190'><font color='darkred'>#define</font> <a href='../R/694.html' title='Multiple refered from 5 places.'>DECODE_SURROGATE</a>(c)                                     \
<a name='L191'>    <b>if</b> (c &gt;&gt; 10 == 0xd800 &gt;&gt; 10) <font color='red'>{</font> <i><font color='green'>/* high surrogate */</font></i>         \
<a name='L192'>        <a href='../S/2634.html#L112' title='Defined at 112 in Modules/cjkcodecs/cjkcodecs.h.'>REQUIRE_INBUF</a>(2)                                        \
<a name='L193'>        <b>if</b> (<a href='../S/2634.html#L120' title='Defined at 120 in Modules/cjkcodecs/cjkcodecs.h.'>IN2</a> &gt;&gt; 10 == 0xdc00 &gt;&gt; 10) <font color='red'>{</font> <i><font color='green'>/* low surrogate */</font></i> \
<a name='L194'>            c = 0x10000 + ((<a href='../D/11931.html' title='Multiple defined in 2 places.'>ucs4_t</a>)(c - 0xd800) &lt;&lt; 10) + \
<a name='L195'>            ((<a href='../D/11931.html' title='Multiple defined in 2 places.'>ucs4_t</a>)(<a href='../S/2634.html#L120' title='Defined at 120 in Modules/cjkcodecs/cjkcodecs.h.'>IN2</a>) - 0xdc00);                           \
<a name='L196'>        <font color='red'>}</font>                                                       \
<a name='L197'>    <font color='red'>}</font>
<a name='L198'><font color='darkred'>#define</font> <a href='../R/1251.html' title='Multiple refered from 4 places.'>GET_INSIZE</a>(c)   ((c) &gt; 0xffff ? 2 : 1)
<a name='L199'><font color='darkred'>#else</font>
<a name='L200'><font color='darkred'>#define</font> <a href='../R/694.html' title='Multiple refered from 5 places.'>DECODE_SURROGATE</a>(c) <font color='red'>{</font>;<font color='red'>}</font>
<a name='L201'><font color='darkred'>#define</font> <a href='../R/1251.html' title='Multiple refered from 4 places.'>GET_INSIZE</a>(c)   1
<a name='L202'><font color='darkred'>#endif</font>
<a name='L203'>
<a name='L204'><font color='darkred'>#define</font> <a href='../R/224.html' title='Multiple refered from 6 places.'>BEGIN_MAPPINGS_LIST</a> <b>static</b> <b>const</b> <b>struct</b> <a href='../S/2634.html#L52' title='Defined at 52 in Modules/cjkcodecs/cjkcodecs.h.'>dbcs_map</a> _mapping_list[] = <font color='red'>{</font>
<a name='L205'><font color='darkred'>#define</font> <a href='../R/1820.html' title='Multiple refered from 7 places.'>MAPPING_ENCONLY</a>(enc) <font color='red'>{</font>#enc, (<b>void</b>*)enc##_encmap, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L206'><font color='darkred'>#define</font> <a href='../R/1818.html' title='Multiple refered from 10 places.'>MAPPING_DECONLY</a>(enc) <font color='red'>{</font>#enc, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, (<b>void</b>*)enc##_decmap<font color='red'>}</font>,
<a name='L207'><font color='darkred'>#define</font> <a href='../R/1819.html' title='Multiple refered from 5 places.'>MAPPING_ENCDEC</a>(enc) <font color='red'>{</font>#enc, (<b>void</b>*)enc##_encmap, (<b>void</b>*)enc##_decmap<font color='red'>}</font>,
<a name='L208'><font color='darkred'>#define</font> <a href='../R/856.html' title='Multiple refered from 6 places.'>END_MAPPINGS_LIST</a>                               \
<a name='L209'>    <font color='red'>{</font>"", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font> <font color='red'>}</font>;                                 \
<a name='L210'>    <b>static</b> <b>const</b> <b>struct</b> <a href='../S/2634.html#L52' title='Defined at 52 in Modules/cjkcodecs/cjkcodecs.h.'>dbcs_map</a> *mapping_list =        \
<a name='L211'>        (<b>const</b> <b>struct</b> <a href='../S/2634.html#L52' title='Defined at 52 in Modules/cjkcodecs/cjkcodecs.h.'>dbcs_map</a> *)_mapping_list;
<a name='L212'>
<a name='L213'><font color='darkred'>#define</font> <a href='../R/223.html' title='Multiple refered from 6 places.'>BEGIN_CODECS_LIST</a> <b>static</b> <b>const</b> <a href='../S/2643.html#L63' title='Defined at 63 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec</a> _codec_list[] = <font color='red'>{</font>
<a name='L214'><font color='darkred'>#define</font> <a href='../R/5654.html' title='Multiple refered from 2 places.'>_STATEFUL_METHODS</a>(enc)          \
<a name='L215'>    enc##_encode,                       \
<a name='L216'>    enc##_encode_init,                  \
<a name='L217'>    enc##_encode_reset,                 \
<a name='L218'>    enc##_decode,                       \
<a name='L219'>    enc##_decode_init,                  \
<a name='L220'>    enc##_decode_reset,
<a name='L221'><font color='darkred'>#define</font> <a href='../R/5655.html' title='Multiple refered from 4 places.'>_STATELESS_METHODS</a>(enc)         \
<a name='L222'>    enc##_encode, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,           \
<a name='L223'>    enc##_decode, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L224'><font color='darkred'>#define</font> <a href='../S/2627.html#L441' title='Refered from 441 in Modules/cjkcodecs/_codecs_cn.c.'>CODEC_STATEFUL</a>(enc) <font color='red'>{</font>           \
<a name='L225'>    #enc, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                   \
<a name='L226'>    <a href='../S/2634.html#L214' title='Defined at 214 in Modules/cjkcodecs/cjkcodecs.h.'>_STATEFUL_METHODS</a>(enc)              \
<a name='L227'><font color='red'>}</font>,
<a name='L228'><font color='darkred'>#define</font> <a href='../R/538.html' title='Multiple refered from 13 places.'>CODEC_STATELESS</a>(enc) <font color='red'>{</font>          \
<a name='L229'>    #enc, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                   \
<a name='L230'>    <a href='../S/2634.html#L221' title='Defined at 221 in Modules/cjkcodecs/cjkcodecs.h.'>_STATELESS_METHODS</a>(enc)             \
<a name='L231'><font color='red'>}</font>,
<a name='L232'><font color='darkred'>#define</font> <a href='../S/2628.html#L180' title='Refered from 180 in Modules/cjkcodecs/_codecs_hk.c.'>CODEC_STATELESS_WINIT</a>(enc) <font color='red'>{</font>    \
<a name='L233'>    #enc, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                         \
<a name='L234'>    enc##_codec_init,                   \
<a name='L235'>    <a href='../S/2634.html#L221' title='Defined at 221 in Modules/cjkcodecs/cjkcodecs.h.'>_STATELESS_METHODS</a>(enc)             \
<a name='L236'><font color='red'>}</font>,
<a name='L237'><font color='darkred'>#define</font> <a href='../R/854.html' title='Multiple refered from 6 places.'>END_CODECS_LIST</a>                                 \
<a name='L238'>    <font color='red'>{</font>"", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,<font color='red'>}</font> <font color='red'>}</font>;                                      \
<a name='L239'>    <b>static</b> <b>const</b> <a href='../S/2643.html#L63' title='Defined at 63 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec</a> *codec_list =           \
<a name='L240'>        (<b>const</b> <a href='../S/2643.html#L63' title='Defined at 63 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec</a> *)_codec_list;
<a name='L241'>
<a name='L242'>
<a name='L243'>
<a name='L244'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L245'><a href='../S/2634.html#L275' title='Refered from 275 in Modules/cjkcodecs/cjkcodecs.h.'>getmultibytecodec</a>(<b>void</b>)
<a name='L246'><font color='red'>{</font>
<a name='L247'>    <b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *cofunc = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L248'>
<a name='L249'>    <b>if</b> (cofunc == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L250'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *mod = <a href='../S/3120.html#L2348' title='Defined at 2348 in Python/import.c.'>PyImport_ImportModuleNoBlock</a>("_multibytecodec");
<a name='L251'>        <b>if</b> (mod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L252'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L253'>        cofunc = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(mod, "__create_codec");
<a name='L254'>        Py_DECREF(mod);
<a name='L255'>    <font color='red'>}</font>
<a name='L256'>    <b>return</b> cofunc;
<a name='L257'><font color='red'>}</font>
<a name='L258'>
<a name='L259'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L260'><a href='../S/2634.html#L300' title='Refered from 300 in Modules/cjkcodecs/cjkcodecs.h.'>getcodec</a>(PyObject *self, PyObject *encoding)
<a name='L261'><font color='red'>{</font>
<a name='L262'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *codecobj, *r, *cofunc;
<a name='L263'>    <b>const</b> <a href='../S/2643.html#L63' title='Defined at 63 in Modules/cjkcodecs/multibytecodec.h.'>MultibyteCodec</a> *codec;
<a name='L264'>    <b>const</b> <b>char</b> *enc;
<a name='L265'>
<a name='L266'>    <b>if</b> (!PyUnicode_Check(<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>)) <font color='red'>{</font>
<a name='L267'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L268'>                        "encoding name must be a string.");
<a name='L269'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L270'>    <font color='red'>}</font>
<a name='L271'>    enc = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>);
<a name='L272'>    <b>if</b> (enc == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L273'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L274'>
<a name='L275'>    cofunc = <a href='../S/2634.html#L245' title='Defined at 245 in Modules/cjkcodecs/cjkcodecs.h.'>getmultibytecodec</a>();
<a name='L276'>    <b>if</b> (cofunc == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L277'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L278'>
<a name='L279'>    <b>for</b> (codec = codec_list; codec-&gt;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>[0]; codec++)
<a name='L280'>        <b>if</b> (strcmp(codec-&gt;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, enc) == 0)
<a name='L281'>            <b>break</b>;
<a name='L282'>
<a name='L283'>    <b>if</b> (codec-&gt;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>[0] == '\0') <font color='red'>{</font>
<a name='L284'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_LookupError,
<a name='L285'>                        "no such codec is supported.");
<a name='L286'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L287'>    <font color='red'>}</font>
<a name='L288'>
<a name='L289'>    codecobj = <a href='../S/2780.html#L44' title='Defined at 44 in Objects/capsule.c.'>PyCapsule_New</a>((<b>void</b> *)codec, <a href='../S/2643.html#L135' title='Defined at 135 in Modules/cjkcodecs/multibytecodec.h.'>PyMultibyteCodec_CAPSULE_NAME</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L290'>    <b>if</b> (codecobj == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L291'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L292'>
<a name='L293'>    r = <a href='../S/2775.html#L2358' title='Defined at 2358 in Objects/abstract.c.'>PyObject_CallFunctionObjArgs</a>(cofunc, codecobj, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L294'>    Py_DECREF(codecobj);
<a name='L295'>
<a name='L296'>    <b>return</b> r;
<a name='L297'><font color='red'>}</font>
<a name='L298'>
<a name='L299'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> __methods[] = <font color='red'>{</font>
<a name='L300'>    <font color='red'>{</font>"getcodec", (PyCFunction)<a href='../S/2634.html#L260' title='Defined at 260 in Modules/cjkcodecs/cjkcodecs.h.'>getcodec</a>, METH_O, ""<font color='red'>}</font>,
<a name='L301'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L302'><font color='red'>}</font>;
<a name='L303'>
<a name='L304'><b>static</b> <b>int</b>
<a name='L305'><a href='../S/2634.html#L410' title='Refered from 410 in Modules/cjkcodecs/cjkcodecs.h.'>register_maps</a>(PyObject *module)
<a name='L306'><font color='red'>{</font>
<a name='L307'>    <b>const</b> <b>struct</b> <a href='../S/2634.html#L52' title='Defined at 52 in Modules/cjkcodecs/cjkcodecs.h.'>dbcs_map</a> *h;
<a name='L308'>
<a name='L309'>    <b>for</b> (h = mapping_list; h-&gt;charset[0] != '\0'; h++) <font color='red'>{</font>
<a name='L310'>        <b>char</b> mhname[256] = "__map_";
<a name='L311'>        <b>int</b> r;
<a name='L312'>        strcpy(mhname + <b>sizeof</b>("__map_") - 1, h-&gt;charset);
<a name='L313'>        r = <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(module, mhname,
<a name='L314'>                        <a href='../S/2780.html#L44' title='Defined at 44 in Objects/capsule.c.'>PyCapsule_New</a>((<b>void</b> *)h, <a href='../S/2643.html#L135' title='Defined at 135 in Modules/cjkcodecs/multibytecodec.h.'>PyMultibyteCodec_CAPSULE_NAME</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>));
<a name='L315'>        <b>if</b> (r == -1)
<a name='L316'>            <b>return</b> -1;
<a name='L317'>    <font color='red'>}</font>
<a name='L318'>    <b>return</b> 0;
<a name='L319'><font color='red'>}</font>
<a name='L320'>
<a name='L321'><font color='darkred'>#ifdef</font> <a href='../D/5402.html' title='Multiple defined in 2 places.'>USING_BINARY_PAIR_SEARCH</a>
<a name='L322'><b>static</b> <a href='../D/725.html' title='Multiple defined in 2 places.'>DBCHAR</a>
<a name='L323'><a href='../R/7805.html' title='Multiple refered from 9 places.'>find_pairencmap</a>(<a href='../D/11930.html' title='Multiple defined in 2 places.'>ucs2_t</a> body, <a href='../D/11930.html' title='Multiple defined in 2 places.'>ucs2_t</a> modifier,
<a name='L324'>                <b>const</b> <b>struct</b> pair_encodemap *haystack, <b>int</b> haystacksize)
<a name='L325'><font color='red'>{</font>
<a name='L326'>    <b>int</b> pos, <a href='../S/2252.html#L7' title='Defined at 7 in Modules/_ctypes/ctypes.h.'>min</a>, <a href='../S/2252.html#L6' title='Defined at 6 in Modules/_ctypes/ctypes.h.'>max</a>;
<a name='L327'>    <a href='../D/11931.html' title='Multiple defined in 2 places.'>ucs4_t</a> <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = body &lt;&lt; 16 | modifier;
<a name='L328'>
<a name='L329'>    <a href='../S/2252.html#L7' title='Defined at 7 in Modules/_ctypes/ctypes.h.'>min</a> = 0;
<a name='L330'>    <a href='../S/2252.html#L6' title='Defined at 6 in Modules/_ctypes/ctypes.h.'>max</a> = haystacksize;
<a name='L331'>
<a name='L332'>    <b>for</b> (pos = haystacksize &gt;&gt; 1; <a href='../S/2252.html#L7' title='Defined at 7 in Modules/_ctypes/ctypes.h.'>min</a> != <a href='../S/2252.html#L6' title='Defined at 6 in Modules/_ctypes/ctypes.h.'>max</a>; pos = (<a href='../S/2252.html#L7' title='Defined at 7 in Modules/_ctypes/ctypes.h.'>min</a> + <a href='../S/2252.html#L6' title='Defined at 6 in Modules/_ctypes/ctypes.h.'>max</a>) &gt;&gt; 1)
<a name='L333'>        <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> &lt; haystack[pos].uniseq) <font color='red'>{</font>
<a name='L334'>            <b>if</b> (<a href='../S/2252.html#L6' title='Defined at 6 in Modules/_ctypes/ctypes.h.'>max</a> == pos) <b>break</b>;
<a name='L335'>            <b>else</b> <a href='../S/2252.html#L6' title='Defined at 6 in Modules/_ctypes/ctypes.h.'>max</a> = pos;
<a name='L336'>        <font color='red'>}</font>
<a name='L337'>        <b>else</b> <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> &gt; haystack[pos].uniseq) <font color='red'>{</font>
<a name='L338'>            <b>if</b> (<a href='../S/2252.html#L7' title='Defined at 7 in Modules/_ctypes/ctypes.h.'>min</a> == pos) <b>break</b>;
<a name='L339'>            <b>else</b> <a href='../S/2252.html#L7' title='Defined at 7 in Modules/_ctypes/ctypes.h.'>min</a> = pos;
<a name='L340'>        <font color='red'>}</font>
<a name='L341'>        <b>else</b>
<a name='L342'>            <b>break</b>;
<a name='L343'>
<a name='L344'>        <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == haystack[pos].uniseq)
<a name='L345'>            <b>return</b> haystack[pos].<a href='../S/2755.html#L28' title='Defined at 28 in Modules/zlib/inftrees.h.'>code</a>;
<a name='L346'>        <b>else</b>
<a name='L347'>            <b>return</b> <a href='../S/2634.html#L21' title='Defined at 21 in Modules/cjkcodecs/cjkcodecs.h.'>DBCINV</a>;
<a name='L348'><font color='red'>}</font>
<a name='L349'><font color='darkred'>#endif</font>
<a name='L350'>
<a name='L351'><font color='darkred'>#ifdef</font> <a href='../D/5403.html' title='Multiple defined in 2 places.'>USING_IMPORTED_MAPS</a>
<a name='L352'><font color='darkred'>#define</font> <a href='../R/1498.html' title='Multiple refered from 16 places.'>IMPORT_MAP</a>(locale, charset, encmap, decmap) \
<a name='L353'>    <a href='../S/2634.html#L357' title='Defined at 357 in Modules/cjkcodecs/cjkcodecs.h.'>importmap</a>("_codecs_" #locale, "__map_" #charset, \
<a name='L354'>              (<b>const</b> <b>void</b>**)encmap, (<b>const</b> <b>void</b>**)decmap)
<a name='L355'>
<a name='L356'><b>static</b> <b>int</b>
<a name='L357'><a href='../S/2634.html#L353' title='Refered from 353 in Modules/cjkcodecs/cjkcodecs.h.'>importmap</a>(<b>const</b> <b>char</b> *modname, <b>const</b> <b>char</b> *symbol,
<a name='L358'>          <b>const</b> <b>void</b> **encmap, <b>const</b> <b>void</b> **decmap)
<a name='L359'><font color='red'>{</font>
<a name='L360'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *o, *mod;
<a name='L361'>
<a name='L362'>    mod = <a href='../S/3120.html#L2325' title='Defined at 2325 in Python/import.c.'>PyImport_ImportModule</a>((<b>char</b> *)modname);
<a name='L363'>    <b>if</b> (mod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L364'>        <b>return</b> -1;
<a name='L365'>
<a name='L366'>    o = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(mod, (<b>char</b>*)symbol);
<a name='L367'>    <b>if</b> (o == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L368'>        <b>goto</b> errorexit;
<a name='L369'>    <b>else</b> <b>if</b> (!<a href='../S/2780.html#L68' title='Defined at 68 in Objects/capsule.c.'>PyCapsule_IsValid</a>(o, <a href='../S/2643.html#L135' title='Defined at 135 in Modules/cjkcodecs/multibytecodec.h.'>PyMultibyteCodec_CAPSULE_NAME</a>)) <font color='red'>{</font>
<a name='L370'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L371'>                        "map data must be a Capsule.");
<a name='L372'>        <b>goto</b> errorexit;
<a name='L373'>    <font color='red'>}</font>
<a name='L374'>    <b>else</b> <font color='red'>{</font>
<a name='L375'>        <b>struct</b> <a href='../S/2634.html#L52' title='Defined at 52 in Modules/cjkcodecs/cjkcodecs.h.'>dbcs_map</a> *map;
<a name='L376'>        map = <a href='../S/2780.html#L80' title='Defined at 80 in Objects/capsule.c.'>PyCapsule_GetPointer</a>(o, <a href='../S/2643.html#L135' title='Defined at 135 in Modules/cjkcodecs/multibytecodec.h.'>PyMultibyteCodec_CAPSULE_NAME</a>);
<a name='L377'>        <b>if</b> (encmap != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L378'>            *encmap = map-&gt;encmap;
<a name='L379'>        <b>if</b> (decmap != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L380'>            *decmap = map-&gt;decmap;
<a name='L381'>        Py_DECREF(o);
<a name='L382'>    <font color='red'>}</font>
<a name='L383'>
<a name='L384'>    Py_DECREF(mod);
<a name='L385'>    <b>return</b> 0;
<a name='L386'>
<a name='L387'>errorexit:
<a name='L388'>    Py_DECREF(mod);
<a name='L389'>    <b>return</b> -1;
<a name='L390'><font color='red'>}</font>
<a name='L391'><font color='darkred'>#endif</font>
<a name='L392'>
<a name='L393'><font color='darkred'>#define</font> <a href='../R/1612.html' title='Multiple refered from 6 places.'>I_AM_A_MODULE_FOR</a>(loc)                                          \
<a name='L394'>    <b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> __module = <font color='red'>{</font>                              \
<a name='L395'>        <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,                                          \
<a name='L396'>        "_codecs_"#loc,                                                 \
<a name='L397'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                                                           \
<a name='L398'>        0,                                                              \
<a name='L399'>        __methods,                                                      \
<a name='L400'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                                                           \
<a name='L401'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                                                           \
<a name='L402'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,                                                           \
<a name='L403'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>                                                            \
<a name='L404'>    <font color='red'>}</font>;                                                                  \
<a name='L405'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*                                                           \
<a name='L406'>    PyInit__codecs_##loc(<b>void</b>)                                          \
<a name='L407'>    <font color='red'>{</font>                                                                   \
<a name='L408'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m = PyModule_Create(&amp;__module);                       \
<a name='L409'>        <b>if</b> (m != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)                                                  \
<a name='L410'>            (<b>void</b>)<a href='../S/2634.html#L305' title='Defined at 305 in Modules/cjkcodecs/cjkcodecs.h.'>register_maps</a>(m);                                     \
<a name='L411'>        <b>return</b> m;                                                       \
<a name='L412'>    <font color='red'>}</font>
<a name='L413'>
<a name='L414'><font color='darkred'>#endif</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L245'>[^]</a><a href='#L357'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
