<html>
<head>
<title>PC/_subprocess.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3393.html'>PC</a>/_subprocess.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L56'>[^]</a><a href='#L660'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L56' title='Defined at 56.'>sp_handle_new</a>
<li><a href='#L78' title='Defined at 78.'>sp_handle_detach</a>
<li><a href='#L94' title='Defined at 94.'>sp_handle_close</a>
<li><a href='#L108' title='Defined at 108.'>sp_handle_dealloc</a>
<li><a href='#L122' title='Defined at 122.'>sp_handle_as_int</a>
<li><a href='#L169' title='Defined at 169.'>sp_GetStdHandle</a>
<li><a href='#L199' title='Defined at 199.'>sp_GetCurrentProcess</a>
<li><a href='#L219' title='Defined at 219.'>sp_DuplicateHandle</a>
<li><a href='#L269' title='Defined at 269.'>sp_CreatePipe</a>
<li><a href='#L295' title='Defined at 295.'>getint</a>
<li><a href='#L311' title='Defined at 311.'>gethandle</a>
<li><a href='#L330' title='Defined at 330.'>getenvironment</a>
<li><a href='#L417' title='Defined at 417.'>sp_CreateProcess</a>
<li><a href='#L498' title='Defined at 498.'>sp_TerminateProcess</a>
<li><a href='#L523' title='Defined at 523.'>sp_GetExitCodeProcess</a>
<li><a href='#L548' title='Defined at 548.'>sp_WaitForSingleObject</a>
<li><a href='#L575' title='Defined at 575.'>sp_GetVersion</a>
<li><a href='#L596' title='Defined at 596.'>sp_GetModuleFileName</a>
<li><a href='#L638' title='Defined at 638.'>defint</a>
<li><a href='#L660' title='Defined at 660.'>PyInit__subprocess</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*</font></i>
<a name='L2'><i><font color='green'> * support routines for subprocess module</font></i>
<a name='L3'><i><font color='green'> *</font></i>
<a name='L4'><i><font color='green'> * Currently, this extension module is only required when using the</font></i>
<a name='L5'><i><font color='green'> * subprocess module on Windows, but in the future, stubs for other</font></i>
<a name='L6'><i><font color='green'> * platforms might be added here as well.</font></i>
<a name='L7'><i><font color='green'> *</font></i>
<a name='L8'><i><font color='green'> * Copyright (c) 2004 by Fredrik Lundh &lt;fredrik@pythonware.com&gt;</font></i>
<a name='L9'><i><font color='green'> * Copyright (c) 2004 by Secret Labs AB, http://www.pythonware.com</font></i>
<a name='L10'><i><font color='green'> * Copyright (c) 2004 by Peter Astrand &lt;astrand@lysator.liu.se&gt;</font></i>
<a name='L11'><i><font color='green'> *</font></i>
<a name='L12'><i><font color='green'> * By obtaining, using, and/or copying this software and/or its</font></i>
<a name='L13'><i><font color='green'> * associated documentation, you agree that you have read, understood,</font></i>
<a name='L14'><i><font color='green'> * and will comply with the following terms and conditions:</font></i>
<a name='L15'><i><font color='green'> *</font></i>
<a name='L16'><i><font color='green'> * Permission to use, copy, modify, and distribute this software and</font></i>
<a name='L17'><i><font color='green'> * its associated documentation for any purpose and without fee is</font></i>
<a name='L18'><i><font color='green'> * hereby granted, provided that the above copyright notice appears in</font></i>
<a name='L19'><i><font color='green'> * all copies, and that both that copyright notice and this permission</font></i>
<a name='L20'><i><font color='green'> * notice appear in supporting documentation, and that the name of the</font></i>
<a name='L21'><i><font color='green'> * authors not be used in advertising or publicity pertaining to</font></i>
<a name='L22'><i><font color='green'> * distribution of the software without specific, written prior</font></i>
<a name='L23'><i><font color='green'> * permission.</font></i>
<a name='L24'><i><font color='green'> *</font></i>
<a name='L25'><i><font color='green'> * THE AUTHORS DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,</font></i>
<a name='L26'><i><font color='green'> * INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS.</font></i>
<a name='L27'><i><font color='green'> * IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY SPECIAL, INDIRECT OR</font></i>
<a name='L28'><i><font color='green'> * CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS</font></i>
<a name='L29'><i><font color='green'> * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,</font></i>
<a name='L30'><i><font color='green'> * NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION</font></i>
<a name='L31'><i><font color='green'> * WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</font></i>
<a name='L32'><i><font color='green'> *</font></i>
<a name='L33'><i><font color='green'> */</font></i>
<a name='L34'>
<a name='L35'><i><font color='green'>/* Licensed to PSF under a Contributor Agreement. */</font></i>
<a name='L36'><i><font color='green'>/* See http://www.python.org/2.4/license for licensing details. */</font></i>
<a name='L37'>
<a name='L38'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L39'>
<a name='L40'><font color='darkred'>#define</font> WINDOWS_LEAN_AND_MEAN
<a name='L41'><font color='darkred'>#include</font> "windows.h"
<a name='L42'>
<a name='L43'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L44'><i><font color='green'>/* handle wrapper.  note that this library uses integers when passing</font></i>
<a name='L45'><i><font color='green'>   handles to a function, and handle wrappers when returning handles.</font></i>
<a name='L46'><i><font color='green'>   the wrapper is used to provide Detach and Close methods */</font></i>
<a name='L47'>
<a name='L48'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L49'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L50'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> handle;
<a name='L51'><font color='red'>}</font> <a href='../R/10450.html' title='Multiple refered from 5 places.'>sp_handle_object</a>;
<a name='L52'>
<a name='L53'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> sp_handle_type;
<a name='L54'>
<a name='L55'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L56'><a href='../R/10449.html' title='Multiple refered from 5 places.'>sp_handle_new</a>(<a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> handle)
<a name='L57'><font color='red'>{</font>
<a name='L58'>    <a href='../S/2855.html#L51' title='Defined at 51 in PC/_subprocess.c.'>sp_handle_object</a>* self;
<a name='L59'>
<a name='L60'>    self = <a href='../S/545.html#L189' title='Defined at 189 in Include/objimpl.h.'>PyObject_NEW</a>(<a href='../S/2855.html#L51' title='Defined at 51 in PC/_subprocess.c.'>sp_handle_object</a>, &amp;sp_handle_type);
<a name='L61'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L62'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L63'>
<a name='L64'>    self-&gt;handle = handle;
<a name='L65'>
<a name='L66'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self;
<a name='L67'><font color='red'>}</font>
<a name='L68'>
<a name='L69'><font color='darkred'>#if</font> <b>defined</b>(<a href='../S/2906.html#L80' title='Defined at 80 in PC/pyconfig.h.'>MS_WIN32</a>) &amp;&amp; !<b>defined</b>(<a href='../S/2906.html#L142' title='Defined at 142 in PC/pyconfig.h.'>MS_WIN64</a>)
<a name='L70'><font color='darkred'>#define</font> <a href='../R/1307.html' title='Multiple refered from 3 places.'>HANDLE_TO_PYNUM</a>(handle) <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((<b>long</b>) handle)
<a name='L71'><font color='darkred'>#define</font> <a href='../R/2363.html' title='Multiple refered from 5 places.'>PY_HANDLE_PARAM</a> "l"
<a name='L72'><font color='darkred'>#else</font>
<a name='L73'><font color='darkred'>#define</font> <a href='../R/1307.html' title='Multiple refered from 3 places.'>HANDLE_TO_PYNUM</a>(handle) <a href='../S/2799.html#L994' title='Defined at 994 in Objects/longobject.c.'>PyLong_FromLongLong</a>((<b>long</b> <b>long</b>) handle)
<a name='L74'><font color='darkred'>#define</font> <a href='../R/2363.html' title='Multiple refered from 5 places.'>PY_HANDLE_PARAM</a> "L"
<a name='L75'><font color='darkred'>#endif</font>
<a name='L76'>
<a name='L77'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L78'><a href='../S/2855.html#L116' title='Refered from 116 in PC/_subprocess.c.'>sp_handle_detach</a>(sp_handle_object* self, PyObject* args)
<a name='L79'><font color='red'>{</font>
<a name='L80'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> handle;
<a name='L81'>
<a name='L82'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":Detach"))
<a name='L83'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L84'>
<a name='L85'>    handle = self-&gt;handle;
<a name='L86'>
<a name='L87'>    self-&gt;handle = <a href='../S/2583.html#L47' title='Defined at 47 in Modules/_multiprocessing/multiprocessing.h.'>INVALID_HANDLE_VALUE</a>;
<a name='L88'>
<a name='L89'>    <i><font color='green'>/* note: return the current handle, as an integer */</font></i>
<a name='L90'>    <b>return</b> <a href='../D/1451.html' title='Multiple defined in 2 places.'>HANDLE_TO_PYNUM</a>(handle);
<a name='L91'><font color='red'>}</font>
<a name='L92'>
<a name='L93'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L94'><a href='../S/2855.html#L117' title='Refered from 117 in PC/_subprocess.c.'>sp_handle_close</a>(sp_handle_object* self, PyObject* args)
<a name='L95'><font color='red'>{</font>
<a name='L96'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":Close"))
<a name='L97'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L98'>
<a name='L99'>    <b>if</b> (self-&gt;handle != <a href='../S/2583.html#L47' title='Defined at 47 in Modules/_multiprocessing/multiprocessing.h.'>INVALID_HANDLE_VALUE</a>) <font color='red'>{</font>
<a name='L100'>        CloseHandle(self-&gt;handle);
<a name='L101'>        self-&gt;handle = <a href='../S/2583.html#L47' title='Defined at 47 in Modules/_multiprocessing/multiprocessing.h.'>INVALID_HANDLE_VALUE</a>;
<a name='L102'>    <font color='red'>}</font>
<a name='L103'>    Py_INCREF(Py_None);
<a name='L104'>    <b>return</b> Py_None;
<a name='L105'><font color='red'>}</font>
<a name='L106'>
<a name='L107'><b>static</b> <b>void</b>
<a name='L108'><a href='../S/2855.html#L132' title='Refered from 132 in PC/_subprocess.c.'>sp_handle_dealloc</a>(sp_handle_object* self)
<a name='L109'><font color='red'>{</font>
<a name='L110'>    <b>if</b> (self-&gt;handle != <a href='../S/2583.html#L47' title='Defined at 47 in Modules/_multiprocessing/multiprocessing.h.'>INVALID_HANDLE_VALUE</a>)
<a name='L111'>        CloseHandle(self-&gt;handle);
<a name='L112'>    PyObject_FREE(self);
<a name='L113'><font color='red'>}</font>
<a name='L114'>
<a name='L115'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> sp_handle_methods[] = <font color='red'>{</font>
<a name='L116'>    <font color='red'>{</font>"Detach", (PyCFunction) <a href='../S/2855.html#L78' title='Defined at 78 in PC/_subprocess.c.'>sp_handle_detach</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L117'>    <font color='red'>{</font>"Close",  (PyCFunction) <a href='../S/2855.html#L94' title='Defined at 94 in PC/_subprocess.c.'>sp_handle_close</a>,  <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L118'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L119'><font color='red'>}</font>;
<a name='L120'>
<a name='L121'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L122'><a href='../S/2855.html#L666' title='Refered from 666 in PC/_subprocess.c.'>sp_handle_as_int</a>(sp_handle_object* self)
<a name='L123'><font color='red'>{</font>
<a name='L124'>    <b>return</b> <a href='../D/1451.html' title='Multiple defined in 2 places.'>HANDLE_TO_PYNUM</a>(self-&gt;handle);
<a name='L125'><font color='red'>}</font>
<a name='L126'>
<a name='L127'><b>static</b> <a href='../S/544.html#L247' title='Defined at 247 in Include/object.h.'>PyNumberMethods</a> sp_handle_as_number;
<a name='L128'>
<a name='L129'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> sp_handle_type = <font color='red'>{</font>
<a name='L130'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L131'>    "_subprocess_handle", <b>sizeof</b>(<a href='../S/2855.html#L51' title='Defined at 51 in PC/_subprocess.c.'>sp_handle_object</a>), 0,
<a name='L132'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>) <a href='../S/2855.html#L108' title='Defined at 108 in PC/_subprocess.c.'>sp_handle_dealloc</a>, <i><font color='green'>/*tp_dealloc*/</font></i>
<a name='L133'>    0, <i><font color='green'>/*tp_print*/</font></i>
<a name='L134'>    0,                                  <i><font color='green'>/*tp_getattr*/</font></i>
<a name='L135'>    0,                                  <i><font color='green'>/*tp_setattr*/</font></i>
<a name='L136'>    0,                                  <i><font color='green'>/*tp_reserved*/</font></i>
<a name='L137'>    0,                                  <i><font color='green'>/*tp_repr*/</font></i>
<a name='L138'>    &amp;sp_handle_as_number,               <i><font color='green'>/*tp_as_number */</font></i>
<a name='L139'>    0,                                  <i><font color='green'>/*tp_as_sequence */</font></i>
<a name='L140'>    0,                                  <i><font color='green'>/*tp_as_mapping */</font></i>
<a name='L141'>    0,                                  <i><font color='green'>/*tp_hash*/</font></i>
<a name='L142'>    0,                                  <i><font color='green'>/*tp_call*/</font></i>
<a name='L143'>    0,                                  <i><font color='green'>/*tp_str*/</font></i>
<a name='L144'>    0,                                  <i><font color='green'>/*tp_getattro*/</font></i>
<a name='L145'>    0,                                  <i><font color='green'>/*tp_setattro*/</font></i>
<a name='L146'>    0,                                  <i><font color='green'>/*tp_as_buffer*/</font></i>
<a name='L147'>    Py_TPFLAGS_DEFAULT,                 <i><font color='green'>/*tp_flags*/</font></i>
<a name='L148'>    0,                                  <i><font color='green'>/*tp_doc*/</font></i>
<a name='L149'>    0,                                  <i><font color='green'>/*tp_traverse*/</font></i>
<a name='L150'>    0,                                  <i><font color='green'>/*tp_clear*/</font></i>
<a name='L151'>    0,                                  <i><font color='green'>/*tp_richcompare*/</font></i>
<a name='L152'>    0,                                  <i><font color='green'>/*tp_weaklistoffset*/</font></i>
<a name='L153'>    0,                                  <i><font color='green'>/*tp_iter*/</font></i>
<a name='L154'>    0,                                  <i><font color='green'>/*tp_iternext*/</font></i>
<a name='L155'>    sp_handle_methods,                  <i><font color='green'>/*tp_methods*/</font></i>
<a name='L156'><font color='red'>}</font>;
<a name='L157'>
<a name='L158'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L159'><i><font color='green'>/* windows API functions */</font></i>
<a name='L160'>
<a name='L161'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(GetStdHandle_doc,
<a name='L162'>"GetStdHandle(handle) -&gt; integer\n\
<a name='L163'>\n\
<a name='L164'>Return a handle to the specified standard device\n\
<a name='L165'>(STD_INPUT_HANDLE, STD_OUTPUT_HANDLE, STD_ERROR_HANDLE).\n\
<a name='L166'>The integer associated with the handle object is returned.");
<a name='L167'>
<a name='L168'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L169'><a href='../S/2855.html#L616' title='Refered from 616 in PC/_subprocess.c.'>sp_GetStdHandle</a>(PyObject* self, PyObject* args)
<a name='L170'><font color='red'>{</font>
<a name='L171'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> handle;
<a name='L172'>    <b>int</b> std_handle;
<a name='L173'>
<a name='L174'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "i:GetStdHandle", &amp;std_handle))
<a name='L175'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L176'>
<a name='L177'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L178'>    handle = GetStdHandle((DWORD) std_handle);
<a name='L179'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L180'>
<a name='L181'>    <b>if</b> (handle == <a href='../S/2583.html#L47' title='Defined at 47 in Modules/_multiprocessing/multiprocessing.h.'>INVALID_HANDLE_VALUE</a>)
<a name='L182'>        <b>return</b> <a href='../S/3106.html#L546' title='Defined at 546 in Python/errors.c.'>PyErr_SetFromWindowsErr</a>(GetLastError());
<a name='L183'>
<a name='L184'>    <b>if</b> (! handle) <font color='red'>{</font>
<a name='L185'>        Py_INCREF(Py_None);
<a name='L186'>        <b>return</b> Py_None;
<a name='L187'>    <font color='red'>}</font>
<a name='L188'>
<a name='L189'>    <i><font color='green'>/* note: returns integer, not handle object */</font></i>
<a name='L190'>    <b>return</b> <a href='../D/1451.html' title='Multiple defined in 2 places.'>HANDLE_TO_PYNUM</a>(handle);
<a name='L191'><font color='red'>}</font>
<a name='L192'>
<a name='L193'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(GetCurrentProcess_doc,
<a name='L194'>"GetCurrentProcess() -&gt; handle\n\
<a name='L195'>\n\
<a name='L196'>Return a handle object for the current process.");
<a name='L197'>
<a name='L198'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L199'><a href='../S/2855.html#L617' title='Refered from 617 in PC/_subprocess.c.'>sp_GetCurrentProcess</a>(PyObject* self, PyObject* args)
<a name='L200'><font color='red'>{</font>
<a name='L201'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":GetCurrentProcess"))
<a name='L202'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L203'>
<a name='L204'>    <b>return</b> <a href='../S/2855.html#L56' title='Defined at 56 in PC/_subprocess.c.'>sp_handle_new</a>(GetCurrentProcess());
<a name='L205'><font color='red'>}</font>
<a name='L206'>
<a name='L207'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(DuplicateHandle_doc,
<a name='L208'>"DuplicateHandle(source_proc_handle, source_handle,\n\
<a name='L209'>                 target_proc_handle, target_handle, access,\n\
<a name='L210'>                 inherit[, options]) -&gt; handle\n\
<a name='L211'>\n\
<a name='L212'>Return a duplicate handle object.\n\
<a name='L213'>\n\
<a name='L214'>The duplicate handle refers to the same object as the original\n\
<a name='L215'>handle. Therefore, any changes to the object are reflected\n\
<a name='L216'>through both handles.");
<a name='L217'>
<a name='L218'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L219'><a href='../S/2855.html#L619' title='Refered from 619 in PC/_subprocess.c.'>sp_DuplicateHandle</a>(PyObject* self, PyObject* args)
<a name='L220'><font color='red'>{</font>
<a name='L221'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> target_handle;
<a name='L222'>    <a href='../S/2583.html#L42' title='Defined at 42 in Modules/_multiprocessing/multiprocessing.h.'>BOOL</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L223'>
<a name='L224'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> source_process_handle;
<a name='L225'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> source_handle;
<a name='L226'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> target_process_handle;
<a name='L227'>    <b>int</b> desired_access;
<a name='L228'>    <b>int</b> inherit_handle;
<a name='L229'>    <b>int</b> options = 0;
<a name='L230'>
<a name='L231'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>,
<a name='L232'>                           <a href='../D/2599.html' title='Multiple defined in 2 places.'>PY_HANDLE_PARAM</a> <a href='../D/2599.html' title='Multiple defined in 2 places.'>PY_HANDLE_PARAM</a> <a href='../D/2599.html' title='Multiple defined in 2 places.'>PY_HANDLE_PARAM</a>
<a name='L233'>                           "ii|i:DuplicateHandle",
<a name='L234'>                           &amp;source_process_handle,
<a name='L235'>                           &amp;source_handle,
<a name='L236'>                           &amp;target_process_handle,
<a name='L237'>                           &amp;desired_access,
<a name='L238'>                           &amp;inherit_handle,
<a name='L239'>                           &amp;options))
<a name='L240'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L241'>
<a name='L242'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L243'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = DuplicateHandle(
<a name='L244'>        source_process_handle,
<a name='L245'>        source_handle,
<a name='L246'>        target_process_handle,
<a name='L247'>        &amp;target_handle,
<a name='L248'>        desired_access,
<a name='L249'>        inherit_handle,
<a name='L250'>        options
<a name='L251'>    );
<a name='L252'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L253'>
<a name='L254'>    <b>if</b> (! <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L255'>        <b>return</b> <a href='../S/3106.html#L546' title='Defined at 546 in Python/errors.c.'>PyErr_SetFromWindowsErr</a>(GetLastError());
<a name='L256'>
<a name='L257'>    <b>return</b> <a href='../S/2855.html#L56' title='Defined at 56 in PC/_subprocess.c.'>sp_handle_new</a>(target_handle);
<a name='L258'><font color='red'>}</font>
<a name='L259'>
<a name='L260'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(CreatePipe_doc,
<a name='L261'>"CreatePipe(pipe_attrs, size) -&gt; (read_handle, write_handle)\n\
<a name='L262'>\n\
<a name='L263'>Create an anonymous pipe, and return handles to the read and\n\
<a name='L264'>write ends of the pipe.\n\
<a name='L265'>\n\
<a name='L266'>pipe_attrs is ignored internally and can be None.");
<a name='L267'>
<a name='L268'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L269'><a href='../S/2855.html#L621' title='Refered from 621 in PC/_subprocess.c.'>sp_CreatePipe</a>(PyObject* self, PyObject* args)
<a name='L270'><font color='red'>{</font>
<a name='L271'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> read_pipe;
<a name='L272'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> write_pipe;
<a name='L273'>    <a href='../S/2583.html#L42' title='Defined at 42 in Modules/_multiprocessing/multiprocessing.h.'>BOOL</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L274'>
<a name='L275'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* pipe_attributes; <i><font color='green'>/* ignored */</font></i>
<a name='L276'>    <b>int</b> size;
<a name='L277'>
<a name='L278'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "Oi:CreatePipe", &amp;pipe_attributes, &amp;size))
<a name='L279'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L280'>
<a name='L281'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L282'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = CreatePipe(&amp;read_pipe, &amp;write_pipe, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, size);
<a name='L283'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L284'>
<a name='L285'>    <b>if</b> (! <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L286'>        <b>return</b> <a href='../S/3106.html#L546' title='Defined at 546 in Python/errors.c.'>PyErr_SetFromWindowsErr</a>(GetLastError());
<a name='L287'>
<a name='L288'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>(
<a name='L289'>        "NN", <a href='../S/2855.html#L56' title='Defined at 56 in PC/_subprocess.c.'>sp_handle_new</a>(read_pipe), <a href='../S/2855.html#L56' title='Defined at 56 in PC/_subprocess.c.'>sp_handle_new</a>(write_pipe));
<a name='L290'><font color='red'>}</font>
<a name='L291'>
<a name='L292'><i><font color='green'>/* helpers for createprocess */</font></i>
<a name='L293'>
<a name='L294'><b>static</b> <b>int</b>
<a name='L295'><a href='../R/8152.html' title='Multiple refered from 2 places.'>getint</a>(PyObject* obj, <b>char</b>* name)
<a name='L296'><font color='red'>{</font>
<a name='L297'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L298'>    <b>int</b> ret;
<a name='L299'>
<a name='L300'>    <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(obj, name);
<a name='L301'>    <b>if</b> (! <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) <font color='red'>{</font>
<a name='L302'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>(); <i><font color='green'>/* FIXME: propagate error? */</font></i>
<a name='L303'>        <b>return</b> 0;
<a name='L304'>    <font color='red'>}</font>
<a name='L305'>    ret = (<b>int</b>) <a href='../S/2799.html#L416' title='Defined at 416 in Objects/longobject.c.'>PyLong_AsLong</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L306'>    Py_DECREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L307'>    <b>return</b> ret;
<a name='L308'><font color='red'>}</font>
<a name='L309'>
<a name='L310'><b>static</b> <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a>
<a name='L311'><a href='../R/8149.html' title='Multiple refered from 3 places.'>gethandle</a>(PyObject* obj, <b>char</b>* name)
<a name='L312'><font color='red'>{</font>
<a name='L313'>    <a href='../S/2855.html#L51' title='Defined at 51 in PC/_subprocess.c.'>sp_handle_object</a>* <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L314'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> ret;
<a name='L315'>
<a name='L316'>    <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = (<a href='../S/2855.html#L51' title='Defined at 51 in PC/_subprocess.c.'>sp_handle_object</a>*) <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(obj, name);
<a name='L317'>    <b>if</b> (! <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) <font color='red'>{</font>
<a name='L318'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>(); <i><font color='green'>/* FIXME: propagate error? */</font></i>
<a name='L319'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L320'>    <font color='red'>}</font>
<a name='L321'>    <b>if</b> (<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>) != &amp;sp_handle_type)
<a name='L322'>        ret = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L323'>    <b>else</b>
<a name='L324'>        ret = <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>-&gt;handle;
<a name='L325'>    Py_DECREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L326'>    <b>return</b> ret;
<a name='L327'><font color='red'>}</font>
<a name='L328'>
<a name='L329'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L330'><a href='../S/2855.html#L462' title='Refered from 462 in PC/_subprocess.c.'>getenvironment</a>(PyObject* environment)
<a name='L331'><font color='red'>{</font>
<a name='L332'>    <b>int</b> i;
<a name='L333'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> envsize;
<a name='L334'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* out = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L335'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* keys;
<a name='L336'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* values;
<a name='L337'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>* p;
<a name='L338'>
<a name='L339'>    <i><font color='green'>/* convert environment dictionary to windows enviroment string */</font></i>
<a name='L340'>    <b>if</b> (! <a href='../S/2775.html#L1987' title='Defined at 1987 in Objects/abstract.c.'>PyMapping_Check</a>(environment)) <font color='red'>{</font>
<a name='L341'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(
<a name='L342'>            PyExc_TypeError, "environment must be dictionary or None");
<a name='L343'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L344'>    <font color='red'>}</font>
<a name='L345'>
<a name='L346'>    envsize = <a href='../D/3490.html' title='Multiple defined in 3 places.'>PyMapping_Length</a>(environment);
<a name='L347'>
<a name='L348'>    keys = <a href='../S/2775.html#L2083' title='Defined at 2083 in Objects/abstract.c.'>PyMapping_Keys</a>(environment);
<a name='L349'>    values = <a href='../S/2775.html#L2115' title='Defined at 2115 in Objects/abstract.c.'>PyMapping_Values</a>(environment);
<a name='L350'>    <b>if</b> (!keys || !values)
<a name='L351'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L352'>
<a name='L353'>    out = <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 2048);
<a name='L354'>    <b>if</b> (! out)
<a name='L355'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L356'>
<a name='L357'>    p = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(out);
<a name='L358'>
<a name='L359'>    <b>for</b> (i = 0; i &lt; envsize; i++) <font color='red'>{</font>
<a name='L360'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> ksize, vsize, totalsize;
<a name='L361'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a> = PyList_GET_ITEM(keys, i);
<a name='L362'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = PyList_GET_ITEM(values, i);
<a name='L363'>
<a name='L364'>        <b>if</b> (! PyUnicode_Check(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>) || ! PyUnicode_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L365'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L366'>                "environment can only contain strings");
<a name='L367'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L368'>        <font color='red'>}</font>
<a name='L369'>        ksize = <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>);
<a name='L370'>        vsize = <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L371'>        totalsize = (p - <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(out)) + ksize + 1 +
<a name='L372'>                                                     vsize + 1 + 1;
<a name='L373'>        <b>if</b> (totalsize &gt; <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(out)) <font color='red'>{</font>
<a name='L374'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> offset = p - <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(out);
<a name='L375'>            <a href='../D/4031.html' title='Multiple defined in 3 places.'>PyUnicode_Resize</a>(&amp;out, totalsize + 1024);
<a name='L376'>            p = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(out) + offset;
<a name='L377'>        <font color='red'>}</font>
<a name='L378'>        <a href='../S/587.html#L353' title='Defined at 353 in Include/unicodeobject.h.'>Py_UNICODE_COPY</a>(p, <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>), ksize);
<a name='L379'>        p += ksize;
<a name='L380'>        *p++ = '=';
<a name='L381'>        <a href='../S/587.html#L353' title='Defined at 353 in Include/unicodeobject.h.'>Py_UNICODE_COPY</a>(p, <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>), vsize);
<a name='L382'>        p += vsize;
<a name='L383'>        *p++ = '\0';
<a name='L384'>    <font color='red'>}</font>
<a name='L385'>
<a name='L386'>    <i><font color='green'>/* add trailing null byte */</font></i>
<a name='L387'>    *p++ = '\0';
<a name='L388'>    <a href='../D/4031.html' title='Multiple defined in 3 places.'>PyUnicode_Resize</a>(&amp;out, p - <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(out));
<a name='L389'>
<a name='L390'>    <i><font color='green'>/* PyObject_Print(out, stdout, 0); */</font></i>
<a name='L391'>
<a name='L392'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(keys);
<a name='L393'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(values);
<a name='L394'>
<a name='L395'>    <b>return</b> out;
<a name='L396'>
<a name='L397'> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L398'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(out);
<a name='L399'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(keys);
<a name='L400'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(values);
<a name='L401'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L402'><font color='red'>}</font>
<a name='L403'>
<a name='L404'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(CreateProcess_doc,
<a name='L405'>"CreateProcess(app_name, cmd_line, proc_attrs, thread_attrs,\n\
<a name='L406'>               inherit, flags, env_mapping, curdir,\n\
<a name='L407'>               startup_info) -&gt; (proc_handle, thread_handle,\n\
<a name='L408'>                                 pid, tid)\n\
<a name='L409'>\n\
<a name='L410'>Create a new process and its primary thread. The return\n\
<a name='L411'>value is a tuple of the process handle, thread handle,\n\
<a name='L412'>process ID, and thread ID.\n\
<a name='L413'>\n\
<a name='L414'>proc_attrs and thread_attrs are ignored internally and can be None.");
<a name='L415'>
<a name='L416'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L417'><a href='../S/2855.html#L622' title='Refered from 622 in PC/_subprocess.c.'>sp_CreateProcess</a>(PyObject* self, PyObject* args)
<a name='L418'><font color='red'>{</font>
<a name='L419'>    <a href='../S/2583.html#L42' title='Defined at 42 in Modules/_multiprocessing/multiprocessing.h.'>BOOL</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L420'>    PROCESS_INFORMATION pi;
<a name='L421'>    STARTUPINFOW si;
<a name='L422'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* environment;
<a name='L423'>
<a name='L424'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>* application_name;
<a name='L425'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>* command_line;
<a name='L426'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* process_attributes; <i><font color='green'>/* ignored */</font></i>
<a name='L427'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* thread_attributes; <i><font color='green'>/* ignored */</font></i>
<a name='L428'>    <b>int</b> inherit_handles;
<a name='L429'>    <b>int</b> creation_flags;
<a name='L430'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* env_mapping;
<a name='L431'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a>* current_directory;
<a name='L432'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* startup_info;
<a name='L433'>
<a name='L434'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "ZZOOiiOZO:CreateProcess",
<a name='L435'>                           &amp;application_name,
<a name='L436'>                           &amp;command_line,
<a name='L437'>                           &amp;process_attributes,
<a name='L438'>                           &amp;thread_attributes,
<a name='L439'>                           &amp;inherit_handles,
<a name='L440'>                           &amp;creation_flags,
<a name='L441'>                           &amp;env_mapping,
<a name='L442'>                           &amp;current_directory,
<a name='L443'>                           &amp;startup_info))
<a name='L444'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L445'>
<a name='L446'>    ZeroMemory(&amp;si, <b>sizeof</b>(si));
<a name='L447'>    si.cb = <b>sizeof</b>(si);
<a name='L448'>
<a name='L449'>    <i><font color='green'>/* note: we only support a small subset of all SI attributes */</font></i>
<a name='L450'>    si.dwFlags = <a href='../S/2855.html#L295' title='Defined at 295 in PC/_subprocess.c.'>getint</a>(startup_info, "dwFlags");
<a name='L451'>    si.wShowWindow = <a href='../S/2855.html#L295' title='Defined at 295 in PC/_subprocess.c.'>getint</a>(startup_info, "wShowWindow");
<a name='L452'>    si.hStdInput = <a href='../S/2855.html#L311' title='Defined at 311 in PC/_subprocess.c.'>gethandle</a>(startup_info, "hStdInput");
<a name='L453'>    si.hStdOutput = <a href='../S/2855.html#L311' title='Defined at 311 in PC/_subprocess.c.'>gethandle</a>(startup_info, "hStdOutput");
<a name='L454'>    si.hStdError = <a href='../S/2855.html#L311' title='Defined at 311 in PC/_subprocess.c.'>gethandle</a>(startup_info, "hStdError");
<a name='L455'>
<a name='L456'>    <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L457'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L458'>
<a name='L459'>    <b>if</b> (env_mapping == Py_None)
<a name='L460'>        environment = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L461'>    <b>else</b> <font color='red'>{</font>
<a name='L462'>        environment = <a href='../S/2855.html#L330' title='Defined at 330 in PC/_subprocess.c.'>getenvironment</a>(env_mapping);
<a name='L463'>        <b>if</b> (! environment)
<a name='L464'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L465'>    <font color='red'>}</font>
<a name='L466'>
<a name='L467'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L468'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = CreateProcessW(application_name,
<a name='L469'>                           command_line,
<a name='L470'>                           <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L471'>                           <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L472'>                           inherit_handles,
<a name='L473'>                           creation_flags | CREATE_UNICODE_ENVIRONMENT,
<a name='L474'>                           environment ? <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(environment) : <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L475'>                           current_directory,
<a name='L476'>                           &amp;si,
<a name='L477'>                           &amp;pi);
<a name='L478'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L479'>
<a name='L480'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(environment);
<a name='L481'>
<a name='L482'>    <b>if</b> (! <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L483'>        <b>return</b> <a href='../S/3106.html#L546' title='Defined at 546 in Python/errors.c.'>PyErr_SetFromWindowsErr</a>(GetLastError());
<a name='L484'>
<a name='L485'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("NNii",
<a name='L486'>                         <a href='../S/2855.html#L56' title='Defined at 56 in PC/_subprocess.c.'>sp_handle_new</a>(pi.hProcess),
<a name='L487'>                         <a href='../S/2855.html#L56' title='Defined at 56 in PC/_subprocess.c.'>sp_handle_new</a>(pi.hThread),
<a name='L488'>                         pi.dwProcessId,
<a name='L489'>                         pi.dwThreadId);
<a name='L490'><font color='red'>}</font>
<a name='L491'>
<a name='L492'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(TerminateProcess_doc,
<a name='L493'>"TerminateProcess(handle, exit_code) -&gt; None\n\
<a name='L494'>\n\
<a name='L495'>Terminate the specified process and all of its threads.");
<a name='L496'>
<a name='L497'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L498'><a href='../S/2855.html#L623' title='Refered from 623 in PC/_subprocess.c.'>sp_TerminateProcess</a>(PyObject* self, PyObject* args)
<a name='L499'><font color='red'>{</font>
<a name='L500'>    <a href='../S/2583.html#L42' title='Defined at 42 in Modules/_multiprocessing/multiprocessing.h.'>BOOL</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L501'>
<a name='L502'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> process;
<a name='L503'>    <b>int</b> exit_code;
<a name='L504'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, <a href='../D/2599.html' title='Multiple defined in 2 places.'>PY_HANDLE_PARAM</a> "i:TerminateProcess",
<a name='L505'>                           &amp;process, &amp;exit_code))
<a name='L506'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L507'>
<a name='L508'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = TerminateProcess(process, exit_code);
<a name='L509'>
<a name='L510'>    <b>if</b> (! <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L511'>        <b>return</b> <a href='../S/3106.html#L546' title='Defined at 546 in Python/errors.c.'>PyErr_SetFromWindowsErr</a>(GetLastError());
<a name='L512'>
<a name='L513'>    Py_INCREF(Py_None);
<a name='L514'>    <b>return</b> Py_None;
<a name='L515'><font color='red'>}</font>
<a name='L516'>
<a name='L517'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(GetExitCodeProcess_doc,
<a name='L518'>"GetExitCodeProcess(handle) -&gt; Exit code\n\
<a name='L519'>\n\
<a name='L520'>Return the termination status of the specified process.");
<a name='L521'>
<a name='L522'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L523'><a href='../S/2855.html#L625' title='Refered from 625 in PC/_subprocess.c.'>sp_GetExitCodeProcess</a>(PyObject* self, PyObject* args)
<a name='L524'><font color='red'>{</font>
<a name='L525'>    DWORD exit_code;
<a name='L526'>    <a href='../S/2583.html#L42' title='Defined at 42 in Modules/_multiprocessing/multiprocessing.h.'>BOOL</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L527'>
<a name='L528'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> process;
<a name='L529'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, <a href='../D/2599.html' title='Multiple defined in 2 places.'>PY_HANDLE_PARAM</a> ":GetExitCodeProcess", &amp;process))
<a name='L530'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L531'>
<a name='L532'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = GetExitCodeProcess(process, &amp;exit_code);
<a name='L533'>
<a name='L534'>    <b>if</b> (! <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L535'>        <b>return</b> <a href='../S/3106.html#L546' title='Defined at 546 in Python/errors.c.'>PyErr_SetFromWindowsErr</a>(GetLastError());
<a name='L536'>
<a name='L537'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(exit_code);
<a name='L538'><font color='red'>}</font>
<a name='L539'>
<a name='L540'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(WaitForSingleObject_doc,
<a name='L541'>"WaitForSingleObject(handle, timeout) -&gt; result\n\
<a name='L542'>\n\
<a name='L543'>Wait until the specified object is in the signaled state or\n\
<a name='L544'>the time-out interval elapses. The timeout value is specified\n\
<a name='L545'>in milliseconds.");
<a name='L546'>
<a name='L547'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L548'><a href='../S/2855.html#L627' title='Refered from 627 in PC/_subprocess.c.'>sp_WaitForSingleObject</a>(PyObject* self, PyObject* args)
<a name='L549'><font color='red'>{</font>
<a name='L550'>    DWORD <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L551'>
<a name='L552'>    <a href='../S/2583.html#L40' title='Defined at 40 in Modules/_multiprocessing/multiprocessing.h.'>HANDLE</a> handle;
<a name='L553'>    <b>int</b> milliseconds;
<a name='L554'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, <a href='../D/2599.html' title='Multiple defined in 2 places.'>PY_HANDLE_PARAM</a> "i:WaitForSingleObject",
<a name='L555'>                                 &amp;handle,
<a name='L556'>                                 &amp;milliseconds))
<a name='L557'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L558'>
<a name='L559'>    <a href='../D/4080.html' title='Multiple defined in 2 places.'>Py_BEGIN_ALLOW_THREADS</a>
<a name='L560'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = WaitForSingleObject(handle, (DWORD) milliseconds);
<a name='L561'>    <a href='../D/4114.html' title='Multiple defined in 2 places.'>Py_END_ALLOW_THREADS</a>
<a name='L562'>
<a name='L563'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == WAIT_FAILED)
<a name='L564'>        <b>return</b> <a href='../S/3106.html#L546' title='Defined at 546 in Python/errors.c.'>PyErr_SetFromWindowsErr</a>(GetLastError());
<a name='L565'>
<a name='L566'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((<b>int</b>) <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L567'><font color='red'>}</font>
<a name='L568'>
<a name='L569'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(GetVersion_doc,
<a name='L570'>"GetVersion() -&gt; version\n\
<a name='L571'>\n\
<a name='L572'>Return the version number of the current operating system.");
<a name='L573'>
<a name='L574'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L575'><a href='../S/2855.html#L629' title='Refered from 629 in PC/_subprocess.c.'>sp_GetVersion</a>(PyObject* self, PyObject* args)
<a name='L576'><font color='red'>{</font>
<a name='L577'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, ":GetVersion"))
<a name='L578'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L579'>
<a name='L580'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((<b>int</b>) GetVersion());
<a name='L581'><font color='red'>}</font>
<a name='L582'>
<a name='L583'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(GetModuleFileName_doc,
<a name='L584'>"GetModuleFileName(module) -&gt; path\n\
<a name='L585'>\n\
<a name='L586'>Return the fully-qualified path for the file that contains\n\
<a name='L587'>the specified module. The module must have been loaded by the\n\
<a name='L588'>current process.\n\
<a name='L589'>\n\
<a name='L590'>The module parameter should be a handle to the loaded module\n\
<a name='L591'>whose path is being requested. If this parameter is 0, \n\
<a name='L592'>GetModuleFileName retrieves the path of the executable file\n\
<a name='L593'>of the current process.");
<a name='L594'>
<a name='L595'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L596'><a href='../S/2855.html#L630' title='Refered from 630 in PC/_subprocess.c.'>sp_GetModuleFileName</a>(PyObject* self, PyObject* args)
<a name='L597'><font color='red'>{</font>
<a name='L598'>    <a href='../S/2583.html#L42' title='Defined at 42 in Modules/_multiprocessing/multiprocessing.h.'>BOOL</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L599'>    HMODULE module;
<a name='L600'>    WCHAR filename[<a href='../S/2696.html#L2498' title='Defined at 2498 in Modules/posixmodule.c.'>MAX_PATH</a>];
<a name='L601'>
<a name='L602'>    <b>if</b> (! <a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, <a href='../D/2599.html' title='Multiple defined in 2 places.'>PY_HANDLE_PARAM</a> ":GetModuleFileName",
<a name='L603'>                           &amp;module))
<a name='L604'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L605'>
<a name='L606'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = GetModuleFileNameW(module, filename, <a href='../S/2696.html#L2498' title='Defined at 2498 in Modules/posixmodule.c.'>MAX_PATH</a>);
<a name='L607'>    filename[<a href='../S/2696.html#L2498' title='Defined at 2498 in Modules/posixmodule.c.'>MAX_PATH</a>-1] = '\0';
<a name='L608'>
<a name='L609'>    <b>if</b> (! <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L610'>        <b>return</b> <a href='../S/3106.html#L546' title='Defined at 546 in Python/errors.c.'>PyErr_SetFromWindowsErr</a>(GetLastError());
<a name='L611'>
<a name='L612'>    <b>return</b> <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(filename, <a href='../S/2828.html#L10239' title='Defined at 10239 in Objects/unicodeobject.c.'>Py_UNICODE_strlen</a>(filename));
<a name='L613'><font color='red'>}</font>
<a name='L614'>
<a name='L615'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> sp_functions[] = <font color='red'>{</font>
<a name='L616'>    <font color='red'>{</font>"GetStdHandle", <a href='../S/2855.html#L169' title='Defined at 169 in PC/_subprocess.c.'>sp_GetStdHandle</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, GetStdHandle_doc<font color='red'>}</font>,
<a name='L617'>    <font color='red'>{</font>"GetCurrentProcess", <a href='../S/2855.html#L199' title='Defined at 199 in PC/_subprocess.c.'>sp_GetCurrentProcess</a>,         <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L618'>                                              GetCurrentProcess_doc<font color='red'>}</font>,
<a name='L619'>    <font color='red'>{</font>"DuplicateHandle",         <a href='../S/2855.html#L219' title='Defined at 219 in PC/_subprocess.c.'>sp_DuplicateHandle</a>,     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L620'>                                            DuplicateHandle_doc<font color='red'>}</font>,
<a name='L621'>    <font color='red'>{</font>"CreatePipe", <a href='../S/2855.html#L269' title='Defined at 269 in PC/_subprocess.c.'>sp_CreatePipe</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, CreatePipe_doc<font color='red'>}</font>,
<a name='L622'>    <font color='red'>{</font>"CreateProcess", <a href='../S/2855.html#L417' title='Defined at 417 in PC/_subprocess.c.'>sp_CreateProcess</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, CreateProcess_doc<font color='red'>}</font>,
<a name='L623'>    <font color='red'>{</font>"TerminateProcess", <a href='../S/2855.html#L498' title='Defined at 498 in PC/_subprocess.c.'>sp_TerminateProcess</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L624'>                                             TerminateProcess_doc<font color='red'>}</font>,
<a name='L625'>    <font color='red'>{</font>"GetExitCodeProcess", <a href='../S/2855.html#L523' title='Defined at 523 in PC/_subprocess.c.'>sp_GetExitCodeProcess</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L626'>                                               GetExitCodeProcess_doc<font color='red'>}</font>,
<a name='L627'>    <font color='red'>{</font>"WaitForSingleObject", <a href='../S/2855.html#L548' title='Defined at 548 in PC/_subprocess.c.'>sp_WaitForSingleObject</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L628'>                                                    WaitForSingleObject_doc<font color='red'>}</font>,
<a name='L629'>    <font color='red'>{</font>"GetVersion", <a href='../S/2855.html#L575' title='Defined at 575 in PC/_subprocess.c.'>sp_GetVersion</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, GetVersion_doc<font color='red'>}</font>,
<a name='L630'>    <font color='red'>{</font>"GetModuleFileName", <a href='../S/2855.html#L596' title='Defined at 596 in PC/_subprocess.c.'>sp_GetModuleFileName</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L631'>                                              GetModuleFileName_doc<font color='red'>}</font>,
<a name='L632'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L633'><font color='red'>}</font>;
<a name='L634'>
<a name='L635'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L636'>
<a name='L637'><b>static</b> <b>void</b>
<a name='L638'><a href='../R/7223.html' title='Multiple refered from 11 places.'>defint</a>(PyObject* d, <b>const</b> <b>char</b>* name, <b>int</b> value)
<a name='L639'><font color='red'>{</font>
<a name='L640'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* v = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((<b>long</b>) <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L641'>    <b>if</b> (v) <font color='red'>{</font>
<a name='L642'>        <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, (<b>char</b>*) name, v);
<a name='L643'>        Py_DECREF(v);
<a name='L644'>    <font color='red'>}</font>
<a name='L645'><font color='red'>}</font>
<a name='L646'>
<a name='L647'><b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> _subprocessmodule = <font color='red'>{</font>
<a name='L648'>    <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,
<a name='L649'>    "_subprocess",
<a name='L650'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L651'>    -1,
<a name='L652'>    sp_functions,
<a name='L653'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L654'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L655'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L656'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L657'><font color='red'>}</font>;
<a name='L658'>
<a name='L659'><a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L660'><a href='../R/3041.html' title='Multiple refered from 2 places.'>PyInit__subprocess</a>()
<a name='L661'><font color='red'>{</font>
<a name='L662'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *d;
<a name='L663'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m;
<a name='L664'>
<a name='L665'>    <i><font color='green'>/* patch up object descriptors */</font></i>
<a name='L666'>    sp_handle_as_number.nb_int = (unaryfunc) <a href='../S/2855.html#L122' title='Defined at 122 in PC/_subprocess.c.'>sp_handle_as_int</a>;
<a name='L667'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;sp_handle_type) &lt; 0)
<a name='L668'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L669'>
<a name='L670'>    m = PyModule_Create(&amp;_subprocessmodule);
<a name='L671'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L672'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L673'>    d = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(m);
<a name='L674'>
<a name='L675'>    <i><font color='green'>/* constants */</font></i>
<a name='L676'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "STD_INPUT_HANDLE", STD_INPUT_HANDLE);
<a name='L677'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "STD_OUTPUT_HANDLE", STD_OUTPUT_HANDLE);
<a name='L678'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "STD_ERROR_HANDLE", STD_ERROR_HANDLE);
<a name='L679'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "DUPLICATE_SAME_ACCESS", DUPLICATE_SAME_ACCESS);
<a name='L680'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "STARTF_USESTDHANDLES", STARTF_USESTDHANDLES);
<a name='L681'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "STARTF_USESHOWWINDOW", STARTF_USESHOWWINDOW);
<a name='L682'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "SW_HIDE", SW_HIDE);
<a name='L683'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "INFINITE", INFINITE);
<a name='L684'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "WAIT_OBJECT_0", WAIT_OBJECT_0);
<a name='L685'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "CREATE_NEW_CONSOLE", CREATE_NEW_CONSOLE);
<a name='L686'>    <a href='../S/2855.html#L638' title='Defined at 638 in PC/_subprocess.c.'>defint</a>(d, "CREATE_NEW_PROCESS_GROUP", CREATE_NEW_PROCESS_GROUP);
<a name='L687'>
<a name='L688'>    <b>return</b> m;
<a name='L689'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L56'>[^]</a><a href='#L660'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
