<html>
<head>
<title>Parser/printgrammar.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3401.html'>Parser</a>/printgrammar.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L16'>[^]</a><a href='#L104'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L16' title='Defined at 16.'>printgrammar</a>
<li><a href='#L33' title='Defined at 33.'>printnonterminals</a>
<li><a href='#L46' title='Defined at 46.'>printarcs</a>
<li><a href='#L64' title='Defined at 64.'>printstates</a>
<li><a href='#L84' title='Defined at 84.'>printdfas</a>
<li><a href='#L104' title='Defined at 104.'>printlabels</a>
</ol>
<hr>
<pre>
<a name='L1'>
<a name='L2'><i><font color='green'>/* Print a bunch of C initializers that represent a grammar */</font></i>
<a name='L3'>
<a name='L4'><font color='darkred'>#define</font> <a href='../R/2253.html' title='Multiple refered from 9 places.'>PGEN</a>
<a name='L5'>
<a name='L6'><font color='darkred'>#include</font> "<a href='551.html'>pgenheaders.h</a>"
<a name='L7'><font color='darkred'>#include</font> "<a href='530.html'>grammar.h</a>"
<a name='L8'>
<a name='L9'><i><font color='green'>/* Forward */</font></i>
<a name='L10'><b>static</b> <b>void</b> <a href='../S/2848.html#L46' title='Defined at 46 in Parser/printgrammar.c.'>printarcs</a>(<b>int</b>, dfa *, FILE *);
<a name='L11'><b>static</b> <b>void</b> <a href='../S/2848.html#L64' title='Defined at 64 in Parser/printgrammar.c.'>printstates</a>(grammar *, FILE *);
<a name='L12'><b>static</b> <b>void</b> <a href='../S/2848.html#L84' title='Defined at 84 in Parser/printgrammar.c.'>printdfas</a>(grammar *, FILE *);
<a name='L13'><b>static</b> <b>void</b> <a href='../S/2848.html#L104' title='Defined at 104 in Parser/printgrammar.c.'>printlabels</a>(grammar *, FILE *);
<a name='L14'>
<a name='L15'><b>void</b>
<a name='L16'><a href='../R/9711.html' title='Multiple refered from 2 places.'>printgrammar</a>(grammar *g, FILE *fp)
<a name='L17'><font color='red'>{</font>
<a name='L18'>    fprintf(fp, "/* Generated by Parser/pgen */\n\n");
<a name='L19'>    fprintf(fp, "#include \"pgenheaders.h\"\n");
<a name='L20'>    fprintf(fp, "#include \"grammar.h\"\n");
<a name='L21'>    fprintf(fp, "PyAPI_DATA(grammar) _PyParser_Grammar;\n");
<a name='L22'>    <a href='../S/2848.html#L84' title='Defined at 84 in Parser/printgrammar.c.'>printdfas</a>(g, fp);
<a name='L23'>    <a href='../S/2848.html#L104' title='Defined at 104 in Parser/printgrammar.c.'>printlabels</a>(g, fp);
<a name='L24'>    fprintf(fp, "grammar _PyParser_Grammar = {\n");
<a name='L25'>    fprintf(fp, "    %d,\n", g-&gt;g_ndfas);
<a name='L26'>    fprintf(fp, "    dfas,\n");
<a name='L27'>    fprintf(fp, "    {%d, labels},\n", g-&gt;g_ll.ll_nlabels);
<a name='L28'>    fprintf(fp, "    %d\n", g-&gt;g_start);
<a name='L29'>    fprintf(fp, "};\n");
<a name='L30'><font color='red'>}</font>
<a name='L31'>
<a name='L32'><b>void</b>
<a name='L33'><a href='../R/9713.html' title='Multiple refered from 2 places.'>printnonterminals</a>(grammar *g, FILE *fp)
<a name='L34'><font color='red'>{</font>
<a name='L35'>    <a href='../S/530.html#L57' title='Defined at 57 in Include/grammar.h.'>dfa</a> *d;
<a name='L36'>    <b>int</b> i;
<a name='L37'>
<a name='L38'>    fprintf(fp, "/* Generated by Parser/pgen */\n\n");
<a name='L39'>
<a name='L40'>    d = g-&gt;g_dfa;
<a name='L41'>    <b>for</b> (i = g-&gt;g_ndfas; --i &gt;= 0; d++)
<a name='L42'>        fprintf(fp, "#define %s %d\n", d-&gt;d_name, d-&gt;d_type);
<a name='L43'><font color='red'>}</font>
<a name='L44'>
<a name='L45'><b>static</b> <b>void</b>
<a name='L46'><a href='../R/9708.html' title='Multiple refered from 2 places.'>printarcs</a>(<b>int</b> i, dfa *d, FILE *fp)
<a name='L47'><font color='red'>{</font>
<a name='L48'>    <a href='../S/530.html#L33' title='Defined at 33 in Include/grammar.h.'>arc</a> *a;
<a name='L49'>    <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> *s;
<a name='L50'>    <b>int</b> j, k;
<a name='L51'>
<a name='L52'>    s = d-&gt;d_state;
<a name='L53'>    <b>for</b> (j = 0; j &lt; d-&gt;d_nstates; j++, s++) <font color='red'>{</font>
<a name='L54'>        fprintf(fp, "static arc arcs_%d_%d[%d] = {\n",
<a name='L55'>            i, j, s-&gt;s_narcs);
<a name='L56'>        a = s-&gt;s_arc;
<a name='L57'>        <b>for</b> (k = 0; k &lt; s-&gt;s_narcs; k++, a++)
<a name='L58'>            fprintf(fp, "    {%d, %d},\n", a-&gt;a_lbl, a-&gt;a_arrow);
<a name='L59'>        fprintf(fp, "};\n");
<a name='L60'>    <font color='red'>}</font>
<a name='L61'><font color='red'>}</font>
<a name='L62'>
<a name='L63'><b>static</b> <b>void</b>
<a name='L64'><a href='../R/9716.html' title='Multiple refered from 2 places.'>printstates</a>(grammar *g, FILE *fp)
<a name='L65'><font color='red'>{</font>
<a name='L66'>    <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> *s;
<a name='L67'>    <a href='../S/530.html#L57' title='Defined at 57 in Include/grammar.h.'>dfa</a> *d;
<a name='L68'>    <b>int</b> i, j;
<a name='L69'>
<a name='L70'>    d = g-&gt;g_dfa;
<a name='L71'>    <b>for</b> (i = 0; i &lt; g-&gt;g_ndfas; i++, d++) <font color='red'>{</font>
<a name='L72'>        <a href='../S/2848.html#L46' title='Defined at 46 in Parser/printgrammar.c.'>printarcs</a>(i, d, fp);
<a name='L73'>        fprintf(fp, "static state states_%d[%d] = {\n",
<a name='L74'>            i, d-&gt;d_nstates);
<a name='L75'>        s = d-&gt;d_state;
<a name='L76'>        <b>for</b> (j = 0; j &lt; d-&gt;d_nstates; j++, s++)
<a name='L77'>            fprintf(fp, "    {%d, arcs_%d_%d},\n",
<a name='L78'>                s-&gt;s_narcs, i, j);
<a name='L79'>        fprintf(fp, "};\n");
<a name='L80'>    <font color='red'>}</font>
<a name='L81'><font color='red'>}</font>
<a name='L82'>
<a name='L83'><b>static</b> <b>void</b>
<a name='L84'><a href='../R/9709.html' title='Multiple refered from 2 places.'>printdfas</a>(grammar *g, FILE *fp)
<a name='L85'><font color='red'>{</font>
<a name='L86'>    <a href='../S/530.html#L57' title='Defined at 57 in Include/grammar.h.'>dfa</a> *d;
<a name='L87'>    <b>int</b> i, j;
<a name='L88'>
<a name='L89'>    <a href='../S/2848.html#L64' title='Defined at 64 in Parser/printgrammar.c.'>printstates</a>(g, fp);
<a name='L90'>    fprintf(fp, "static dfa dfas[%d] = {\n", g-&gt;g_ndfas);
<a name='L91'>    d = g-&gt;g_dfa;
<a name='L92'>    <b>for</b> (i = 0; i &lt; g-&gt;g_ndfas; i++, d++) <font color='red'>{</font>
<a name='L93'>        fprintf(fp, "    {%d, \"%s\", %d, %d, states_%d,\n",
<a name='L94'>            d-&gt;d_type, d-&gt;d_name, d-&gt;d_initial, d-&gt;d_nstates, i);
<a name='L95'>        fprintf(fp, "     \"");
<a name='L96'>        <b>for</b> (j = 0; j &lt; <a href='../S/502.html#L22' title='Defined at 22 in Include/bitset.h.'>NBYTES</a>(g-&gt;g_ll.ll_nlabels); j++)
<a name='L97'>            fprintf(fp, "\\%03o", d-&gt;d_first[j] &amp; 0xff);
<a name='L98'>        fprintf(fp, "\"},\n");
<a name='L99'>    <font color='red'>}</font>
<a name='L100'>    fprintf(fp, "};\n");
<a name='L101'><font color='red'>}</font>
<a name='L102'>
<a name='L103'><b>static</b> <b>void</b>
<a name='L104'><a href='../R/9712.html' title='Multiple refered from 2 places.'>printlabels</a>(grammar *g, FILE *fp)
<a name='L105'><font color='red'>{</font>
<a name='L106'>    <a href='../S/530.html#L17' title='Defined at 17 in Include/grammar.h.'>label</a> *l;
<a name='L107'>    <b>int</b> i;
<a name='L108'>
<a name='L109'>    fprintf(fp, "static label labels[%d] = {\n", g-&gt;g_ll.ll_nlabels);
<a name='L110'>    l = g-&gt;g_ll.ll_label;
<a name='L111'>    <b>for</b> (i = g-&gt;g_ll.ll_nlabels; --i &gt;= 0; l++) <font color='red'>{</font>
<a name='L112'>        <b>if</b> (l-&gt;lb_str == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L113'>            fprintf(fp, "    {%d, 0},\n", l-&gt;lb_type);
<a name='L114'>        <b>else</b>
<a name='L115'>            fprintf(fp, "    {%d, \"%s\"},\n",
<a name='L116'>                l-&gt;lb_type, l-&gt;lb_str);
<a name='L117'>    <font color='red'>}</font>
<a name='L118'>    fprintf(fp, "};\n");
<a name='L119'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L16'>[^]</a><a href='#L104'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
