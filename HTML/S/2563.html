<html>
<head>
<title>Modules/_functoolsmodule.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/_functoolsmodule.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L26'>[^]</a><a href='#L433'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L26' title='Defined at 26.'>partial_new</a>
<li><a href='#L75' title='Defined at 75.'>partial_dealloc</a>
<li><a href='#L88' title='Defined at 88.'>partial_call</a>
<li><a href='#L134' title='Defined at 134.'>partial_traverse</a>
<li><a href='#L159' title='Defined at 159.'>partial_get_dict</a>
<li><a href='#L171' title='Defined at 171.'>partial_set_dict</a>
<li><a href='#L200' title='Defined at 200.'>partial_repr</a>
<li><a href='#L249' title='Defined at 249.'>partial_reduce</a>
<li><a href='#L257' title='Defined at 257.'>partial_setstate</a>
<li><a href='#L336' title='Defined at 336.'>functools_reduce</a>
<li><a href='#L433' title='Defined at 433.'>PyInit__functools</a>
</ol>
<hr>
<pre>
<a name='L1'>
<a name='L2'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L3'><font color='darkred'>#include</font> "<a href='577.html'>structmember.h</a>"
<a name='L4'>
<a name='L5'><i><font color='green'>/* _functools module written and maintained</font></i>
<a name='L6'><i><font color='green'>   by Hye-Shik Chang &lt;perky@FreeBSD.org&gt;</font></i>
<a name='L7'><i><font color='green'>   with adaptations by Raymond Hettinger &lt;python@rcn.com&gt;</font></i>
<a name='L8'><i><font color='green'>   Copyright (c) 2004, 2005, 2006 Python Software Foundation.</font></i>
<a name='L9'><i><font color='green'>   All rights reserved.</font></i>
<a name='L10'><i><font color='green'>*/</font></i>
<a name='L11'>
<a name='L12'><i><font color='green'>/* partial object **********************************************************/</font></i>
<a name='L13'>
<a name='L14'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L15'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L16'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>;
<a name='L17'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L18'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *kw;
<a name='L19'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *dict;
<a name='L20'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *weakreflist; <i><font color='green'>/* List of weak references */</font></i>
<a name='L21'><font color='red'>}</font> <a href='../R/9497.html' title='Multiple refered from 6 places.'>partialobject</a>;
<a name='L22'>
<a name='L23'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> partial_type;
<a name='L24'>
<a name='L25'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L26'><a href='../S/2563.html#L328' title='Refered from 328 in Modules/_functoolsmodule.c.'>partial_new</a>(PyTypeObject *type, PyObject *args, PyObject *kw)
<a name='L27'><font color='red'>{</font>
<a name='L28'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *func;
<a name='L29'>    <a href='../S/2563.html#L21' title='Defined at 21 in Modules/_functoolsmodule.c.'>partialobject</a> *pto;
<a name='L30'>
<a name='L31'>    <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) &lt; 1) <font color='red'>{</font>
<a name='L32'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L33'>                        "type 'partial' takes at least one argument");
<a name='L34'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L35'>    <font color='red'>}</font>
<a name='L36'>
<a name='L37'>    func = PyTuple_GET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0);
<a name='L38'>    <b>if</b> (!<a href='../S/2803.html#L1180' title='Defined at 1180 in Objects/object.c.'>PyCallable_Check</a>(func)) <font color='red'>{</font>
<a name='L39'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L40'>                        "the first argument must be callable");
<a name='L41'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L42'>    <font color='red'>}</font>
<a name='L43'>
<a name='L44'>    <i><font color='green'>/* create partialobject structure */</font></i>
<a name='L45'>    pto = (<a href='../S/2563.html#L21' title='Defined at 21 in Modules/_functoolsmodule.c.'>partialobject</a> *)type-&gt;tp_alloc(type, 0);
<a name='L46'>    <b>if</b> (pto == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L47'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L48'>
<a name='L49'>    pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a> = func;
<a name='L50'>    Py_INCREF(func);
<a name='L51'>    pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L400' title='Defined at 400 in Objects/tupleobject.c.'>PyTuple_GetSlice</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 1, <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>);
<a name='L52'>    <b>if</b> (pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L53'>        pto-&gt;kw = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L54'>        Py_DECREF(pto);
<a name='L55'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L56'>    <font color='red'>}</font>
<a name='L57'>    <b>if</b> (kw != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L58'>        pto-&gt;kw = <a href='../S/2787.html#L1602' title='Defined at 1602 in Objects/dictobject.c.'>PyDict_Copy</a>(kw);
<a name='L59'>        <b>if</b> (pto-&gt;kw == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L60'>            Py_DECREF(pto);
<a name='L61'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L62'>        <font color='red'>}</font>
<a name='L63'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L64'>        pto-&gt;kw = Py_None;
<a name='L65'>        Py_INCREF(Py_None);
<a name='L66'>    <font color='red'>}</font>
<a name='L67'>
<a name='L68'>    pto-&gt;weakreflist = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L69'>    pto-&gt;dict = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L70'>
<a name='L71'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)pto;
<a name='L72'><font color='red'>}</font>
<a name='L73'>
<a name='L74'><b>static</b> <b>void</b>
<a name='L75'><a href='../S/2563.html#L294' title='Refered from 294 in Modules/_functoolsmodule.c.'>partial_dealloc</a>(partialobject *pto)
<a name='L76'><font color='red'>{</font>
<a name='L77'>    <a href='../D/3619.html' title='Multiple defined in 2 places.'>PyObject_GC_UnTrack</a>(pto);
<a name='L78'>    <b>if</b> (pto-&gt;weakreflist != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L79'>        <a href='../S/2830.html#L872' title='Defined at 872 in Objects/weakrefobject.c.'>PyObject_ClearWeakRefs</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) pto);
<a name='L80'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>);
<a name='L81'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L82'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pto-&gt;kw);
<a name='L83'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pto-&gt;dict);
<a name='L84'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(pto)-&gt;tp_free(pto);
<a name='L85'><font color='red'>}</font>
<a name='L86'>
<a name='L87'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L88'><a href='../S/2563.html#L304' title='Refered from 304 in Modules/_functoolsmodule.c.'>partial_call</a>(partialobject *pto, PyObject *args, PyObject *kw)
<a name='L89'><font color='red'>{</font>
<a name='L90'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ret;
<a name='L91'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *argappl = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *kwappl = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L92'>
<a name='L93'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a> (<a href='../S/2803.html#L1180' title='Defined at 1180 in Objects/object.c.'>PyCallable_Check</a>(pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>));
<a name='L94'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a> (PyTuple_Check(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>));
<a name='L95'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a> (pto-&gt;kw == Py_None  ||  PyDict_Check(pto-&gt;kw));
<a name='L96'>
<a name='L97'>    <b>if</b> (PyTuple_GET_SIZE(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 0) <font color='red'>{</font>
<a name='L98'>        argappl = <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L99'>        Py_INCREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L100'>    <font color='red'>}</font> <b>else</b> <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 0) <font color='red'>{</font>
<a name='L101'>        argappl = pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>;
<a name='L102'>        Py_INCREF(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L103'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L104'>        argappl = <a href='../S/2775.html#L1478' title='Defined at 1478 in Objects/abstract.c.'>PySequence_Concat</a>(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L105'>        <b>if</b> (argappl == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L106'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L107'>    <font color='red'>}</font>
<a name='L108'>
<a name='L109'>    <b>if</b> (pto-&gt;kw == Py_None) <font color='red'>{</font>
<a name='L110'>        kwappl = kw;
<a name='L111'>        <a href='../S/544.html#L766' title='Defined at 766 in Include/object.h.'>Py_XINCREF</a>(kw);
<a name='L112'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L113'>        kwappl = <a href='../S/2787.html#L1602' title='Defined at 1602 in Objects/dictobject.c.'>PyDict_Copy</a>(pto-&gt;kw);
<a name='L114'>        <b>if</b> (kwappl == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L115'>            Py_DECREF(argappl);
<a name='L116'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L117'>        <font color='red'>}</font>
<a name='L118'>        <b>if</b> (kw != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L119'>            <b>if</b> (<a href='../S/2787.html#L1499' title='Defined at 1499 in Objects/dictobject.c.'>PyDict_Merge</a>(kwappl, kw, 1) != 0) <font color='red'>{</font>
<a name='L120'>                Py_DECREF(argappl);
<a name='L121'>                Py_DECREF(kwappl);
<a name='L122'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L123'>            <font color='red'>}</font>
<a name='L124'>        <font color='red'>}</font>
<a name='L125'>    <font color='red'>}</font>
<a name='L126'>
<a name='L127'>    ret = <a href='../S/2775.html#L2141' title='Defined at 2141 in Objects/abstract.c.'>PyObject_Call</a>(pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>, argappl, kwappl);
<a name='L128'>    Py_DECREF(argappl);
<a name='L129'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(kwappl);
<a name='L130'>    <b>return</b> ret;
<a name='L131'><font color='red'>}</font>
<a name='L132'>
<a name='L133'><b>static</b> <b>int</b>
<a name='L134'><a href='../S/2563.html#L312' title='Refered from 312 in Modules/_functoolsmodule.c.'>partial_traverse</a>(partialobject *pto, visitproc visit, <b>void</b> *arg)
<a name='L135'><font color='red'>{</font>
<a name='L136'>    Py_VISIT(pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>);
<a name='L137'>    Py_VISIT(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L138'>    Py_VISIT(pto-&gt;kw);
<a name='L139'>    Py_VISIT(pto-&gt;dict);
<a name='L140'>    <b>return</b> 0;
<a name='L141'><font color='red'>}</font>
<a name='L142'>
<a name='L143'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(partial_doc,
<a name='L144'>"partial(func, *args, **keywords) - new function with partial application\n\
<a name='L145'>    of the given arguments and keywords.\n");
<a name='L146'>
<a name='L147'><font color='darkred'>#define</font> <a href='../R/2175.html' title='Multiple refered from 57 places.'>OFF</a>(x) <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2563.html#L21' title='Defined at 21 in Modules/_functoolsmodule.c.'>partialobject</a>, x)
<a name='L148'><b>static</b> <a href='../D/3506.html' title='Multiple defined in 2 places.'>PyMemberDef</a> partial_memberlist[] = <font color='red'>{</font>
<a name='L149'>    <font color='red'>{</font>"func",            <a href='../S/577.html#L44' title='Defined at 44 in Include/structmember.h.'>T_OBJECT</a>,       <a href='../D/2402.html' title='Multiple defined in 16 places.'>OFF</a>(<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>),        <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a>,
<a name='L150'>     "function object to use in future partial calls"<font color='red'>}</font>,
<a name='L151'>    <font color='red'>{</font>"args",            <a href='../S/577.html#L44' title='Defined at 44 in Include/structmember.h.'>T_OBJECT</a>,       <a href='../D/2402.html' title='Multiple defined in 16 places.'>OFF</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>),      <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a>,
<a name='L152'>     "tuple of arguments to future partial calls"<font color='red'>}</font>,
<a name='L153'>    <font color='red'>{</font>"keywords",        <a href='../S/577.html#L44' title='Defined at 44 in Include/structmember.h.'>T_OBJECT</a>,       <a href='../D/2402.html' title='Multiple defined in 16 places.'>OFF</a>(kw),        <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a>,
<a name='L154'>     "dictionary of keyword arguments to future partial calls"<font color='red'>}</font>,
<a name='L155'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>  <i><font color='green'>/* Sentinel */</font></i>
<a name='L156'><font color='red'>}</font>;
<a name='L157'>
<a name='L158'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L159'><a href='../S/2563.html#L195' title='Refered from 195 in Modules/_functoolsmodule.c.'>partial_get_dict</a>(partialobject *pto)
<a name='L160'><font color='red'>{</font>
<a name='L161'>    <b>if</b> (pto-&gt;dict == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L162'>        pto-&gt;dict = <a href='../S/2787.html#L233' title='Defined at 233 in Objects/dictobject.c.'>PyDict_New</a>();
<a name='L163'>        <b>if</b> (pto-&gt;dict == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L164'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L165'>    <font color='red'>}</font>
<a name='L166'>    Py_INCREF(pto-&gt;dict);
<a name='L167'>    <b>return</b> pto-&gt;dict;
<a name='L168'><font color='red'>}</font>
<a name='L169'>
<a name='L170'><b>static</b> <b>int</b>
<a name='L171'><a href='../S/2563.html#L195' title='Refered from 195 in Modules/_functoolsmodule.c.'>partial_set_dict</a>(partialobject *pto, PyObject *value)
<a name='L172'><font color='red'>{</font>
<a name='L173'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tmp;
<a name='L174'>
<a name='L175'>    <i><font color='green'>/* It is illegal to del p.__dict__ */</font></i>
<a name='L176'>    <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L177'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L178'>                        "a partial object's dictionary may not be deleted");
<a name='L179'>        <b>return</b> -1;
<a name='L180'>    <font color='red'>}</font>
<a name='L181'>    <i><font color='green'>/* Can only set __dict__ to a dictionary */</font></i>
<a name='L182'>    <b>if</b> (!PyDict_Check(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>)) <font color='red'>{</font>
<a name='L183'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L184'>                        "setting partial object's dictionary to a non-dict");
<a name='L185'>        <b>return</b> -1;
<a name='L186'>    <font color='red'>}</font>
<a name='L187'>    tmp = pto-&gt;dict;
<a name='L188'>    Py_INCREF(<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L189'>    pto-&gt;dict = <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L190'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(tmp);
<a name='L191'>    <b>return</b> 0;
<a name='L192'><font color='red'>}</font>
<a name='L193'>
<a name='L194'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> partial_getsetlist[] = <font color='red'>{</font>
<a name='L195'>    <font color='red'>{</font>"__dict__", (getter)<a href='../S/2563.html#L159' title='Defined at 159 in Modules/_functoolsmodule.c.'>partial_get_dict</a>, (setter)<a href='../S/2563.html#L171' title='Defined at 171 in Modules/_functoolsmodule.c.'>partial_set_dict</a><font color='red'>}</font>,
<a name='L196'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font> <i><font color='green'>/* Sentinel */</font></i>
<a name='L197'><font color='red'>}</font>;
<a name='L198'>
<a name='L199'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L200'><a href='../S/2563.html#L299' title='Refered from 299 in Modules/_functoolsmodule.c.'>partial_repr</a>(partialobject *pto)
<a name='L201'><font color='red'>{</font>
<a name='L202'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L203'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a>;
<a name='L204'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tmp;
<a name='L205'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i, n;
<a name='L206'>
<a name='L207'>    <a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a> = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>("");
<a name='L208'>    <b>if</b> (<a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L209'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L210'>    <font color='red'>}</font>
<a name='L211'>    <i><font color='green'>/* Pack positional arguments */</font></i>
<a name='L212'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a> (PyTuple_Check(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>));
<a name='L213'>    n = PyTuple_GET_SIZE(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L214'>    <b>for</b> (i = 0; i &lt; n; i++) <font color='red'>{</font>
<a name='L215'>        tmp = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%U, %R", <a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a>,
<a name='L216'>                                   PyTuple_GET_ITEM(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, i));
<a name='L217'>        Py_DECREF(<a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a>);
<a name='L218'>        <b>if</b> (tmp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L219'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L220'>        <a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a> = tmp;
<a name='L221'>    <font color='red'>}</font>
<a name='L222'>    <i><font color='green'>/* Pack keyword arguments */</font></i>
<a name='L223'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a> (pto-&gt;kw == Py_None  ||  PyDict_Check(pto-&gt;kw));
<a name='L224'>    <b>if</b> (pto-&gt;kw != Py_None) <font color='red'>{</font>
<a name='L225'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>, *<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L226'>        <b>for</b> (i = 0; <a href='../S/2787.html#L954' title='Defined at 954 in Objects/dictobject.c.'>PyDict_Next</a>(pto-&gt;kw, &amp;i, &amp;<a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>, &amp;<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);) <font color='red'>{</font>
<a name='L227'>            tmp = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%U, %U=%R", <a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a>,
<a name='L228'>                                       <a href='../S/3145.html#L213' title='Defined at 213 in Python/thread.c.'>key</a>, <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>);
<a name='L229'>            Py_DECREF(<a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a>);
<a name='L230'>            <b>if</b> (tmp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L231'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L232'>            <a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a> = tmp;
<a name='L233'>        <font color='red'>}</font>
<a name='L234'>    <font color='red'>}</font>
<a name='L235'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%R%U)", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(pto)-&gt;tp_name,
<a name='L236'>                                  pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>, <a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a>);
<a name='L237'>    Py_DECREF(<a href='../D/6732.html' title='Multiple defined in 2 places.'>arglist</a>);
<a name='L238'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L239'><font color='red'>}</font>
<a name='L240'>
<a name='L241'><i><font color='green'>/* Pickle strategy:</font></i>
<a name='L242'><i><font color='green'>   __reduce__ by itself doesn't support getting kwargs in the unpickle</font></i>
<a name='L243'><i><font color='green'>   operation so we define a __setstate__ that replaces all the information</font></i>
<a name='L244'><i><font color='green'>   about the partial.  If we only replaced part of it someone would use</font></i>
<a name='L245'><i><font color='green'>   it as a hook to do stange things.</font></i>
<a name='L246'><i><font color='green'> */</font></i>
<a name='L247'>
<a name='L248'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L249'><a href='../S/2563.html#L283' title='Refered from 283 in Modules/_functoolsmodule.c.'>partial_reduce</a>(partialobject *pto, PyObject *unused)
<a name='L250'><font color='red'>{</font>
<a name='L251'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("O(O)(OOOO)", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(pto), pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>, pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>,
<a name='L252'>                         pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, pto-&gt;kw,
<a name='L253'>                         pto-&gt;dict ? pto-&gt;dict : Py_None);
<a name='L254'><font color='red'>}</font>
<a name='L255'>
<a name='L256'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L257'><a href='../S/2563.html#L284' title='Refered from 284 in Modules/_functoolsmodule.c.'>partial_setstate</a>(partialobject *pto, PyObject *args)
<a name='L258'><font color='red'>{</font>
<a name='L259'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>, *fnargs, *kw, *dict;
<a name='L260'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "(OOOO):__setstate__",
<a name='L261'>                          &amp;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>, &amp;fnargs, &amp;kw, &amp;dict))
<a name='L262'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L263'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>);
<a name='L264'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L265'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pto-&gt;kw);
<a name='L266'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pto-&gt;dict);
<a name='L267'>    pto-&gt;<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a> = <a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>;
<a name='L268'>    pto-&gt;<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = fnargs;
<a name='L269'>    pto-&gt;kw = kw;
<a name='L270'>    <b>if</b> (dict != Py_None) <font color='red'>{</font>
<a name='L271'>      pto-&gt;dict = dict;
<a name='L272'>      Py_INCREF(dict);
<a name='L273'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L274'>      pto-&gt;dict = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L275'>    <font color='red'>}</font>
<a name='L276'>    Py_INCREF(<a href='../S/2334.html#L39' title='Defined at 39 in Modules/_ctypes/libffi/src/mips/n32.S.'>fn</a>);
<a name='L277'>    Py_INCREF(fnargs);
<a name='L278'>    Py_INCREF(kw);
<a name='L279'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L280'><font color='red'>}</font>
<a name='L281'>
<a name='L282'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> partial_methods[] = <font color='red'>{</font>
<a name='L283'>    <font color='red'>{</font>"__reduce__", (PyCFunction)<a href='../S/2563.html#L249' title='Defined at 249 in Modules/_functoolsmodule.c.'>partial_reduce</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L284'>    <font color='red'>{</font>"__setstate__", (PyCFunction)<a href='../S/2563.html#L257' title='Defined at 257 in Modules/_functoolsmodule.c.'>partial_setstate</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a><font color='red'>}</font>,
<a name='L285'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,              <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>           <i><font color='green'>/* sentinel */</font></i>
<a name='L286'><font color='red'>}</font>;
<a name='L287'>
<a name='L288'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> partial_type = <font color='red'>{</font>
<a name='L289'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L290'>    "functools.partial",                <i><font color='green'>/* tp_name */</font></i>
<a name='L291'>    <b>sizeof</b>(<a href='../S/2563.html#L21' title='Defined at 21 in Modules/_functoolsmodule.c.'>partialobject</a>),              <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L292'>    0,                                  <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L293'>    <i><font color='green'>/* methods */</font></i>
<a name='L294'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2563.html#L75' title='Defined at 75 in Modules/_functoolsmodule.c.'>partial_dealloc</a>,        <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L295'>    0,                                  <i><font color='green'>/* tp_print */</font></i>
<a name='L296'>    0,                                  <i><font color='green'>/* tp_getattr */</font></i>
<a name='L297'>    0,                                  <i><font color='green'>/* tp_setattr */</font></i>
<a name='L298'>    0,                                  <i><font color='green'>/* tp_reserved */</font></i>
<a name='L299'>    (reprfunc)<a href='../S/2563.html#L200' title='Defined at 200 in Modules/_functoolsmodule.c.'>partial_repr</a>,             <i><font color='green'>/* tp_repr */</font></i>
<a name='L300'>    0,                                  <i><font color='green'>/* tp_as_number */</font></i>
<a name='L301'>    0,                                  <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L302'>    0,                                  <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L303'>    0,                                  <i><font color='green'>/* tp_hash */</font></i>
<a name='L304'>    (ternaryfunc)<a href='../S/2563.html#L88' title='Defined at 88 in Modules/_functoolsmodule.c.'>partial_call</a>,          <i><font color='green'>/* tp_call */</font></i>
<a name='L305'>    0,                                  <i><font color='green'>/* tp_str */</font></i>
<a name='L306'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,            <i><font color='green'>/* tp_getattro */</font></i>
<a name='L307'>    <a href='../S/2803.html#L1130' title='Defined at 1130 in Objects/object.c.'>PyObject_GenericSetAttr</a>,            <i><font color='green'>/* tp_setattro */</font></i>
<a name='L308'>    0,                                  <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L309'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC |
<a name='L310'>        Py_TPFLAGS_BASETYPE,            <i><font color='green'>/* tp_flags */</font></i>
<a name='L311'>    partial_doc,                        <i><font color='green'>/* tp_doc */</font></i>
<a name='L312'>    (traverseproc)<a href='../S/2563.html#L134' title='Defined at 134 in Modules/_functoolsmodule.c.'>partial_traverse</a>,     <i><font color='green'>/* tp_traverse */</font></i>
<a name='L313'>    0,                                  <i><font color='green'>/* tp_clear */</font></i>
<a name='L314'>    0,                                  <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L315'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2563.html#L21' title='Defined at 21 in Modules/_functoolsmodule.c.'>partialobject</a>, weakreflist),       <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L316'>    0,                                  <i><font color='green'>/* tp_iter */</font></i>
<a name='L317'>    0,                                  <i><font color='green'>/* tp_iternext */</font></i>
<a name='L318'>    partial_methods,                    <i><font color='green'>/* tp_methods */</font></i>
<a name='L319'>    partial_memberlist,                 <i><font color='green'>/* tp_members */</font></i>
<a name='L320'>    partial_getsetlist,                 <i><font color='green'>/* tp_getset */</font></i>
<a name='L321'>    0,                                  <i><font color='green'>/* tp_base */</font></i>
<a name='L322'>    0,                                  <i><font color='green'>/* tp_dict */</font></i>
<a name='L323'>    0,                                  <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L324'>    0,                                  <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L325'>    <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/2563.html#L21' title='Defined at 21 in Modules/_functoolsmodule.c.'>partialobject</a>, dict),      <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L326'>    0,                                  <i><font color='green'>/* tp_init */</font></i>
<a name='L327'>    0,                                  <i><font color='green'>/* tp_alloc */</font></i>
<a name='L328'>    <a href='../S/2563.html#L26' title='Defined at 26 in Modules/_functoolsmodule.c.'>partial_new</a>,                        <i><font color='green'>/* tp_new */</font></i>
<a name='L329'>    <a href='../D/3617.html' title='Multiple defined in 2 places.'>PyObject_GC_Del</a>,                    <i><font color='green'>/* tp_free */</font></i>
<a name='L330'><font color='red'>}</font>;
<a name='L331'>
<a name='L332'>
<a name='L333'><i><font color='green'>/* reduce (used to be a builtin) ********************************************/</font></i>
<a name='L334'>
<a name='L335'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L336'><a href='../S/2563.html#L415' title='Refered from 415 in Modules/_functoolsmodule.c.'>functools_reduce</a>(PyObject *self, PyObject *args)
<a name='L337'><font color='red'>{</font>
<a name='L338'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *seq, *func, *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *it;
<a name='L339'>
<a name='L340'>    <b>if</b> (!<a href='../S/3112.html#L1712' title='Defined at 1712 in Python/getargs.c.'>PyArg_UnpackTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "reduce", 2, 3, &amp;func, &amp;seq, &amp;<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>))
<a name='L341'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L342'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L343'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L344'>
<a name='L345'>    it = <a href='../S/2775.html#L2668' title='Defined at 2668 in Objects/abstract.c.'>PyObject_GetIter</a>(seq);
<a name='L346'>    <b>if</b> (it == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L347'>        <b>if</b> (<a href='../S/3106.html#L189' title='Defined at 189 in Python/errors.c.'>PyErr_ExceptionMatches</a>(PyExc_TypeError))
<a name='L348'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L349'>                            "reduce() arg 2 must support iteration");
<a name='L350'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L351'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L352'>    <font color='red'>}</font>
<a name='L353'>
<a name='L354'>    <b>if</b> ((<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(2)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L355'>        <b>goto</b> Fail;
<a name='L356'>
<a name='L357'>    <b>for</b> (;;) <font color='red'>{</font>
<a name='L358'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *op2;
<a name='L359'>
<a name='L360'>        <b>if</b> (<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>-&gt;ob_refcnt &gt; 1) <font color='red'>{</font>
<a name='L361'>            Py_DECREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L362'>            <b>if</b> ((<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(2)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L363'>                <b>goto</b> Fail;
<a name='L364'>        <font color='red'>}</font>
<a name='L365'>
<a name='L366'>        op2 = <a href='../S/2775.html#L2700' title='Defined at 2700 in Objects/abstract.c.'>PyIter_Next</a>(it);
<a name='L367'>        <b>if</b> (op2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L368'>            <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L369'>                <b>goto</b> Fail;
<a name='L370'>            <b>break</b>;
<a name='L371'>        <font color='red'>}</font>
<a name='L372'>
<a name='L373'>        <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L374'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = op2;
<a name='L375'>        <b>else</b> <font color='red'>{</font>
<a name='L376'>            <a href='../S/2823.html#L137' title='Defined at 137 in Objects/tupleobject.c.'>PyTuple_SetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0, <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L377'>            <a href='../S/2823.html#L137' title='Defined at 137 in Objects/tupleobject.c.'>PyTuple_SetItem</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 1, op2);
<a name='L378'>            <b>if</b> ((<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = PyEval_CallObject(func, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L379'>                <b>goto</b> Fail;
<a name='L380'>        <font color='red'>}</font>
<a name='L381'>    <font color='red'>}</font>
<a name='L382'>
<a name='L383'>    Py_DECREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L384'>
<a name='L385'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L386'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L387'>                   "reduce() of empty sequence with no initial value");
<a name='L388'>
<a name='L389'>    Py_DECREF(it);
<a name='L390'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L391'>
<a name='L392'>Fail:
<a name='L393'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L394'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L395'>    Py_DECREF(it);
<a name='L396'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L397'><font color='red'>}</font>
<a name='L398'>
<a name='L399'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(functools_reduce_doc,
<a name='L400'>"reduce(function, sequence[, initial]) -&gt; value\n\
<a name='L401'>\n\
<a name='L402'>Apply a function of two arguments cumulatively to the items of a sequence,\n\
<a name='L403'>from left to right, so as to reduce the sequence to a single value.\n\
<a name='L404'>For example, reduce(lambda x, y: x+y, [1, 2, 3, 4, 5]) calculates\n\
<a name='L405'>((((1+2)+3)+4)+5).  If initial is present, it is placed before the items\n\
<a name='L406'>of the sequence in the calculation, and serves as a default when the\n\
<a name='L407'>sequence is empty.");
<a name='L408'>
<a name='L409'><i><font color='green'>/* module level code ********************************************************/</font></i>
<a name='L410'>
<a name='L411'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(module_doc,
<a name='L412'>"Tools that operate on functions.");
<a name='L413'>
<a name='L414'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> module_methods[] = <font color='red'>{</font>
<a name='L415'>    <font color='red'>{</font>"reduce",          <a href='../S/2563.html#L336' title='Defined at 336 in Modules/_functoolsmodule.c.'>functools_reduce</a>,     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, functools_reduce_doc<font color='red'>}</font>,
<a name='L416'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,              <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>           <i><font color='green'>/* sentinel */</font></i>
<a name='L417'><font color='red'>}</font>;
<a name='L418'>
<a name='L419'>
<a name='L420'><b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> _functoolsmodule = <font color='red'>{</font>
<a name='L421'>    <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,
<a name='L422'>    "_functools",
<a name='L423'>    module_doc,
<a name='L424'>    -1,
<a name='L425'>    module_methods,
<a name='L426'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L427'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L428'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L429'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L430'><font color='red'>}</font>;
<a name='L431'>
<a name='L432'><a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L433'><a href='../R/3025.html' title='Multiple refered from 2 places.'>PyInit__functools</a>(<b>void</b>)
<a name='L434'><font color='red'>{</font>
<a name='L435'>    <b>int</b> i;
<a name='L436'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m;
<a name='L437'>    <b>char</b> *name;
<a name='L438'>    <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> *typelist[] = <font color='red'>{</font>
<a name='L439'>        &amp;partial_type,
<a name='L440'>        <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L441'>    <font color='red'>}</font>;
<a name='L442'>
<a name='L443'>    m = PyModule_Create(&amp;_functoolsmodule);
<a name='L444'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L445'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L446'>
<a name='L447'>    <b>for</b> (i=0 ; typelist[i] != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ; i++) <font color='red'>{</font>
<a name='L448'>        <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(typelist[i]) &lt; 0) <font color='red'>{</font>
<a name='L449'>            Py_DECREF(m);
<a name='L450'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L451'>        <font color='red'>}</font>
<a name='L452'>        name = strchr(typelist[i]-&gt;tp_name, '.');
<a name='L453'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a> (name != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L454'>        Py_INCREF(typelist[i]);
<a name='L455'>        <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, name+1, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)typelist[i]);
<a name='L456'>    <font color='red'>}</font>
<a name='L457'>    <b>return</b> m;
<a name='L458'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L26'>[^]</a><a href='#L433'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
