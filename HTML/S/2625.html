<html>
<head>
<title>Modules/binascii.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/binascii.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L189'>[^]</a><a href='#L1522'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L189' title='Defined at 189.'>binascii_a2b_uu</a>
<li><a href='#L275' title='Defined at 275.'>binascii_b2a_uu</a>
<li><a href='#L335' title='Defined at 335.'>binascii_find_valid</a>
<li><a href='#L362' title='Defined at 362.'>binascii_a2b_base64</a>
<li><a href='#L471' title='Defined at 471.'>binascii_b2a_base64</a>
<li><a href='#L538' title='Defined at 538.'>binascii_a2b_hqx</a>
<li><a href='#L624' title='Defined at 624.'>binascii_rlecode_hqx</a>
<li><a href='#L688' title='Defined at 688.'>binascii_b2a_hqx</a>
<li><a href='#L745' title='Defined at 745.'>binascii_rledecode_hqx</a>
<li><a href='#L863' title='Defined at 863.'>binascii_crc_hqx</a>
<li><a href='#L889' title='Defined at 889.'>binascii_crc32</a>
<li><a href='#L1025' title='Defined at 1025.'>binascii_crc32</a>
<li><a href='#L1052' title='Defined at 1052.'>binascii_hexlify</a>
<li><a href='#L1100' title='Defined at 1100.'>to_int</a>
<li><a href='#L1115' title='Defined at 1115.'>binascii_unhexlify</a>
<li><a href='#L1191' title='Defined at 1191.'>binascii_a2b_qp</a>
<li><a href='#L1275' title='Defined at 1275.'>to_hex</a>
<li><a href='#L1297' title='Defined at 1297.'>binascii_b2a_qp</a>
<li><a href='#L1522' title='Defined at 1522.'>PyInit_binascii</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*</font></i>
<a name='L2'><i><font color='green'>** Routines to represent binary data in ASCII and vice-versa</font></i>
<a name='L3'><i><font color='green'>**</font></i>
<a name='L4'><i><font color='green'>** This module currently supports the following encodings:</font></i>
<a name='L5'><i><font color='green'>** uuencode:</font></i>
<a name='L6'><i><font color='green'>**      each line encodes 45 bytes (except possibly the last)</font></i>
<a name='L7'><i><font color='green'>**      First char encodes (binary) length, rest data</font></i>
<a name='L8'><i><font color='green'>**      each char encodes 6 bits, as follows:</font></i>
<a name='L9'><i><font color='green'>**      binary: 01234567 abcdefgh ijklmnop</font></i>
<a name='L10'><i><font color='green'>**      ascii:  012345 67abcd efghij klmnop</font></i>
<a name='L11'><i><font color='green'>**      ASCII encoding method is "excess-space": 000000 is encoded as ' ', etc.</font></i>
<a name='L12'><i><font color='green'>**      short binary data is zero-extended (so the bits are always in the</font></i>
<a name='L13'><i><font color='green'>**      right place), this does *not* reflect in the length.</font></i>
<a name='L14'><i><font color='green'>** base64:</font></i>
<a name='L15'><i><font color='green'>**      Line breaks are insignificant, but lines are at most 76 chars</font></i>
<a name='L16'><i><font color='green'>**      each char encodes 6 bits, in similar order as uucode/hqx. Encoding</font></i>
<a name='L17'><i><font color='green'>**      is done via a table.</font></i>
<a name='L18'><i><font color='green'>**      Short binary data is filled (in ASCII) with '='.</font></i>
<a name='L19'><i><font color='green'>** hqx:</font></i>
<a name='L20'><i><font color='green'>**      File starts with introductory text, real data starts and ends</font></i>
<a name='L21'><i><font color='green'>**      with colons.</font></i>
<a name='L22'><i><font color='green'>**      Data consists of three similar parts: info, datafork, resourcefork.</font></i>
<a name='L23'><i><font color='green'>**      Each part is protected (at the end) with a 16-bit crc</font></i>
<a name='L24'><i><font color='green'>**      The binary data is run-length encoded, and then ascii-fied:</font></i>
<a name='L25'><i><font color='green'>**      binary: 01234567 abcdefgh ijklmnop</font></i>
<a name='L26'><i><font color='green'>**      ascii:  012345 67abcd efghij klmnop</font></i>
<a name='L27'><i><font color='green'>**      ASCII encoding is table-driven, see the code.</font></i>
<a name='L28'><i><font color='green'>**      Short binary data results in the runt ascii-byte being output with</font></i>
<a name='L29'><i><font color='green'>**      the bits in the right place.</font></i>
<a name='L30'><i><font color='green'>**</font></i>
<a name='L31'><i><font color='green'>** While I was reading dozens of programs that encode or decode the formats</font></i>
<a name='L32'><i><font color='green'>** here (documentation? hihi:-) I have formulated Jansen's Observation:</font></i>
<a name='L33'><i><font color='green'>**</font></i>
<a name='L34'><i><font color='green'>**      Programs that encode binary data in ASCII are written in</font></i>
<a name='L35'><i><font color='green'>**      such a style that they are as unreadable as possible. Devices used</font></i>
<a name='L36'><i><font color='green'>**      include unnecessary global variables, burying important tables</font></i>
<a name='L37'><i><font color='green'>**      in unrelated sourcefiles, putting functions in include files,</font></i>
<a name='L38'><i><font color='green'>**      using seemingly-descriptive variable names for different purposes,</font></i>
<a name='L39'><i><font color='green'>**      calls to empty subroutines and a host of others.</font></i>
<a name='L40'><i><font color='green'>**</font></i>
<a name='L41'><i><font color='green'>** I have attempted to break with this tradition, but I guess that that</font></i>
<a name='L42'><i><font color='green'>** does make the performance sub-optimal. Oh well, too bad...</font></i>
<a name='L43'><i><font color='green'>**</font></i>
<a name='L44'><i><font color='green'>** Jack Jansen, CWI, July 1995.</font></i>
<a name='L45'><i><font color='green'>**</font></i>
<a name='L46'><i><font color='green'>** Added support for quoted-printable encoding, based on rfc 1521 et al</font></i>
<a name='L47'><i><font color='green'>** quoted-printable encoding specifies that non printable characters (anything</font></i>
<a name='L48'><i><font color='green'>** below 32 and above 126) be encoded as =XX where XX is the hexadecimal value</font></i>
<a name='L49'><i><font color='green'>** of the character.  It also specifies some other behavior to enable 8bit data</font></i>
<a name='L50'><i><font color='green'>** in a mail message with little difficulty (maximum line sizes, protecting</font></i>
<a name='L51'><i><font color='green'>** some cases of whitespace, etc).</font></i>
<a name='L52'><i><font color='green'>**</font></i>
<a name='L53'><i><font color='green'>** Brandon Long, September 2001.</font></i>
<a name='L54'><i><font color='green'>*/</font></i>
<a name='L55'>
<a name='L56'><font color='darkred'>#define</font> <a href='../R/2388.html' title='Multiple refered from 2 places.'>PY_SSIZE_T_CLEAN</a>
<a name='L57'>
<a name='L58'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L59'><font color='darkred'>#ifdef</font> USE_ZLIB_CRC32
<a name='L60'><font color='darkred'>#include</font> "<a href='2769.html'>zlib.h</a>"
<a name='L61'><font color='darkred'>#endif</font>
<a name='L62'>
<a name='L63'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *Error;
<a name='L64'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *Incomplete;
<a name='L65'>
<a name='L66'><i><font color='green'>/*</font></i>
<a name='L67'><i><font color='green'>** hqx lookup table, ascii-&gt;binary.</font></i>
<a name='L68'><i><font color='green'>*/</font></i>
<a name='L69'>
<a name='L70'><font color='darkred'>#define</font> <a href='../R/3993.html' title='Multiple refered from 7 places.'>RUNCHAR</a> 0x90
<a name='L71'>
<a name='L72'><font color='darkred'>#define</font> <a href='../R/755.html' title='Multiple refered from 6 places.'>DONE</a> 0x7F
<a name='L73'><font color='darkred'>#define</font> <a href='../R/4185.html' title='Multiple refered from 2 places.'>SKIP</a> 0x7E
<a name='L74'><font color='darkred'>#define</font> <a href='../R/991.html' title='Multiple refered from 87 places.'>FAIL</a> 0x7D
<a name='L75'>
<a name='L76'><b>static</b> <b>unsigned</b> <b>char</b> table_a2b_hqx[256] = <font color='red'>{</font>
<a name='L77'><i><font color='green'>/*       ^@    ^A    ^B    ^C    ^D    ^E    ^F    ^G   */</font></i>
<a name='L78'><i><font color='green'>/* 0*/</font></i>  <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L79'><i><font color='green'>/*       \b    \t    \n    ^K    ^L    \r    ^N    ^O   */</font></i>
<a name='L80'><i><font color='green'>/* 1*/</font></i>  <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../S/2625.html#L73' title='Defined at 73 in Modules/binascii.c.'>SKIP</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../S/2625.html#L73' title='Defined at 73 in Modules/binascii.c.'>SKIP</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L81'><i><font color='green'>/*       ^P    ^Q    ^R    ^S    ^T    ^U    ^V    ^W   */</font></i>
<a name='L82'><i><font color='green'>/* 2*/</font></i>  <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L83'><i><font color='green'>/*       ^X    ^Y    ^Z    ^[    ^\    ^]    ^^    ^_   */</font></i>
<a name='L84'><i><font color='green'>/* 3*/</font></i>  <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L85'><i><font color='green'>/*              !     "     #     $     %     &amp;     '   */</font></i>
<a name='L86'><i><font color='green'>/* 4*/</font></i>  <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06,
<a name='L87'><i><font color='green'>/*        (     )     *     +     ,     -     .     /   */</font></i>
<a name='L88'><i><font color='green'>/* 5*/</font></i>  0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L89'><i><font color='green'>/*        0     1     2     3     4     5     6     7   */</font></i>
<a name='L90'><i><font color='green'>/* 6*/</font></i>  0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x12, 0x13, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L91'><i><font color='green'>/*        8     9     :     ;     &lt;     =     &gt;     ?   */</font></i>
<a name='L92'><i><font color='green'>/* 7*/</font></i>  0x14, 0x15, <a href='../D/809.html' title='Multiple defined in 2 places.'>DONE</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L93'><i><font color='green'>/*        @     A     B     C     D     E     F     G   */</font></i>
<a name='L94'><i><font color='green'>/* 8*/</font></i>  0x16, 0x17, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D,
<a name='L95'><i><font color='green'>/*        H     I     J     K     L     M     N     O   */</font></i>
<a name='L96'><i><font color='green'>/* 9*/</font></i>  0x1E, 0x1F, 0x20, 0x21, 0x22, 0x23, 0x24, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L97'><i><font color='green'>/*        P     Q     R     S     T     U     V     W   */</font></i>
<a name='L98'><i><font color='green'>/*10*/</font></i>  0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x2B, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L99'><i><font color='green'>/*        X     Y     Z     [     \     ]     ^     _   */</font></i>
<a name='L100'><i><font color='green'>/*11*/</font></i>  0x2C, 0x2D, 0x2E, 0x2F, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L101'><i><font color='green'>/*        `     a     b     c     d     e     f     g   */</font></i>
<a name='L102'><i><font color='green'>/*12*/</font></i>  0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L103'><i><font color='green'>/*        h     i     j     k     l     m     n     o   */</font></i>
<a name='L104'><i><font color='green'>/*13*/</font></i>  0x37, 0x38, 0x39, 0x3A, 0x3B, 0x3C, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L105'><i><font color='green'>/*        p     q     r     s     t     u     v     w   */</font></i>
<a name='L106'><i><font color='green'>/*14*/</font></i>  0x3D, 0x3E, 0x3F, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L107'><i><font color='green'>/*        x     y     z     {     |     }     ~    ^?   */</font></i>
<a name='L108'><i><font color='green'>/*15*/</font></i>  <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L109'><i><font color='green'>/*16*/</font></i>  <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L110'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L111'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L112'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L113'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L114'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L115'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L116'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L117'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L118'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L119'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L120'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L121'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L122'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L123'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L124'>    <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>, <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a>,
<a name='L125'><font color='red'>}</font>;
<a name='L126'>
<a name='L127'><b>static</b> <b>unsigned</b> <b>char</b> table_b2a_hqx[] =
<a name='L128'>"!\"#$%&amp;'()*+,-012345689@ABCDEFGHIJKLMNPQRSTUVXYZ[`abcdefhijklmpqr";
<a name='L129'>
<a name='L130'><b>static</b> <b>char</b> table_a2b_base64[] = <font color='red'>{</font>
<a name='L131'>    -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
<a name='L132'>    -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
<a name='L133'>    -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,62, -1,-1,-1,63,
<a name='L134'>    52,53,54,55, 56,57,58,59, 60,61,-1,-1, -1, 0,-1,-1, <i><font color='green'>/* Note PAD-&gt;0 */</font></i>
<a name='L135'>    -1, 0, 1, 2,  3, 4, 5, 6,  7, 8, 9,10, 11,12,13,14,
<a name='L136'>    15,16,17,18, 19,20,21,22, 23,24,25,-1, -1,-1,-1,-1,
<a name='L137'>    -1,26,27,28, 29,30,31,32, 33,34,35,36, 37,38,39,40,
<a name='L138'>    41,42,43,44, 45,46,47,48, 49,50,51,-1, -1,-1,-1,-1
<a name='L139'><font color='red'>}</font>;
<a name='L140'>
<a name='L141'><font color='darkred'>#define</font> <a href='../R/214.html' title='Multiple refered from 5 places.'>BASE64_PAD</a> '='
<a name='L142'>
<a name='L143'><i><font color='green'>/* Max binary chunk size; limited only by available memory */</font></i>
<a name='L144'><font color='darkred'>#define</font> <a href='../S/2625.html#L488' title='Refered from 488 in Modules/binascii.c.'>BASE64_MAXBIN</a> ((<a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - 3) / 2)
<a name='L145'>
<a name='L146'><b>static</b> <b>unsigned</b> <b>char</b> table_b2a_base64[] =
<a name='L147'>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
<a name='L148'>
<a name='L149'>
<a name='L150'>
<a name='L151'><b>static</b> <b>unsigned</b> <b>short</b> crctab_hqx[256] = <font color='red'>{</font>
<a name='L152'>    0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5, 0x60c6, 0x70e7,
<a name='L153'>    0x8108, 0x9129, 0xa14a, 0xb16b, 0xc18c, 0xd1ad, 0xe1ce, 0xf1ef,
<a name='L154'>    0x1231, 0x0210, 0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,
<a name='L155'>    0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c, 0xf3ff, 0xe3de,
<a name='L156'>    0x2462, 0x3443, 0x0420, 0x1401, 0x64e6, 0x74c7, 0x44a4, 0x5485,
<a name='L157'>    0xa56a, 0xb54b, 0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,
<a name='L158'>    0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6, 0x5695, 0x46b4,
<a name='L159'>    0xb75b, 0xa77a, 0x9719, 0x8738, 0xf7df, 0xe7fe, 0xd79d, 0xc7bc,
<a name='L160'>    0x48c4, 0x58e5, 0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,
<a name='L161'>    0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969, 0xa90a, 0xb92b,
<a name='L162'>    0x5af5, 0x4ad4, 0x7ab7, 0x6a96, 0x1a71, 0x0a50, 0x3a33, 0x2a12,
<a name='L163'>    0xdbfd, 0xcbdc, 0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,
<a name='L164'>    0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03, 0x0c60, 0x1c41,
<a name='L165'>    0xedae, 0xfd8f, 0xcdec, 0xddcd, 0xad2a, 0xbd0b, 0x8d68, 0x9d49,
<a name='L166'>    0x7e97, 0x6eb6, 0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,
<a name='L167'>    0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a, 0x9f59, 0x8f78,
<a name='L168'>    0x9188, 0x81a9, 0xb1ca, 0xa1eb, 0xd10c, 0xc12d, 0xf14e, 0xe16f,
<a name='L169'>    0x1080, 0x00a1, 0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,
<a name='L170'>    0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c, 0xe37f, 0xf35e,
<a name='L171'>    0x02b1, 0x1290, 0x22f3, 0x32d2, 0x4235, 0x5214, 0x6277, 0x7256,
<a name='L172'>    0xb5ea, 0xa5cb, 0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,
<a name='L173'>    0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447, 0x5424, 0x4405,
<a name='L174'>    0xa7db, 0xb7fa, 0x8799, 0x97b8, 0xe75f, 0xf77e, 0xc71d, 0xd73c,
<a name='L175'>    0x26d3, 0x36f2, 0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,
<a name='L176'>    0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9, 0xb98a, 0xa9ab,
<a name='L177'>    0x5844, 0x4865, 0x7806, 0x6827, 0x18c0, 0x08e1, 0x3882, 0x28a3,
<a name='L178'>    0xcb7d, 0xdb5c, 0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,
<a name='L179'>    0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0, 0x2ab3, 0x3a92,
<a name='L180'>    0xfd2e, 0xed0f, 0xdd6c, 0xcd4d, 0xbdaa, 0xad8b, 0x9de8, 0x8dc9,
<a name='L181'>    0x7c26, 0x6c07, 0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,
<a name='L182'>    0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba, 0x8fd9, 0x9ff8,
<a name='L183'>    0x6e17, 0x7e36, 0x4e55, 0x5e74, 0x2e93, 0x3eb2, 0x0ed1, 0x1ef0,
<a name='L184'><font color='red'>}</font>;
<a name='L185'>
<a name='L186'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_a2b_uu, "(ascii) -&gt; bin. Decode a line of uuencoded data");
<a name='L187'>
<a name='L188'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L189'><a href='../S/2625.html#L1482' title='Refered from 1482 in Modules/binascii.c.'>binascii_a2b_uu</a>(PyObject *self, PyObject *args)
<a name='L190'><font color='red'>{</font>
<a name='L191'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pascii;
<a name='L192'>    <b>unsigned</b> <b>char</b> *ascii_data, *bin_data;
<a name='L193'>    <b>int</b> leftbits = 0;
<a name='L194'>    <b>unsigned</b> <b>char</b> this_ch;
<a name='L195'>    <b>unsigned</b> <b>int</b> leftchar = 0;
<a name='L196'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L197'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> ascii_len, bin_len;
<a name='L198'>
<a name='L199'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:a2b_uu", &amp;pascii) )
<a name='L200'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L201'>    ascii_data = pascii.buf;
<a name='L202'>    ascii_len = pascii.len;
<a name='L203'>
<a name='L204'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(ascii_len &gt;= 0);
<a name='L205'>
<a name='L206'>    <i><font color='green'>/* First byte: binary data length (in bytes) */</font></i>
<a name='L207'>    bin_len = (*ascii_data++ - ' ') &amp; 077;
<a name='L208'>    ascii_len--;
<a name='L209'>
<a name='L210'>    <i><font color='green'>/* Allocate the buffer */</font></i>
<a name='L211'>    <b>if</b> ( (rv=<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, bin_len)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L212'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L213'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L214'>    <font color='red'>}</font>
<a name='L215'>    bin_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv);
<a name='L216'>
<a name='L217'>    <b>for</b>( ; bin_len &gt; 0 ; ascii_len--, ascii_data++ ) <font color='red'>{</font>
<a name='L218'>        <i><font color='green'>/* XXX is it really best to add NULs if there's no more data */</font></i>
<a name='L219'>        this_ch = (ascii_len &gt; 0) ? *ascii_data : 0;
<a name='L220'>        <b>if</b> ( this_ch == '\n' || this_ch == '\r' || ascii_len &lt;= 0) <font color='red'>{</font>
<a name='L221'>            <i><font color='green'>/*</font></i>
<a name='L222'><i><font color='green'>            ** Whitespace. Assume some spaces got eaten at</font></i>
<a name='L223'><i><font color='green'>            ** end-of-line. (We check this later)</font></i>
<a name='L224'><i><font color='green'>            */</font></i>
<a name='L225'>            this_ch = 0;
<a name='L226'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L227'>            <i><font color='green'>/* Check the character for legality</font></i>
<a name='L228'><i><font color='green'>            ** The 64 in stead of the expected 63 is because</font></i>
<a name='L229'><i><font color='green'>            ** there are a few uuencodes out there that use</font></i>
<a name='L230'><i><font color='green'>            ** '`' as zero instead of space.</font></i>
<a name='L231'><i><font color='green'>            */</font></i>
<a name='L232'>            <b>if</b> ( this_ch &lt; ' ' || this_ch &gt; (' ' + 64)) <font color='red'>{</font>
<a name='L233'>                <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error, "Illegal char");
<a name='L234'>                <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L235'>                Py_DECREF(rv);
<a name='L236'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L237'>            <font color='red'>}</font>
<a name='L238'>            this_ch = (this_ch - ' ') &amp; 077;
<a name='L239'>        <font color='red'>}</font>
<a name='L240'>        <i><font color='green'>/*</font></i>
<a name='L241'><i><font color='green'>        ** Shift it in on the low end, and see if there's</font></i>
<a name='L242'><i><font color='green'>        ** a byte ready for output.</font></i>
<a name='L243'><i><font color='green'>        */</font></i>
<a name='L244'>        leftchar = (leftchar &lt;&lt; 6) | (this_ch);
<a name='L245'>        leftbits += 6;
<a name='L246'>        <b>if</b> ( leftbits &gt;= 8 ) <font color='red'>{</font>
<a name='L247'>            leftbits -= 8;
<a name='L248'>            *bin_data++ = (leftchar &gt;&gt; leftbits) &amp; 0xff;
<a name='L249'>            leftchar &amp;= ((1 &lt;&lt; leftbits) - 1);
<a name='L250'>            bin_len--;
<a name='L251'>        <font color='red'>}</font>
<a name='L252'>    <font color='red'>}</font>
<a name='L253'>    <i><font color='green'>/*</font></i>
<a name='L254'><i><font color='green'>    ** Finally, check that if there's anything left on the line</font></i>
<a name='L255'><i><font color='green'>    ** that it's whitespace only.</font></i>
<a name='L256'><i><font color='green'>    */</font></i>
<a name='L257'>    <b>while</b>( ascii_len-- &gt; 0 ) <font color='red'>{</font>
<a name='L258'>        this_ch = *ascii_data++;
<a name='L259'>        <i><font color='green'>/* Extra '`' may be written as padding in some cases */</font></i>
<a name='L260'>        <b>if</b> ( this_ch != ' ' &amp;&amp; this_ch != ' '+64 &amp;&amp;
<a name='L261'>             this_ch != '\n' &amp;&amp; this_ch != '\r' ) <font color='red'>{</font>
<a name='L262'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error, "Trailing garbage");
<a name='L263'>            <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L264'>            Py_DECREF(rv);
<a name='L265'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L266'>        <font color='red'>}</font>
<a name='L267'>    <font color='red'>}</font>
<a name='L268'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L269'>    <b>return</b> rv;
<a name='L270'><font color='red'>}</font>
<a name='L271'>
<a name='L272'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_b2a_uu, "(bin) -&gt; ascii. Uuencode line of data");
<a name='L273'>
<a name='L274'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L275'><a href='../S/2625.html#L1483' title='Refered from 1483 in Modules/binascii.c.'>binascii_b2a_uu</a>(PyObject *self, PyObject *args)
<a name='L276'><font color='red'>{</font>
<a name='L277'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pbin;
<a name='L278'>    <b>unsigned</b> <b>char</b> *ascii_data, *bin_data;
<a name='L279'>    <b>int</b> leftbits = 0;
<a name='L280'>    <b>unsigned</b> <b>char</b> this_ch;
<a name='L281'>    <b>unsigned</b> <b>int</b> leftchar = 0;
<a name='L282'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L283'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> bin_len;
<a name='L284'>
<a name='L285'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:b2a_uu", &amp;pbin) )
<a name='L286'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L287'>    bin_data = pbin.buf;
<a name='L288'>    bin_len = pbin.len;
<a name='L289'>    <b>if</b> ( bin_len &gt; 45 ) <font color='red'>{</font>
<a name='L290'>        <i><font color='green'>/* The 45 is a limit that appears in all uuencode's */</font></i>
<a name='L291'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error, "At most 45 bytes at once");
<a name='L292'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbin);
<a name='L293'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L294'>    <font color='red'>}</font>
<a name='L295'>
<a name='L296'>    <i><font color='green'>/* We're lazy and allocate to much (fixed up later) */</font></i>
<a name='L297'>    <b>if</b> ( (rv=<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 2 + (bin_len+2)/3*4)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L298'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbin);
<a name='L299'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L300'>    <font color='red'>}</font>
<a name='L301'>    ascii_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv);
<a name='L302'>
<a name='L303'>    <i><font color='green'>/* Store the length */</font></i>
<a name='L304'>    *ascii_data++ = ' ' + (bin_len &amp; 077);
<a name='L305'>
<a name='L306'>    <b>for</b>( ; bin_len &gt; 0 || leftbits != 0 ; bin_len--, bin_data++ ) <font color='red'>{</font>
<a name='L307'>        <i><font color='green'>/* Shift the data (or padding) into our buffer */</font></i>
<a name='L308'>        <b>if</b> ( bin_len &gt; 0 )              <i><font color='green'>/* Data */</font></i>
<a name='L309'>            leftchar = (leftchar &lt;&lt; 8) | *bin_data;
<a name='L310'>        <b>else</b>                            <i><font color='green'>/* Padding */</font></i>
<a name='L311'>            leftchar &lt;&lt;= 8;
<a name='L312'>        leftbits += 8;
<a name='L313'>
<a name='L314'>        <i><font color='green'>/* See if there are 6-bit groups ready */</font></i>
<a name='L315'>        <b>while</b> ( leftbits &gt;= 6 ) <font color='red'>{</font>
<a name='L316'>            this_ch = (leftchar &gt;&gt; (leftbits-6)) &amp; 0x3f;
<a name='L317'>            leftbits -= 6;
<a name='L318'>            *ascii_data++ = this_ch + ' ';
<a name='L319'>        <font color='red'>}</font>
<a name='L320'>    <font color='red'>}</font>
<a name='L321'>    *ascii_data++ = '\n';       <i><font color='green'>/* Append a courtesy newline */</font></i>
<a name='L322'>
<a name='L323'>    <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv,
<a name='L324'>                       (ascii_data -
<a name='L325'>                        (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv))) &lt; 0) <font color='red'>{</font>
<a name='L326'>        Py_DECREF(rv);
<a name='L327'>        rv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L328'>    <font color='red'>}</font>
<a name='L329'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbin);
<a name='L330'>    <b>return</b> rv;
<a name='L331'><font color='red'>}</font>
<a name='L332'>
<a name='L333'>
<a name='L334'><b>static</b> <b>int</b>
<a name='L335'><a href='../S/2625.html#L408' title='Refered from 408 in Modules/binascii.c.'>binascii_find_valid</a>(<b>unsigned</b> <b>char</b> *s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> slen, <b>int</b> num)
<a name='L336'><font color='red'>{</font>
<a name='L337'>    <i><font color='green'>/* Finds &amp; returns the (num+1)th</font></i>
<a name='L338'><i><font color='green'>    ** valid character for base64, or -1 if none.</font></i>
<a name='L339'><i><font color='green'>    */</font></i>
<a name='L340'>
<a name='L341'>    <b>int</b> ret = -1;
<a name='L342'>    <b>unsigned</b> <b>char</b> c, b64val;
<a name='L343'>
<a name='L344'>    <b>while</b> ((slen &gt; 0) &amp;&amp; (ret == -1)) <font color='red'>{</font>
<a name='L345'>        c = *s;
<a name='L346'>        b64val = table_a2b_base64[c &amp; 0x7f];
<a name='L347'>        <b>if</b> ( ((c &lt;= 0x7f) &amp;&amp; (b64val != (<b>unsigned</b> <b>char</b>)-1)) ) <font color='red'>{</font>
<a name='L348'>            <b>if</b> (num == 0)
<a name='L349'>                ret = *s;
<a name='L350'>            num--;
<a name='L351'>        <font color='red'>}</font>
<a name='L352'>
<a name='L353'>        s++;
<a name='L354'>        slen--;
<a name='L355'>    <font color='red'>}</font>
<a name='L356'>    <b>return</b> ret;
<a name='L357'><font color='red'>}</font>
<a name='L358'>
<a name='L359'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_a2b_base64, "(ascii) -&gt; bin. Decode a line of base64 data");
<a name='L360'>
<a name='L361'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L362'><a href='../S/2625.html#L1484' title='Refered from 1484 in Modules/binascii.c.'>binascii_a2b_base64</a>(PyObject *self, PyObject *args)
<a name='L363'><font color='red'>{</font>
<a name='L364'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pascii;
<a name='L365'>    <b>unsigned</b> <b>char</b> *ascii_data, *bin_data;
<a name='L366'>    <b>int</b> leftbits = 0;
<a name='L367'>    <b>unsigned</b> <b>char</b> this_ch;
<a name='L368'>    <b>unsigned</b> <b>int</b> leftchar = 0;
<a name='L369'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L370'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> ascii_len, bin_len;
<a name='L371'>    <b>int</b> quad_pos = 0;
<a name='L372'>
<a name='L373'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:a2b_base64", &amp;pascii) )
<a name='L374'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L375'>    ascii_data = pascii.buf;
<a name='L376'>    ascii_len = pascii.len;
<a name='L377'>
<a name='L378'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(ascii_len &gt;= 0);
<a name='L379'>
<a name='L380'>    <b>if</b> (ascii_len &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - 3) <font color='red'>{</font>
<a name='L381'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L382'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L383'>    <font color='red'>}</font>
<a name='L384'>
<a name='L385'>    bin_len = ((ascii_len+3)/4)*3; <i><font color='green'>/* Upper bound, corrected later */</font></i>
<a name='L386'>
<a name='L387'>    <i><font color='green'>/* Allocate the buffer */</font></i>
<a name='L388'>    <b>if</b> ( (rv=<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, bin_len)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L389'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L390'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L391'>    <font color='red'>}</font>
<a name='L392'>    bin_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv);
<a name='L393'>    bin_len = 0;
<a name='L394'>
<a name='L395'>    <b>for</b>( ; ascii_len &gt; 0; ascii_len--, ascii_data++) <font color='red'>{</font>
<a name='L396'>        this_ch = *ascii_data;
<a name='L397'>
<a name='L398'>        <b>if</b> (this_ch &gt; 0x7f ||
<a name='L399'>            this_ch == '\r' || this_ch == '\n' || this_ch == ' ')
<a name='L400'>            <b>continue</b>;
<a name='L401'>
<a name='L402'>        <i><font color='green'>/* Check for pad sequences and ignore</font></i>
<a name='L403'><i><font color='green'>        ** the invalid ones.</font></i>
<a name='L404'><i><font color='green'>        */</font></i>
<a name='L405'>        <b>if</b> (this_ch == <a href='../S/2625.html#L141' title='Defined at 141 in Modules/binascii.c.'>BASE64_PAD</a>) <font color='red'>{</font>
<a name='L406'>            <b>if</b> ( (quad_pos &lt; 2) ||
<a name='L407'>                 ((quad_pos == 2) &amp;&amp;
<a name='L408'>                  (<a href='../S/2625.html#L335' title='Defined at 335 in Modules/binascii.c.'>binascii_find_valid</a>(ascii_data, ascii_len, 1)
<a name='L409'>                   != <a href='../S/2625.html#L141' title='Defined at 141 in Modules/binascii.c.'>BASE64_PAD</a>)) )
<a name='L410'>            <font color='red'>{</font>
<a name='L411'>                <b>continue</b>;
<a name='L412'>            <font color='red'>}</font>
<a name='L413'>            <b>else</b> <font color='red'>{</font>
<a name='L414'>                <i><font color='green'>/* A pad sequence means no more input.</font></i>
<a name='L415'><i><font color='green'>                ** We've already interpreted the data</font></i>
<a name='L416'><i><font color='green'>                ** from the quad at this point.</font></i>
<a name='L417'><i><font color='green'>                */</font></i>
<a name='L418'>                leftbits = 0;
<a name='L419'>                <b>break</b>;
<a name='L420'>            <font color='red'>}</font>
<a name='L421'>        <font color='red'>}</font>
<a name='L422'>
<a name='L423'>        this_ch = table_a2b_base64[*ascii_data];
<a name='L424'>        <b>if</b> ( this_ch == (<b>unsigned</b> <b>char</b>) -1 )
<a name='L425'>            <b>continue</b>;
<a name='L426'>
<a name='L427'>        <i><font color='green'>/*</font></i>
<a name='L428'><i><font color='green'>        ** Shift it in on the low end, and see if there's</font></i>
<a name='L429'><i><font color='green'>        ** a byte ready for output.</font></i>
<a name='L430'><i><font color='green'>        */</font></i>
<a name='L431'>        quad_pos = (quad_pos + 1) &amp; 0x03;
<a name='L432'>        leftchar = (leftchar &lt;&lt; 6) | (this_ch);
<a name='L433'>        leftbits += 6;
<a name='L434'>
<a name='L435'>        <b>if</b> ( leftbits &gt;= 8 ) <font color='red'>{</font>
<a name='L436'>            leftbits -= 8;
<a name='L437'>            *bin_data++ = (leftchar &gt;&gt; leftbits) &amp; 0xff;
<a name='L438'>            bin_len++;
<a name='L439'>            leftchar &amp;= ((1 &lt;&lt; leftbits) - 1);
<a name='L440'>        <font color='red'>}</font>
<a name='L441'>    <font color='red'>}</font>
<a name='L442'>
<a name='L443'>    <b>if</b> (leftbits != 0) <font color='red'>{</font>
<a name='L444'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L445'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error, "Incorrect padding");
<a name='L446'>        Py_DECREF(rv);
<a name='L447'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L448'>    <font color='red'>}</font>
<a name='L449'>
<a name='L450'>    <i><font color='green'>/* And set string size correctly. If the result string is empty</font></i>
<a name='L451'><i><font color='green'>    ** (because the input was all invalid) return the shared empty</font></i>
<a name='L452'><i><font color='green'>    ** string instead; _PyBytes_Resize() won't do this for us.</font></i>
<a name='L453'><i><font color='green'>    */</font></i>
<a name='L454'>    <b>if</b> (bin_len &gt; 0) <font color='red'>{</font>
<a name='L455'>        <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv, bin_len) &lt; 0) <font color='red'>{</font>
<a name='L456'>            Py_DECREF(rv);
<a name='L457'>            rv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L458'>        <font color='red'>}</font>
<a name='L459'>    <font color='red'>}</font>
<a name='L460'>    <b>else</b> <font color='red'>{</font>
<a name='L461'>        Py_DECREF(rv);
<a name='L462'>        rv = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>("", 0);
<a name='L463'>    <font color='red'>}</font>
<a name='L464'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L465'>    <b>return</b> rv;
<a name='L466'><font color='red'>}</font>
<a name='L467'>
<a name='L468'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_b2a_base64, "(bin) -&gt; ascii. Base64-code line of data");
<a name='L469'>
<a name='L470'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L471'><a href='../S/2625.html#L1485' title='Refered from 1485 in Modules/binascii.c.'>binascii_b2a_base64</a>(PyObject *self, PyObject *args)
<a name='L472'><font color='red'>{</font>
<a name='L473'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pbuf;
<a name='L474'>    <b>unsigned</b> <b>char</b> *ascii_data, *bin_data;
<a name='L475'>    <b>int</b> leftbits = 0;
<a name='L476'>    <b>unsigned</b> <b>char</b> this_ch;
<a name='L477'>    <b>unsigned</b> <b>int</b> leftchar = 0;
<a name='L478'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L479'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> bin_len;
<a name='L480'>
<a name='L481'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:b2a_base64", &amp;pbuf) )
<a name='L482'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L483'>    bin_data = pbuf.buf;
<a name='L484'>    bin_len = pbuf.len;
<a name='L485'>
<a name='L486'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(bin_len &gt;= 0);
<a name='L487'>
<a name='L488'>    <b>if</b> ( bin_len &gt; <a href='../S/2625.html#L144' title='Defined at 144 in Modules/binascii.c.'>BASE64_MAXBIN</a> ) <font color='red'>{</font>
<a name='L489'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error, "Too much data for base64 line");
<a name='L490'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbuf);
<a name='L491'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L492'>    <font color='red'>}</font>
<a name='L493'>
<a name='L494'>    <i><font color='green'>/* We're lazy and allocate too much (fixed up later).</font></i>
<a name='L495'><i><font color='green'>       "+3" leaves room for up to two pad characters and a trailing</font></i>
<a name='L496'><i><font color='green'>       newline.  Note that 'b' gets encoded as 'Yg==\n' (1 in, 5 out). */</font></i>
<a name='L497'>    <b>if</b> ( (rv=<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, bin_len*2 + 3)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L498'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbuf);
<a name='L499'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L500'>    <font color='red'>}</font>
<a name='L501'>    ascii_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv);
<a name='L502'>
<a name='L503'>    <b>for</b>( ; bin_len &gt; 0 ; bin_len--, bin_data++ ) <font color='red'>{</font>
<a name='L504'>        <i><font color='green'>/* Shift the data into our buffer */</font></i>
<a name='L505'>        leftchar = (leftchar &lt;&lt; 8) | *bin_data;
<a name='L506'>        leftbits += 8;
<a name='L507'>
<a name='L508'>        <i><font color='green'>/* See if there are 6-bit groups ready */</font></i>
<a name='L509'>        <b>while</b> ( leftbits &gt;= 6 ) <font color='red'>{</font>
<a name='L510'>            this_ch = (leftchar &gt;&gt; (leftbits-6)) &amp; 0x3f;
<a name='L511'>            leftbits -= 6;
<a name='L512'>            *ascii_data++ = table_b2a_base64[this_ch];
<a name='L513'>        <font color='red'>}</font>
<a name='L514'>    <font color='red'>}</font>
<a name='L515'>    <b>if</b> ( leftbits == 2 ) <font color='red'>{</font>
<a name='L516'>        *ascii_data++ = table_b2a_base64[(leftchar&amp;3) &lt;&lt; 4];
<a name='L517'>        *ascii_data++ = <a href='../S/2625.html#L141' title='Defined at 141 in Modules/binascii.c.'>BASE64_PAD</a>;
<a name='L518'>        *ascii_data++ = <a href='../S/2625.html#L141' title='Defined at 141 in Modules/binascii.c.'>BASE64_PAD</a>;
<a name='L519'>    <font color='red'>}</font> <b>else</b> <b>if</b> ( leftbits == 4 ) <font color='red'>{</font>
<a name='L520'>        *ascii_data++ = table_b2a_base64[(leftchar&amp;0xf) &lt;&lt; 2];
<a name='L521'>        *ascii_data++ = <a href='../S/2625.html#L141' title='Defined at 141 in Modules/binascii.c.'>BASE64_PAD</a>;
<a name='L522'>    <font color='red'>}</font>
<a name='L523'>    *ascii_data++ = '\n';       <i><font color='green'>/* Append a courtesy newline */</font></i>
<a name='L524'>
<a name='L525'>    <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv,
<a name='L526'>                       (ascii_data -
<a name='L527'>                        (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv))) &lt; 0) <font color='red'>{</font>
<a name='L528'>        Py_DECREF(rv);
<a name='L529'>        rv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L530'>    <font color='red'>}</font>
<a name='L531'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbuf);
<a name='L532'>    <b>return</b> rv;
<a name='L533'><font color='red'>}</font>
<a name='L534'>
<a name='L535'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_a2b_hqx, "ascii -&gt; bin, done. Decode .hqx coding");
<a name='L536'>
<a name='L537'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L538'><a href='../S/2625.html#L1486' title='Refered from 1486 in Modules/binascii.c.'>binascii_a2b_hqx</a>(PyObject *self, PyObject *args)
<a name='L539'><font color='red'>{</font>
<a name='L540'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pascii;
<a name='L541'>    <b>unsigned</b> <b>char</b> *ascii_data, *bin_data;
<a name='L542'>    <b>int</b> leftbits = 0;
<a name='L543'>    <b>unsigned</b> <b>char</b> this_ch;
<a name='L544'>    <b>unsigned</b> <b>int</b> leftchar = 0;
<a name='L545'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L546'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len;
<a name='L547'>    <b>int</b> done = 0;
<a name='L548'>
<a name='L549'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:a2b_hqx", &amp;pascii) )
<a name='L550'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L551'>    ascii_data = pascii.buf;
<a name='L552'>    len = pascii.len;
<a name='L553'>
<a name='L554'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(len &gt;= 0);
<a name='L555'>
<a name='L556'>    <b>if</b> (len &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - 2) <font color='red'>{</font>
<a name='L557'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L558'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L559'>    <font color='red'>}</font>
<a name='L560'>
<a name='L561'>    <i><font color='green'>/* Allocate a string that is too big (fixed later)</font></i>
<a name='L562'><i><font color='green'>       Add two to the initial length to prevent interning which</font></i>
<a name='L563'><i><font color='green'>       would preclude subsequent resizing.  */</font></i>
<a name='L564'>    <b>if</b> ( (rv=<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, len+2)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L565'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L566'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L567'>    <font color='red'>}</font>
<a name='L568'>    bin_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv);
<a name='L569'>
<a name='L570'>    <b>for</b>( ; len &gt; 0 ; len--, ascii_data++ ) <font color='red'>{</font>
<a name='L571'>        <i><font color='green'>/* Get the byte and look it up */</font></i>
<a name='L572'>        this_ch = table_a2b_hqx[*ascii_data];
<a name='L573'>        <b>if</b> ( this_ch == <a href='../S/2625.html#L73' title='Defined at 73 in Modules/binascii.c.'>SKIP</a> )
<a name='L574'>            <b>continue</b>;
<a name='L575'>        <b>if</b> ( this_ch == <a href='../D/1085.html' title='Multiple defined in 6 places.'>FAIL</a> ) <font color='red'>{</font>
<a name='L576'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error, "Illegal char");
<a name='L577'>            <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L578'>            Py_DECREF(rv);
<a name='L579'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L580'>        <font color='red'>}</font>
<a name='L581'>        <b>if</b> ( this_ch == <a href='../D/809.html' title='Multiple defined in 2 places.'>DONE</a> ) <font color='red'>{</font>
<a name='L582'>            <i><font color='green'>/* The terminating colon */</font></i>
<a name='L583'>            done = 1;
<a name='L584'>            <b>break</b>;
<a name='L585'>        <font color='red'>}</font>
<a name='L586'>
<a name='L587'>        <i><font color='green'>/* Shift it into the buffer and see if any bytes are ready */</font></i>
<a name='L588'>        leftchar = (leftchar &lt;&lt; 6) | (this_ch);
<a name='L589'>        leftbits += 6;
<a name='L590'>        <b>if</b> ( leftbits &gt;= 8 ) <font color='red'>{</font>
<a name='L591'>            leftbits -= 8;
<a name='L592'>            *bin_data++ = (leftchar &gt;&gt; leftbits) &amp; 0xff;
<a name='L593'>            leftchar &amp;= ((1 &lt;&lt; leftbits) - 1);
<a name='L594'>        <font color='red'>}</font>
<a name='L595'>    <font color='red'>}</font>
<a name='L596'>
<a name='L597'>    <b>if</b> ( leftbits &amp;&amp; !done ) <font color='red'>{</font>
<a name='L598'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Incomplete,
<a name='L599'>                        "String has incomplete number of bytes");
<a name='L600'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L601'>        Py_DECREF(rv);
<a name='L602'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L603'>    <font color='red'>}</font>
<a name='L604'>    <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv,
<a name='L605'>                       (bin_data -
<a name='L606'>                        (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv))) &lt; 0) <font color='red'>{</font>
<a name='L607'>        Py_DECREF(rv);
<a name='L608'>        rv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L609'>    <font color='red'>}</font>
<a name='L610'>    <b>if</b> (rv) <font color='red'>{</font>
<a name='L611'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rrv = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("Oi", rv, done);
<a name='L612'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L613'>        Py_DECREF(rv);
<a name='L614'>        <b>return</b> rrv;
<a name='L615'>    <font color='red'>}</font>
<a name='L616'>
<a name='L617'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pascii);
<a name='L618'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L619'><font color='red'>}</font>
<a name='L620'>
<a name='L621'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_rlecode_hqx, "Binhex RLE-code binary data");
<a name='L622'>
<a name='L623'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L624'><a href='../S/2625.html#L1492' title='Refered from 1492 in Modules/binascii.c.'>binascii_rlecode_hqx</a>(PyObject *self, PyObject *args)
<a name='L625'><font color='red'>{</font>
<a name='L626'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pbuf;
<a name='L627'>    <b>unsigned</b> <b>char</b> *in_data, *out_data;
<a name='L628'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L629'>    <b>unsigned</b> <b>char</b> ch;
<a name='L630'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> in, inend, len;
<a name='L631'>
<a name='L632'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:rlecode_hqx", &amp;pbuf) )
<a name='L633'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L634'>    in_data = pbuf.buf;
<a name='L635'>    len = pbuf.len;
<a name='L636'>
<a name='L637'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(len &gt;= 0);
<a name='L638'>
<a name='L639'>    <b>if</b> (len &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> / 2 - 2) <font color='red'>{</font>
<a name='L640'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbuf);
<a name='L641'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L642'>    <font color='red'>}</font>
<a name='L643'>
<a name='L644'>    <i><font color='green'>/* Worst case: output is twice as big as input (fixed later) */</font></i>
<a name='L645'>    <b>if</b> ( (rv=<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, len*2+2)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L646'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbuf);
<a name='L647'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L648'>    <font color='red'>}</font>
<a name='L649'>    out_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv);
<a name='L650'>
<a name='L651'>    <b>for</b>( in=0; in&lt;len; in++) <font color='red'>{</font>
<a name='L652'>        ch = in_data[in];
<a name='L653'>        <b>if</b> ( ch == <a href='../S/2625.html#L70' title='Defined at 70 in Modules/binascii.c.'>RUNCHAR</a> ) <font color='red'>{</font>
<a name='L654'>            <i><font color='green'>/* RUNCHAR. Escape it. */</font></i>
<a name='L655'>            *out_data++ = <a href='../S/2625.html#L70' title='Defined at 70 in Modules/binascii.c.'>RUNCHAR</a>;
<a name='L656'>            *out_data++ = 0;
<a name='L657'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L658'>            <i><font color='green'>/* Check how many following are the same */</font></i>
<a name='L659'>            <b>for</b>(inend=in+1;
<a name='L660'>                inend&lt;len &amp;&amp; in_data[inend] == ch &amp;&amp;
<a name='L661'>                    inend &lt; in+255;
<a name='L662'>                inend++) ;
<a name='L663'>            <b>if</b> ( inend - in &gt; 3 ) <font color='red'>{</font>
<a name='L664'>                <i><font color='green'>/* More than 3 in a row. Output RLE. */</font></i>
<a name='L665'>                *out_data++ = ch;
<a name='L666'>                *out_data++ = <a href='../S/2625.html#L70' title='Defined at 70 in Modules/binascii.c.'>RUNCHAR</a>;
<a name='L667'>                *out_data++ = (<b>unsigned</b> <b>char</b>) (inend-in);
<a name='L668'>                in = inend-1;
<a name='L669'>            <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L670'>                <i><font color='green'>/* Less than 3. Output the byte itself */</font></i>
<a name='L671'>                *out_data++ = ch;
<a name='L672'>            <font color='red'>}</font>
<a name='L673'>        <font color='red'>}</font>
<a name='L674'>    <font color='red'>}</font>
<a name='L675'>    <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv,
<a name='L676'>                       (out_data -
<a name='L677'>                        (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv))) &lt; 0) <font color='red'>{</font>
<a name='L678'>        Py_DECREF(rv);
<a name='L679'>        rv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L680'>    <font color='red'>}</font>
<a name='L681'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbuf);
<a name='L682'>    <b>return</b> rv;
<a name='L683'><font color='red'>}</font>
<a name='L684'>
<a name='L685'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_b2a_hqx, "Encode .hqx data");
<a name='L686'>
<a name='L687'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L688'><a href='../S/2625.html#L1487' title='Refered from 1487 in Modules/binascii.c.'>binascii_b2a_hqx</a>(PyObject *self, PyObject *args)
<a name='L689'><font color='red'>{</font>
<a name='L690'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pbin;
<a name='L691'>    <b>unsigned</b> <b>char</b> *ascii_data, *bin_data;
<a name='L692'>    <b>int</b> leftbits = 0;
<a name='L693'>    <b>unsigned</b> <b>char</b> this_ch;
<a name='L694'>    <b>unsigned</b> <b>int</b> leftchar = 0;
<a name='L695'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L696'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len;
<a name='L697'>
<a name='L698'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:b2a_hqx", &amp;pbin) )
<a name='L699'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L700'>    bin_data = pbin.buf;
<a name='L701'>    len = pbin.len;
<a name='L702'>
<a name='L703'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(len &gt;= 0);
<a name='L704'>
<a name='L705'>    <b>if</b> (len &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> / 2 - 2) <font color='red'>{</font>
<a name='L706'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbin);
<a name='L707'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L708'>    <font color='red'>}</font>
<a name='L709'>
<a name='L710'>    <i><font color='green'>/* Allocate a buffer that is at least large enough */</font></i>
<a name='L711'>    <b>if</b> ( (rv=<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, len*2+2)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L712'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbin);
<a name='L713'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L714'>    <font color='red'>}</font>
<a name='L715'>    ascii_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv);
<a name='L716'>
<a name='L717'>    <b>for</b>( ; len &gt; 0 ; len--, bin_data++ ) <font color='red'>{</font>
<a name='L718'>        <i><font color='green'>/* Shift into our buffer, and output any 6bits ready */</font></i>
<a name='L719'>        leftchar = (leftchar &lt;&lt; 8) | *bin_data;
<a name='L720'>        leftbits += 8;
<a name='L721'>        <b>while</b> ( leftbits &gt;= 6 ) <font color='red'>{</font>
<a name='L722'>            this_ch = (leftchar &gt;&gt; (leftbits-6)) &amp; 0x3f;
<a name='L723'>            leftbits -= 6;
<a name='L724'>            *ascii_data++ = table_b2a_hqx[this_ch];
<a name='L725'>        <font color='red'>}</font>
<a name='L726'>    <font color='red'>}</font>
<a name='L727'>    <i><font color='green'>/* Output a possible runt byte */</font></i>
<a name='L728'>    <b>if</b> ( leftbits ) <font color='red'>{</font>
<a name='L729'>        leftchar &lt;&lt;= (6-leftbits);
<a name='L730'>        *ascii_data++ = table_b2a_hqx[leftchar &amp; 0x3f];
<a name='L731'>    <font color='red'>}</font>
<a name='L732'>    <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv,
<a name='L733'>                       (ascii_data -
<a name='L734'>                        (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv))) &lt; 0) <font color='red'>{</font>
<a name='L735'>        Py_DECREF(rv);
<a name='L736'>        rv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L737'>    <font color='red'>}</font>
<a name='L738'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbin);
<a name='L739'>    <b>return</b> rv;
<a name='L740'><font color='red'>}</font>
<a name='L741'>
<a name='L742'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_rledecode_hqx, "Decode hexbin RLE-coded string");
<a name='L743'>
<a name='L744'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L745'><a href='../S/2625.html#L1493' title='Refered from 1493 in Modules/binascii.c.'>binascii_rledecode_hqx</a>(PyObject *self, PyObject *args)
<a name='L746'><font color='red'>{</font>
<a name='L747'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pin;
<a name='L748'>    <b>unsigned</b> <b>char</b> *in_data, *out_data;
<a name='L749'>    <b>unsigned</b> <b>char</b> in_byte, in_repeat;
<a name='L750'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L751'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> in_len, out_len, out_len_left;
<a name='L752'>
<a name='L753'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:rledecode_hqx", &amp;pin) )
<a name='L754'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L755'>    in_data = pin.buf;
<a name='L756'>    in_len = pin.len;
<a name='L757'>
<a name='L758'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(in_len &gt;= 0);
<a name='L759'>
<a name='L760'>    <i><font color='green'>/* Empty string is a special case */</font></i>
<a name='L761'>    <b>if</b> ( in_len == 0 ) <font color='red'>{</font>
<a name='L762'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pin);
<a name='L763'>        <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>("", 0);
<a name='L764'>    <font color='red'>}</font>
<a name='L765'>    <b>else</b> <b>if</b> (in_len &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> / 2) <font color='red'>{</font>
<a name='L766'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pin);
<a name='L767'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L768'>    <font color='red'>}</font>
<a name='L769'>
<a name='L770'>    <i><font color='green'>/* Allocate a buffer of reasonable size. Resized when needed */</font></i>
<a name='L771'>    out_len = in_len*2;
<a name='L772'>    <b>if</b> ( (rv=<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, out_len)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L773'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pin);
<a name='L774'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L775'>    <font color='red'>}</font>
<a name='L776'>    out_len_left = out_len;
<a name='L777'>    out_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv);
<a name='L778'>
<a name='L779'>    <i><font color='green'>/*</font></i>
<a name='L780'><i><font color='green'>    ** We need two macros here to get/put bytes and handle</font></i>
<a name='L781'><i><font color='green'>    ** end-of-buffer for input and output strings.</font></i>
<a name='L782'><i><font color='green'>    */</font></i>
<a name='L783'><font color='darkred'>#define</font> <a href='../R/1508.html' title='Multiple refered from 4 places.'>INBYTE</a>(b) \
<a name='L784'>    <b>do</b> <font color='red'>{</font> \
<a name='L785'>             <b>if</b> ( --in_len &lt; 0 ) <font color='red'>{</font> \
<a name='L786'>                       <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Incomplete, ""); \
<a name='L787'>                       Py_DECREF(rv); \
<a name='L788'>                       <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pin); \
<a name='L789'>                       <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; \
<a name='L790'>             <font color='red'>}</font> \
<a name='L791'>             <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a> = *in_data++; \
<a name='L792'>    <font color='red'>}</font> <b>while</b>(0)
<a name='L793'>
<a name='L794'><font color='darkred'>#define</font> <a href='../R/2207.html' title='Multiple refered from 5 places.'>OUTBYTE</a>(b) \
<a name='L795'>    <b>do</b> <font color='red'>{</font> \
<a name='L796'>             <b>if</b> ( --out_len_left &lt; 0 ) <font color='red'>{</font> \
<a name='L797'>                      <b>if</b> ( out_len &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> / 2) <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>(); \
<a name='L798'>                      <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv, 2*out_len) &lt; 0) \
<a name='L799'>                        <font color='red'>{</font> Py_DECREF(rv); <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pin); <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; <font color='red'>}</font> \
<a name='L800'>                      out_data = (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv) \
<a name='L801'>                                                             + out_len; \
<a name='L802'>                      out_len_left = out_len-1; \
<a name='L803'>                      out_len = out_len * 2; \
<a name='L804'>             <font color='red'>}</font> \
<a name='L805'>             *out_data++ = <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>; \
<a name='L806'>    <font color='red'>}</font> <b>while</b>(0)
<a name='L807'>
<a name='L808'>        <i><font color='green'>/*</font></i>
<a name='L809'><i><font color='green'>        ** Handle first byte separately (since we have to get angry</font></i>
<a name='L810'><i><font color='green'>        ** in case of an orphaned RLE code).</font></i>
<a name='L811'><i><font color='green'>        */</font></i>
<a name='L812'>        <a href='../S/2625.html#L783' title='Defined at 783 in Modules/binascii.c.'>INBYTE</a>(in_byte);
<a name='L813'>
<a name='L814'>    <b>if</b> (in_byte == <a href='../S/2625.html#L70' title='Defined at 70 in Modules/binascii.c.'>RUNCHAR</a>) <font color='red'>{</font>
<a name='L815'>        <a href='../S/2625.html#L783' title='Defined at 783 in Modules/binascii.c.'>INBYTE</a>(in_repeat);
<a name='L816'>        <b>if</b> (in_repeat != 0) <font color='red'>{</font>
<a name='L817'>            <i><font color='green'>/* Note Error, not Incomplete (which is at the end</font></i>
<a name='L818'><i><font color='green'>            ** of the string only). This is a programmer error.</font></i>
<a name='L819'><i><font color='green'>            */</font></i>
<a name='L820'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error, "Orphaned RLE code at start");
<a name='L821'>            <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pin);
<a name='L822'>            Py_DECREF(rv);
<a name='L823'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L824'>        <font color='red'>}</font>
<a name='L825'>        <a href='../S/2625.html#L794' title='Defined at 794 in Modules/binascii.c.'>OUTBYTE</a>(<a href='../S/2625.html#L70' title='Defined at 70 in Modules/binascii.c.'>RUNCHAR</a>);
<a name='L826'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L827'>        <a href='../S/2625.html#L794' title='Defined at 794 in Modules/binascii.c.'>OUTBYTE</a>(in_byte);
<a name='L828'>    <font color='red'>}</font>
<a name='L829'>
<a name='L830'>    <b>while</b>( in_len &gt; 0 ) <font color='red'>{</font>
<a name='L831'>        <a href='../S/2625.html#L783' title='Defined at 783 in Modules/binascii.c.'>INBYTE</a>(in_byte);
<a name='L832'>
<a name='L833'>        <b>if</b> (in_byte == <a href='../S/2625.html#L70' title='Defined at 70 in Modules/binascii.c.'>RUNCHAR</a>) <font color='red'>{</font>
<a name='L834'>            <a href='../S/2625.html#L783' title='Defined at 783 in Modules/binascii.c.'>INBYTE</a>(in_repeat);
<a name='L835'>            <b>if</b> ( in_repeat == 0 ) <font color='red'>{</font>
<a name='L836'>                <i><font color='green'>/* Just an escaped RUNCHAR value */</font></i>
<a name='L837'>                <a href='../S/2625.html#L794' title='Defined at 794 in Modules/binascii.c.'>OUTBYTE</a>(<a href='../S/2625.html#L70' title='Defined at 70 in Modules/binascii.c.'>RUNCHAR</a>);
<a name='L838'>            <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L839'>                <i><font color='green'>/* Pick up value and output a sequence of it */</font></i>
<a name='L840'>                in_byte = out_data[-1];
<a name='L841'>                <b>while</b> ( --in_repeat &gt; 0 )
<a name='L842'>                    <a href='../S/2625.html#L794' title='Defined at 794 in Modules/binascii.c.'>OUTBYTE</a>(in_byte);
<a name='L843'>            <font color='red'>}</font>
<a name='L844'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L845'>            <i><font color='green'>/* Normal byte */</font></i>
<a name='L846'>            <a href='../S/2625.html#L794' title='Defined at 794 in Modules/binascii.c.'>OUTBYTE</a>(in_byte);
<a name='L847'>        <font color='red'>}</font>
<a name='L848'>    <font color='red'>}</font>
<a name='L849'>    <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;rv,
<a name='L850'>                       (out_data -
<a name='L851'>                        (<b>unsigned</b> <b>char</b> *)PyBytes_AS_STRING(rv))) &lt; 0) <font color='red'>{</font>
<a name='L852'>        Py_DECREF(rv);
<a name='L853'>        rv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L854'>    <font color='red'>}</font>
<a name='L855'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pin);
<a name='L856'>    <b>return</b> rv;
<a name='L857'><font color='red'>}</font>
<a name='L858'>
<a name='L859'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_crc_hqx,
<a name='L860'>"(data, oldcrc) -&gt; newcrc. Compute hqx CRC incrementally");
<a name='L861'>
<a name='L862'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L863'><a href='../S/2625.html#L1495' title='Refered from 1495 in Modules/binascii.c.'>binascii_crc_hqx</a>(PyObject *self, PyObject *args)
<a name='L864'><font color='red'>{</font>
<a name='L865'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pin;
<a name='L866'>    <b>unsigned</b> <b>char</b> *bin_data;
<a name='L867'>    <b>unsigned</b> <b>int</b> crc;
<a name='L868'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len;
<a name='L869'>
<a name='L870'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*i:crc_hqx", &amp;pin, &amp;crc) )
<a name='L871'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L872'>    bin_data = pin.buf;
<a name='L873'>    len = pin.len;
<a name='L874'>
<a name='L875'>    <b>while</b>(len-- &gt; 0) <font color='red'>{</font>
<a name='L876'>        crc=((crc&lt;&lt;8)&amp;0xff00)^crctab_hqx[((crc&gt;&gt;8)&amp;0xff)^*bin_data++];
<a name='L877'>    <font color='red'>}</font>
<a name='L878'>
<a name='L879'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pin);
<a name='L880'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("i", crc);
<a name='L881'><font color='red'>}</font>
<a name='L882'>
<a name='L883'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_crc32,
<a name='L884'>"(data, oldcrc = 0) -&gt; newcrc. Compute CRC-32 incrementally");
<a name='L885'>
<a name='L886'><font color='darkred'>#ifdef</font> USE_ZLIB_CRC32
<a name='L887'><i><font color='green'>/* This was taken from zlibmodule.c PyZlib_crc32 (but is PY_SSIZE_T_CLEAN) */</font></i>
<a name='L888'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L889'><a href='../S/2625.html#L1496' title='Refered from 1496 in Modules/binascii.c.'>binascii_crc32</a>(PyObject *self, PyObject *args)
<a name='L890'><font color='red'>{</font>
<a name='L891'>    <b>unsigned</b> <b>int</b> crc32val = 0;  <i><font color='green'>/* crc32(0L, Z_NULL, 0) */</font></i>
<a name='L892'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pbuf;
<a name='L893'>    <a href='../D/458.html' title='Multiple defined in 4 places.'>Byte</a> *buf;
<a name='L894'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len;
<a name='L895'>    <b>int</b> signed_val;
<a name='L896'>
<a name='L897'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*|I:crc32", &amp;pbuf, &amp;crc32val))
<a name='L898'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L899'>    buf = (<a href='../D/458.html' title='Multiple defined in 4 places.'>Byte</a>*)pbuf.buf;
<a name='L900'>    len = pbuf.len;
<a name='L901'>    signed_val = <a href='../D/7813.html' title='Multiple defined in 3 places.'>crc32</a>(crc32val, buf, len);
<a name='L902'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbuf);
<a name='L903'>    <b>return</b> <a href='../S/2799.html#L245' title='Defined at 245 in Objects/longobject.c.'>PyLong_FromUnsignedLong</a>(signed_val &amp; 0xffffffffU);
<a name='L904'><font color='red'>}</font>
<a name='L905'><font color='darkred'>#else</font>  <i><font color='green'>/* USE_ZLIB_CRC32 */</font></i>
<a name='L906'><i><font color='green'>/*  Crc - 32 BIT ANSI X3.66 CRC checksum files</font></i>
<a name='L907'><i><font color='green'>    Also known as: ISO 3307</font></i>
<a name='L908'><i><font color='green'>**********************************************************************|</font></i>
<a name='L909'><i><font color='green'>*                                                                    *|</font></i>
<a name='L910'><i><font color='green'>* Demonstration program to compute the 32-bit CRC used as the frame  *|</font></i>
<a name='L911'><i><font color='green'>* check sequence in ADCCP (ANSI X3.66, also known as FIPS PUB 71     *|</font></i>
<a name='L912'><i><font color='green'>* and FED-STD-1003, the U.S. versions of CCITT's X.25 link-level     *|</font></i>
<a name='L913'><i><font color='green'>* protocol).  The 32-bit FCS was added via the Federal Register,     *|</font></i>
<a name='L914'><i><font color='green'>* 1 June 1982, p.23798.  I presume but don't know for certain that   *|</font></i>
<a name='L915'><i><font color='green'>* this polynomial is or will be included in CCITT V.41, which        *|</font></i>
<a name='L916'><i><font color='green'>* defines the 16-bit CRC (often called CRC-CCITT) polynomial.  FIPS  *|</font></i>
<a name='L917'><i><font color='green'>* PUB 78 says that the 32-bit FCS reduces otherwise undetected       *|</font></i>
<a name='L918'><i><font color='green'>* errors by a factor of 10^-5 over 16-bit FCS.                       *|</font></i>
<a name='L919'><i><font color='green'>*                                                                    *|</font></i>
<a name='L920'><i><font color='green'>**********************************************************************|</font></i>
<a name='L921'><i><font color='green'></font></i>
<a name='L922'><i><font color='green'> Copyright (C) 1986 Gary S. Brown.  You may use this program, or</font></i>
<a name='L923'><i><font color='green'> code or tables extracted from it, as desired without restriction.</font></i>
<a name='L924'><i><font color='green'></font></i>
<a name='L925'><i><font color='green'> First, the polynomial itself and its table of feedback terms.  The</font></i>
<a name='L926'><i><font color='green'> polynomial is</font></i>
<a name='L927'><i><font color='green'> X^32+X^26+X^23+X^22+X^16+X^12+X^11+X^10+X^8+X^7+X^5+X^4+X^2+X^1+X^0</font></i>
<a name='L928'><i><font color='green'> Note that we take it "backwards" and put the highest-order term in</font></i>
<a name='L929'><i><font color='green'> the lowest-order bit.  The X^32 term is "implied"; the LSB is the</font></i>
<a name='L930'><i><font color='green'> X^31 term, etc.  The X^0 term (usually shown as "+1") results in</font></i>
<a name='L931'><i><font color='green'> the MSB being 1.</font></i>
<a name='L932'><i><font color='green'></font></i>
<a name='L933'><i><font color='green'> Note that the usual hardware shift register implementation, which</font></i>
<a name='L934'><i><font color='green'> is what we're using (we're merely optimizing it by doing eight-bit</font></i>
<a name='L935'><i><font color='green'> chunks at a time) shifts bits into the lowest-order term.  In our</font></i>
<a name='L936'><i><font color='green'> implementation, that means shifting towards the right.  Why do we</font></i>
<a name='L937'><i><font color='green'> do it this way?  Because the calculated CRC must be transmitted in</font></i>
<a name='L938'><i><font color='green'> order from highest-order term to lowest-order term.  UARTs transmit</font></i>
<a name='L939'><i><font color='green'> characters in order from LSB to MSB.  By storing the CRC this way,</font></i>
<a name='L940'><i><font color='green'> we hand it to the UART in the order low-byte to high-byte; the UART</font></i>
<a name='L941'><i><font color='green'> sends each low-bit to hight-bit; and the result is transmission bit</font></i>
<a name='L942'><i><font color='green'> by bit from highest- to lowest-order term without requiring any bit</font></i>
<a name='L943'><i><font color='green'> shuffling on our part.  Reception works similarly.</font></i>
<a name='L944'><i><font color='green'></font></i>
<a name='L945'><i><font color='green'> The feedback terms table consists of 256, 32-bit entries.  Notes:</font></i>
<a name='L946'><i><font color='green'></font></i>
<a name='L947'><i><font color='green'>  1. The table can be generated at runtime if desired; code to do so</font></i>
<a name='L948'><i><font color='green'>     is shown later.  It might not be obvious, but the feedback</font></i>
<a name='L949'><i><font color='green'>     terms simply represent the results of eight shift/xor opera-</font></i>
<a name='L950'><i><font color='green'>     tions for all combinations of data and CRC register values.</font></i>
<a name='L951'><i><font color='green'></font></i>
<a name='L952'><i><font color='green'>  2. The CRC accumulation logic is the same for all CRC polynomials,</font></i>
<a name='L953'><i><font color='green'>     be they sixteen or thirty-two bits wide.  You simply choose the</font></i>
<a name='L954'><i><font color='green'>     appropriate table.  Alternatively, because the table can be</font></i>
<a name='L955'><i><font color='green'>     generated at runtime, you can start by generating the table for</font></i>
<a name='L956'><i><font color='green'>     the polynomial in question and use exactly the same "updcrc",</font></i>
<a name='L957'><i><font color='green'>     if your application needn't simultaneously handle two CRC</font></i>
<a name='L958'><i><font color='green'>     polynomials.  (Note, however, that XMODEM is strange.)</font></i>
<a name='L959'><i><font color='green'></font></i>
<a name='L960'><i><font color='green'>  3. For 16-bit CRCs, the table entries need be only 16 bits wide;</font></i>
<a name='L961'><i><font color='green'>     of course, 32-bit entries work OK if the high 16 bits are zero.</font></i>
<a name='L962'><i><font color='green'></font></i>
<a name='L963'><i><font color='green'>  4. The values must be right-shifted by eight bits by the "updcrc"</font></i>
<a name='L964'><i><font color='green'>     logic; the shift must be unsigned (bring in zeroes).  On some</font></i>
<a name='L965'><i><font color='green'>     hardware you could probably optimize the shift in assembler by</font></i>
<a name='L966'><i><font color='green'>     using byte-swap instructions.</font></i>
<a name='L967'><i><font color='green'>********************************************************************/</font></i>
<a name='L968'>
<a name='L969'><b>static</b> <b>unsigned</b> <b>int</b> crc_32_tab[256] = <font color='red'>{</font>
<a name='L970'>0x00000000U, 0x77073096U, 0xee0e612cU, 0x990951baU, 0x076dc419U,
<a name='L971'>0x706af48fU, 0xe963a535U, 0x9e6495a3U, 0x0edb8832U, 0x79dcb8a4U,
<a name='L972'>0xe0d5e91eU, 0x97d2d988U, 0x09b64c2bU, 0x7eb17cbdU, 0xe7b82d07U,
<a name='L973'>0x90bf1d91U, 0x1db71064U, 0x6ab020f2U, 0xf3b97148U, 0x84be41deU,
<a name='L974'>0x1adad47dU, 0x6ddde4ebU, 0xf4d4b551U, 0x83d385c7U, 0x136c9856U,
<a name='L975'>0x646ba8c0U, 0xfd62f97aU, 0x8a65c9ecU, 0x14015c4fU, 0x63066cd9U,
<a name='L976'>0xfa0f3d63U, 0x8d080df5U, 0x3b6e20c8U, 0x4c69105eU, 0xd56041e4U,
<a name='L977'>0xa2677172U, 0x3c03e4d1U, 0x4b04d447U, 0xd20d85fdU, 0xa50ab56bU,
<a name='L978'>0x35b5a8faU, 0x42b2986cU, 0xdbbbc9d6U, 0xacbcf940U, 0x32d86ce3U,
<a name='L979'>0x45df5c75U, 0xdcd60dcfU, 0xabd13d59U, 0x26d930acU, 0x51de003aU,
<a name='L980'>0xc8d75180U, 0xbfd06116U, 0x21b4f4b5U, 0x56b3c423U, 0xcfba9599U,
<a name='L981'>0xb8bda50fU, 0x2802b89eU, 0x5f058808U, 0xc60cd9b2U, 0xb10be924U,
<a name='L982'>0x2f6f7c87U, 0x58684c11U, 0xc1611dabU, 0xb6662d3dU, 0x76dc4190U,
<a name='L983'>0x01db7106U, 0x98d220bcU, 0xefd5102aU, 0x71b18589U, 0x06b6b51fU,
<a name='L984'>0x9fbfe4a5U, 0xe8b8d433U, 0x7807c9a2U, 0x0f00f934U, 0x9609a88eU,
<a name='L985'>0xe10e9818U, 0x7f6a0dbbU, 0x086d3d2dU, 0x91646c97U, 0xe6635c01U,
<a name='L986'>0x6b6b51f4U, 0x1c6c6162U, 0x856530d8U, 0xf262004eU, 0x6c0695edU,
<a name='L987'>0x1b01a57bU, 0x8208f4c1U, 0xf50fc457U, 0x65b0d9c6U, 0x12b7e950U,
<a name='L988'>0x8bbeb8eaU, 0xfcb9887cU, 0x62dd1ddfU, 0x15da2d49U, 0x8cd37cf3U,
<a name='L989'>0xfbd44c65U, 0x4db26158U, 0x3ab551ceU, 0xa3bc0074U, 0xd4bb30e2U,
<a name='L990'>0x4adfa541U, 0x3dd895d7U, 0xa4d1c46dU, 0xd3d6f4fbU, 0x4369e96aU,
<a name='L991'>0x346ed9fcU, 0xad678846U, 0xda60b8d0U, 0x44042d73U, 0x33031de5U,
<a name='L992'>0xaa0a4c5fU, 0xdd0d7cc9U, 0x5005713cU, 0x270241aaU, 0xbe0b1010U,
<a name='L993'>0xc90c2086U, 0x5768b525U, 0x206f85b3U, 0xb966d409U, 0xce61e49fU,
<a name='L994'>0x5edef90eU, 0x29d9c998U, 0xb0d09822U, 0xc7d7a8b4U, 0x59b33d17U,
<a name='L995'>0x2eb40d81U, 0xb7bd5c3bU, 0xc0ba6cadU, 0xedb88320U, 0x9abfb3b6U,
<a name='L996'>0x03b6e20cU, 0x74b1d29aU, 0xead54739U, 0x9dd277afU, 0x04db2615U,
<a name='L997'>0x73dc1683U, 0xe3630b12U, 0x94643b84U, 0x0d6d6a3eU, 0x7a6a5aa8U,
<a name='L998'>0xe40ecf0bU, 0x9309ff9dU, 0x0a00ae27U, 0x7d079eb1U, 0xf00f9344U,
<a name='L999'>0x8708a3d2U, 0x1e01f268U, 0x6906c2feU, 0xf762575dU, 0x806567cbU,
<a name='L1000'>0x196c3671U, 0x6e6b06e7U, 0xfed41b76U, 0x89d32be0U, 0x10da7a5aU,
<a name='L1001'>0x67dd4accU, 0xf9b9df6fU, 0x8ebeeff9U, 0x17b7be43U, 0x60b08ed5U,
<a name='L1002'>0xd6d6a3e8U, 0xa1d1937eU, 0x38d8c2c4U, 0x4fdff252U, 0xd1bb67f1U,
<a name='L1003'>0xa6bc5767U, 0x3fb506ddU, 0x48b2364bU, 0xd80d2bdaU, 0xaf0a1b4cU,
<a name='L1004'>0x36034af6U, 0x41047a60U, 0xdf60efc3U, 0xa867df55U, 0x316e8eefU,
<a name='L1005'>0x4669be79U, 0xcb61b38cU, 0xbc66831aU, 0x256fd2a0U, 0x5268e236U,
<a name='L1006'>0xcc0c7795U, 0xbb0b4703U, 0x220216b9U, 0x5505262fU, 0xc5ba3bbeU,
<a name='L1007'>0xb2bd0b28U, 0x2bb45a92U, 0x5cb36a04U, 0xc2d7ffa7U, 0xb5d0cf31U,
<a name='L1008'>0x2cd99e8bU, 0x5bdeae1dU, 0x9b64c2b0U, 0xec63f226U, 0x756aa39cU,
<a name='L1009'>0x026d930aU, 0x9c0906a9U, 0xeb0e363fU, 0x72076785U, 0x05005713U,
<a name='L1010'>0x95bf4a82U, 0xe2b87a14U, 0x7bb12baeU, 0x0cb61b38U, 0x92d28e9bU,
<a name='L1011'>0xe5d5be0dU, 0x7cdcefb7U, 0x0bdbdf21U, 0x86d3d2d4U, 0xf1d4e242U,
<a name='L1012'>0x68ddb3f8U, 0x1fda836eU, 0x81be16cdU, 0xf6b9265bU, 0x6fb077e1U,
<a name='L1013'>0x18b74777U, 0x88085ae6U, 0xff0f6a70U, 0x66063bcaU, 0x11010b5cU,
<a name='L1014'>0x8f659effU, 0xf862ae69U, 0x616bffd3U, 0x166ccf45U, 0xa00ae278U,
<a name='L1015'>0xd70dd2eeU, 0x4e048354U, 0x3903b3c2U, 0xa7672661U, 0xd06016f7U,
<a name='L1016'>0x4969474dU, 0x3e6e77dbU, 0xaed16a4aU, 0xd9d65adcU, 0x40df0b66U,
<a name='L1017'>0x37d83bf0U, 0xa9bcae53U, 0xdebb9ec5U, 0x47b2cf7fU, 0x30b5ffe9U,
<a name='L1018'>0xbdbdf21cU, 0xcabac28aU, 0x53b39330U, 0x24b4a3a6U, 0xbad03605U,
<a name='L1019'>0xcdd70693U, 0x54de5729U, 0x23d967bfU, 0xb3667a2eU, 0xc4614ab8U,
<a name='L1020'>0x5d681b02U, 0x2a6f2b94U, 0xb40bbe37U, 0xc30c8ea1U, 0x5a05df1bU,
<a name='L1021'>0x2d02ef8dU
<a name='L1022'><font color='red'>}</font>;
<a name='L1023'>
<a name='L1024'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1025'><a href='../S/2625.html#L1496' title='Refered from 1496 in Modules/binascii.c.'>binascii_crc32</a>(PyObject *self, PyObject *args)
<a name='L1026'><font color='red'>{</font> <i><font color='green'>/* By Jim Ahlstrom; All rights transferred to CNRI */</font></i>
<a name='L1027'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pbin;
<a name='L1028'>    <b>unsigned</b> <b>char</b> *bin_data;
<a name='L1029'>    <b>unsigned</b> <b>int</b> crc = 0;       <i><font color='green'>/* initial value of CRC */</font></i>
<a name='L1030'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len;
<a name='L1031'>    <b>unsigned</b> <b>int</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1032'>
<a name='L1033'>    <b>if</b> ( !<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*|I:crc32", &amp;pbin, &amp;crc) )
<a name='L1034'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1035'>    bin_data = pbin.buf;
<a name='L1036'>    len = pbin.len;
<a name='L1037'>
<a name='L1038'>    crc = ~ crc;
<a name='L1039'>    <b>while</b> (len-- &gt; 0) <font color='red'>{</font>
<a name='L1040'>        crc = crc_32_tab[(crc ^ *bin_data++) &amp; 0xff] ^ (crc &gt;&gt; 8);
<a name='L1041'>        <i><font color='green'>/* Note:  (crc &gt;&gt; 8) MUST zero fill on left */</font></i>
<a name='L1042'>    <font color='red'>}</font>
<a name='L1043'>
<a name='L1044'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = (crc ^ 0xFFFFFFFF);
<a name='L1045'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pbin);
<a name='L1046'>    <b>return</b> <a href='../S/2799.html#L245' title='Defined at 245 in Objects/longobject.c.'>PyLong_FromUnsignedLong</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> &amp; 0xffffffff);
<a name='L1047'><font color='red'>}</font>
<a name='L1048'><font color='darkred'>#endif</font>  <i><font color='green'>/* USE_ZLIB_CRC32 */</font></i>
<a name='L1049'>
<a name='L1050'>
<a name='L1051'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1052'><a href='../R/6231.html' title='Multiple refered from 2 places.'>binascii_hexlify</a>(PyObject *self, PyObject *args)
<a name='L1053'><font color='red'>{</font>
<a name='L1054'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> parg;
<a name='L1055'>    <b>char</b>* argbuf;
<a name='L1056'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> arglen;
<a name='L1057'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *retval;
<a name='L1058'>    <b>char</b>* retbuf;
<a name='L1059'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i, j;
<a name='L1060'>
<a name='L1061'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:b2a_hex", &amp;parg))
<a name='L1062'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1063'>    argbuf = parg.buf;
<a name='L1064'>    arglen = parg.len;
<a name='L1065'>
<a name='L1066'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(arglen &gt;= 0);
<a name='L1067'>    <b>if</b> (arglen &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> / 2) <font color='red'>{</font>
<a name='L1068'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;parg);
<a name='L1069'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L1070'>    <font color='red'>}</font>
<a name='L1071'>
<a name='L1072'>    retval = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, arglen*2);
<a name='L1073'>    <b>if</b> (!retval) <font color='red'>{</font>
<a name='L1074'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;parg);
<a name='L1075'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1076'>    <font color='red'>}</font>
<a name='L1077'>    retbuf = PyBytes_AS_STRING(retval);
<a name='L1078'>
<a name='L1079'>    <i><font color='green'>/* make hex version of string, taken from shamodule.c */</font></i>
<a name='L1080'>    <b>for</b> (i=j=0; i &lt; arglen; i++) <font color='red'>{</font>
<a name='L1081'>        <b>char</b> c;
<a name='L1082'>        c = (argbuf[i] &gt;&gt; 4) &amp; 0xf;
<a name='L1083'>        c = (c&gt;9) ? c+'a'-10 : c + '0';
<a name='L1084'>        retbuf[j++] = c;
<a name='L1085'>        c = argbuf[i] &amp; 0xf;
<a name='L1086'>        c = (c&gt;9) ? c+'a'-10 : c + '0';
<a name='L1087'>        retbuf[j++] = c;
<a name='L1088'>    <font color='red'>}</font>
<a name='L1089'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;parg);
<a name='L1090'>    <b>return</b> retval;
<a name='L1091'><font color='red'>}</font>
<a name='L1092'>
<a name='L1093'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_hexlify,
<a name='L1094'>"b2a_hex(data) -&gt; s; Hexadecimal representation of binary data.\n\
<a name='L1095'>\n\
<a name='L1096'>This function is also available as \"hexlify()\".");
<a name='L1097'>
<a name='L1098'>
<a name='L1099'><b>static</b> <b>int</b>
<a name='L1100'><a href='../R/10931.html' title='Multiple refered from 2 places.'>to_int</a>(<b>int</b> c)
<a name='L1101'><font color='red'>{</font>
<a name='L1102'>    <b>if</b> (isdigit(c))
<a name='L1103'>        <b>return</b> c - '0';
<a name='L1104'>    <b>else</b> <font color='red'>{</font>
<a name='L1105'>        <b>if</b> (<a href='../D/9347.html' title='Multiple defined in 2 places.'>isupper</a>(c))
<a name='L1106'>            c = <a href='../D/11819.html' title='Multiple defined in 2 places.'>tolower</a>(c);
<a name='L1107'>        <b>if</b> (c &gt;= 'a' &amp;&amp; c &lt;= 'f')
<a name='L1108'>            <b>return</b> c - 'a' + 10;
<a name='L1109'>    <font color='red'>}</font>
<a name='L1110'>    <b>return</b> -1;
<a name='L1111'><font color='red'>}</font>
<a name='L1112'>
<a name='L1113'>
<a name='L1114'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1115'><a href='../R/6234.html' title='Multiple refered from 2 places.'>binascii_unhexlify</a>(PyObject *self, PyObject *args)
<a name='L1116'><font color='red'>{</font>
<a name='L1117'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> parg;
<a name='L1118'>    <b>char</b>* argbuf;
<a name='L1119'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> arglen;
<a name='L1120'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *retval;
<a name='L1121'>    <b>char</b>* retbuf;
<a name='L1122'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i, j;
<a name='L1123'>
<a name='L1124'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "y*:a2b_hex", &amp;parg))
<a name='L1125'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1126'>    argbuf = parg.buf;
<a name='L1127'>    arglen = parg.len;
<a name='L1128'>
<a name='L1129'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(arglen &gt;= 0);
<a name='L1130'>
<a name='L1131'>    <i><font color='green'>/* XXX What should we do about strings with an odd length?  Should</font></i>
<a name='L1132'><i><font color='green'>     * we add an implicit leading zero, or a trailing zero?  For now,</font></i>
<a name='L1133'><i><font color='green'>     * raise an exception.</font></i>
<a name='L1134'><i><font color='green'>     */</font></i>
<a name='L1135'>    <b>if</b> (arglen % 2) <font color='red'>{</font>
<a name='L1136'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;parg);
<a name='L1137'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error, "Odd-length string");
<a name='L1138'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1139'>    <font color='red'>}</font>
<a name='L1140'>
<a name='L1141'>    retval = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, (arglen/2));
<a name='L1142'>    <b>if</b> (!retval) <font color='red'>{</font>
<a name='L1143'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;parg);
<a name='L1144'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1145'>    <font color='red'>}</font>
<a name='L1146'>    retbuf = PyBytes_AS_STRING(retval);
<a name='L1147'>
<a name='L1148'>    <b>for</b> (i=j=0; i &lt; arglen; i += 2) <font color='red'>{</font>
<a name='L1149'>        <b>int</b> top = <a href='../S/2625.html#L1100' title='Defined at 1100 in Modules/binascii.c.'>to_int</a>(<a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(argbuf[i]));
<a name='L1150'>        <b>int</b> bot = <a href='../S/2625.html#L1100' title='Defined at 1100 in Modules/binascii.c.'>to_int</a>(<a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(argbuf[i+1]));
<a name='L1151'>        <b>if</b> (top == -1 || bot == -1) <font color='red'>{</font>
<a name='L1152'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(Error,
<a name='L1153'>                            "Non-hexadecimal digit found");
<a name='L1154'>            <b>goto</b> finally;
<a name='L1155'>        <font color='red'>}</font>
<a name='L1156'>        retbuf[j++] = (top &lt;&lt; 4) + bot;
<a name='L1157'>    <font color='red'>}</font>
<a name='L1158'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;parg);
<a name='L1159'>    <b>return</b> retval;
<a name='L1160'>
<a name='L1161'>  finally:
<a name='L1162'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;parg);
<a name='L1163'>    Py_DECREF(retval);
<a name='L1164'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1165'><font color='red'>}</font>
<a name='L1166'>
<a name='L1167'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_unhexlify,
<a name='L1168'>"a2b_hex(hexstr) -&gt; s; Binary data of hexadecimal representation.\n\
<a name='L1169'>\n\
<a name='L1170'>hexstr must contain an even number of hex digits (upper or lower case).\n\
<a name='L1171'>This function is also available as \"unhexlify()\"");
<a name='L1172'>
<a name='L1173'><b>static</b> <b>int</b> table_hex[128] = <font color='red'>{</font>
<a name='L1174'>  -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
<a name='L1175'>  -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
<a name='L1176'>  -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
<a name='L1177'>   0, 1, 2, 3,  4, 5, 6, 7,  8, 9,-1,-1, -1,-1,-1,-1,
<a name='L1178'>  -1,10,11,12, 13,14,15,-1, -1,-1,-1,-1, -1,-1,-1,-1,
<a name='L1179'>  -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1,
<a name='L1180'>  -1,10,11,12, 13,14,15,-1, -1,-1,-1,-1, -1,-1,-1,-1,
<a name='L1181'>  -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1, -1,-1,-1,-1
<a name='L1182'><font color='red'>}</font>;
<a name='L1183'>
<a name='L1184'><font color='darkred'>#define</font> <a href='../R/8274.html' title='Multiple refered from 2 places.'>hexval</a>(c) table_hex[(<b>unsigned</b> <b>int</b>)(c)]
<a name='L1185'>
<a name='L1186'><font color='darkred'>#define</font> <a href='../R/1842.html' title='Multiple refered from 4 places.'>MAXLINESIZE</a> 76
<a name='L1187'>
<a name='L1188'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_a2b_qp, "Decode a string of qp-encoded data");
<a name='L1189'>
<a name='L1190'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1191'><a href='../S/2625.html#L1497' title='Refered from 1497 in Modules/binascii.c.'>binascii_a2b_qp</a>(PyObject *self, PyObject *args, PyObject *kwargs)
<a name='L1192'><font color='red'>{</font>
<a name='L1193'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> in, out;
<a name='L1194'>    <b>char</b> ch;
<a name='L1195'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pdata;
<a name='L1196'>    <b>unsigned</b> <b>char</b> *data, *odata;
<a name='L1197'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> datalen = 0;
<a name='L1198'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L1199'>    <b>static</b> <b>char</b> *kwlist[] = <font color='red'>{</font>"data", "header", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L1200'>    <b>int</b> header = 0;
<a name='L1201'>
<a name='L1202'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwargs, "y*|i", kwlist, &amp;pdata,
<a name='L1203'>          &amp;header))
<a name='L1204'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1205'>    data = pdata.buf;
<a name='L1206'>    datalen = pdata.len;
<a name='L1207'>
<a name='L1208'>    <i><font color='green'>/* We allocate the output same size as input, this is overkill.</font></i>
<a name='L1209'><i><font color='green'>     * The previous implementation used calloc() so we'll zero out the</font></i>
<a name='L1210'><i><font color='green'>     * memory here too, since PyMem_Malloc() does not guarantee that.</font></i>
<a name='L1211'><i><font color='green'>     */</font></i>
<a name='L1212'>    odata = (<b>unsigned</b> <b>char</b> *) <a href='../S/2803.html#L1769' title='Defined at 1769 in Objects/object.c.'>PyMem_Malloc</a>(datalen);
<a name='L1213'>    <b>if</b> (odata == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1214'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L1215'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L1216'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1217'>    <font color='red'>}</font>
<a name='L1218'>    memset(odata, 0, datalen);
<a name='L1219'>
<a name='L1220'>    in = out = 0;
<a name='L1221'>    <b>while</b> (in &lt; datalen) <font color='red'>{</font>
<a name='L1222'>        <b>if</b> (data[in] == '=') <font color='red'>{</font>
<a name='L1223'>            in++;
<a name='L1224'>            <b>if</b> (in &gt;= datalen) <b>break</b>;
<a name='L1225'>            <i><font color='green'>/* Soft line breaks */</font></i>
<a name='L1226'>            <b>if</b> ((data[in] == '\n') || (data[in] == '\r')) <font color='red'>{</font>
<a name='L1227'>                <b>if</b> (data[in] != '\n') <font color='red'>{</font>
<a name='L1228'>                    <b>while</b> (in &lt; datalen &amp;&amp; data[in] != '\n') in++;
<a name='L1229'>                <font color='red'>}</font>
<a name='L1230'>                <b>if</b> (in &lt; datalen) in++;
<a name='L1231'>            <font color='red'>}</font>
<a name='L1232'>            <b>else</b> <b>if</b> (data[in] == '=') <font color='red'>{</font>
<a name='L1233'>                <i><font color='green'>/* broken case from broken python qp */</font></i>
<a name='L1234'>                odata[out++] = '=';
<a name='L1235'>                in++;
<a name='L1236'>            <font color='red'>}</font>
<a name='L1237'>            <b>else</b> <b>if</b> (((data[in] &gt;= 'A' &amp;&amp; data[in] &lt;= 'F') ||
<a name='L1238'>                      (data[in] &gt;= 'a' &amp;&amp; data[in] &lt;= 'f') ||
<a name='L1239'>                      (data[in] &gt;= '0' &amp;&amp; data[in] &lt;= '9')) &amp;&amp;
<a name='L1240'>                     ((data[in+1] &gt;= 'A' &amp;&amp; data[in+1] &lt;= 'F') ||
<a name='L1241'>                      (data[in+1] &gt;= 'a' &amp;&amp; data[in+1] &lt;= 'f') ||
<a name='L1242'>                      (data[in+1] &gt;= '0' &amp;&amp; data[in+1] &lt;= '9'))) <font color='red'>{</font>
<a name='L1243'>                <i><font color='green'>/* hexval */</font></i>
<a name='L1244'>                ch = <a href='../S/2625.html#L1184' title='Defined at 1184 in Modules/binascii.c.'>hexval</a>(data[in]) &lt;&lt; 4;
<a name='L1245'>                in++;
<a name='L1246'>                ch |= <a href='../S/2625.html#L1184' title='Defined at 1184 in Modules/binascii.c.'>hexval</a>(data[in]);
<a name='L1247'>                in++;
<a name='L1248'>                odata[out++] = ch;
<a name='L1249'>            <font color='red'>}</font>
<a name='L1250'>            <b>else</b> <font color='red'>{</font>
<a name='L1251'>              odata[out++] = '=';
<a name='L1252'>            <font color='red'>}</font>
<a name='L1253'>        <font color='red'>}</font>
<a name='L1254'>        <b>else</b> <b>if</b> (header &amp;&amp; data[in] == '_') <font color='red'>{</font>
<a name='L1255'>            odata[out++] = ' ';
<a name='L1256'>            in++;
<a name='L1257'>        <font color='red'>}</font>
<a name='L1258'>        <b>else</b> <font color='red'>{</font>
<a name='L1259'>            odata[out] = data[in];
<a name='L1260'>            in++;
<a name='L1261'>            out++;
<a name='L1262'>        <font color='red'>}</font>
<a name='L1263'>    <font color='red'>}</font>
<a name='L1264'>    <b>if</b> ((rv = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>((<b>char</b> *)odata, out)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1265'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L1266'>        <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(odata);
<a name='L1267'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1268'>    <font color='red'>}</font>
<a name='L1269'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L1270'>    <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(odata);
<a name='L1271'>    <b>return</b> rv;
<a name='L1272'><font color='red'>}</font>
<a name='L1273'>
<a name='L1274'><b>static</b> <b>int</b>
<a name='L1275'><a href='../R/10930.html' title='Multiple refered from 2 places.'>to_hex</a> (<b>unsigned</b> <b>char</b> ch, <b>unsigned</b> <b>char</b> *s)
<a name='L1276'><font color='red'>{</font>
<a name='L1277'>    <b>unsigned</b> <b>int</b> uvalue = ch;
<a name='L1278'>
<a name='L1279'>    s[1] = "0123456789ABCDEF"[uvalue % 16];
<a name='L1280'>    uvalue = (uvalue / 16);
<a name='L1281'>    s[0] = "0123456789ABCDEF"[uvalue % 16];
<a name='L1282'>    <b>return</b> 0;
<a name='L1283'><font color='red'>}</font>
<a name='L1284'>
<a name='L1285'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_b2a_qp,
<a name='L1286'>"b2a_qp(data, quotetabs=0, istext=1, header=0) -&gt; s; \n\
<a name='L1287'> Encode a string using quoted-printable encoding. \n\
<a name='L1288'>\n\
<a name='L1289'>On encoding, when istext is set, newlines are not encoded, and white \n\
<a name='L1290'>space at end of lines is.  When istext is not set, \\r and \\n (CR/LF) are \n\
<a name='L1291'>both encoded.  When quotetabs is set, space and tabs are encoded.");
<a name='L1292'>
<a name='L1293'><i><font color='green'>/* XXX: This is ridiculously complicated to be backward compatible</font></i>
<a name='L1294'><i><font color='green'> * (mostly) with the quopri module.  It doesn't re-create the quopri</font></i>
<a name='L1295'><i><font color='green'> * module bug where text ending in CRLF has the CR encoded */</font></i>
<a name='L1296'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L1297'><a href='../S/2625.html#L1499' title='Refered from 1499 in Modules/binascii.c.'>binascii_b2a_qp</a> (PyObject *self, PyObject *args, PyObject *kwargs)
<a name='L1298'><font color='red'>{</font>
<a name='L1299'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> in, out;
<a name='L1300'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> pdata;
<a name='L1301'>    <b>unsigned</b> <b>char</b> *data, *odata;
<a name='L1302'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> datalen = 0, odatalen = 0;
<a name='L1303'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *rv;
<a name='L1304'>    <b>unsigned</b> <b>int</b> linelen = 0;
<a name='L1305'>    <b>static</b> <b>char</b> *kwlist[] = <font color='red'>{</font>"data", "quotetabs", "istext",
<a name='L1306'>                                   "header", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L1307'>    <b>int</b> istext = 1;
<a name='L1308'>    <b>int</b> quotetabs = 0;
<a name='L1309'>    <b>int</b> header = 0;
<a name='L1310'>    <b>unsigned</b> <b>char</b> ch;
<a name='L1311'>    <b>int</b> crlf = 0;
<a name='L1312'>    <b>unsigned</b> <b>char</b> *p;
<a name='L1313'>
<a name='L1314'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwargs, "y*|iii", kwlist, &amp;pdata,
<a name='L1315'>          &amp;quotetabs, &amp;istext, &amp;header))
<a name='L1316'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1317'>    data = pdata.buf;
<a name='L1318'>    datalen = pdata.len;
<a name='L1319'>
<a name='L1320'>    <i><font color='green'>/* See if this string is using CRLF line ends */</font></i>
<a name='L1321'>    <i><font color='green'>/* XXX: this function has the side effect of converting all of</font></i>
<a name='L1322'><i><font color='green'>     * the end of lines to be the same depending on this detection</font></i>
<a name='L1323'><i><font color='green'>     * here */</font></i>
<a name='L1324'>    p = (<b>unsigned</b> <b>char</b> *) memchr(data, '\n', datalen);
<a name='L1325'>    <b>if</b> ((p != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) &amp;&amp; (p &gt; data) &amp;&amp; (*(p-1) == '\r'))
<a name='L1326'>        crlf = 1;
<a name='L1327'>
<a name='L1328'>    <i><font color='green'>/* First, scan to see how many characters need to be encoded */</font></i>
<a name='L1329'>    in = 0;
<a name='L1330'>    <b>while</b> (in &lt; datalen) <font color='red'>{</font>
<a name='L1331'>        <b>if</b> ((data[in] &gt; 126) ||
<a name='L1332'>            (data[in] == '=') ||
<a name='L1333'>            (header &amp;&amp; data[in] == '_') ||
<a name='L1334'>            ((data[in] == '.') &amp;&amp; (linelen == 0) &amp;&amp;
<a name='L1335'>             (data[in+1] == '\n' || data[in+1] == '\r' || data[in+1] == 0)) ||
<a name='L1336'>            (!istext &amp;&amp; ((data[in] == '\r') || (data[in] == '\n'))) ||
<a name='L1337'>            ((data[in] == '\t' || data[in] == ' ') &amp;&amp; (in + 1 == datalen)) ||
<a name='L1338'>            ((data[in] &lt; 33) &amp;&amp;
<a name='L1339'>             (data[in] != '\r') &amp;&amp; (data[in] != '\n') &amp;&amp;
<a name='L1340'>             (quotetabs || ((data[in] != '\t') &amp;&amp; (data[in] != ' ')))))
<a name='L1341'>        <font color='red'>{</font>
<a name='L1342'>            <b>if</b> ((linelen + 3) &gt;= <a href='../S/2625.html#L1186' title='Defined at 1186 in Modules/binascii.c.'>MAXLINESIZE</a>) <font color='red'>{</font>
<a name='L1343'>                linelen = 0;
<a name='L1344'>                <b>if</b> (crlf)
<a name='L1345'>                    odatalen += 3;
<a name='L1346'>                <b>else</b>
<a name='L1347'>                    odatalen += 2;
<a name='L1348'>            <font color='red'>}</font>
<a name='L1349'>            linelen += 3;
<a name='L1350'>            odatalen += 3;
<a name='L1351'>            in++;
<a name='L1352'>        <font color='red'>}</font>
<a name='L1353'>        <b>else</b> <font color='red'>{</font>
<a name='L1354'>            <b>if</b> (istext &amp;&amp;
<a name='L1355'>                ((data[in] == '\n') ||
<a name='L1356'>                 ((in+1 &lt; datalen) &amp;&amp; (data[in] == '\r') &amp;&amp;
<a name='L1357'>                 (data[in+1] == '\n'))))
<a name='L1358'>            <font color='red'>{</font>
<a name='L1359'>                linelen = 0;
<a name='L1360'>                <i><font color='green'>/* Protect against whitespace on end of line */</font></i>
<a name='L1361'>                <b>if</b> (in &amp;&amp; ((data[in-1] == ' ') || (data[in-1] == '\t')))
<a name='L1362'>                    odatalen += 2;
<a name='L1363'>                <b>if</b> (crlf)
<a name='L1364'>                    odatalen += 2;
<a name='L1365'>                <b>else</b>
<a name='L1366'>                    odatalen += 1;
<a name='L1367'>                <b>if</b> (data[in] == '\r')
<a name='L1368'>                    in += 2;
<a name='L1369'>                <b>else</b>
<a name='L1370'>                    in++;
<a name='L1371'>            <font color='red'>}</font>
<a name='L1372'>            <b>else</b> <font color='red'>{</font>
<a name='L1373'>                <b>if</b> ((in + 1 != datalen) &amp;&amp;
<a name='L1374'>                    (data[in+1] != '\n') &amp;&amp;
<a name='L1375'>                    (linelen + 1) &gt;= <a href='../S/2625.html#L1186' title='Defined at 1186 in Modules/binascii.c.'>MAXLINESIZE</a>) <font color='red'>{</font>
<a name='L1376'>                    linelen = 0;
<a name='L1377'>                    <b>if</b> (crlf)
<a name='L1378'>                        odatalen += 3;
<a name='L1379'>                    <b>else</b>
<a name='L1380'>                        odatalen += 2;
<a name='L1381'>                <font color='red'>}</font>
<a name='L1382'>                linelen++;
<a name='L1383'>                odatalen++;
<a name='L1384'>                in++;
<a name='L1385'>            <font color='red'>}</font>
<a name='L1386'>        <font color='red'>}</font>
<a name='L1387'>    <font color='red'>}</font>
<a name='L1388'>
<a name='L1389'>    <i><font color='green'>/* We allocate the output same size as input, this is overkill.</font></i>
<a name='L1390'><i><font color='green'>     * The previous implementation used calloc() so we'll zero out the</font></i>
<a name='L1391'><i><font color='green'>     * memory here too, since PyMem_Malloc() does not guarantee that.</font></i>
<a name='L1392'><i><font color='green'>     */</font></i>
<a name='L1393'>    odata = (<b>unsigned</b> <b>char</b> *) <a href='../S/2803.html#L1769' title='Defined at 1769 in Objects/object.c.'>PyMem_Malloc</a>(odatalen);
<a name='L1394'>    <b>if</b> (odata == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1395'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L1396'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L1397'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1398'>    <font color='red'>}</font>
<a name='L1399'>    memset(odata, 0, odatalen);
<a name='L1400'>
<a name='L1401'>    in = out = linelen = 0;
<a name='L1402'>    <b>while</b> (in &lt; datalen) <font color='red'>{</font>
<a name='L1403'>        <b>if</b> ((data[in] &gt; 126) ||
<a name='L1404'>            (data[in] == '=') ||
<a name='L1405'>            (header &amp;&amp; data[in] == '_') ||
<a name='L1406'>            ((data[in] == '.') &amp;&amp; (linelen == 0) &amp;&amp;
<a name='L1407'>             (data[in+1] == '\n' || data[in+1] == '\r' || data[in+1] == 0)) ||
<a name='L1408'>            (!istext &amp;&amp; ((data[in] == '\r') || (data[in] == '\n'))) ||
<a name='L1409'>            ((data[in] == '\t' || data[in] == ' ') &amp;&amp; (in + 1 == datalen)) ||
<a name='L1410'>            ((data[in] &lt; 33) &amp;&amp;
<a name='L1411'>             (data[in] != '\r') &amp;&amp; (data[in] != '\n') &amp;&amp;
<a name='L1412'>             (quotetabs ||
<a name='L1413'>            (!quotetabs &amp;&amp; ((data[in] != '\t') &amp;&amp; (data[in] != ' '))))))
<a name='L1414'>        <font color='red'>{</font>
<a name='L1415'>            <b>if</b> ((linelen + 3 )&gt;= <a href='../S/2625.html#L1186' title='Defined at 1186 in Modules/binascii.c.'>MAXLINESIZE</a>) <font color='red'>{</font>
<a name='L1416'>                odata[out++] = '=';
<a name='L1417'>                <b>if</b> (crlf) odata[out++] = '\r';
<a name='L1418'>                odata[out++] = '\n';
<a name='L1419'>                linelen = 0;
<a name='L1420'>            <font color='red'>}</font>
<a name='L1421'>            odata[out++] = '=';
<a name='L1422'>            <a href='../S/2625.html#L1275' title='Defined at 1275 in Modules/binascii.c.'>to_hex</a>(data[in], &amp;odata[out]);
<a name='L1423'>            out += 2;
<a name='L1424'>            in++;
<a name='L1425'>            linelen += 3;
<a name='L1426'>        <font color='red'>}</font>
<a name='L1427'>        <b>else</b> <font color='red'>{</font>
<a name='L1428'>            <b>if</b> (istext &amp;&amp;
<a name='L1429'>                ((data[in] == '\n') ||
<a name='L1430'>                 ((in+1 &lt; datalen) &amp;&amp; (data[in] == '\r') &amp;&amp;
<a name='L1431'>                 (data[in+1] == '\n'))))
<a name='L1432'>            <font color='red'>{</font>
<a name='L1433'>                linelen = 0;
<a name='L1434'>                <i><font color='green'>/* Protect against whitespace on end of line */</font></i>
<a name='L1435'>                <b>if</b> (out &amp;&amp; ((odata[out-1] == ' ') || (odata[out-1] == '\t'))) <font color='red'>{</font>
<a name='L1436'>                    ch = odata[out-1];
<a name='L1437'>                    odata[out-1] = '=';
<a name='L1438'>                    <a href='../S/2625.html#L1275' title='Defined at 1275 in Modules/binascii.c.'>to_hex</a>(ch, &amp;odata[out]);
<a name='L1439'>                    out += 2;
<a name='L1440'>                <font color='red'>}</font>
<a name='L1441'>
<a name='L1442'>                <b>if</b> (crlf) odata[out++] = '\r';
<a name='L1443'>                odata[out++] = '\n';
<a name='L1444'>                <b>if</b> (data[in] == '\r')
<a name='L1445'>                    in += 2;
<a name='L1446'>                <b>else</b>
<a name='L1447'>                    in++;
<a name='L1448'>            <font color='red'>}</font>
<a name='L1449'>            <b>else</b> <font color='red'>{</font>
<a name='L1450'>                <b>if</b> ((in + 1 != datalen) &amp;&amp;
<a name='L1451'>                    (data[in+1] != '\n') &amp;&amp;
<a name='L1452'>                    (linelen + 1) &gt;= <a href='../S/2625.html#L1186' title='Defined at 1186 in Modules/binascii.c.'>MAXLINESIZE</a>) <font color='red'>{</font>
<a name='L1453'>                    odata[out++] = '=';
<a name='L1454'>                    <b>if</b> (crlf) odata[out++] = '\r';
<a name='L1455'>                    odata[out++] = '\n';
<a name='L1456'>                    linelen = 0;
<a name='L1457'>                <font color='red'>}</font>
<a name='L1458'>                linelen++;
<a name='L1459'>                <b>if</b> (header &amp;&amp; data[in] == ' ') <font color='red'>{</font>
<a name='L1460'>                    odata[out++] = '_';
<a name='L1461'>                    in++;
<a name='L1462'>                <font color='red'>}</font>
<a name='L1463'>                <b>else</b> <font color='red'>{</font>
<a name='L1464'>                    odata[out++] = data[in++];
<a name='L1465'>                <font color='red'>}</font>
<a name='L1466'>            <font color='red'>}</font>
<a name='L1467'>        <font color='red'>}</font>
<a name='L1468'>    <font color='red'>}</font>
<a name='L1469'>    <b>if</b> ((rv = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>((<b>char</b> *)odata, out)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1470'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L1471'>        <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(odata);
<a name='L1472'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1473'>    <font color='red'>}</font>
<a name='L1474'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;pdata);
<a name='L1475'>    <a href='../S/2803.html#L1781' title='Defined at 1781 in Objects/object.c.'>PyMem_Free</a>(odata);
<a name='L1476'>    <b>return</b> rv;
<a name='L1477'><font color='red'>}</font>
<a name='L1478'>
<a name='L1479'><i><font color='green'>/* List of functions defined in the module */</font></i>
<a name='L1480'>
<a name='L1481'><b>static</b> <b>struct</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> binascii_module_methods[] = <font color='red'>{</font>
<a name='L1482'>    <font color='red'>{</font>"a2b_uu",     <a href='../S/2625.html#L189' title='Defined at 189 in Modules/binascii.c.'>binascii_a2b_uu</a>,     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_a2b_uu<font color='red'>}</font>,
<a name='L1483'>    <font color='red'>{</font>"b2a_uu",     <a href='../S/2625.html#L275' title='Defined at 275 in Modules/binascii.c.'>binascii_b2a_uu</a>,     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_b2a_uu<font color='red'>}</font>,
<a name='L1484'>    <font color='red'>{</font>"a2b_base64", <a href='../S/2625.html#L362' title='Defined at 362 in Modules/binascii.c.'>binascii_a2b_base64</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_a2b_base64<font color='red'>}</font>,
<a name='L1485'>    <font color='red'>{</font>"b2a_base64", <a href='../S/2625.html#L471' title='Defined at 471 in Modules/binascii.c.'>binascii_b2a_base64</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_b2a_base64<font color='red'>}</font>,
<a name='L1486'>    <font color='red'>{</font>"a2b_hqx",    <a href='../S/2625.html#L538' title='Defined at 538 in Modules/binascii.c.'>binascii_a2b_hqx</a>,    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_a2b_hqx<font color='red'>}</font>,
<a name='L1487'>    <font color='red'>{</font>"b2a_hqx",    <a href='../S/2625.html#L688' title='Defined at 688 in Modules/binascii.c.'>binascii_b2a_hqx</a>,    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_b2a_hqx<font color='red'>}</font>,
<a name='L1488'>    <font color='red'>{</font>"b2a_hex",    <a href='../S/2625.html#L1052' title='Defined at 1052 in Modules/binascii.c.'>binascii_hexlify</a>,    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_hexlify<font color='red'>}</font>,
<a name='L1489'>    <font color='red'>{</font>"a2b_hex",    <a href='../S/2625.html#L1115' title='Defined at 1115 in Modules/binascii.c.'>binascii_unhexlify</a>,  <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_unhexlify<font color='red'>}</font>,
<a name='L1490'>    <font color='red'>{</font>"hexlify",    <a href='../S/2625.html#L1052' title='Defined at 1052 in Modules/binascii.c.'>binascii_hexlify</a>,    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_hexlify<font color='red'>}</font>,
<a name='L1491'>    <font color='red'>{</font>"unhexlify",  <a href='../S/2625.html#L1115' title='Defined at 1115 in Modules/binascii.c.'>binascii_unhexlify</a>,  <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_unhexlify<font color='red'>}</font>,
<a name='L1492'>    <font color='red'>{</font>"rlecode_hqx",   <a href='../S/2625.html#L624' title='Defined at 624 in Modules/binascii.c.'>binascii_rlecode_hqx</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_rlecode_hqx<font color='red'>}</font>,
<a name='L1493'>    <font color='red'>{</font>"rledecode_hqx", <a href='../S/2625.html#L745' title='Defined at 745 in Modules/binascii.c.'>binascii_rledecode_hqx</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L1494'>     doc_rledecode_hqx<font color='red'>}</font>,
<a name='L1495'>    <font color='red'>{</font>"crc_hqx",    <a href='../S/2625.html#L863' title='Defined at 863 in Modules/binascii.c.'>binascii_crc_hqx</a>,    <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_crc_hqx<font color='red'>}</font>,
<a name='L1496'>    <font color='red'>{</font>"crc32",      <a href='../D/6988.html' title='Multiple defined in 2 places.'>binascii_crc32</a>,      <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, doc_crc32<font color='red'>}</font>,
<a name='L1497'>    <font color='red'>{</font>"a2b_qp", (PyCFunction)<a href='../S/2625.html#L1191' title='Defined at 1191 in Modules/binascii.c.'>binascii_a2b_qp</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L1498'>      doc_a2b_qp<font color='red'>}</font>,
<a name='L1499'>    <font color='red'>{</font>"b2a_qp", (PyCFunction)<a href='../S/2625.html#L1297' title='Defined at 1297 in Modules/binascii.c.'>binascii_b2a_qp</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L1500'>      doc_b2a_qp<font color='red'>}</font>,
<a name='L1501'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>                             <i><font color='green'>/* sentinel */</font></i>
<a name='L1502'><font color='red'>}</font>;
<a name='L1503'>
<a name='L1504'>
<a name='L1505'><i><font color='green'>/* Initialization function for the module (*must* be called PyInit_binascii) */</font></i>
<a name='L1506'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(doc_binascii, "Conversion between binary data and ASCII");
<a name='L1507'>
<a name='L1508'>
<a name='L1509'><b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> binasciimodule = <font color='red'>{</font>
<a name='L1510'>    <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,
<a name='L1511'>    "binascii",
<a name='L1512'>    doc_binascii,
<a name='L1513'>    -1,
<a name='L1514'>    binascii_module_methods,
<a name='L1515'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1516'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1517'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L1518'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L1519'><font color='red'>}</font>;
<a name='L1520'>
<a name='L1521'><a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L1522'><a href='../R/3048.html' title='Multiple refered from 2 places.'>PyInit_binascii</a>(<b>void</b>)
<a name='L1523'><font color='red'>{</font>
<a name='L1524'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m, *d;
<a name='L1525'>
<a name='L1526'>    <i><font color='green'>/* Create the module and add the functions */</font></i>
<a name='L1527'>    m = PyModule_Create(&amp;binasciimodule);
<a name='L1528'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1529'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1530'>
<a name='L1531'>    d = <a href='../S/2802.html#L159' title='Defined at 159 in Objects/moduleobject.c.'>PyModule_GetDict</a>(m);
<a name='L1532'>
<a name='L1533'>    Error = <a href='../S/3106.html#L621' title='Defined at 621 in Python/errors.c.'>PyErr_NewException</a>("binascii.Error", PyExc_ValueError, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1534'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "Error", Error);
<a name='L1535'>    Incomplete = <a href='../S/3106.html#L621' title='Defined at 621 in Python/errors.c.'>PyErr_NewException</a>("binascii.Incomplete", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1536'>    <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "Incomplete", Incomplete);
<a name='L1537'>    <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L1538'>        Py_DECREF(m);
<a name='L1539'>        m = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1540'>    <font color='red'>}</font>
<a name='L1541'>    <b>return</b> m;
<a name='L1542'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L189'>[^]</a><a href='#L1522'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
