<html>
<head>
<title>Objects/bytesobject.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3391.html'>Objects</a>/bytesobject.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L11'>[^]</a><a href='#L3106'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L11' title='Defined at 11.'>_getbuffer</a>
<li><a href='#L70' title='Defined at 70.'>PyBytes_FromStringAndSize</a>
<li><a href='#L122' title='Defined at 122.'>PyBytes_FromString</a>
<li><a href='#L168' title='Defined at 168.'>PyBytes_FromFormatV</a>
<li><a href='#L344' title='Defined at 344.'>PyBytes_FromFormat</a>
<li><a href='#L360' title='Defined at 360.'>bytes_dealloc</a>
<li><a href='#L370' title='Defined at 370.'>PyBytes_DecodeEscape</a>
<li><a href='#L506' title='Defined at 506.'>PyBytes_Size</a>
<li><a href='#L517' title='Defined at 517.'>PyBytes_AsString</a>
<li><a href='#L528' title='Defined at 528.'>PyBytes_AsStringAndSize</a>
<li><a href='#L569' title='Defined at 569.'>PyBytes_Repr</a>
<li><a href='#L644' title='Defined at 644.'>bytes_repr</a>
<li><a href='#L650' title='Defined at 650.'>bytes_str</a>
<li><a href='#L661' title='Defined at 661.'>bytes_length</a>
<li><a href='#L668' title='Defined at 668.'>bytes_concat</a>
<li><a href='#L716' title='Defined at 716.'>bytes_repeat</a>
<li><a href='#L768' title='Defined at 768.'>bytes_contains</a>
<li><a href='#L791' title='Defined at 791.'>bytes_item</a>
<li><a href='#L801' title='Defined at 801.'>bytes_richcompare</a>
<li><a href='#L872' title='Defined at 872.'>bytes_hash</a>
<li><a href='#L893' title='Defined at 893.'>bytes_subscript</a>
<li><a href='#L958' title='Defined at 958.'>bytes_buffer_getbuffer</a>
<li><a href='#L1005' title='Defined at 1005.'>bytes_split</a>
<li><a href='#L1037' title='Defined at 1037.'>bytes_partition</a>
<li><a href='#L1065' title='Defined at 1065.'>bytes_rpartition</a>
<li><a href='#L1095' title='Defined at 1095.'>bytes_rsplit</a>
<li><a href='#L1127' title='Defined at 1127.'>bytes_join</a>
<li><a href='#L1218' title='Defined at 1218.'>_PyBytes_Join</a>
<li><a href='#L1240' title='Defined at 1240.'>Py_LOCAL_INLINE</a>
<li><a href='#L1292' title='Defined at 1292.'>bytes_find</a>
<li><a href='#L1307' title='Defined at 1307.'>bytes_index</a>
<li><a href='#L1331' title='Defined at 1331.'>bytes_rfind</a>
<li><a href='#L1346' title='Defined at 1346.'>bytes_rindex</a>
<li><a href='#L1360' title='Defined at 1360.'>Py_LOCAL_INLINE</a>
<li><a href='#L1401' title='Defined at 1401.'>Py_LOCAL_INLINE</a>
<li><a href='#L1431' title='Defined at 1431.'>Py_LOCAL_INLINE</a>
<li><a href='#L1452' title='Defined at 1452.'>bytes_strip</a>
<li><a href='#L1467' title='Defined at 1467.'>bytes_lstrip</a>
<li><a href='#L1482' title='Defined at 1482.'>bytes_rstrip</a>
<li><a href='#L1499' title='Defined at 1499.'>bytes_count</a>
<li><a href='#L1534' title='Defined at 1534.'>bytes_translate</a>
<li><a href='#L1632' title='Defined at 1632.'>bytes_maketrans</a>
<li><a href='#L1644' title='Defined at 1644.'>Py_LOCAL</a>
<li><a href='#L1656' title='Defined at 1656.'>Py_LOCAL_INLINE</a>
<li><a href='#L1676' title='Defined at 1676.'>Py_LOCAL</a>
<li><a href='#L1734' title='Defined at 1734.'>Py_LOCAL</a>
<li><a href='#L1777' title='Defined at 1777.'>Py_LOCAL</a>
<li><a href='#L1828' title='Defined at 1828.'>Py_LOCAL</a>
<li><a href='#L1873' title='Defined at 1873.'>Py_LOCAL</a>
<li><a href='#L1924' title='Defined at 1924.'>Py_LOCAL</a>
<li><a href='#L1988' title='Defined at 1988.'>Py_LOCAL</a>
<li><a href='#L2056' title='Defined at 2056.'>Py_LOCAL</a>
<li><a href='#L2137' title='Defined at 2137.'>bytes_replace</a>
<li><a href='#L2172' title='Defined at 2172.'>Py_LOCAL</a>
<li><a href='#L2218' title='Defined at 2218.'>bytes_startswith</a>
<li><a href='#L2259' title='Defined at 2259.'>bytes_endswith</a>
<li><a href='#L2302' title='Defined at 2302.'>bytes_decode</a>
<li><a href='#L2324' title='Defined at 2324.'>bytes_splitlines</a>
<li><a href='#L2346' title='Defined at 2346.'>hex_digit_to_int</a>
<li><a href='#L2362' title='Defined at 2362.'>bytes_fromhex</a>
<li><a href='#L2409' title='Defined at 2409.'>bytes_sizeof</a>
<li><a href='#L2418' title='Defined at 2418.'>bytes_getnewargs</a>
<li><a href='#L2491' title='Defined at 2491.'>bytes_new</a>
<li><a href='#L2560' title='Defined at 2560.'>PyBytes_FromObject</a>
<li><a href='#L2703' title='Defined at 2703.'>str_subtype_new</a>
<li><a href='#L2783' title='Defined at 2783.'>PyBytes_Concat</a>
<li><a href='#L2800' title='Defined at 2800.'>PyBytes_ConcatAndDel</a>
<li><a href='#L2822' title='Defined at 2822.'>_PyBytes_Resize</a>
<li><a href='#L2873' title='Defined at 2873.'>_PyBytes_FormatLong</a>
<li><a href='#L2995' title='Defined at 2995.'>PyBytes_Fini</a>
<li><a href='#L3015' title='Defined at 3015.'>striter_dealloc</a>
<li><a href='#L3023' title='Defined at 3023.'>striter_traverse</a>
<li><a href='#L3030' title='Defined at 3030.'>striter_next</a>
<li><a href='#L3055' title='Defined at 3055.'>striter_len</a>
<li><a href='#L3106' title='Defined at 3106.'>bytes_iter</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/* bytes object implementation */</font></i>
<a name='L2'>
<a name='L3'><font color='darkred'>#define</font> <a href='../R/2388.html' title='Multiple refered from 2 places.'>PY_SSIZE_T_CLEAN</a>
<a name='L4'>
<a name='L5'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L6'>
<a name='L7'><font color='darkred'>#include</font> "<a href='506.html'>bytes_methods.h</a>"
<a name='L8'><font color='darkred'>#include</font> &lt;stddef.h&gt;
<a name='L9'>
<a name='L10'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L11'><a href='../R/5772.html' title='Multiple refered from 27 places.'>_getbuffer</a>(PyObject *obj, Py_buffer *view)
<a name='L12'><font color='red'>{</font>
<a name='L13'>    <a href='../S/544.html#L273' title='Defined at 273 in Include/object.h.'>PyBufferProcs</a> *<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> = <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(obj)-&gt;tp_as_buffer;
<a name='L14'>
<a name='L15'>    <b>if</b> (<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>-&gt;bf_getbuffer == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L16'>    <font color='red'>{</font>
<a name='L17'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L18'>                     "Type %.100s doesn't support the buffer API",
<a name='L19'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(obj)-&gt;tp_name);
<a name='L20'>        <b>return</b> -1;
<a name='L21'>    <font color='red'>}</font>
<a name='L22'>
<a name='L23'>    <b>if</b> (<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>-&gt;bf_getbuffer(obj, view, <a href='../S/544.html#L169' title='Defined at 169 in Include/object.h.'>PyBUF_SIMPLE</a>) &lt; 0)
<a name='L24'>        <b>return</b> -1;
<a name='L25'>    <b>return</b> view-&gt;len;
<a name='L26'><font color='red'>}</font>
<a name='L27'>
<a name='L28'><font color='darkred'>#ifdef</font> COUNT_ALLOCS
<a name='L29'><a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> null_strings, one_strings;
<a name='L30'><font color='darkred'>#endif</font>
<a name='L31'>
<a name='L32'><b>static</b> <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *characters[UCHAR_MAX + 1];
<a name='L33'><b>static</b> <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *nullstring;
<a name='L34'>
<a name='L35'><i><font color='green'>/* PyBytesObject_SIZE gives the basic size of a string; any memory allocation</font></i>
<a name='L36'><i><font color='green'>   for a string of length n should request PyBytesObject_SIZE + n bytes.</font></i>
<a name='L37'><i><font color='green'></font></i>
<a name='L38'><i><font color='green'>   Using PyBytesObject_SIZE instead of sizeof(PyBytesObject) saves</font></i>
<a name='L39'><i><font color='green'>   3 bytes per string allocation on a typical system.</font></i>
<a name='L40'><i><font color='green'>*/</font></i>
<a name='L41'><font color='darkred'>#define</font> <a href='../R/2527.html' title='Multiple refered from 9 places.'>PyBytesObject_SIZE</a> (<a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a>, ob_sval) + 1)
<a name='L42'>
<a name='L43'><i><font color='green'>/*</font></i>
<a name='L44'><i><font color='green'>   For both PyBytes_FromString() and PyBytes_FromStringAndSize(), the</font></i>
<a name='L45'><i><font color='green'>   parameter `size' denotes number of characters to allocate, not counting any</font></i>
<a name='L46'><i><font color='green'>   null terminating character.</font></i>
<a name='L47'><i><font color='green'></font></i>
<a name='L48'><i><font color='green'>   For PyBytes_FromString(), the parameter `str' points to a null-terminated</font></i>
<a name='L49'><i><font color='green'>   string containing exactly `size' bytes.</font></i>
<a name='L50'><i><font color='green'></font></i>
<a name='L51'><i><font color='green'>   For PyBytes_FromStringAndSize(), the parameter the parameter `str' is</font></i>
<a name='L52'><i><font color='green'>   either NULL or else points to a string containing at least `size' bytes.</font></i>
<a name='L53'><i><font color='green'>   For PyBytes_FromStringAndSize(), the string in the `str' parameter does</font></i>
<a name='L54'><i><font color='green'>   not have to be null-terminated.  (Therefore it is safe to construct a</font></i>
<a name='L55'><i><font color='green'>   substring by calling `PyBytes_FromStringAndSize(origstring, substrlen)'.)</font></i>
<a name='L56'><i><font color='green'>   If `str' is NULL then PyBytes_FromStringAndSize() will allocate `size+1'</font></i>
<a name='L57'><i><font color='green'>   bytes (setting the last byte to the null terminating character) and you can</font></i>
<a name='L58'><i><font color='green'>   fill in the data yourself.  If `str' is non-NULL then the resulting</font></i>
<a name='L59'><i><font color='green'>   PyBytes object must be treated as immutable and you must not fill in nor</font></i>
<a name='L60'><i><font color='green'>   alter the data yourself, since the strings may be shared.</font></i>
<a name='L61'><i><font color='green'></font></i>
<a name='L62'><i><font color='green'>   The PyObject member `op-&gt;ob_size', which denotes the number of "extra</font></i>
<a name='L63'><i><font color='green'>   items" in a variable-size object, will contain the number of bytes</font></i>
<a name='L64'><i><font color='green'>   allocated for string data, not counting the null terminating character.  It</font></i>
<a name='L65'><i><font color='green'>   is therefore equal to the equal to the `size' parameter (for</font></i>
<a name='L66'><i><font color='green'>   PyBytes_FromStringAndSize()) or the length of the string in the `str'</font></i>
<a name='L67'><i><font color='green'>   parameter (for PyBytes_FromString()).</font></i>
<a name='L68'><i><font color='green'>*/</font></i>
<a name='L69'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L70'><a href='../R/2538.html' title='Multiple refered from 258 places.'>PyBytes_FromStringAndSize</a>(<b>const</b> <b>char</b> *str, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size)
<a name='L71'><font color='red'>{</font>
<a name='L72'>    <b>register</b> <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *op;
<a name='L73'>    <b>if</b> (size &lt; 0) <font color='red'>{</font>
<a name='L74'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_SystemError,
<a name='L75'>            "Negative size passed to PyBytes_FromStringAndSize");
<a name='L76'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L77'>    <font color='red'>}</font>
<a name='L78'>    <b>if</b> (size == 0 &amp;&amp; (op = nullstring) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L79'><font color='darkred'>#ifdef</font> COUNT_ALLOCS
<a name='L80'>        null_strings++;
<a name='L81'><font color='darkred'>#endif</font>
<a name='L82'>        Py_INCREF(op);
<a name='L83'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)op;
<a name='L84'>    <font color='red'>}</font>
<a name='L85'>    <b>if</b> (size == 1 &amp;&amp; str != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp;
<a name='L86'>        (op = characters[*str &amp; UCHAR_MAX]) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L87'>    <font color='red'>{</font>
<a name='L88'><font color='darkred'>#ifdef</font> COUNT_ALLOCS
<a name='L89'>        one_strings++;
<a name='L90'><font color='darkred'>#endif</font>
<a name='L91'>        Py_INCREF(op);
<a name='L92'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)op;
<a name='L93'>    <font color='red'>}</font>
<a name='L94'>
<a name='L95'>    <b>if</b> (size &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - <a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a>) <font color='red'>{</font>
<a name='L96'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L97'>                        "byte string is too large");
<a name='L98'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L99'>    <font color='red'>}</font>
<a name='L100'>
<a name='L101'>    <i><font color='green'>/* Inline PyObject_NewVar */</font></i>
<a name='L102'>    op = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)PyObject_MALLOC(<a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a> + size);
<a name='L103'>    <b>if</b> (op == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L104'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L105'>    <a href='../S/545.html#L162' title='Defined at 162 in Include/objimpl.h.'>PyObject_INIT_VAR</a>(op, &amp;PyBytes_Type, size);
<a name='L106'>    op-&gt;ob_shash = -1;
<a name='L107'>    <b>if</b> (str != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L108'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(op-&gt;ob_sval, str, size);
<a name='L109'>    op-&gt;ob_sval[size] = '\0';
<a name='L110'>    <i><font color='green'>/* share short strings */</font></i>
<a name='L111'>    <b>if</b> (size == 0) <font color='red'>{</font>
<a name='L112'>        nullstring = op;
<a name='L113'>        Py_INCREF(op);
<a name='L114'>    <font color='red'>}</font> <b>else</b> <b>if</b> (size == 1 &amp;&amp; str != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L115'>        characters[*str &amp; UCHAR_MAX] = op;
<a name='L116'>        Py_INCREF(op);
<a name='L117'>    <font color='red'>}</font>
<a name='L118'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) op;
<a name='L119'><font color='red'>}</font>
<a name='L120'>
<a name='L121'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L122'><a href='../R/2537.html' title='Multiple refered from 27 places.'>PyBytes_FromString</a>(<b>const</b> <b>char</b> *str)
<a name='L123'><font color='red'>{</font>
<a name='L124'>    <b>register</b> <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> size;
<a name='L125'>    <b>register</b> <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *op;
<a name='L126'>
<a name='L127'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(str != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L128'>    size = strlen(str);
<a name='L129'>    <b>if</b> (size &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - <a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a>) <font color='red'>{</font>
<a name='L130'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L131'>            "byte string is too long");
<a name='L132'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L133'>    <font color='red'>}</font>
<a name='L134'>    <b>if</b> (size == 0 &amp;&amp; (op = nullstring) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L135'><font color='darkred'>#ifdef</font> COUNT_ALLOCS
<a name='L136'>        null_strings++;
<a name='L137'><font color='darkred'>#endif</font>
<a name='L138'>        Py_INCREF(op);
<a name='L139'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)op;
<a name='L140'>    <font color='red'>}</font>
<a name='L141'>    <b>if</b> (size == 1 &amp;&amp; (op = characters[*str &amp; UCHAR_MAX]) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L142'><font color='darkred'>#ifdef</font> COUNT_ALLOCS
<a name='L143'>        one_strings++;
<a name='L144'><font color='darkred'>#endif</font>
<a name='L145'>        Py_INCREF(op);
<a name='L146'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)op;
<a name='L147'>    <font color='red'>}</font>
<a name='L148'>
<a name='L149'>    <i><font color='green'>/* Inline PyObject_NewVar */</font></i>
<a name='L150'>    op = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)PyObject_MALLOC(<a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a> + size);
<a name='L151'>    <b>if</b> (op == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L152'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L153'>    <a href='../S/545.html#L162' title='Defined at 162 in Include/objimpl.h.'>PyObject_INIT_VAR</a>(op, &amp;PyBytes_Type, size);
<a name='L154'>    op-&gt;ob_shash = -1;
<a name='L155'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(op-&gt;ob_sval, str, size+1);
<a name='L156'>    <i><font color='green'>/* share short strings */</font></i>
<a name='L157'>    <b>if</b> (size == 0) <font color='red'>{</font>
<a name='L158'>        nullstring = op;
<a name='L159'>        Py_INCREF(op);
<a name='L160'>    <font color='red'>}</font> <b>else</b> <b>if</b> (size == 1) <font color='red'>{</font>
<a name='L161'>        characters[*str &amp; UCHAR_MAX] = op;
<a name='L162'>        Py_INCREF(op);
<a name='L163'>    <font color='red'>}</font>
<a name='L164'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) op;
<a name='L165'><font color='red'>}</font>
<a name='L166'>
<a name='L167'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L168'><a href='../S/2779.html#L354' title='Refered from 354 in Objects/bytesobject.c.'>PyBytes_FromFormatV</a>(<b>const</b> <b>char</b> *format, va_list vargs)
<a name='L169'><font color='red'>{</font>
<a name='L170'>    va_list count;
<a name='L171'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n = 0;
<a name='L172'>    <b>const</b> <b>char</b>* f;
<a name='L173'>    <b>char</b> *s;
<a name='L174'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>;
<a name='L175'>
<a name='L176'>    <a href='../D/4300.html' title='Multiple defined in 3 places.'>Py_VA_COPY</a>(count, vargs);
<a name='L177'>    <i><font color='green'>/* step 1: figure out how large a buffer we need */</font></i>
<a name='L178'>    <b>for</b> (f = format; *f; f++) <font color='red'>{</font>
<a name='L179'>        <b>if</b> (*f == '%') <font color='red'>{</font>
<a name='L180'>            <b>const</b> <b>char</b>* p = f;
<a name='L181'>            <b>while</b> (*++f &amp;&amp; *f != '%' &amp;&amp; !<a href='../S/556.html#L20' title='Defined at 20 in Include/pyctype.h.'>Py_ISALPHA</a>(*f))
<a name='L182'>                ;
<a name='L183'>
<a name='L184'>            <i><font color='green'>/* skip the 'l' or 'z' in {%ld, %zd, %lu, %zu} since</font></i>
<a name='L185'><i><font color='green'>             * they don't affect the amount of space we reserve.</font></i>
<a name='L186'><i><font color='green'>             */</font></i>
<a name='L187'>            <b>if</b> ((*f == 'l' || *f == 'z') &amp;&amp;
<a name='L188'>                            (f[1] == 'd' || f[1] == 'u'))
<a name='L189'>                ++f;
<a name='L190'>
<a name='L191'>            <b>switch</b> (*f) <font color='red'>{</font>
<a name='L192'>            <b>case</b> 'c':
<a name='L193'>                (<b>void</b>)va_arg(count, <b>int</b>);
<a name='L194'>                <i><font color='green'>/* fall through... */</font></i>
<a name='L195'>            <b>case</b> '%':
<a name='L196'>                n++;
<a name='L197'>                <b>break</b>;
<a name='L198'>            <b>case</b> 'd': <b>case</b> 'u': <b>case</b> 'i': <b>case</b> 'x':
<a name='L199'>                (<b>void</b>) va_arg(count, <b>int</b>);
<a name='L200'>                <i><font color='green'>/* 20 bytes is enough to hold a 64-bit</font></i>
<a name='L201'><i><font color='green'>                   integer.  Decimal takes the most space.</font></i>
<a name='L202'><i><font color='green'>                   This isn't enough for octal. */</font></i>
<a name='L203'>                n += 20;
<a name='L204'>                <b>break</b>;
<a name='L205'>            <b>case</b> 's':
<a name='L206'>                s = va_arg(count, <b>char</b>*);
<a name='L207'>                n += strlen(s);
<a name='L208'>                <b>break</b>;
<a name='L209'>            <b>case</b> 'p':
<a name='L210'>                (<b>void</b>) va_arg(count, <b>int</b>);
<a name='L211'>                <i><font color='green'>/* maximum 64-bit pointer representation:</font></i>
<a name='L212'><i><font color='green'>                 * 0xffffffffffffffff</font></i>
<a name='L213'><i><font color='green'>                 * so 19 characters is enough.</font></i>
<a name='L214'><i><font color='green'>                 * XXX I count 18 -- what's the extra for?</font></i>
<a name='L215'><i><font color='green'>                 */</font></i>
<a name='L216'>                n += 19;
<a name='L217'>                <b>break</b>;
<a name='L218'>            <b>default</b>:
<a name='L219'>                <i><font color='green'>/* if we stumble upon an unknown</font></i>
<a name='L220'><i><font color='green'>                   formatting code, copy the rest of</font></i>
<a name='L221'><i><font color='green'>                   the format string to the output</font></i>
<a name='L222'><i><font color='green'>                   string. (we cannot just skip the</font></i>
<a name='L223'><i><font color='green'>                   code, since there's no way to know</font></i>
<a name='L224'><i><font color='green'>                   what's in the argument list) */</font></i>
<a name='L225'>                n += strlen(p);
<a name='L226'>                <b>goto</b> expand;
<a name='L227'>            <font color='red'>}</font>
<a name='L228'>        <font color='red'>}</font> <b>else</b>
<a name='L229'>            n++;
<a name='L230'>    <font color='red'>}</font>
<a name='L231'> expand:
<a name='L232'>    <i><font color='green'>/* step 2: fill the buffer */</font></i>
<a name='L233'>    <i><font color='green'>/* Since we've analyzed how much space we need for the worst case,</font></i>
<a name='L234'><i><font color='green'>       use sprintf directly instead of the slower PyOS_snprintf. */</font></i>
<a name='L235'>    <a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a> = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, n);
<a name='L236'>    <b>if</b> (!<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>)
<a name='L237'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L238'>
<a name='L239'>    s = <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>);
<a name='L240'>
<a name='L241'>    <b>for</b> (f = format; *f; f++) <font color='red'>{</font>
<a name='L242'>        <b>if</b> (*f == '%') <font color='red'>{</font>
<a name='L243'>            <b>const</b> <b>char</b>* p = f++;
<a name='L244'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L245'>            <b>int</b> longflag = 0;
<a name='L246'>            <b>int</b> size_tflag = 0;
<a name='L247'>            <i><font color='green'>/* parse the width.precision part (we're only</font></i>
<a name='L248'><i><font color='green'>               interested in the precision value, if any) */</font></i>
<a name='L249'>            n = 0;
<a name='L250'>            <b>while</b> (<a href='../S/556.html#L21' title='Defined at 21 in Include/pyctype.h.'>Py_ISDIGIT</a>(*f))
<a name='L251'>                n = (n*10) + *f++ - '0';
<a name='L252'>            <b>if</b> (*f == '.') <font color='red'>{</font>
<a name='L253'>                f++;
<a name='L254'>                n = 0;
<a name='L255'>                <b>while</b> (<a href='../S/556.html#L21' title='Defined at 21 in Include/pyctype.h.'>Py_ISDIGIT</a>(*f))
<a name='L256'>                    n = (n*10) + *f++ - '0';
<a name='L257'>            <font color='red'>}</font>
<a name='L258'>            <b>while</b> (*f &amp;&amp; *f != '%' &amp;&amp; !<a href='../S/556.html#L20' title='Defined at 20 in Include/pyctype.h.'>Py_ISALPHA</a>(*f))
<a name='L259'>                f++;
<a name='L260'>            <i><font color='green'>/* handle the long flag, but only for %ld and %lu.</font></i>
<a name='L261'><i><font color='green'>               others can be added when necessary. */</font></i>
<a name='L262'>            <b>if</b> (*f == 'l' &amp;&amp; (f[1] == 'd' || f[1] == 'u')) <font color='red'>{</font>
<a name='L263'>                longflag = 1;
<a name='L264'>                ++f;
<a name='L265'>            <font color='red'>}</font>
<a name='L266'>            <i><font color='green'>/* handle the size_t flag. */</font></i>
<a name='L267'>            <b>if</b> (*f == 'z' &amp;&amp; (f[1] == 'd' || f[1] == 'u')) <font color='red'>{</font>
<a name='L268'>                size_tflag = 1;
<a name='L269'>                ++f;
<a name='L270'>            <font color='red'>}</font>
<a name='L271'>
<a name='L272'>            <b>switch</b> (*f) <font color='red'>{</font>
<a name='L273'>            <b>case</b> 'c':
<a name='L274'>                *s++ = va_arg(vargs, <b>int</b>);
<a name='L275'>                <b>break</b>;
<a name='L276'>            <b>case</b> 'd':
<a name='L277'>                <b>if</b> (longflag)
<a name='L278'>                    sprintf(s, "%ld", va_arg(vargs, <b>long</b>));
<a name='L279'>                <b>else</b> <b>if</b> (size_tflag)
<a name='L280'>                    sprintf(s, "%" <a href='../D/2597.html' title='Multiple defined in 4 places.'>PY_FORMAT_SIZE_T</a> "d",
<a name='L281'>                        va_arg(vargs, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>));
<a name='L282'>                <b>else</b>
<a name='L283'>                    sprintf(s, "%d", va_arg(vargs, <b>int</b>));
<a name='L284'>                s += strlen(s);
<a name='L285'>                <b>break</b>;
<a name='L286'>            <b>case</b> 'u':
<a name='L287'>                <b>if</b> (longflag)
<a name='L288'>                    sprintf(s, "%lu",
<a name='L289'>                        va_arg(vargs, <b>unsigned</b> <b>long</b>));
<a name='L290'>                <b>else</b> <b>if</b> (size_tflag)
<a name='L291'>                    sprintf(s, "%" <a href='../D/2597.html' title='Multiple defined in 4 places.'>PY_FORMAT_SIZE_T</a> "u",
<a name='L292'>                        va_arg(vargs, <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a>));
<a name='L293'>                <b>else</b>
<a name='L294'>                    sprintf(s, "%u",
<a name='L295'>                        va_arg(vargs, <b>unsigned</b> <b>int</b>));
<a name='L296'>                s += strlen(s);
<a name='L297'>                <b>break</b>;
<a name='L298'>            <b>case</b> 'i':
<a name='L299'>                sprintf(s, "%i", va_arg(vargs, <b>int</b>));
<a name='L300'>                s += strlen(s);
<a name='L301'>                <b>break</b>;
<a name='L302'>            <b>case</b> 'x':
<a name='L303'>                sprintf(s, "%x", va_arg(vargs, <b>int</b>));
<a name='L304'>                s += strlen(s);
<a name='L305'>                <b>break</b>;
<a name='L306'>            <b>case</b> 's':
<a name='L307'>                p = va_arg(vargs, <b>char</b>*);
<a name='L308'>                i = strlen(p);
<a name='L309'>                <b>if</b> (n &gt; 0 &amp;&amp; i &gt; n)
<a name='L310'>                    i = n;
<a name='L311'>                <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(s, p, i);
<a name='L312'>                s += i;
<a name='L313'>                <b>break</b>;
<a name='L314'>            <b>case</b> 'p':
<a name='L315'>                sprintf(s, "%p", va_arg(vargs, <b>void</b>*));
<a name='L316'>                <i><font color='green'>/* %p is ill-defined:  ensure leading 0x. */</font></i>
<a name='L317'>                <b>if</b> (s[1] == 'X')
<a name='L318'>                    s[1] = 'x';
<a name='L319'>                <b>else</b> <b>if</b> (s[1] != 'x') <font color='red'>{</font>
<a name='L320'>                    <a href='../S/2664.html#L75' title='Defined at 75 in Modules/expat/xmlparse.c.'>memmove</a>(s+2, s, strlen(s)+1);
<a name='L321'>                    s[0] = '0';
<a name='L322'>                    s[1] = 'x';
<a name='L323'>                <font color='red'>}</font>
<a name='L324'>                s += strlen(s);
<a name='L325'>                <b>break</b>;
<a name='L326'>            <b>case</b> '%':
<a name='L327'>                *s++ = '%';
<a name='L328'>                <b>break</b>;
<a name='L329'>            <b>default</b>:
<a name='L330'>                strcpy(s, p);
<a name='L331'>                s += strlen(s);
<a name='L332'>                <b>goto</b> end;
<a name='L333'>            <font color='red'>}</font>
<a name='L334'>        <font color='red'>}</font> <b>else</b>
<a name='L335'>            *s++ = *f;
<a name='L336'>    <font color='red'>}</font>
<a name='L337'>
<a name='L338'> end:
<a name='L339'>    <a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>, s - PyBytes_AS_STRING(<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>));
<a name='L340'>    <b>return</b> <a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>;
<a name='L341'><font color='red'>}</font>
<a name='L342'>
<a name='L343'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L344'><a href='../S/3120.html#L2635' title='Refered from 2635 in Python/import.c.'>PyBytes_FromFormat</a>(<b>const</b> <b>char</b> *format, ...)
<a name='L345'><font color='red'>{</font>
<a name='L346'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* ret;
<a name='L347'>    va_list vargs;
<a name='L348'>
<a name='L349'><font color='darkred'>#ifdef</font> <a href='../D/1566.html' title='Multiple defined in 3 places.'>HAVE_STDARG_PROTOTYPES</a>
<a name='L350'>    va_start(vargs, format);
<a name='L351'><font color='darkred'>#else</font>
<a name='L352'>    va_start(vargs);
<a name='L353'><font color='darkred'>#endif</font>
<a name='L354'>    ret = <a href='../S/2779.html#L168' title='Defined at 168 in Objects/bytesobject.c.'>PyBytes_FromFormatV</a>(format, vargs);
<a name='L355'>    va_end(vargs);
<a name='L356'>    <b>return</b> ret;
<a name='L357'><font color='red'>}</font>
<a name='L358'>
<a name='L359'><b>static</b> <b>void</b>
<a name='L360'><a href='../S/2779.html#L2744' title='Refered from 2744 in Objects/bytesobject.c.'>bytes_dealloc</a>(PyObject *op)
<a name='L361'><font color='red'>{</font>
<a name='L362'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(op)-&gt;tp_free(op);
<a name='L363'><font color='red'>}</font>
<a name='L364'>
<a name='L365'><i><font color='green'>/* Unescape a backslash-escaped string. If unicode is non-zero,</font></i>
<a name='L366'><i><font color='green'>   the string is a u-literal. If recode_encoding is non-zero,</font></i>
<a name='L367'><i><font color='green'>   the string is UTF-8 encoded and should be re-encoded in the</font></i>
<a name='L368'><i><font color='green'>   specified encoding.  */</font></i>
<a name='L369'>
<a name='L370'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../R/2532.html' title='Multiple refered from 3 places.'>PyBytes_DecodeEscape</a>(<b>const</b> <b>char</b> *s,
<a name='L371'>                                <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len,
<a name='L372'>                                <b>const</b> <b>char</b> *errors,
<a name='L373'>                                <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> unicode,
<a name='L374'>                                <b>const</b> <b>char</b> *recode_encoding)
<a name='L375'><font color='red'>{</font>
<a name='L376'>    <b>int</b> c;
<a name='L377'>    <b>char</b> *p, *buf;
<a name='L378'>    <b>const</b> <b>char</b> *end;
<a name='L379'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L380'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> newlen = recode_encoding ? 4*len:len;
<a name='L381'>    v = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>((<b>char</b> *)<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, newlen);
<a name='L382'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L383'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L384'>    p = buf = <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(v);
<a name='L385'>    end = s + len;
<a name='L386'>    <b>while</b> (s &lt; end) <font color='red'>{</font>
<a name='L387'>        <b>if</b> (*s != '\\') <font color='red'>{</font>
<a name='L388'>          non_esc:
<a name='L389'>            <b>if</b> (recode_encoding &amp;&amp; (*s &amp; 0x80)) <font color='red'>{</font>
<a name='L390'>                <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *u, *w;
<a name='L391'>                <b>char</b> *r;
<a name='L392'>                <b>const</b> <b>char</b>* t;
<a name='L393'>                <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> rn;
<a name='L394'>                t = s;
<a name='L395'>                <i><font color='green'>/* Decode non-ASCII bytes as UTF-8. */</font></i>
<a name='L396'>                <b>while</b> (t &lt; end &amp;&amp; (*t &amp; 0x80)) t++;
<a name='L397'>                u = <a href='../D/3987.html' title='Multiple defined in 3 places.'>PyUnicode_DecodeUTF8</a>(s, t - s, errors);
<a name='L398'>                <b>if</b>(!u) <b>goto</b> failed;
<a name='L399'>
<a name='L400'>                <i><font color='green'>/* Recode them in target encoding. */</font></i>
<a name='L401'>                w = <a href='../D/3952.html' title='Multiple defined in 3 places.'>PyUnicode_AsEncodedString</a>(
<a name='L402'>                    u, recode_encoding, errors);
<a name='L403'>                Py_DECREF(u);
<a name='L404'>                <b>if</b> (!w)                 <b>goto</b> failed;
<a name='L405'>
<a name='L406'>                <i><font color='green'>/* Append bytes to output buffer. */</font></i>
<a name='L407'>                <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyBytes_Check(w));
<a name='L408'>                r = PyBytes_AS_STRING(w);
<a name='L409'>                rn = PyBytes_GET_SIZE(w);
<a name='L410'>                <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(p, r, rn);
<a name='L411'>                p += rn;
<a name='L412'>                Py_DECREF(w);
<a name='L413'>                s = t;
<a name='L414'>            <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L415'>                *p++ = *s++;
<a name='L416'>            <font color='red'>}</font>
<a name='L417'>            <b>continue</b>;
<a name='L418'>        <font color='red'>}</font>
<a name='L419'>        s++;
<a name='L420'>        <b>if</b> (s==end) <font color='red'>{</font>
<a name='L421'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L422'>                            "Trailing \\ in string");
<a name='L423'>            <b>goto</b> failed;
<a name='L424'>        <font color='red'>}</font>
<a name='L425'>        <b>switch</b> (*s++) <font color='red'>{</font>
<a name='L426'>        <i><font color='green'>/* XXX This assumes ASCII! */</font></i>
<a name='L427'>        <b>case</b> '\n': <b>break</b>;
<a name='L428'>        <b>case</b> '\\': *p++ = '\\'; <b>break</b>;
<a name='L429'>        <b>case</b> '\'': *p++ = '\''; <b>break</b>;
<a name='L430'>        <b>case</b> '\"': *p++ = '\"'; <b>break</b>;
<a name='L431'>        <b>case</b> 'b': *p++ = '\b'; <b>break</b>;
<a name='L432'>        <b>case</b> 'f': *p++ = '\014'; <b>break</b>; <i><font color='green'>/* FF */</font></i>
<a name='L433'>        <b>case</b> 't': *p++ = '\t'; <b>break</b>;
<a name='L434'>        <b>case</b> 'n': *p++ = '\n'; <b>break</b>;
<a name='L435'>        <b>case</b> 'r': *p++ = '\r'; <b>break</b>;
<a name='L436'>        <b>case</b> 'v': *p++ = '\013'; <b>break</b>; <i><font color='green'>/* VT */</font></i>
<a name='L437'>        <b>case</b> 'a': *p++ = '\007'; <b>break</b>; <i><font color='green'>/* BEL, not classic C */</font></i>
<a name='L438'>        <b>case</b> '0': <b>case</b> '1': <b>case</b> '2': <b>case</b> '3':
<a name='L439'>        <b>case</b> '4': <b>case</b> '5': <b>case</b> '6': <b>case</b> '7':
<a name='L440'>            c = s[-1] - '0';
<a name='L441'>            <b>if</b> (s &lt; end &amp;&amp; '0' &lt;= *s &amp;&amp; *s &lt;= '7') <font color='red'>{</font>
<a name='L442'>                c = (c&lt;&lt;3) + *s++ - '0';
<a name='L443'>                <b>if</b> (s &lt; end &amp;&amp; '0' &lt;= *s &amp;&amp; *s &lt;= '7')
<a name='L444'>                    c = (c&lt;&lt;3) + *s++ - '0';
<a name='L445'>            <font color='red'>}</font>
<a name='L446'>            *p++ = c;
<a name='L447'>            <b>break</b>;
<a name='L448'>        <b>case</b> 'x':
<a name='L449'>            <b>if</b> (s+1 &lt; end &amp;&amp; <a href='../S/556.html#L22' title='Defined at 22 in Include/pyctype.h.'>Py_ISXDIGIT</a>(s[0]) &amp;&amp; <a href='../S/556.html#L22' title='Defined at 22 in Include/pyctype.h.'>Py_ISXDIGIT</a>(s[1])) <font color='red'>{</font>
<a name='L450'>                <b>unsigned</b> <b>int</b> x = 0;
<a name='L451'>                c = <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(*s);
<a name='L452'>                s++;
<a name='L453'>                <b>if</b> (<a href='../S/556.html#L21' title='Defined at 21 in Include/pyctype.h.'>Py_ISDIGIT</a>(c))
<a name='L454'>                    x = c - '0';
<a name='L455'>                <b>else</b> <b>if</b> (<a href='../S/556.html#L18' title='Defined at 18 in Include/pyctype.h.'>Py_ISLOWER</a>(c))
<a name='L456'>                    x = 10 + c - 'a';
<a name='L457'>                <b>else</b>
<a name='L458'>                    x = 10 + c - 'A';
<a name='L459'>                x = x &lt;&lt; 4;
<a name='L460'>                c = <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(*s);
<a name='L461'>                s++;
<a name='L462'>                <b>if</b> (<a href='../S/556.html#L21' title='Defined at 21 in Include/pyctype.h.'>Py_ISDIGIT</a>(c))
<a name='L463'>                    x += c - '0';
<a name='L464'>                <b>else</b> <b>if</b> (<a href='../S/556.html#L18' title='Defined at 18 in Include/pyctype.h.'>Py_ISLOWER</a>(c))
<a name='L465'>                    x += 10 + c - 'a';
<a name='L466'>                <b>else</b>
<a name='L467'>                    x += 10 + c - 'A';
<a name='L468'>                *p++ = x;
<a name='L469'>                <b>break</b>;
<a name='L470'>            <font color='red'>}</font>
<a name='L471'>            <b>if</b> (!errors || strcmp(errors, "strict") == 0) <font color='red'>{</font>
<a name='L472'>                <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L473'>                                "invalid \\x escape");
<a name='L474'>                <b>goto</b> failed;
<a name='L475'>            <font color='red'>}</font>
<a name='L476'>            <b>if</b> (strcmp(errors, "replace") == 0) <font color='red'>{</font>
<a name='L477'>                *p++ = '?';
<a name='L478'>            <font color='red'>}</font> <b>else</b> <b>if</b> (strcmp(errors, "ignore") == 0)
<a name='L479'>                <i><font color='green'>/* do nothing */</font></i>;
<a name='L480'>            <b>else</b> <font color='red'>{</font>
<a name='L481'>                <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError,
<a name='L482'>                             "decoding error; unknown "
<a name='L483'>                             "error handling code: %.400s",
<a name='L484'>                             errors);
<a name='L485'>                <b>goto</b> failed;
<a name='L486'>            <font color='red'>}</font>
<a name='L487'>        <b>default</b>:
<a name='L488'>            *p++ = '\\';
<a name='L489'>            s--;
<a name='L490'>            <b>goto</b> non_esc; <i><font color='green'>/* an arbitry number of unescaped</font></i>
<a name='L491'><i><font color='green'>                             UTF-8 bytes may follow. */</font></i>
<a name='L492'>        <font color='red'>}</font>
<a name='L493'>    <font color='red'>}</font>
<a name='L494'>    <b>if</b> (p-buf &lt; newlen)
<a name='L495'>        <a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;v, p - buf);
<a name='L496'>    <b>return</b> v;
<a name='L497'>  failed:
<a name='L498'>    Py_DECREF(v);
<a name='L499'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L500'><font color='red'>}</font>
<a name='L501'>
<a name='L502'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L503'><i><font color='green'>/* object api */</font></i>
<a name='L504'>
<a name='L505'><a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L506'><a href='../R/2540.html' title='Multiple refered from 17 places.'>PyBytes_Size</a>(<b>register</b> PyObject *op)
<a name='L507'><font color='red'>{</font>
<a name='L508'>    <b>if</b> (!PyBytes_Check(op)) <font color='red'>{</font>
<a name='L509'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L510'>             "expected bytes, %.200s found", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(op)-&gt;tp_name);
<a name='L511'>        <b>return</b> -1;
<a name='L512'>    <font color='red'>}</font>
<a name='L513'>    <b>return</b> <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(op);
<a name='L514'><font color='red'>}</font>
<a name='L515'>
<a name='L516'><b>char</b> *
<a name='L517'><a href='../R/2528.html' title='Multiple refered from 104 places.'>PyBytes_AsString</a>(<b>register</b> PyObject *op)
<a name='L518'><font color='red'>{</font>
<a name='L519'>    <b>if</b> (!PyBytes_Check(op)) <font color='red'>{</font>
<a name='L520'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L521'>             "expected bytes, %.200s found", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(op)-&gt;tp_name);
<a name='L522'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L523'>    <font color='red'>}</font>
<a name='L524'>    <b>return</b> ((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)op)-&gt;ob_sval;
<a name='L525'><font color='red'>}</font>
<a name='L526'>
<a name='L527'><b>int</b>
<a name='L528'><a href='../R/2529.html' title='Multiple refered from 7 places.'>PyBytes_AsStringAndSize</a>(<b>register</b> PyObject *obj,
<a name='L529'>                         <b>register</b> <b>char</b> **s,
<a name='L530'>                         <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> *len)
<a name='L531'><font color='red'>{</font>
<a name='L532'>    <b>if</b> (s == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L533'>        <a href='../D/3142.html' title='Multiple defined in 3 places.'>PyErr_BadInternalCall</a>();
<a name='L534'>        <b>return</b> -1;
<a name='L535'>    <font color='red'>}</font>
<a name='L536'>
<a name='L537'>    <b>if</b> (!PyBytes_Check(obj)) <font color='red'>{</font>
<a name='L538'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L539'>             "expected bytes, %.200s found", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(obj)-&gt;tp_name);
<a name='L540'>        <b>return</b> -1;
<a name='L541'>    <font color='red'>}</font>
<a name='L542'>
<a name='L543'>    *s = PyBytes_AS_STRING(obj);
<a name='L544'>    <b>if</b> (len != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L545'>        *len = PyBytes_GET_SIZE(obj);
<a name='L546'>    <b>else</b> <b>if</b> (strlen(*s) != (<a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a>)PyBytes_GET_SIZE(obj)) <font color='red'>{</font>
<a name='L547'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L548'>                        "expected bytes with no null");
<a name='L549'>        <b>return</b> -1;
<a name='L550'>    <font color='red'>}</font>
<a name='L551'>    <b>return</b> 0;
<a name='L552'><font color='red'>}</font>
<a name='L553'>
<a name='L554'><i><font color='green'>/* -------------------------------------------------------------------- */</font></i>
<a name='L555'><i><font color='green'>/* Methods */</font></i>
<a name='L556'>
<a name='L557'><font color='darkred'>#include</font> "<a href='2819.html'>stringlib/stringdefs.h</a>"
<a name='L558'>
<a name='L559'><font color='darkred'>#include</font> "<a href='2811.html'>stringlib/fastsearch.h</a>"
<a name='L560'><font color='darkred'>#include</font> "<a href='2808.html'>stringlib/count.h</a>"
<a name='L561'><font color='darkred'>#include</font> "<a href='2812.html'>stringlib/find.h</a>"
<a name='L562'><font color='darkred'>#include</font> "<a href='2815.html'>stringlib/partition.h</a>"
<a name='L563'><font color='darkred'>#include</font> "<a href='2817.html'>stringlib/split.h</a>"
<a name='L564'><font color='darkred'>#include</font> "<a href='2809.html'>stringlib/ctype.h</a>"
<a name='L565'>
<a name='L566'><font color='darkred'>#include</font> "<a href='2820.html'>stringlib/transmogrify.h</a>"
<a name='L567'>
<a name='L568'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L569'><a href='../S/2779.html#L646' title='Refered from 646 in Objects/bytesobject.c.'>PyBytes_Repr</a>(PyObject *obj, <b>int</b> smartquotes)
<a name='L570'><font color='red'>{</font>
<a name='L571'>    <b>static</b> <b>const</b> <b>char</b> *hexdigits = "0123456789abcdef";
<a name='L572'>    <b>register</b> <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a>* op = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a>*) obj;
<a name='L573'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> length = <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(op);
<a name='L574'>    <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> newsize;
<a name='L575'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L576'>    <b>if</b> (length &gt; (<a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - 3) / 4) <font color='red'>{</font>
<a name='L577'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L578'>            "bytes object is too large to make repr");
<a name='L579'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L580'>    <font color='red'>}</font>
<a name='L581'>    newsize = 3 + 4 * length;
<a name='L582'>    v = <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, newsize);
<a name='L583'>    <b>if</b> (v == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L584'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L585'>    <font color='red'>}</font>
<a name='L586'>    <b>else</b> <font color='red'>{</font>
<a name='L587'>        <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L588'>        <b>register</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> c;
<a name='L589'>        <b>register</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *p = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(v);
<a name='L590'>        <b>int</b> quote;
<a name='L591'>
<a name='L592'>        <i><font color='green'>/* Figure out which quote to use; single is preferred */</font></i>
<a name='L593'>        quote = '\'';
<a name='L594'>        <b>if</b> (smartquotes) <font color='red'>{</font>
<a name='L595'>            <b>char</b> *<a href='../D/11648.html' title='Multiple defined in 2 places.'>test</a>, *start;
<a name='L596'>            start = PyBytes_AS_STRING(op);
<a name='L597'>            <b>for</b> (<a href='../D/11648.html' title='Multiple defined in 2 places.'>test</a> = start; <a href='../D/11648.html' title='Multiple defined in 2 places.'>test</a> &lt; start+length; ++<a href='../D/11648.html' title='Multiple defined in 2 places.'>test</a>) <font color='red'>{</font>
<a name='L598'>                <b>if</b> (*<a href='../D/11648.html' title='Multiple defined in 2 places.'>test</a> == '"') <font color='red'>{</font>
<a name='L599'>                    quote = '\''; <i><font color='green'>/* back to single */</font></i>
<a name='L600'>                    <b>goto</b> decided;
<a name='L601'>                <font color='red'>}</font>
<a name='L602'>                <b>else</b> <b>if</b> (*<a href='../D/11648.html' title='Multiple defined in 2 places.'>test</a> == '\'')
<a name='L603'>                    quote = '"';
<a name='L604'>            <font color='red'>}</font>
<a name='L605'>            decided:
<a name='L606'>            ;
<a name='L607'>        <font color='red'>}</font>
<a name='L608'>
<a name='L609'>        *p++ = 'b', *p++ = quote;
<a name='L610'>        <b>for</b> (i = 0; i &lt; length; i++) <font color='red'>{</font>
<a name='L611'>            <i><font color='green'>/* There's at least enough room for a hex escape</font></i>
<a name='L612'><i><font color='green'>               and a closing quote. */</font></i>
<a name='L613'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(newsize - (p - <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(v)) &gt;= 5);
<a name='L614'>            c = op-&gt;ob_sval[i];
<a name='L615'>            <b>if</b> (c == quote || c == '\\')
<a name='L616'>                *p++ = '\\', *p++ = c;
<a name='L617'>            <b>else</b> <b>if</b> (c == '\t')
<a name='L618'>                *p++ = '\\', *p++ = 't';
<a name='L619'>            <b>else</b> <b>if</b> (c == '\n')
<a name='L620'>                *p++ = '\\', *p++ = 'n';
<a name='L621'>            <b>else</b> <b>if</b> (c == '\r')
<a name='L622'>                *p++ = '\\', *p++ = 'r';
<a name='L623'>            <b>else</b> <b>if</b> (c &lt; ' ' || c &gt;= 0x7f) <font color='red'>{</font>
<a name='L624'>                *p++ = '\\';
<a name='L625'>                *p++ = 'x';
<a name='L626'>                *p++ = hexdigits[(c &amp; 0xf0) &gt;&gt; 4];
<a name='L627'>                *p++ = hexdigits[c &amp; 0xf];
<a name='L628'>            <font color='red'>}</font>
<a name='L629'>            <b>else</b>
<a name='L630'>                *p++ = c;
<a name='L631'>        <font color='red'>}</font>
<a name='L632'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(newsize - (p - <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(v)) &gt;= 1);
<a name='L633'>        *p++ = quote;
<a name='L634'>        *p = '\0';
<a name='L635'>        <b>if</b> (<a href='../D/4031.html' title='Multiple defined in 3 places.'>PyUnicode_Resize</a>(&amp;v, (p - <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(v)))) <font color='red'>{</font>
<a name='L636'>            Py_DECREF(v);
<a name='L637'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L638'>        <font color='red'>}</font>
<a name='L639'>        <b>return</b> v;
<a name='L640'>    <font color='red'>}</font>
<a name='L641'><font color='red'>}</font>
<a name='L642'>
<a name='L643'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L644'><a href='../R/6466.html' title='Multiple refered from 2 places.'>bytes_repr</a>(PyObject *op)
<a name='L645'><font color='red'>{</font>
<a name='L646'>    <b>return</b> <a href='../S/2779.html#L569' title='Defined at 569 in Objects/bytesobject.c.'>PyBytes_Repr</a>(op, 1);
<a name='L647'><font color='red'>}</font>
<a name='L648'>
<a name='L649'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L650'><a href='../S/2779.html#L2755' title='Refered from 2755 in Objects/bytesobject.c.'>bytes_str</a>(PyObject *op)
<a name='L651'><font color='red'>{</font>
<a name='L652'>    <b>if</b> (Py_BytesWarningFlag) <font color='red'>{</font>
<a name='L653'>        <b>if</b> (<a href='../S/3087.html#L756' title='Defined at 756 in Python/_warnings.c.'>PyErr_WarnEx</a>(PyExc_BytesWarning,
<a name='L654'>                         "str() on a bytes instance", 1))
<a name='L655'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L656'>    <font color='red'>}</font>
<a name='L657'>    <b>return</b> <a href='../S/2779.html#L644' title='Defined at 644 in Objects/bytesobject.c.'>bytes_repr</a>(op);
<a name='L658'><font color='red'>}</font>
<a name='L659'>
<a name='L660'><b>static</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>
<a name='L661'><a href='../R/6459.html' title='Multiple refered from 2 places.'>bytes_length</a>(PyBytesObject *a)
<a name='L662'><font color='red'>{</font>
<a name='L663'>    <b>return</b> <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a);
<a name='L664'><font color='red'>}</font>
<a name='L665'>
<a name='L666'><i><font color='green'>/* This is also used by PyBytes_Concat() */</font></i>
<a name='L667'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L668'><a href='../R/6445.html' title='Multiple refered from 2 places.'>bytes_concat</a>(PyObject *a, PyObject *b)
<a name='L669'><font color='red'>{</font>
<a name='L670'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size;
<a name='L671'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> va, vb;
<a name='L672'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L673'>
<a name='L674'>    va.len = -1;
<a name='L675'>    vb.len = -1;
<a name='L676'>    <b>if</b> (<a href='../D/6513.html' title='Multiple defined in 3 places.'>_getbuffer</a>(a, &amp;va) &lt; 0  ||
<a name='L677'>        <a href='../D/6513.html' title='Multiple defined in 3 places.'>_getbuffer</a>(<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>, &amp;vb) &lt; 0) <font color='red'>{</font>
<a name='L678'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError, "can't concat %.100s to %.100s",
<a name='L679'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(a)-&gt;tp_name, <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>)-&gt;tp_name);
<a name='L680'>        <b>goto</b> done;
<a name='L681'>    <font color='red'>}</font>
<a name='L682'>
<a name='L683'>    <i><font color='green'>/* Optimize end cases */</font></i>
<a name='L684'>    <b>if</b> (va.len == 0 &amp;&amp; PyBytes_CheckExact(<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>)) <font color='red'>{</font>
<a name='L685'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>;
<a name='L686'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L687'>        <b>goto</b> done;
<a name='L688'>    <font color='red'>}</font>
<a name='L689'>    <b>if</b> (vb.len == 0 &amp;&amp; PyBytes_CheckExact(a)) <font color='red'>{</font>
<a name='L690'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = a;
<a name='L691'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L692'>        <b>goto</b> done;
<a name='L693'>    <font color='red'>}</font>
<a name='L694'>
<a name='L695'>    size = va.len + vb.len;
<a name='L696'>    <b>if</b> (size &lt; 0) <font color='red'>{</font>
<a name='L697'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L698'>        <b>goto</b> done;
<a name='L699'>    <font color='red'>}</font>
<a name='L700'>
<a name='L701'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, size);
<a name='L702'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L703'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>), va.buf, va.len);
<a name='L704'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>) + va.len, vb.buf, vb.len);
<a name='L705'>    <font color='red'>}</font>
<a name='L706'>
<a name='L707'>  done:
<a name='L708'>    <b>if</b> (va.len != -1)
<a name='L709'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;va);
<a name='L710'>    <b>if</b> (vb.len != -1)
<a name='L711'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;vb);
<a name='L712'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L713'><font color='red'>}</font>
<a name='L714'>
<a name='L715'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L716'><a href='../S/2779.html#L967' title='Refered from 967 in Objects/bytesobject.c.'>bytes_repeat</a>(<b>register</b> PyBytesObject *a, <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n)
<a name='L717'><font color='red'>{</font>
<a name='L718'>    <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L719'>    <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> j;
<a name='L720'>    <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size;
<a name='L721'>    <b>register</b> <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *op;
<a name='L722'>    <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> nbytes;
<a name='L723'>    <b>if</b> (n &lt; 0)
<a name='L724'>        n = 0;
<a name='L725'>    <i><font color='green'>/* watch out for overflows:  the size can overflow int,</font></i>
<a name='L726'><i><font color='green'>     * and the # of bytes needed can overflow size_t</font></i>
<a name='L727'><i><font color='green'>     */</font></i>
<a name='L728'>    <b>if</b> (n &gt; 0 &amp;&amp; <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a) &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> / n) <font color='red'>{</font>
<a name='L729'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L730'>            "repeated bytes are too long");
<a name='L731'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L732'>    <font color='red'>}</font>
<a name='L733'>    size = <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a) * n;
<a name='L734'>    <b>if</b> (size == <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a) &amp;&amp; PyBytes_CheckExact(a)) <font color='red'>{</font>
<a name='L735'>        Py_INCREF(a);
<a name='L736'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)a;
<a name='L737'>    <font color='red'>}</font>
<a name='L738'>    nbytes = (<a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a>)size;
<a name='L739'>    <b>if</b> (nbytes + <a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a> &lt;= nbytes) <font color='red'>{</font>
<a name='L740'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L741'>            "repeated bytes are too long");
<a name='L742'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L743'>    <font color='red'>}</font>
<a name='L744'>    op = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)PyObject_MALLOC(<a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a> + nbytes);
<a name='L745'>    <b>if</b> (op == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L746'>        <b>return</b> <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L747'>    <a href='../S/545.html#L162' title='Defined at 162 in Include/objimpl.h.'>PyObject_INIT_VAR</a>(op, &amp;PyBytes_Type, size);
<a name='L748'>    op-&gt;ob_shash = -1;
<a name='L749'>    op-&gt;ob_sval[size] = '\0';
<a name='L750'>    <b>if</b> (<a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a) == 1 &amp;&amp; n &gt; 0) <font color='red'>{</font>
<a name='L751'>        memset(op-&gt;ob_sval, a-&gt;ob_sval[0] , n);
<a name='L752'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) op;
<a name='L753'>    <font color='red'>}</font>
<a name='L754'>    i = 0;
<a name='L755'>    <b>if</b> (i &lt; size) <font color='red'>{</font>
<a name='L756'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(op-&gt;ob_sval, a-&gt;ob_sval, <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a));
<a name='L757'>        i = <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a);
<a name='L758'>    <font color='red'>}</font>
<a name='L759'>    <b>while</b> (i &lt; size) <font color='red'>{</font>
<a name='L760'>        j = (i &lt;= size-i)  ?  i  :  size-i;
<a name='L761'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(op-&gt;ob_sval+i, op-&gt;ob_sval, j);
<a name='L762'>        i += j;
<a name='L763'>    <font color='red'>}</font>
<a name='L764'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) op;
<a name='L765'><font color='red'>}</font>
<a name='L766'>
<a name='L767'><b>static</b> <b>int</b>
<a name='L768'><a href='../S/2779.html#L972' title='Refered from 972 in Objects/bytesobject.c.'>bytes_contains</a>(PyObject *self, PyObject *arg)
<a name='L769'><font color='red'>{</font>
<a name='L770'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> ival = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, PyExc_ValueError);
<a name='L771'>    <b>if</b> (ival == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L772'>        <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> varg;
<a name='L773'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> pos;
<a name='L774'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L775'>        <b>if</b> (<a href='../D/6513.html' title='Multiple defined in 3 places.'>_getbuffer</a>(<a href='../D/6730.html' title='Multiple defined in 2 places.'>arg</a>, &amp;varg) &lt; 0)
<a name='L776'>            <b>return</b> -1;
<a name='L777'>        pos = stringlib_find(PyBytes_AS_STRING(self), <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(self),
<a name='L778'>                             varg.buf, varg.len, 0);
<a name='L779'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;varg);
<a name='L780'>        <b>return</b> pos &gt;= 0;
<a name='L781'>    <font color='red'>}</font>
<a name='L782'>    <b>if</b> (ival &lt; 0 || ival &gt;= 256) <font color='red'>{</font>
<a name='L783'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "byte must be in range(0, 256)");
<a name='L784'>        <b>return</b> -1;
<a name='L785'>    <font color='red'>}</font>
<a name='L786'>
<a name='L787'>    <b>return</b> memchr(PyBytes_AS_STRING(self), (<b>int</b>) ival, <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(self)) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L788'><font color='red'>}</font>
<a name='L789'>
<a name='L790'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L791'><a href='../S/2779.html#L968' title='Refered from 968 in Objects/bytesobject.c.'>bytes_item</a>(PyBytesObject *a, <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i)
<a name='L792'><font color='red'>{</font>
<a name='L793'>    <b>if</b> (i &lt; 0 || i &gt;= <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a)) <font color='red'>{</font>
<a name='L794'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_IndexError, "index out of range");
<a name='L795'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L796'>    <font color='red'>}</font>
<a name='L797'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((<b>unsigned</b> <b>char</b>)a-&gt;ob_sval[i]);
<a name='L798'><font color='red'>}</font>
<a name='L799'>
<a name='L800'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L801'><a href='../S/2779.html#L2764' title='Refered from 2764 in Objects/bytesobject.c.'>bytes_richcompare</a>(PyBytesObject *a, PyBytesObject *b, <b>int</b> op)
<a name='L802'><font color='red'>{</font>
<a name='L803'>    <b>int</b> c;
<a name='L804'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len_a, len_b;
<a name='L805'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> min_len;
<a name='L806'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L807'>
<a name='L808'>    <i><font color='green'>/* Make sure both arguments are strings. */</font></i>
<a name='L809'>    <b>if</b> (!(PyBytes_Check(a) &amp;&amp; PyBytes_Check(<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>))) <font color='red'>{</font>
<a name='L810'>        <b>if</b> (Py_BytesWarningFlag &amp;&amp; (op == <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a> || op == <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_NE</a>) &amp;&amp;
<a name='L811'>            (<a href='../S/2775.html#L2539' title='Defined at 2539 in Objects/abstract.c.'>PyObject_IsInstance</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)a,
<a name='L812'>                                 (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)&amp;PyUnicode_Type) ||
<a name='L813'>            <a href='../S/2775.html#L2539' title='Defined at 2539 in Objects/abstract.c.'>PyObject_IsInstance</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>,
<a name='L814'>                                 (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)&amp;PyUnicode_Type))) <font color='red'>{</font>
<a name='L815'>            <b>if</b> (<a href='../S/3087.html#L756' title='Defined at 756 in Python/_warnings.c.'>PyErr_WarnEx</a>(PyExc_BytesWarning,
<a name='L816'>                        "Comparison between bytes and string", 1))
<a name='L817'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L818'>        <font color='red'>}</font>
<a name='L819'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_NotImplemented;
<a name='L820'>        <b>goto</b> out;
<a name='L821'>    <font color='red'>}</font>
<a name='L822'>    <b>if</b> (a == <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>) <font color='red'>{</font>
<a name='L823'>        <b>switch</b> (op) <font color='red'>{</font>
<a name='L824'>        <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>:<b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_LE</a>:<b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_GE</a>:
<a name='L825'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_True;
<a name='L826'>            <b>goto</b> out;
<a name='L827'>        <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_NE</a>:<b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_LT</a>:<b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_GT</a>:
<a name='L828'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_False;
<a name='L829'>            <b>goto</b> out;
<a name='L830'>        <font color='red'>}</font>
<a name='L831'>    <font color='red'>}</font>
<a name='L832'>    <b>if</b> (op == <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>) <font color='red'>{</font>
<a name='L833'>        <i><font color='green'>/* Supporting Py_NE here as well does not save</font></i>
<a name='L834'><i><font color='green'>           much time, since Py_NE is rarely used.  */</font></i>
<a name='L835'>        <b>if</b> (<a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a) == <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>)
<a name='L836'>            &amp;&amp; (a-&gt;ob_sval[0] == <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;ob_sval[0]
<a name='L837'>            &amp;&amp; memcmp(a-&gt;ob_sval, <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;ob_sval, <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a)) == 0)) <font color='red'>{</font>
<a name='L838'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_True;
<a name='L839'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L840'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_False;
<a name='L841'>        <font color='red'>}</font>
<a name='L842'>        <b>goto</b> out;
<a name='L843'>    <font color='red'>}</font>
<a name='L844'>    len_a = <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a); len_b = <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>);
<a name='L845'>    min_len = (len_a &lt; len_b) ? len_a : len_b;
<a name='L846'>    <b>if</b> (min_len &gt; 0) <font color='red'>{</font>
<a name='L847'>        c = <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(*a-&gt;ob_sval) - <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(*<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;ob_sval);
<a name='L848'>        <b>if</b> (c==0)
<a name='L849'>            c = memcmp(a-&gt;ob_sval, <a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>-&gt;ob_sval, min_len);
<a name='L850'>    <font color='red'>}</font> <b>else</b>
<a name='L851'>        c = 0;
<a name='L852'>    <b>if</b> (c == 0)
<a name='L853'>        c = (len_a &lt; len_b) ? -1 : (len_a &gt; len_b) ? 1 : 0;
<a name='L854'>    <b>switch</b> (op) <font color='red'>{</font>
<a name='L855'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_LT</a>: c = c &lt;  0; <b>break</b>;
<a name='L856'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_LE</a>: c = c &lt;= 0; <b>break</b>;
<a name='L857'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>: <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0);  <b>break</b>; <i><font color='green'>/* unreachable */</font></i>
<a name='L858'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_NE</a>: c = c != 0; <b>break</b>;
<a name='L859'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_GT</a>: c = c &gt;  0; <b>break</b>;
<a name='L860'>    <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_GE</a>: c = c &gt;= 0; <b>break</b>;
<a name='L861'>    <b>default</b>:
<a name='L862'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_NotImplemented;
<a name='L863'>        <b>goto</b> out;
<a name='L864'>    <font color='red'>}</font>
<a name='L865'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = c ? Py_True : Py_False;
<a name='L866'>  out:
<a name='L867'>    Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L868'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L869'><font color='red'>}</font>
<a name='L870'>
<a name='L871'><b>static</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a>
<a name='L872'><a href='../S/2779.html#L2753' title='Refered from 2753 in Objects/bytesobject.c.'>bytes_hash</a>(PyBytesObject *a)
<a name='L873'><font color='red'>{</font>
<a name='L874'>    <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len;
<a name='L875'>    <b>register</b> <b>unsigned</b> <b>char</b> *p;
<a name='L876'>    <b>register</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a> x;
<a name='L877'>
<a name='L878'>    <b>if</b> (a-&gt;ob_shash != -1)
<a name='L879'>        <b>return</b> a-&gt;ob_shash;
<a name='L880'>    len = <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a);
<a name='L881'>    p = (<b>unsigned</b> <b>char</b> *) a-&gt;ob_sval;
<a name='L882'>    x = *p &lt;&lt; 7;
<a name='L883'>    <b>while</b> (--len &gt;= 0)
<a name='L884'>        x = (1000003*x) ^ *p++;
<a name='L885'>    x ^= <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(a);
<a name='L886'>    <b>if</b> (x == -1)
<a name='L887'>        x = -2;
<a name='L888'>    a-&gt;ob_shash = x;
<a name='L889'>    <b>return</b> x;
<a name='L890'><font color='red'>}</font>
<a name='L891'>
<a name='L892'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L893'><a href='../S/2779.html#L977' title='Refered from 977 in Objects/bytesobject.c.'>bytes_subscript</a>(PyBytesObject* self, PyObject* item)
<a name='L894'><font color='red'>{</font>
<a name='L895'>    <b>if</b> (PyIndex_Check(item)) <font color='red'>{</font>
<a name='L896'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(item, PyExc_IndexError);
<a name='L897'>        <b>if</b> (i == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L898'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L899'>        <b>if</b> (i &lt; 0)
<a name='L900'>            i += PyBytes_GET_SIZE(self);
<a name='L901'>        <b>if</b> (i &lt; 0 || i &gt;= PyBytes_GET_SIZE(self)) <font color='red'>{</font>
<a name='L902'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_IndexError,
<a name='L903'>                            "index out of range");
<a name='L904'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L905'>        <font color='red'>}</font>
<a name='L906'>        <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>((<b>unsigned</b> <b>char</b>)self-&gt;ob_sval[i]);
<a name='L907'>    <font color='red'>}</font>
<a name='L908'>    <b>else</b> <b>if</b> (PySlice_Check(item)) <font color='red'>{</font>
<a name='L909'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start, stop, step, slicelength, cur, i;
<a name='L910'>        <b>char</b>* source_buf;
<a name='L911'>        <b>char</b>* result_buf;
<a name='L912'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L913'>
<a name='L914'>        <b>if</b> (<a href='../S/2807.html#L134' title='Defined at 134 in Objects/sliceobject.c.'>PySlice_GetIndicesEx</a>(item,
<a name='L915'>                         PyBytes_GET_SIZE(self),
<a name='L916'>                         &amp;start, &amp;stop, &amp;step, &amp;slicelength) &lt; 0) <font color='red'>{</font>
<a name='L917'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L918'>        <font color='red'>}</font>
<a name='L919'>
<a name='L920'>        <b>if</b> (slicelength &lt;= 0) <font color='red'>{</font>
<a name='L921'>            <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>("", 0);
<a name='L922'>        <font color='red'>}</font>
<a name='L923'>        <b>else</b> <b>if</b> (start == 0 &amp;&amp; step == 1 &amp;&amp;
<a name='L924'>                 slicelength == PyBytes_GET_SIZE(self) &amp;&amp;
<a name='L925'>                 PyBytes_CheckExact(self)) <font color='red'>{</font>
<a name='L926'>            Py_INCREF(self);
<a name='L927'>            <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L928'>        <font color='red'>}</font>
<a name='L929'>        <b>else</b> <b>if</b> (step == 1) <font color='red'>{</font>
<a name='L930'>            <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(
<a name='L931'>                PyBytes_AS_STRING(self) + start,
<a name='L932'>                slicelength);
<a name='L933'>        <font color='red'>}</font>
<a name='L934'>        <b>else</b> <font color='red'>{</font>
<a name='L935'>            source_buf = PyBytes_AS_STRING(self);
<a name='L936'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, slicelength);
<a name='L937'>            <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L938'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L939'>
<a name='L940'>            result_buf = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L941'>            <b>for</b> (cur = start, i = 0; i &lt; slicelength;
<a name='L942'>                 cur += step, i++) <font color='red'>{</font>
<a name='L943'>                result_buf[i] = source_buf[cur];
<a name='L944'>            <font color='red'>}</font>
<a name='L945'>
<a name='L946'>            <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L947'>        <font color='red'>}</font>
<a name='L948'>    <font color='red'>}</font>
<a name='L949'>    <b>else</b> <font color='red'>{</font>
<a name='L950'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L951'>                     "byte indices must be integers, not %.200s",
<a name='L952'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(item)-&gt;tp_name);
<a name='L953'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L954'>    <font color='red'>}</font>
<a name='L955'><font color='red'>}</font>
<a name='L956'>
<a name='L957'><b>static</b> <b>int</b>
<a name='L958'><a href='../S/2779.html#L982' title='Refered from 982 in Objects/bytesobject.c.'>bytes_buffer_getbuffer</a>(PyBytesObject *self, Py_buffer *view, <b>int</b> flags)
<a name='L959'><font color='red'>{</font>
<a name='L960'>    <b>return</b> <a href='../S/2775.html#L650' title='Defined at 650 in Objects/abstract.c.'>PyBuffer_FillInfo</a>(view, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)self, (<b>void</b> *)self-&gt;ob_sval, <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(self),
<a name='L961'>                             1, <a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a>);
<a name='L962'><font color='red'>}</font>
<a name='L963'>
<a name='L964'><b>static</b> <a href='../S/544.html#L261' title='Defined at 261 in Include/object.h.'>PySequenceMethods</a> bytes_as_sequence = <font color='red'>{</font>
<a name='L965'>    (<a href='../S/2562.html#L105' title='Defined at 105 in Modules/_elementtree.c.'>lenfunc</a>)<a href='../S/2779.html#L661' title='Defined at 661 in Objects/bytesobject.c.'>bytes_length</a>, <i><font color='green'>/*sq_length*/</font></i>
<a name='L966'>    (binaryfunc)<a href='../S/2779.html#L668' title='Defined at 668 in Objects/bytesobject.c.'>bytes_concat</a>, <i><font color='green'>/*sq_concat*/</font></i>
<a name='L967'>    (ssizeargfunc)<a href='../S/2779.html#L716' title='Defined at 716 in Objects/bytesobject.c.'>bytes_repeat</a>, <i><font color='green'>/*sq_repeat*/</font></i>
<a name='L968'>    (ssizeargfunc)<a href='../S/2779.html#L791' title='Defined at 791 in Objects/bytesobject.c.'>bytes_item</a>, <i><font color='green'>/*sq_item*/</font></i>
<a name='L969'>    0,                  <i><font color='green'>/*sq_slice*/</font></i>
<a name='L970'>    0,                  <i><font color='green'>/*sq_ass_item*/</font></i>
<a name='L971'>    0,                  <i><font color='green'>/*sq_ass_slice*/</font></i>
<a name='L972'>    (objobjproc)<a href='../S/2779.html#L768' title='Defined at 768 in Objects/bytesobject.c.'>bytes_contains</a> <i><font color='green'>/*sq_contains*/</font></i>
<a name='L973'><font color='red'>}</font>;
<a name='L974'>
<a name='L975'><b>static</b> <a href='../S/544.html#L267' title='Defined at 267 in Include/object.h.'>PyMappingMethods</a> bytes_as_mapping = <font color='red'>{</font>
<a name='L976'>    (<a href='../S/2562.html#L105' title='Defined at 105 in Modules/_elementtree.c.'>lenfunc</a>)<a href='../S/2779.html#L661' title='Defined at 661 in Objects/bytesobject.c.'>bytes_length</a>,
<a name='L977'>    (binaryfunc)<a href='../S/2779.html#L893' title='Defined at 893 in Objects/bytesobject.c.'>bytes_subscript</a>,
<a name='L978'>    0,
<a name='L979'><font color='red'>}</font>;
<a name='L980'>
<a name='L981'><b>static</b> <a href='../S/544.html#L273' title='Defined at 273 in Include/object.h.'>PyBufferProcs</a> bytes_as_buffer = <font color='red'>{</font>
<a name='L982'>    (getbufferproc)<a href='../S/2779.html#L958' title='Defined at 958 in Objects/bytesobject.c.'>bytes_buffer_getbuffer</a>,
<a name='L983'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L984'><font color='red'>}</font>;
<a name='L985'>
<a name='L986'>
<a name='L987'><font color='darkred'>#define</font> <a href='../R/1709.html' title='Multiple refered from 8 places.'>LEFTSTRIP</a> 0
<a name='L988'><font color='darkred'>#define</font> <a href='../R/3972.html' title='Multiple refered from 8 places.'>RIGHTSTRIP</a> 1
<a name='L989'><font color='darkred'>#define</font> <a href='../R/282.html' title='Multiple refered from 4 places.'>BOTHSTRIP</a> 2
<a name='L990'>
<a name='L991'><i><font color='green'>/* Arrays indexed by above */</font></i>
<a name='L992'><b>static</b> <b>const</b> <b>char</b> *stripformat[] = <font color='red'>{</font>"|O:lstrip", "|O:rstrip", "|O:strip"<font color='red'>}</font>;
<a name='L993'>
<a name='L994'><font color='darkred'>#define</font> <a href='../S/2828.html#L8138' title='Refered from 8138 in Objects/unicodeobject.c.'>STRIPNAME</a>(i) (stripformat[i]+3)
<a name='L995'>
<a name='L996'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(split__doc__,
<a name='L997'>"B.split([sep[, maxsplit]]) -&gt; list of bytes\n\
<a name='L998'>\n\
<a name='L999'>Return a list of the sections in B, using sep as the delimiter.\n\
<a name='L1000'>If sep is not specified or is None, B is split on ASCII whitespace\n\
<a name='L1001'>characters (space, tab, return, newline, formfeed, vertical tab).\n\
<a name='L1002'>If maxsplit is given, at most maxsplit splits are done.");
<a name='L1003'>
<a name='L1004'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1005'><a href='../S/2779.html#L2469' title='Refered from 2469 in Objects/bytesobject.c.'>bytes_split</a>(PyBytesObject *self, PyObject *args)
<a name='L1006'><font color='red'>{</font>
<a name='L1007'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len = PyBytes_GET_SIZE(self), n;
<a name='L1008'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxsplit = -1;
<a name='L1009'>    <b>const</b> <b>char</b> *s = PyBytes_AS_STRING(self), *sub;
<a name='L1010'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> vsub;
<a name='L1011'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *list, *subobj = Py_None;
<a name='L1012'>
<a name='L1013'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|On:split", &amp;subobj, &amp;maxsplit))
<a name='L1014'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1015'>    <b>if</b> (maxsplit &lt; 0)
<a name='L1016'>        maxsplit = <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>;
<a name='L1017'>    <b>if</b> (subobj == Py_None)
<a name='L1018'>        <b>return</b> stringlib_split_whitespace((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self, s, len, maxsplit);
<a name='L1019'>    <b>if</b> (<a href='../D/6513.html' title='Multiple defined in 3 places.'>_getbuffer</a>(subobj, &amp;vsub) &lt; 0)
<a name='L1020'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1021'>    sub = vsub.buf;
<a name='L1022'>    n = vsub.len;
<a name='L1023'>
<a name='L1024'>    list = stringlib_split((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self, s, len, sub, n, maxsplit);
<a name='L1025'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;vsub);
<a name='L1026'>    <b>return</b> list;
<a name='L1027'><font color='red'>}</font>
<a name='L1028'>
<a name='L1029'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(partition__doc__,
<a name='L1030'>"B.partition(sep) -&gt; (head, sep, tail)\n\
<a name='L1031'>\n\
<a name='L1032'>Search for the separator sep in B, and return the part before it,\n\
<a name='L1033'>the separator itself, and the part after it.  If the separator is not\n\
<a name='L1034'>found, returns B and two empty bytes objects.");
<a name='L1035'>
<a name='L1036'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1037'><a href='../S/2779.html#L2460' title='Refered from 2460 in Objects/bytesobject.c.'>bytes_partition</a>(PyBytesObject *self, PyObject *sep_obj)
<a name='L1038'><font color='red'>{</font>
<a name='L1039'>    <b>const</b> <b>char</b> *sep;
<a name='L1040'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> sep_len;
<a name='L1041'>
<a name='L1042'>    <b>if</b> (PyBytes_Check(sep_obj)) <font color='red'>{</font>
<a name='L1043'>        sep = PyBytes_AS_STRING(sep_obj);
<a name='L1044'>        sep_len = PyBytes_GET_SIZE(sep_obj);
<a name='L1045'>    <font color='red'>}</font>
<a name='L1046'>    <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(sep_obj, &amp;sep, &amp;sep_len))
<a name='L1047'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1048'>
<a name='L1049'>    <b>return</b> stringlib_partition(
<a name='L1050'>        (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self,
<a name='L1051'>        PyBytes_AS_STRING(self), PyBytes_GET_SIZE(self),
<a name='L1052'>        sep_obj, sep, sep_len
<a name='L1053'>        );
<a name='L1054'><font color='red'>}</font>
<a name='L1055'>
<a name='L1056'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(rpartition__doc__,
<a name='L1057'>"B.rpartition(sep) -&gt; (head, sep, tail)\n\
<a name='L1058'>\n\
<a name='L1059'>Search for the separator sep in B, starting at the end of B,\n\
<a name='L1060'>and return the part before it, the separator itself, and the\n\
<a name='L1061'>part after it.  If the separator is not found, returns two empty\n\
<a name='L1062'>bytes objects and B.");
<a name='L1063'>
<a name='L1064'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1065'><a href='../S/2779.html#L2465' title='Refered from 2465 in Objects/bytesobject.c.'>bytes_rpartition</a>(PyBytesObject *self, PyObject *sep_obj)
<a name='L1066'><font color='red'>{</font>
<a name='L1067'>    <b>const</b> <b>char</b> *sep;
<a name='L1068'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> sep_len;
<a name='L1069'>
<a name='L1070'>    <b>if</b> (PyBytes_Check(sep_obj)) <font color='red'>{</font>
<a name='L1071'>        sep = PyBytes_AS_STRING(sep_obj);
<a name='L1072'>        sep_len = PyBytes_GET_SIZE(sep_obj);
<a name='L1073'>    <font color='red'>}</font>
<a name='L1074'>    <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(sep_obj, &amp;sep, &amp;sep_len))
<a name='L1075'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1076'>
<a name='L1077'>    <b>return</b> stringlib_rpartition(
<a name='L1078'>        (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self,
<a name='L1079'>        PyBytes_AS_STRING(self), PyBytes_GET_SIZE(self),
<a name='L1080'>        sep_obj, sep, sep_len
<a name='L1081'>        );
<a name='L1082'><font color='red'>}</font>
<a name='L1083'>
<a name='L1084'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(rsplit__doc__,
<a name='L1085'>"B.rsplit([sep[, maxsplit]]) -&gt; list of bytes\n\
<a name='L1086'>\n\
<a name='L1087'>Return a list of the sections in B, using sep as the delimiter,\n\
<a name='L1088'>starting at the end of B and working to the front.\n\
<a name='L1089'>If sep is not given, B is split on ASCII whitespace characters\n\
<a name='L1090'>(space, tab, return, newline, formfeed, vertical tab).\n\
<a name='L1091'>If maxsplit is given, at most maxsplit splits are done.");
<a name='L1092'>
<a name='L1093'>
<a name='L1094'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1095'><a href='../S/2779.html#L2467' title='Refered from 2467 in Objects/bytesobject.c.'>bytes_rsplit</a>(PyBytesObject *self, PyObject *args)
<a name='L1096'><font color='red'>{</font>
<a name='L1097'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len = PyBytes_GET_SIZE(self), n;
<a name='L1098'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxsplit = -1;
<a name='L1099'>    <b>const</b> <b>char</b> *s = PyBytes_AS_STRING(self), *sub;
<a name='L1100'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> vsub;
<a name='L1101'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *list, *subobj = Py_None;
<a name='L1102'>
<a name='L1103'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|On:rsplit", &amp;subobj, &amp;maxsplit))
<a name='L1104'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1105'>    <b>if</b> (maxsplit &lt; 0)
<a name='L1106'>        maxsplit = <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>;
<a name='L1107'>    <b>if</b> (subobj == Py_None)
<a name='L1108'>        <b>return</b> stringlib_rsplit_whitespace((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self, s, len, maxsplit);
<a name='L1109'>    <b>if</b> (<a href='../D/6513.html' title='Multiple defined in 3 places.'>_getbuffer</a>(subobj, &amp;vsub) &lt; 0)
<a name='L1110'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1111'>    sub = vsub.buf;
<a name='L1112'>    n = vsub.len;
<a name='L1113'>
<a name='L1114'>    list = stringlib_rsplit((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self, s, len, sub, n, maxsplit);
<a name='L1115'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;vsub);
<a name='L1116'>    <b>return</b> list;
<a name='L1117'><font color='red'>}</font>
<a name='L1118'>
<a name='L1119'>
<a name='L1120'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(join__doc__,
<a name='L1121'>"B.join(iterable_of_bytes) -&gt; bytes\n\
<a name='L1122'>\n\
<a name='L1123'>Concatenate any number of bytes objects, with B in between each pair.\n\
<a name='L1124'>Example: b'.'.join([b'ab', b'pq', b'rs']) -&gt; b'ab.pq.rs'.");
<a name='L1125'>
<a name='L1126'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1127'><a href='../R/6458.html' title='Multiple refered from 2 places.'>bytes_join</a>(PyObject *self, PyObject *orig)
<a name='L1128'><font color='red'>{</font>
<a name='L1129'>    <b>char</b> *sep = PyBytes_AS_STRING(self);
<a name='L1130'>    <b>const</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> seplen = PyBytes_GET_SIZE(self);
<a name='L1131'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *res = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1132'>    <b>char</b> *p;
<a name='L1133'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> seqlen = 0;
<a name='L1134'>    <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> sz = 0;
<a name='L1135'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L1136'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *seq, *item;
<a name='L1137'>
<a name='L1138'>    seq = <a href='../S/2775.html#L1836' title='Defined at 1836 in Objects/abstract.c.'>PySequence_Fast</a>(orig, "");
<a name='L1139'>    <b>if</b> (seq == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1140'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1141'>    <font color='red'>}</font>
<a name='L1142'>
<a name='L1143'>    seqlen = <a href='../S/2775.html#L1452' title='Defined at 1452 in Objects/abstract.c.'>PySequence_Size</a>(seq);
<a name='L1144'>    <b>if</b> (seqlen == 0) <font color='red'>{</font>
<a name='L1145'>        Py_DECREF(seq);
<a name='L1146'>        <b>return</b> <a href='../S/2779.html#L122' title='Defined at 122 in Objects/bytesobject.c.'>PyBytes_FromString</a>("");
<a name='L1147'>    <font color='red'>}</font>
<a name='L1148'>    <b>if</b> (seqlen == 1) <font color='red'>{</font>
<a name='L1149'>        item = PySequence_Fast_GET_ITEM(seq, 0);
<a name='L1150'>        <b>if</b> (PyBytes_CheckExact(item)) <font color='red'>{</font>
<a name='L1151'>            Py_INCREF(item);
<a name='L1152'>            Py_DECREF(seq);
<a name='L1153'>            <b>return</b> item;
<a name='L1154'>        <font color='red'>}</font>
<a name='L1155'>    <font color='red'>}</font>
<a name='L1156'>
<a name='L1157'>    <i><font color='green'>/* There are at least two things to join, or else we have a subclass</font></i>
<a name='L1158'><i><font color='green'>     * of the builtin types in the sequence.</font></i>
<a name='L1159'><i><font color='green'>     * Do a pre-pass to figure out the total amount of space we'll</font></i>
<a name='L1160'><i><font color='green'>     * need (sz), and see whether all argument are bytes.</font></i>
<a name='L1161'><i><font color='green'>     */</font></i>
<a name='L1162'>    <i><font color='green'>/* XXX Shouldn't we use _getbuffer() on these items instead? */</font></i>
<a name='L1163'>    <b>for</b> (i = 0; i &lt; seqlen; i++) <font color='red'>{</font>
<a name='L1164'>        <b>const</b> <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> old_sz = sz;
<a name='L1165'>        item = PySequence_Fast_GET_ITEM(seq, i);
<a name='L1166'>        <b>if</b> (!PyBytes_Check(item) &amp;&amp; !PyByteArray_Check(item)) <font color='red'>{</font>
<a name='L1167'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L1168'>                         "sequence item %zd: expected bytes,"
<a name='L1169'>                         " %.80s found",
<a name='L1170'>                         i, <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(item)-&gt;tp_name);
<a name='L1171'>            Py_DECREF(seq);
<a name='L1172'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1173'>        <font color='red'>}</font>
<a name='L1174'>        sz += <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(item);
<a name='L1175'>        <b>if</b> (i != 0)
<a name='L1176'>            sz += seplen;
<a name='L1177'>        <b>if</b> (sz &lt; old_sz || sz &gt; <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>) <font color='red'>{</font>
<a name='L1178'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L1179'>                "join() result is too long for bytes");
<a name='L1180'>            Py_DECREF(seq);
<a name='L1181'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1182'>        <font color='red'>}</font>
<a name='L1183'>    <font color='red'>}</font>
<a name='L1184'>
<a name='L1185'>    <i><font color='green'>/* Allocate result space. */</font></i>
<a name='L1186'>    res = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>((<b>char</b>*)<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, sz);
<a name='L1187'>    <b>if</b> (res == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1188'>        Py_DECREF(seq);
<a name='L1189'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1190'>    <font color='red'>}</font>
<a name='L1191'>
<a name='L1192'>    <i><font color='green'>/* Catenate everything. */</font></i>
<a name='L1193'>    <i><font color='green'>/* I'm not worried about a PyByteArray item growing because there's</font></i>
<a name='L1194'><i><font color='green'>       nowhere in this function where we release the GIL. */</font></i>
<a name='L1195'>    p = PyBytes_AS_STRING(res);
<a name='L1196'>    <b>for</b> (i = 0; i &lt; seqlen; ++i) <font color='red'>{</font>
<a name='L1197'>        <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> n;
<a name='L1198'>        <b>char</b> *q;
<a name='L1199'>        <b>if</b> (i) <font color='red'>{</font>
<a name='L1200'>            <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(p, sep, seplen);
<a name='L1201'>            p += seplen;
<a name='L1202'>        <font color='red'>}</font>
<a name='L1203'>        item = PySequence_Fast_GET_ITEM(seq, i);
<a name='L1204'>        n = <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(item);
<a name='L1205'>        <b>if</b> (PyBytes_Check(item))
<a name='L1206'>            q = PyBytes_AS_STRING(item);
<a name='L1207'>        <b>else</b>
<a name='L1208'>            q = PyByteArray_AS_STRING(item);
<a name='L1209'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(p, q, n);
<a name='L1210'>        p += n;
<a name='L1211'>    <font color='red'>}</font>
<a name='L1212'>
<a name='L1213'>    Py_DECREF(seq);
<a name='L1214'>    <b>return</b> res;
<a name='L1215'><font color='red'>}</font>
<a name='L1216'>
<a name='L1217'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1218'><a href='../R/5366.html' title='Multiple refered from 4 places.'>_PyBytes_Join</a>(PyObject *sep, PyObject *x)
<a name='L1219'><font color='red'>{</font>
<a name='L1220'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(sep != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; PyBytes_Check(sep));
<a name='L1221'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(x != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1222'>    <b>return</b> <a href='../S/2779.html#L1127' title='Defined at 1127 in Objects/bytesobject.c.'>bytes_join</a>(sep, x);
<a name='L1223'><font color='red'>}</font>
<a name='L1224'>
<a name='L1225'><i><font color='green'>/* helper macro to fixup start/end slice values */</font></i>
<a name='L1226'><font color='darkred'>#define</font> <a href='../R/32.html' title='Multiple refered from 9 places.'>ADJUST_INDICES</a>(start, end, len)         \
<a name='L1227'>    <b>if</b> (end &gt; len)                          \
<a name='L1228'>        end = len;                          \
<a name='L1229'>    <b>else</b> <b>if</b> (end &lt; 0) <font color='red'>{</font>                     \
<a name='L1230'>        end += len;                         \
<a name='L1231'>        <b>if</b> (end &lt; 0)                        \
<a name='L1232'>        end = 0;                        \
<a name='L1233'>    <font color='red'>}</font>                                       \
<a name='L1234'>    <b>if</b> (start &lt; 0) <font color='red'>{</font>                        \
<a name='L1235'>        start += len;                       \
<a name='L1236'>        <b>if</b> (start &lt; 0)                      \
<a name='L1237'>        start = 0;                      \
<a name='L1238'>    <font color='red'>}</font>
<a name='L1239'>
<a name='L1240'>Py_LOCAL_INLINE(<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)
<a name='L1241'>bytes_find_internal(PyBytesObject *self, PyObject *args, <b>int</b> dir)
<a name='L1242'><font color='red'>{</font>
<a name='L1243'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *subobj;
<a name='L1244'>    <b>const</b> <b>char</b> *sub;
<a name='L1245'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> sub_len;
<a name='L1246'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start=0, end=<a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>;
<a name='L1247'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *obj_start=Py_None, *obj_end=Py_None;
<a name='L1248'>
<a name='L1249'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|OO:find/rfind/index/rindex", &amp;subobj,
<a name='L1250'>        &amp;obj_start, &amp;obj_end))
<a name='L1251'>        <b>return</b> -2;
<a name='L1252'>    <i><font color='green'>/* To support None in "start" and "end" arguments, meaning</font></i>
<a name='L1253'><i><font color='green'>       the same as if they were not passed.</font></i>
<a name='L1254'><i><font color='green'>    */</font></i>
<a name='L1255'>    <b>if</b> (obj_start != Py_None)
<a name='L1256'>        <b>if</b> (!<a href='../S/3091.html#L4209' title='Defined at 4209 in Python/ceval.c.'>_PyEval_SliceIndex</a>(obj_start, &amp;start))
<a name='L1257'>        <b>return</b> -2;
<a name='L1258'>    <b>if</b> (obj_end != Py_None)
<a name='L1259'>        <b>if</b> (!<a href='../S/3091.html#L4209' title='Defined at 4209 in Python/ceval.c.'>_PyEval_SliceIndex</a>(obj_end, &amp;end))
<a name='L1260'>        <b>return</b> -2;
<a name='L1261'>
<a name='L1262'>    <b>if</b> (PyBytes_Check(subobj)) <font color='red'>{</font>
<a name='L1263'>        sub = PyBytes_AS_STRING(subobj);
<a name='L1264'>        sub_len = PyBytes_GET_SIZE(subobj);
<a name='L1265'>    <font color='red'>}</font>
<a name='L1266'>    <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(subobj, &amp;sub, &amp;sub_len))
<a name='L1267'>        <i><font color='green'>/* XXX - the "expected a character buffer object" is pretty</font></i>
<a name='L1268'><i><font color='green'>           confusing for a non-expert.  remap to something else ? */</font></i>
<a name='L1269'>        <b>return</b> -2;
<a name='L1270'>
<a name='L1271'>    <b>if</b> (dir &gt; 0)
<a name='L1272'>        <b>return</b> stringlib_find_slice(
<a name='L1273'>            PyBytes_AS_STRING(self), PyBytes_GET_SIZE(self),
<a name='L1274'>            sub, sub_len, start, end);
<a name='L1275'>    <b>else</b>
<a name='L1276'>        <b>return</b> stringlib_rfind_slice(
<a name='L1277'>            PyBytes_AS_STRING(self), PyBytes_GET_SIZE(self),
<a name='L1278'>            sub, sub_len, start, end);
<a name='L1279'><font color='red'>}</font>
<a name='L1280'>
<a name='L1281'>
<a name='L1282'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(find__doc__,
<a name='L1283'>"B.find(sub[, start[, end]]) -&gt; int\n\
<a name='L1284'>\n\
<a name='L1285'>Return the lowest index in B where substring sub is found,\n\
<a name='L1286'>such that sub is contained within s[start:end].  Optional\n\
<a name='L1287'>arguments start and end are interpreted as in slice notation.\n\
<a name='L1288'>\n\
<a name='L1289'>Return -1 on failure.");
<a name='L1290'>
<a name='L1291'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1292'><a href='../S/2779.html#L2436' title='Refered from 2436 in Objects/bytesobject.c.'>bytes_find</a>(PyBytesObject *self, PyObject *args)
<a name='L1293'><font color='red'>{</font>
<a name='L1294'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = bytes_find_internal(self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, +1);
<a name='L1295'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -2)
<a name='L1296'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1297'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1298'><font color='red'>}</font>
<a name='L1299'>
<a name='L1300'>
<a name='L1301'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(index__doc__,
<a name='L1302'>"B.index(sub[, start[, end]]) -&gt; int\n\
<a name='L1303'>\n\
<a name='L1304'>Like B.find() but raise ValueError when the substring is not found.");
<a name='L1305'>
<a name='L1306'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1307'><a href='../S/2779.html#L2439' title='Refered from 2439 in Objects/bytesobject.c.'>bytes_index</a>(PyBytesObject *self, PyObject *args)
<a name='L1308'><font color='red'>{</font>
<a name='L1309'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = bytes_find_internal(self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, +1);
<a name='L1310'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -2)
<a name='L1311'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1312'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -1) <font color='red'>{</font>
<a name='L1313'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L1314'>                        "substring not found");
<a name='L1315'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1316'>    <font color='red'>}</font>
<a name='L1317'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1318'><font color='red'>}</font>
<a name='L1319'>
<a name='L1320'>
<a name='L1321'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(rfind__doc__,
<a name='L1322'>"B.rfind(sub[, start[, end]]) -&gt; int\n\
<a name='L1323'>\n\
<a name='L1324'>Return the highest index in B where substring sub is found,\n\
<a name='L1325'>such that sub is contained within s[start:end].  Optional\n\
<a name='L1326'>arguments start and end are interpreted as in slice notation.\n\
<a name='L1327'>\n\
<a name='L1328'>Return -1 on failure.");
<a name='L1329'>
<a name='L1330'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1331'><a href='../S/2779.html#L2462' title='Refered from 2462 in Objects/bytesobject.c.'>bytes_rfind</a>(PyBytesObject *self, PyObject *args)
<a name='L1332'><font color='red'>{</font>
<a name='L1333'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = bytes_find_internal(self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, -1);
<a name='L1334'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -2)
<a name='L1335'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1336'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1337'><font color='red'>}</font>
<a name='L1338'>
<a name='L1339'>
<a name='L1340'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(rindex__doc__,
<a name='L1341'>"B.rindex(sub[, start[, end]]) -&gt; int\n\
<a name='L1342'>\n\
<a name='L1343'>Like B.rfind() but raise ValueError when the substring is not found.");
<a name='L1344'>
<a name='L1345'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1346'><a href='../S/2779.html#L2463' title='Refered from 2463 in Objects/bytesobject.c.'>bytes_rindex</a>(PyBytesObject *self, PyObject *args)
<a name='L1347'><font color='red'>{</font>
<a name='L1348'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = bytes_find_internal(self, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, -1);
<a name='L1349'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -2)
<a name='L1350'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1351'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -1) <font color='red'>{</font>
<a name='L1352'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L1353'>                        "substring not found");
<a name='L1354'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1355'>    <font color='red'>}</font>
<a name='L1356'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1357'><font color='red'>}</font>
<a name='L1358'>
<a name='L1359'>
<a name='L1360'>Py_LOCAL_INLINE(PyObject *)
<a name='L1361'>do_xstrip(PyBytesObject *self, <b>int</b> striptype, PyObject *sepobj)
<a name='L1362'><font color='red'>{</font>
<a name='L1363'>    <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> vsep;
<a name='L1364'>    <b>char</b> *s = PyBytes_AS_STRING(self);
<a name='L1365'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len = PyBytes_GET_SIZE(self);
<a name='L1366'>    <b>char</b> *sep;
<a name='L1367'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> seplen;
<a name='L1368'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i, j;
<a name='L1369'>
<a name='L1370'>    <b>if</b> (<a href='../D/6513.html' title='Multiple defined in 3 places.'>_getbuffer</a>(sepobj, &amp;vsep) &lt; 0)
<a name='L1371'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1372'>    sep = vsep.buf;
<a name='L1373'>    seplen = vsep.len;
<a name='L1374'>
<a name='L1375'>    i = 0;
<a name='L1376'>    <b>if</b> (striptype != <a href='../D/4504.html' title='Multiple defined in 2 places.'>RIGHTSTRIP</a>) <font color='red'>{</font>
<a name='L1377'>        <b>while</b> (i &lt; len &amp;&amp; memchr(sep, <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(s[i]), seplen)) <font color='red'>{</font>
<a name='L1378'>            i++;
<a name='L1379'>        <font color='red'>}</font>
<a name='L1380'>    <font color='red'>}</font>
<a name='L1381'>
<a name='L1382'>    j = len;
<a name='L1383'>    <b>if</b> (striptype != <a href='../D/1902.html' title='Multiple defined in 2 places.'>LEFTSTRIP</a>) <font color='red'>{</font>
<a name='L1384'>        <b>do</b> <font color='red'>{</font>
<a name='L1385'>            j--;
<a name='L1386'>        <font color='red'>}</font> <b>while</b> (j &gt;= i &amp;&amp; memchr(sep, <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(s[j]), seplen));
<a name='L1387'>        j++;
<a name='L1388'>    <font color='red'>}</font>
<a name='L1389'>
<a name='L1390'>    <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;vsep);
<a name='L1391'>
<a name='L1392'>    <b>if</b> (i == 0 &amp;&amp; j == len &amp;&amp; PyBytes_CheckExact(self)) <font color='red'>{</font>
<a name='L1393'>        Py_INCREF(self);
<a name='L1394'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)self;
<a name='L1395'>    <font color='red'>}</font>
<a name='L1396'>    <b>else</b>
<a name='L1397'>        <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(s+i, j-i);
<a name='L1398'><font color='red'>}</font>
<a name='L1399'>
<a name='L1400'>
<a name='L1401'>Py_LOCAL_INLINE(PyObject *)
<a name='L1402'>do_strip(PyBytesObject *self, <b>int</b> striptype)
<a name='L1403'><font color='red'>{</font>
<a name='L1404'>    <b>char</b> *s = PyBytes_AS_STRING(self);
<a name='L1405'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len = PyBytes_GET_SIZE(self), i, j;
<a name='L1406'>
<a name='L1407'>    i = 0;
<a name='L1408'>    <b>if</b> (striptype != <a href='../D/4504.html' title='Multiple defined in 2 places.'>RIGHTSTRIP</a>) <font color='red'>{</font>
<a name='L1409'>        <b>while</b> (i &lt; len &amp;&amp; <a href='../S/556.html#L24' title='Defined at 24 in Include/pyctype.h.'>Py_ISSPACE</a>(s[i])) <font color='red'>{</font>
<a name='L1410'>            i++;
<a name='L1411'>        <font color='red'>}</font>
<a name='L1412'>    <font color='red'>}</font>
<a name='L1413'>
<a name='L1414'>    j = len;
<a name='L1415'>    <b>if</b> (striptype != <a href='../D/1902.html' title='Multiple defined in 2 places.'>LEFTSTRIP</a>) <font color='red'>{</font>
<a name='L1416'>        <b>do</b> <font color='red'>{</font>
<a name='L1417'>            j--;
<a name='L1418'>        <font color='red'>}</font> <b>while</b> (j &gt;= i &amp;&amp; <a href='../S/556.html#L24' title='Defined at 24 in Include/pyctype.h.'>Py_ISSPACE</a>(s[j]));
<a name='L1419'>        j++;
<a name='L1420'>    <font color='red'>}</font>
<a name='L1421'>
<a name='L1422'>    <b>if</b> (i == 0 &amp;&amp; j == len &amp;&amp; PyBytes_CheckExact(self)) <font color='red'>{</font>
<a name='L1423'>        Py_INCREF(self);
<a name='L1424'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)self;
<a name='L1425'>    <font color='red'>}</font>
<a name='L1426'>    <b>else</b>
<a name='L1427'>        <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(s+i, j-i);
<a name='L1428'><font color='red'>}</font>
<a name='L1429'>
<a name='L1430'>
<a name='L1431'>Py_LOCAL_INLINE(PyObject *)
<a name='L1432'>do_argstrip(PyBytesObject *self, <b>int</b> striptype, PyObject *args)
<a name='L1433'><font color='red'>{</font>
<a name='L1434'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *sep = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1435'>
<a name='L1436'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, (<b>char</b> *)stripformat[striptype], &amp;sep))
<a name='L1437'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1438'>
<a name='L1439'>    <b>if</b> (sep != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; sep != Py_None) <font color='red'>{</font>
<a name='L1440'>        <b>return</b> do_xstrip(self, striptype, sep);
<a name='L1441'>    <font color='red'>}</font>
<a name='L1442'>    <b>return</b> <a href='../S/2828.html#L8095' title='Defined at 8095 in Objects/unicodeobject.c.'>do_strip</a>(self, striptype);
<a name='L1443'><font color='red'>}</font>
<a name='L1444'>
<a name='L1445'>
<a name='L1446'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(strip__doc__,
<a name='L1447'>"B.strip([bytes]) -&gt; bytes\n\
<a name='L1448'>\n\
<a name='L1449'>Strip leading and trailing bytes contained in the argument.\n\
<a name='L1450'>If the argument is omitted, strip trailing ASCII whitespace.");
<a name='L1451'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1452'><a href='../S/2779.html#L2474' title='Refered from 2474 in Objects/bytesobject.c.'>bytes_strip</a>(PyBytesObject *self, PyObject *args)
<a name='L1453'><font color='red'>{</font>
<a name='L1454'>    <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 0)
<a name='L1455'>        <b>return</b> <a href='../S/2828.html#L8095' title='Defined at 8095 in Objects/unicodeobject.c.'>do_strip</a>(self, <a href='../D/306.html' title='Multiple defined in 2 places.'>BOTHSTRIP</a>); <i><font color='green'>/* Common case */</font></i>
<a name='L1456'>    <b>else</b>
<a name='L1457'>        <b>return</b> <a href='../S/2828.html#L8125' title='Defined at 8125 in Objects/unicodeobject.c.'>do_argstrip</a>(self, <a href='../D/306.html' title='Multiple defined in 2 places.'>BOTHSTRIP</a>, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1458'><font color='red'>}</font>
<a name='L1459'>
<a name='L1460'>
<a name='L1461'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(lstrip__doc__,
<a name='L1462'>"B.lstrip([bytes]) -&gt; bytes\n\
<a name='L1463'>\n\
<a name='L1464'>Strip leading bytes contained in the argument.\n\
<a name='L1465'>If the argument is omitted, strip leading ASCII whitespace.");
<a name='L1466'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1467'><a href='../S/2779.html#L2457' title='Refered from 2457 in Objects/bytesobject.c.'>bytes_lstrip</a>(PyBytesObject *self, PyObject *args)
<a name='L1468'><font color='red'>{</font>
<a name='L1469'>    <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 0)
<a name='L1470'>        <b>return</b> <a href='../S/2828.html#L8095' title='Defined at 8095 in Objects/unicodeobject.c.'>do_strip</a>(self, <a href='../D/1902.html' title='Multiple defined in 2 places.'>LEFTSTRIP</a>); <i><font color='green'>/* Common case */</font></i>
<a name='L1471'>    <b>else</b>
<a name='L1472'>        <b>return</b> <a href='../S/2828.html#L8125' title='Defined at 8125 in Objects/unicodeobject.c.'>do_argstrip</a>(self, <a href='../D/1902.html' title='Multiple defined in 2 places.'>LEFTSTRIP</a>, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1473'><font color='red'>}</font>
<a name='L1474'>
<a name='L1475'>
<a name='L1476'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(rstrip__doc__,
<a name='L1477'>"B.rstrip([bytes]) -&gt; bytes\n\
<a name='L1478'>\n\
<a name='L1479'>Strip trailing bytes contained in the argument.\n\
<a name='L1480'>If the argument is omitted, strip trailing ASCII whitespace.");
<a name='L1481'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1482'><a href='../S/2779.html#L2468' title='Refered from 2468 in Objects/bytesobject.c.'>bytes_rstrip</a>(PyBytesObject *self, PyObject *args)
<a name='L1483'><font color='red'>{</font>
<a name='L1484'>    <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 0)
<a name='L1485'>        <b>return</b> <a href='../S/2828.html#L8095' title='Defined at 8095 in Objects/unicodeobject.c.'>do_strip</a>(self, <a href='../D/4504.html' title='Multiple defined in 2 places.'>RIGHTSTRIP</a>); <i><font color='green'>/* Common case */</font></i>
<a name='L1486'>    <b>else</b>
<a name='L1487'>        <b>return</b> <a href='../S/2828.html#L8125' title='Defined at 8125 in Objects/unicodeobject.c.'>do_argstrip</a>(self, <a href='../D/4504.html' title='Multiple defined in 2 places.'>RIGHTSTRIP</a>, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1488'><font color='red'>}</font>
<a name='L1489'>
<a name='L1490'>
<a name='L1491'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(count__doc__,
<a name='L1492'>"B.count(sub[, start[, end]]) -&gt; int\n\
<a name='L1493'>\n\
<a name='L1494'>Return the number of non-overlapping occurrences of substring sub in\n\
<a name='L1495'>string B[start:end].  Optional arguments start and end are interpreted\n\
<a name='L1496'>as in slice notation.");
<a name='L1497'>
<a name='L1498'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1499'><a href='../S/2779.html#L2430' title='Refered from 2430 in Objects/bytesobject.c.'>bytes_count</a>(PyBytesObject *self, PyObject *args)
<a name='L1500'><font color='red'>{</font>
<a name='L1501'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *sub_obj;
<a name='L1502'>    <b>const</b> <b>char</b> *str = PyBytes_AS_STRING(self), *sub;
<a name='L1503'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> sub_len;
<a name='L1504'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start = 0, end = <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>;
<a name='L1505'>
<a name='L1506'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O&amp;O&amp;:count", &amp;sub_obj,
<a name='L1507'>        <a href='../S/3091.html#L4209' title='Defined at 4209 in Python/ceval.c.'>_PyEval_SliceIndex</a>, &amp;start, <a href='../S/3091.html#L4209' title='Defined at 4209 in Python/ceval.c.'>_PyEval_SliceIndex</a>, &amp;end))
<a name='L1508'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1509'>
<a name='L1510'>    <b>if</b> (PyBytes_Check(sub_obj)) <font color='red'>{</font>
<a name='L1511'>        sub = PyBytes_AS_STRING(sub_obj);
<a name='L1512'>        sub_len = PyBytes_GET_SIZE(sub_obj);
<a name='L1513'>    <font color='red'>}</font>
<a name='L1514'>    <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(sub_obj, &amp;sub, &amp;sub_len))
<a name='L1515'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1516'>
<a name='L1517'>    <a href='../D/42.html' title='Multiple defined in 4 places.'>ADJUST_INDICES</a>(start, end, PyBytes_GET_SIZE(self));
<a name='L1518'>
<a name='L1519'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(
<a name='L1520'>        stringlib_count(str + start, end - start, sub, sub_len, <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>)
<a name='L1521'>        );
<a name='L1522'><font color='red'>}</font>
<a name='L1523'>
<a name='L1524'>
<a name='L1525'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(translate__doc__,
<a name='L1526'>"B.translate(table[, deletechars]) -&gt; bytes\n\
<a name='L1527'>\n\
<a name='L1528'>Return a copy of B, where all characters occurring in the\n\
<a name='L1529'>optional argument deletechars are removed, and the remaining\n\
<a name='L1530'>characters have been mapped through the given translation\n\
<a name='L1531'>table, which must be a bytes object of length 256.");
<a name='L1532'>
<a name='L1533'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1534'><a href='../S/2779.html#L2478' title='Refered from 2478 in Objects/bytesobject.c.'>bytes_translate</a>(PyBytesObject *self, PyObject *args)
<a name='L1535'><font color='red'>{</font>
<a name='L1536'>    <b>register</b> <b>char</b> *input, *output;
<a name='L1537'>    <b>const</b> <b>char</b> *table;
<a name='L1538'>    <b>register</b> <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i, c, changed = 0;
<a name='L1539'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *input_obj = (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*)self;
<a name='L1540'>    <b>const</b> <b>char</b> *output_start, *del_table=<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1541'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> inlen, tablen, dellen = 0;
<a name='L1542'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1543'>    <b>int</b> trans_table[256];
<a name='L1544'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tableobj, *delobj = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1545'>
<a name='L1546'>    <b>if</b> (!<a href='../S/3112.html#L1712' title='Defined at 1712 in Python/getargs.c.'>PyArg_UnpackTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "translate", 1, 2,
<a name='L1547'>                          &amp;tableobj, &amp;delobj))
<a name='L1548'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1549'>
<a name='L1550'>    <b>if</b> (PyBytes_Check(tableobj)) <font color='red'>{</font>
<a name='L1551'>        table = PyBytes_AS_STRING(tableobj);
<a name='L1552'>        tablen = PyBytes_GET_SIZE(tableobj);
<a name='L1553'>    <font color='red'>}</font>
<a name='L1554'>    <b>else</b> <b>if</b> (tableobj == Py_None) <font color='red'>{</font>
<a name='L1555'>        table = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1556'>        tablen = 256;
<a name='L1557'>    <font color='red'>}</font>
<a name='L1558'>    <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(tableobj, &amp;table, &amp;tablen))
<a name='L1559'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1560'>
<a name='L1561'>    <b>if</b> (tablen != 256) <font color='red'>{</font>
<a name='L1562'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L1563'>          "translation table must be 256 characters long");
<a name='L1564'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1565'>    <font color='red'>}</font>
<a name='L1566'>
<a name='L1567'>    <b>if</b> (delobj != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1568'>        <b>if</b> (PyBytes_Check(delobj)) <font color='red'>{</font>
<a name='L1569'>            del_table = PyBytes_AS_STRING(delobj);
<a name='L1570'>            dellen = PyBytes_GET_SIZE(delobj);
<a name='L1571'>        <font color='red'>}</font>
<a name='L1572'>        <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(delobj, &amp;del_table, &amp;dellen))
<a name='L1573'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1574'>    <font color='red'>}</font>
<a name='L1575'>    <b>else</b> <font color='red'>{</font>
<a name='L1576'>        del_table = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1577'>        dellen = 0;
<a name='L1578'>    <font color='red'>}</font>
<a name='L1579'>
<a name='L1580'>    inlen = PyBytes_GET_SIZE(input_obj);
<a name='L1581'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>((<b>char</b> *)<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, inlen);
<a name='L1582'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1583'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1584'>    output_start = output = <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1585'>    input = PyBytes_AS_STRING(input_obj);
<a name='L1586'>
<a name='L1587'>    <b>if</b> (dellen == 0 &amp;&amp; table != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1588'>        <i><font color='green'>/* If no deletions are required, use faster code */</font></i>
<a name='L1589'>        <b>for</b> (i = inlen; --i &gt;= 0; ) <font color='red'>{</font>
<a name='L1590'>            c = <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(*input++);
<a name='L1591'>            <b>if</b> (<a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>((*output++ = table[c])) != c)
<a name='L1592'>                changed = 1;
<a name='L1593'>        <font color='red'>}</font>
<a name='L1594'>        <b>if</b> (changed || !PyBytes_CheckExact(input_obj))
<a name='L1595'>            <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1596'>        Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1597'>        Py_INCREF(input_obj);
<a name='L1598'>        <b>return</b> input_obj;
<a name='L1599'>    <font color='red'>}</font>
<a name='L1600'>
<a name='L1601'>    <b>if</b> (table == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1602'>        <b>for</b> (i = 0; i &lt; 256; i++)
<a name='L1603'>            trans_table[i] = <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(i);
<a name='L1604'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1605'>        <b>for</b> (i = 0; i &lt; 256; i++)
<a name='L1606'>            trans_table[i] = <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(table[i]);
<a name='L1607'>    <font color='red'>}</font>
<a name='L1608'>
<a name='L1609'>    <b>for</b> (i = 0; i &lt; dellen; i++)
<a name='L1610'>        trans_table[(<b>int</b>) <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(del_table[i])] = -1;
<a name='L1611'>
<a name='L1612'>    <b>for</b> (i = inlen; --i &gt;= 0; ) <font color='red'>{</font>
<a name='L1613'>        c = <a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(*input++);
<a name='L1614'>        <b>if</b> (trans_table[c] != -1)
<a name='L1615'>            <b>if</b> (<a href='../S/570.html#L144' title='Defined at 144 in Include/Python.h.'>Py_CHARMASK</a>(*output++ = (<b>char</b>)trans_table[c]) == c)
<a name='L1616'>                <b>continue</b>;
<a name='L1617'>        changed = 1;
<a name='L1618'>    <font color='red'>}</font>
<a name='L1619'>    <b>if</b> (!changed &amp;&amp; PyBytes_CheckExact(input_obj)) <font color='red'>{</font>
<a name='L1620'>        Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1621'>        Py_INCREF(input_obj);
<a name='L1622'>        <b>return</b> input_obj;
<a name='L1623'>    <font color='red'>}</font>
<a name='L1624'>    <i><font color='green'>/* Fix the size of the resulting string */</font></i>
<a name='L1625'>    <b>if</b> (inlen &gt; 0)
<a name='L1626'>        <a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, output - output_start);
<a name='L1627'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1628'><font color='red'>}</font>
<a name='L1629'>
<a name='L1630'>
<a name='L1631'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1632'><a href='../S/2779.html#L2458' title='Refered from 2458 in Objects/bytesobject.c.'>bytes_maketrans</a>(PyObject *null, PyObject *args)
<a name='L1633'><font color='red'>{</font>
<a name='L1634'>    <b>return</b> <a href='../S/2778.html#L393' title='Defined at 393 in Objects/bytes_methods.c.'>_Py_bytes_maketrans</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L1635'><font color='red'>}</font>
<a name='L1636'>
<a name='L1637'><i><font color='green'>/* find and count characters and substrings */</font></i>
<a name='L1638'>
<a name='L1639'><font color='darkred'>#define</font> <a href='../R/7808.html' title='Multiple refered from 15 places.'>findchar</a>(target, target_len, c)                         \
<a name='L1640'>  ((<b>char</b> *)memchr((<b>const</b> <b>void</b> *)(target), c, target_len))
<a name='L1641'>
<a name='L1642'><i><font color='green'>/* String ops must return a string.  */</font></i>
<a name='L1643'><i><font color='green'>/* If the object is subclass of string, create a copy */</font></i>
<a name='L1644'>Py_LOCAL(PyBytesObject *)
<a name='L1645'>return_self(PyBytesObject *self)
<a name='L1646'><font color='red'>{</font>
<a name='L1647'>    <b>if</b> (PyBytes_CheckExact(self)) <font color='red'>{</font>
<a name='L1648'>        Py_INCREF(self);
<a name='L1649'>        <b>return</b> self;
<a name='L1650'>    <font color='red'>}</font>
<a name='L1651'>    <b>return</b> (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)<a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(
<a name='L1652'>        PyBytes_AS_STRING(self),
<a name='L1653'>        PyBytes_GET_SIZE(self));
<a name='L1654'><font color='red'>}</font>
<a name='L1655'>
<a name='L1656'>Py_LOCAL_INLINE(<a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a>)
<a name='L1657'>countchar(<b>const</b> <b>char</b> *target, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> target_len, <b>char</b> c, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount)
<a name='L1658'><font color='red'>{</font>
<a name='L1659'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> count=0;
<a name='L1660'>    <b>const</b> <b>char</b> *start=target;
<a name='L1661'>    <b>const</b> <b>char</b> *end=target+target_len;
<a name='L1662'>
<a name='L1663'>    <b>while</b> ( (start=<a href='../D/8607.html' title='Multiple defined in 2 places.'>findchar</a>(start, end-start, c)) != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ) <font color='red'>{</font>
<a name='L1664'>        count++;
<a name='L1665'>        <b>if</b> (count &gt;= maxcount)
<a name='L1666'>            <b>break</b>;
<a name='L1667'>        start += 1;
<a name='L1668'>    <font color='red'>}</font>
<a name='L1669'>    <b>return</b> count;
<a name='L1670'><font color='red'>}</font>
<a name='L1671'>
<a name='L1672'>
<a name='L1673'><i><font color='green'>/* Algorithms for different cases of string replacement */</font></i>
<a name='L1674'>
<a name='L1675'><i><font color='green'>/* len(self)&gt;=1, from="", len(to)&gt;=1, maxcount&gt;=1 */</font></i>
<a name='L1676'>Py_LOCAL(PyBytesObject *)
<a name='L1677'>replace_interleave(PyBytesObject *self,
<a name='L1678'>                   <b>const</b> <b>char</b> *to_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> to_len,
<a name='L1679'>                   <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount)
<a name='L1680'><font color='red'>{</font>
<a name='L1681'>    <b>char</b> *self_s, *result_s;
<a name='L1682'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> self_len, result_len;
<a name='L1683'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> count, i;
<a name='L1684'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1685'>
<a name='L1686'>    self_len = PyBytes_GET_SIZE(self);
<a name='L1687'>
<a name='L1688'>    <i><font color='green'>/* 1 at the end plus 1 after every character;</font></i>
<a name='L1689'><i><font color='green'>       count = min(maxcount, self_len + 1) */</font></i>
<a name='L1690'>    <b>if</b> (maxcount &lt;= self_len)
<a name='L1691'>        count = maxcount;
<a name='L1692'>    <b>else</b>
<a name='L1693'>        <i><font color='green'>/* Can't overflow: self_len + 1 &lt;= maxcount &lt;= PY_SSIZE_T_MAX. */</font></i>
<a name='L1694'>        count = self_len + 1;
<a name='L1695'>
<a name='L1696'>    <i><font color='green'>/* Check for overflow */</font></i>
<a name='L1697'>    <i><font color='green'>/*   result_len = count * to_len + self_len; */</font></i>
<a name='L1698'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(count &gt; 0);
<a name='L1699'>    <b>if</b> (to_len &gt; (<a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - self_len) / count) <font color='red'>{</font>
<a name='L1700'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L1701'>                        "replacement bytes are too long");
<a name='L1702'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1703'>    <font color='red'>}</font>
<a name='L1704'>    result_len = count * to_len + self_len;
<a name='L1705'>
<a name='L1706'>    <b>if</b> (! (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)
<a name='L1707'>                     <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, result_len)) )
<a name='L1708'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1709'>
<a name='L1710'>    self_s = PyBytes_AS_STRING(self);
<a name='L1711'>    result_s = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1712'>
<a name='L1713'>    <i><font color='green'>/* TODO: special case single character, which doesn't need memcpy */</font></i>
<a name='L1714'>
<a name='L1715'>    <i><font color='green'>/* Lay the first one down (guaranteed this will occur) */</font></i>
<a name='L1716'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, to_s, to_len);
<a name='L1717'>    result_s += to_len;
<a name='L1718'>    count -= 1;
<a name='L1719'>
<a name='L1720'>    <b>for</b> (i=0; i&lt;count; i++) <font color='red'>{</font>
<a name='L1721'>        *result_s++ = *self_s++;
<a name='L1722'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, to_s, to_len);
<a name='L1723'>        result_s += to_len;
<a name='L1724'>    <font color='red'>}</font>
<a name='L1725'>
<a name='L1726'>    <i><font color='green'>/* Copy the rest of the original string */</font></i>
<a name='L1727'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, self_s, self_len-i);
<a name='L1728'>
<a name='L1729'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1730'><font color='red'>}</font>
<a name='L1731'>
<a name='L1732'><i><font color='green'>/* Special case for deleting a single character */</font></i>
<a name='L1733'><i><font color='green'>/* len(self)&gt;=1, len(from)==1, to="", maxcount&gt;=1 */</font></i>
<a name='L1734'>Py_LOCAL(PyBytesObject *)
<a name='L1735'>replace_delete_single_character(PyBytesObject *self,
<a name='L1736'>                                <b>char</b> from_c, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount)
<a name='L1737'><font color='red'>{</font>
<a name='L1738'>    <b>char</b> *self_s, *result_s;
<a name='L1739'>    <b>char</b> *start, *next, *end;
<a name='L1740'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> self_len, result_len;
<a name='L1741'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> count;
<a name='L1742'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1743'>
<a name='L1744'>    self_len = PyBytes_GET_SIZE(self);
<a name='L1745'>    self_s = PyBytes_AS_STRING(self);
<a name='L1746'>
<a name='L1747'>    count = countchar(self_s, self_len, from_c, maxcount);
<a name='L1748'>    <b>if</b> (count == 0) <font color='red'>{</font>
<a name='L1749'>        <b>return</b> return_self(self);
<a name='L1750'>    <font color='red'>}</font>
<a name='L1751'>
<a name='L1752'>    result_len = self_len - count;  <i><font color='green'>/* from_len == 1 */</font></i>
<a name='L1753'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(result_len&gt;=0);
<a name='L1754'>
<a name='L1755'>    <b>if</b> ( (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)
<a name='L1756'>                    <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, result_len)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1757'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1758'>    result_s = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1759'>
<a name='L1760'>    start = self_s;
<a name='L1761'>    end = self_s + self_len;
<a name='L1762'>    <b>while</b> (count-- &gt; 0) <font color='red'>{</font>
<a name='L1763'>        next = <a href='../D/8607.html' title='Multiple defined in 2 places.'>findchar</a>(start, end-start, from_c);
<a name='L1764'>        <b>if</b> (next == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1765'>            <b>break</b>;
<a name='L1766'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, start, next-start);
<a name='L1767'>        result_s += (next-start);
<a name='L1768'>        start = next+1;
<a name='L1769'>    <font color='red'>}</font>
<a name='L1770'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, start, end-start);
<a name='L1771'>
<a name='L1772'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1773'><font color='red'>}</font>
<a name='L1774'>
<a name='L1775'><i><font color='green'>/* len(self)&gt;=1, len(from)&gt;=2, to="", maxcount&gt;=1 */</font></i>
<a name='L1776'>
<a name='L1777'>Py_LOCAL(PyBytesObject *)
<a name='L1778'>replace_delete_substring(PyBytesObject *self,
<a name='L1779'>                         <b>const</b> <b>char</b> *from_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> from_len,
<a name='L1780'>                         <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount) <font color='red'>{</font>
<a name='L1781'>    <b>char</b> *self_s, *result_s;
<a name='L1782'>    <b>char</b> *start, *next, *end;
<a name='L1783'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> self_len, result_len;
<a name='L1784'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> count, offset;
<a name='L1785'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1786'>
<a name='L1787'>    self_len = PyBytes_GET_SIZE(self);
<a name='L1788'>    self_s = PyBytes_AS_STRING(self);
<a name='L1789'>
<a name='L1790'>    count = stringlib_count(self_s, self_len,
<a name='L1791'>                            from_s, from_len,
<a name='L1792'>                            maxcount);
<a name='L1793'>
<a name='L1794'>    <b>if</b> (count == 0) <font color='red'>{</font>
<a name='L1795'>        <i><font color='green'>/* no matches */</font></i>
<a name='L1796'>        <b>return</b> return_self(self);
<a name='L1797'>    <font color='red'>}</font>
<a name='L1798'>
<a name='L1799'>    result_len = self_len - (count * from_len);
<a name='L1800'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a> (result_len&gt;=0);
<a name='L1801'>
<a name='L1802'>    <b>if</b> ( (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)
<a name='L1803'>          <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, result_len)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> )
<a name='L1804'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1805'>
<a name='L1806'>    result_s = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1807'>
<a name='L1808'>    start = self_s;
<a name='L1809'>    end = self_s + self_len;
<a name='L1810'>    <b>while</b> (count-- &gt; 0) <font color='red'>{</font>
<a name='L1811'>        offset = stringlib_find(start, end-start,
<a name='L1812'>                                from_s, from_len,
<a name='L1813'>                                0);
<a name='L1814'>        <b>if</b> (offset == -1)
<a name='L1815'>            <b>break</b>;
<a name='L1816'>        next = start + offset;
<a name='L1817'>
<a name='L1818'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, start, next-start);
<a name='L1819'>
<a name='L1820'>        result_s += (next-start);
<a name='L1821'>        start = next+from_len;
<a name='L1822'>    <font color='red'>}</font>
<a name='L1823'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, start, end-start);
<a name='L1824'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1825'><font color='red'>}</font>
<a name='L1826'>
<a name='L1827'><i><font color='green'>/* len(self)&gt;=1, len(from)==len(to)==1, maxcount&gt;=1 */</font></i>
<a name='L1828'>Py_LOCAL(PyBytesObject *)
<a name='L1829'>replace_single_character_in_place(PyBytesObject *self,
<a name='L1830'>                                  <b>char</b> from_c, <b>char</b> to_c,
<a name='L1831'>                                  <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount)
<a name='L1832'><font color='red'>{</font>
<a name='L1833'>    <b>char</b> *self_s, *result_s, *start, *end, *next;
<a name='L1834'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> self_len;
<a name='L1835'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1836'>
<a name='L1837'>    <i><font color='green'>/* The result string will be the same size */</font></i>
<a name='L1838'>    self_s = PyBytes_AS_STRING(self);
<a name='L1839'>    self_len = PyBytes_GET_SIZE(self);
<a name='L1840'>
<a name='L1841'>    next = <a href='../D/8607.html' title='Multiple defined in 2 places.'>findchar</a>(self_s, self_len, from_c);
<a name='L1842'>
<a name='L1843'>    <b>if</b> (next == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1844'>        <i><font color='green'>/* No matches; return the original string */</font></i>
<a name='L1845'>        <b>return</b> return_self(self);
<a name='L1846'>    <font color='red'>}</font>
<a name='L1847'>
<a name='L1848'>    <i><font color='green'>/* Need to make a new string */</font></i>
<a name='L1849'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *) <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, self_len);
<a name='L1850'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1851'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1852'>    result_s = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1853'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, self_s, self_len);
<a name='L1854'>
<a name='L1855'>    <i><font color='green'>/* change everything in-place, starting with this one */</font></i>
<a name='L1856'>    start =  result_s + (next-self_s);
<a name='L1857'>    *start = to_c;
<a name='L1858'>    start++;
<a name='L1859'>    end = result_s + self_len;
<a name='L1860'>
<a name='L1861'>    <b>while</b> (--maxcount &gt; 0) <font color='red'>{</font>
<a name='L1862'>        next = <a href='../D/8607.html' title='Multiple defined in 2 places.'>findchar</a>(start, end-start, from_c);
<a name='L1863'>        <b>if</b> (next == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1864'>            <b>break</b>;
<a name='L1865'>        *next = to_c;
<a name='L1866'>        start = next+1;
<a name='L1867'>    <font color='red'>}</font>
<a name='L1868'>
<a name='L1869'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1870'><font color='red'>}</font>
<a name='L1871'>
<a name='L1872'><i><font color='green'>/* len(self)&gt;=1, len(from)==len(to)&gt;=2, maxcount&gt;=1 */</font></i>
<a name='L1873'>Py_LOCAL(PyBytesObject *)
<a name='L1874'>replace_substring_in_place(PyBytesObject *self,
<a name='L1875'>                           <b>const</b> <b>char</b> *from_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> from_len,
<a name='L1876'>                           <b>const</b> <b>char</b> *to_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> to_len,
<a name='L1877'>                           <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount)
<a name='L1878'><font color='red'>{</font>
<a name='L1879'>    <b>char</b> *result_s, *start, *end;
<a name='L1880'>    <b>char</b> *self_s;
<a name='L1881'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> self_len, offset;
<a name='L1882'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1883'>
<a name='L1884'>    <i><font color='green'>/* The result string will be the same size */</font></i>
<a name='L1885'>
<a name='L1886'>    self_s = PyBytes_AS_STRING(self);
<a name='L1887'>    self_len = PyBytes_GET_SIZE(self);
<a name='L1888'>
<a name='L1889'>    offset = stringlib_find(self_s, self_len,
<a name='L1890'>                            from_s, from_len,
<a name='L1891'>                            0);
<a name='L1892'>    <b>if</b> (offset == -1) <font color='red'>{</font>
<a name='L1893'>        <i><font color='green'>/* No matches; return the original string */</font></i>
<a name='L1894'>        <b>return</b> return_self(self);
<a name='L1895'>    <font color='red'>}</font>
<a name='L1896'>
<a name='L1897'>    <i><font color='green'>/* Need to make a new string */</font></i>
<a name='L1898'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *) <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, self_len);
<a name='L1899'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1900'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1901'>    result_s = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1902'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, self_s, self_len);
<a name='L1903'>
<a name='L1904'>    <i><font color='green'>/* change everything in-place, starting with this one */</font></i>
<a name='L1905'>    start =  result_s + offset;
<a name='L1906'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(start, to_s, from_len);
<a name='L1907'>    start += from_len;
<a name='L1908'>    end = result_s + self_len;
<a name='L1909'>
<a name='L1910'>    <b>while</b> ( --maxcount &gt; 0) <font color='red'>{</font>
<a name='L1911'>        offset = stringlib_find(start, end-start,
<a name='L1912'>                                from_s, from_len,
<a name='L1913'>                                0);
<a name='L1914'>        <b>if</b> (offset==-1)
<a name='L1915'>            <b>break</b>;
<a name='L1916'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(start+offset, to_s, from_len);
<a name='L1917'>        start += offset+from_len;
<a name='L1918'>    <font color='red'>}</font>
<a name='L1919'>
<a name='L1920'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1921'><font color='red'>}</font>
<a name='L1922'>
<a name='L1923'><i><font color='green'>/* len(self)&gt;=1, len(from)==1, len(to)&gt;=2, maxcount&gt;=1 */</font></i>
<a name='L1924'>Py_LOCAL(PyBytesObject *)
<a name='L1925'>replace_single_character(PyBytesObject *self,
<a name='L1926'>                         <b>char</b> from_c,
<a name='L1927'>                         <b>const</b> <b>char</b> *to_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> to_len,
<a name='L1928'>                         <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount)
<a name='L1929'><font color='red'>{</font>
<a name='L1930'>    <b>char</b> *self_s, *result_s;
<a name='L1931'>    <b>char</b> *start, *next, *end;
<a name='L1932'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> self_len, result_len;
<a name='L1933'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> count;
<a name='L1934'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1935'>
<a name='L1936'>    self_s = PyBytes_AS_STRING(self);
<a name='L1937'>    self_len = PyBytes_GET_SIZE(self);
<a name='L1938'>
<a name='L1939'>    count = countchar(self_s, self_len, from_c, maxcount);
<a name='L1940'>    <b>if</b> (count == 0) <font color='red'>{</font>
<a name='L1941'>        <i><font color='green'>/* no matches, return unchanged */</font></i>
<a name='L1942'>        <b>return</b> return_self(self);
<a name='L1943'>    <font color='red'>}</font>
<a name='L1944'>
<a name='L1945'>    <i><font color='green'>/* use the difference between current and new, hence the "-1" */</font></i>
<a name='L1946'>    <i><font color='green'>/*   result_len = self_len + count * (to_len-1)  */</font></i>
<a name='L1947'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(count &gt; 0);
<a name='L1948'>    <b>if</b> (to_len - 1 &gt; (<a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - self_len) / count) <font color='red'>{</font>
<a name='L1949'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L1950'>                        "replacement bytes are too long");
<a name='L1951'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1952'>    <font color='red'>}</font>
<a name='L1953'>    result_len = self_len + count * (to_len - 1);
<a name='L1954'>
<a name='L1955'>    <b>if</b> ( (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)
<a name='L1956'>          <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, result_len)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1957'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1958'>    result_s = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1959'>
<a name='L1960'>    start = self_s;
<a name='L1961'>    end = self_s + self_len;
<a name='L1962'>    <b>while</b> (count-- &gt; 0) <font color='red'>{</font>
<a name='L1963'>        next = <a href='../D/8607.html' title='Multiple defined in 2 places.'>findchar</a>(start, end-start, from_c);
<a name='L1964'>        <b>if</b> (next == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1965'>            <b>break</b>;
<a name='L1966'>
<a name='L1967'>        <b>if</b> (next == start) <font color='red'>{</font>
<a name='L1968'>            <i><font color='green'>/* replace with the 'to' */</font></i>
<a name='L1969'>            <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, to_s, to_len);
<a name='L1970'>            result_s += to_len;
<a name='L1971'>            start += 1;
<a name='L1972'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1973'>            <i><font color='green'>/* copy the unchanged old then the 'to' */</font></i>
<a name='L1974'>            <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, start, next-start);
<a name='L1975'>            result_s += (next-start);
<a name='L1976'>            <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, to_s, to_len);
<a name='L1977'>            result_s += to_len;
<a name='L1978'>            start = next+1;
<a name='L1979'>        <font color='red'>}</font>
<a name='L1980'>    <font color='red'>}</font>
<a name='L1981'>    <i><font color='green'>/* Copy the remainder of the remaining string */</font></i>
<a name='L1982'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, start, end-start);
<a name='L1983'>
<a name='L1984'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1985'><font color='red'>}</font>
<a name='L1986'>
<a name='L1987'><i><font color='green'>/* len(self)&gt;=1, len(from)&gt;=2, len(to)&gt;=2, maxcount&gt;=1 */</font></i>
<a name='L1988'>Py_LOCAL(PyBytesObject *)
<a name='L1989'>replace_substring(PyBytesObject *self,
<a name='L1990'>                  <b>const</b> <b>char</b> *from_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> from_len,
<a name='L1991'>                  <b>const</b> <b>char</b> *to_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> to_len,
<a name='L1992'>                  <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount) <font color='red'>{</font>
<a name='L1993'>    <b>char</b> *self_s, *result_s;
<a name='L1994'>    <b>char</b> *start, *next, *end;
<a name='L1995'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> self_len, result_len;
<a name='L1996'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> count, offset;
<a name='L1997'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1998'>
<a name='L1999'>    self_s = PyBytes_AS_STRING(self);
<a name='L2000'>    self_len = PyBytes_GET_SIZE(self);
<a name='L2001'>
<a name='L2002'>    count = stringlib_count(self_s, self_len,
<a name='L2003'>                            from_s, from_len,
<a name='L2004'>                            maxcount);
<a name='L2005'>
<a name='L2006'>    <b>if</b> (count == 0) <font color='red'>{</font>
<a name='L2007'>        <i><font color='green'>/* no matches, return unchanged */</font></i>
<a name='L2008'>        <b>return</b> return_self(self);
<a name='L2009'>    <font color='red'>}</font>
<a name='L2010'>
<a name='L2011'>    <i><font color='green'>/* Check for overflow */</font></i>
<a name='L2012'>    <i><font color='green'>/*    result_len = self_len + count * (to_len-from_len) */</font></i>
<a name='L2013'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(count &gt; 0);
<a name='L2014'>    <b>if</b> (to_len - from_len &gt; (<a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a> - self_len) / count) <font color='red'>{</font>
<a name='L2015'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L2016'>                        "replacement bytes are too long");
<a name='L2017'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2018'>    <font color='red'>}</font>
<a name='L2019'>    result_len = self_len + count * (to_len-from_len);
<a name='L2020'>
<a name='L2021'>    <b>if</b> ( (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)
<a name='L2022'>          <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, result_len)) == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2023'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2024'>    result_s = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2025'>
<a name='L2026'>    start = self_s;
<a name='L2027'>    end = self_s + self_len;
<a name='L2028'>    <b>while</b> (count-- &gt; 0) <font color='red'>{</font>
<a name='L2029'>        offset = stringlib_find(start, end-start,
<a name='L2030'>                                from_s, from_len,
<a name='L2031'>                                0);
<a name='L2032'>        <b>if</b> (offset == -1)
<a name='L2033'>            <b>break</b>;
<a name='L2034'>        next = start+offset;
<a name='L2035'>        <b>if</b> (next == start) <font color='red'>{</font>
<a name='L2036'>            <i><font color='green'>/* replace with the 'to' */</font></i>
<a name='L2037'>            <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, to_s, to_len);
<a name='L2038'>            result_s += to_len;
<a name='L2039'>            start += from_len;
<a name='L2040'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2041'>            <i><font color='green'>/* copy the unchanged old then the 'to' */</font></i>
<a name='L2042'>            <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, start, next-start);
<a name='L2043'>            result_s += (next-start);
<a name='L2044'>            <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, to_s, to_len);
<a name='L2045'>            result_s += to_len;
<a name='L2046'>            start = next+from_len;
<a name='L2047'>        <font color='red'>}</font>
<a name='L2048'>    <font color='red'>}</font>
<a name='L2049'>    <i><font color='green'>/* Copy the remainder of the remaining string */</font></i>
<a name='L2050'>    <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(result_s, start, end-start);
<a name='L2051'>
<a name='L2052'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2053'><font color='red'>}</font>
<a name='L2054'>
<a name='L2055'>
<a name='L2056'>Py_LOCAL(PyBytesObject *)
<a name='L2057'>replace(PyBytesObject *self,
<a name='L2058'>    <b>const</b> <b>char</b> *from_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> from_len,
<a name='L2059'>    <b>const</b> <b>char</b> *to_s, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> to_len,
<a name='L2060'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> maxcount)
<a name='L2061'><font color='red'>{</font>
<a name='L2062'>    <b>if</b> (maxcount &lt; 0) <font color='red'>{</font>
<a name='L2063'>        maxcount = <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>;
<a name='L2064'>    <font color='red'>}</font> <b>else</b> <b>if</b> (maxcount == 0 || PyBytes_GET_SIZE(self) == 0) <font color='red'>{</font>
<a name='L2065'>        <i><font color='green'>/* nothing to do; return the original string */</font></i>
<a name='L2066'>        <b>return</b> return_self(self);
<a name='L2067'>    <font color='red'>}</font>
<a name='L2068'>
<a name='L2069'>    <b>if</b> (maxcount == 0 ||
<a name='L2070'>        (from_len == 0 &amp;&amp; to_len == 0)) <font color='red'>{</font>
<a name='L2071'>        <i><font color='green'>/* nothing to do; return the original string */</font></i>
<a name='L2072'>        <b>return</b> return_self(self);
<a name='L2073'>    <font color='red'>}</font>
<a name='L2074'>
<a name='L2075'>    <i><font color='green'>/* Handle zero-length special cases */</font></i>
<a name='L2076'>
<a name='L2077'>    <b>if</b> (from_len == 0) <font color='red'>{</font>
<a name='L2078'>        <i><font color='green'>/* insert the 'to' string everywhere.   */</font></i>
<a name='L2079'>        <i><font color='green'>/*    &gt;&gt;&gt; "Python".replace("", ".")     */</font></i>
<a name='L2080'>        <i><font color='green'>/*    '.P.y.t.h.o.n.'                   */</font></i>
<a name='L2081'>        <b>return</b> replace_interleave(self, to_s, to_len, maxcount);
<a name='L2082'>    <font color='red'>}</font>
<a name='L2083'>
<a name='L2084'>    <i><font color='green'>/* Except for "".replace("", "A") == "A" there is no way beyond this */</font></i>
<a name='L2085'>    <i><font color='green'>/* point for an empty self string to generate a non-empty string */</font></i>
<a name='L2086'>    <i><font color='green'>/* Special case so the remaining code always gets a non-empty string */</font></i>
<a name='L2087'>    <b>if</b> (PyBytes_GET_SIZE(self) == 0) <font color='red'>{</font>
<a name='L2088'>        <b>return</b> return_self(self);
<a name='L2089'>    <font color='red'>}</font>
<a name='L2090'>
<a name='L2091'>    <b>if</b> (to_len == 0) <font color='red'>{</font>
<a name='L2092'>        <i><font color='green'>/* delete all occurrences of 'from' string */</font></i>
<a name='L2093'>        <b>if</b> (from_len == 1) <font color='red'>{</font>
<a name='L2094'>            <b>return</b> replace_delete_single_character(
<a name='L2095'>                self, from_s[0], maxcount);
<a name='L2096'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2097'>            <b>return</b> replace_delete_substring(self, from_s,
<a name='L2098'>                                            from_len, maxcount);
<a name='L2099'>        <font color='red'>}</font>
<a name='L2100'>    <font color='red'>}</font>
<a name='L2101'>
<a name='L2102'>    <i><font color='green'>/* Handle special case where both strings have the same length */</font></i>
<a name='L2103'>
<a name='L2104'>    <b>if</b> (from_len == to_len) <font color='red'>{</font>
<a name='L2105'>        <b>if</b> (from_len == 1) <font color='red'>{</font>
<a name='L2106'>            <b>return</b> replace_single_character_in_place(
<a name='L2107'>                self,
<a name='L2108'>                from_s[0],
<a name='L2109'>                to_s[0],
<a name='L2110'>                maxcount);
<a name='L2111'>        <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2112'>            <b>return</b> replace_substring_in_place(
<a name='L2113'>                self, from_s, from_len, to_s, to_len,
<a name='L2114'>                maxcount);
<a name='L2115'>        <font color='red'>}</font>
<a name='L2116'>    <font color='red'>}</font>
<a name='L2117'>
<a name='L2118'>    <i><font color='green'>/* Otherwise use the more generic algorithms */</font></i>
<a name='L2119'>    <b>if</b> (from_len == 1) <font color='red'>{</font>
<a name='L2120'>        <b>return</b> replace_single_character(self, from_s[0],
<a name='L2121'>                                        to_s, to_len, maxcount);
<a name='L2122'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2123'>        <i><font color='green'>/* len('from')&gt;=2, len('to')&gt;=1 */</font></i>
<a name='L2124'>        <b>return</b> replace_substring(self, from_s, from_len, to_s, to_len,
<a name='L2125'>                                 maxcount);
<a name='L2126'>    <font color='red'>}</font>
<a name='L2127'><font color='red'>}</font>
<a name='L2128'>
<a name='L2129'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(replace__doc__,
<a name='L2130'>"B.replace(old, new[, count]) -&gt; bytes\n\
<a name='L2131'>\n\
<a name='L2132'>Return a copy of B with all occurrences of subsection\n\
<a name='L2133'>old replaced by new.  If the optional argument count is\n\
<a name='L2134'>given, only first count occurances are replaced.");
<a name='L2135'>
<a name='L2136'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2137'><a href='../S/2779.html#L2461' title='Refered from 2461 in Objects/bytesobject.c.'>bytes_replace</a>(PyBytesObject *self, PyObject *args)
<a name='L2138'><font color='red'>{</font>
<a name='L2139'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> count = -1;
<a name='L2140'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *from, *to;
<a name='L2141'>    <b>const</b> <b>char</b> *from_s, *to_s;
<a name='L2142'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> from_len, to_len;
<a name='L2143'>
<a name='L2144'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "OO|n:replace", &amp;from, &amp;to, &amp;count))
<a name='L2145'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2146'>
<a name='L2147'>    <b>if</b> (PyBytes_Check(from)) <font color='red'>{</font>
<a name='L2148'>        from_s = PyBytes_AS_STRING(from);
<a name='L2149'>        from_len = PyBytes_GET_SIZE(from);
<a name='L2150'>    <font color='red'>}</font>
<a name='L2151'>    <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(from, &amp;from_s, &amp;from_len))
<a name='L2152'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2153'>
<a name='L2154'>    <b>if</b> (PyBytes_Check(to)) <font color='red'>{</font>
<a name='L2155'>        to_s = PyBytes_AS_STRING(to);
<a name='L2156'>        to_len = PyBytes_GET_SIZE(to);
<a name='L2157'>    <font color='red'>}</font>
<a name='L2158'>    <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(to, &amp;to_s, &amp;to_len))
<a name='L2159'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2160'>
<a name='L2161'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)<a href='../S/2828.html#L6871' title='Defined at 6871 in Objects/unicodeobject.c.'>replace</a>((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *) self,
<a name='L2162'>                               from_s, from_len,
<a name='L2163'>                               to_s, to_len, count);
<a name='L2164'><font color='red'>}</font>
<a name='L2165'>
<a name='L2166'><i><font color='green'>/** End DALKE **/</font></i>
<a name='L2167'>
<a name='L2168'><i><font color='green'>/* Matches the end (direction &gt;= 0) or start (direction &lt; 0) of self</font></i>
<a name='L2169'><i><font color='green'> * against substr, using the start and end arguments. Returns</font></i>
<a name='L2170'><i><font color='green'> * -1 on error, 0 if not found and 1 if found.</font></i>
<a name='L2171'><i><font color='green'> */</font></i>
<a name='L2172'>Py_LOCAL(<b>int</b>)
<a name='L2173'>_bytes_tailmatch(PyBytesObject *self, PyObject *substr, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start,
<a name='L2174'>                  <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> end, <b>int</b> direction)
<a name='L2175'><font color='red'>{</font>
<a name='L2176'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len = PyBytes_GET_SIZE(self);
<a name='L2177'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> slen;
<a name='L2178'>    <b>const</b> <b>char</b>* sub;
<a name='L2179'>    <b>const</b> <b>char</b>* str;
<a name='L2180'>
<a name='L2181'>    <b>if</b> (PyBytes_Check(substr)) <font color='red'>{</font>
<a name='L2182'>        sub = PyBytes_AS_STRING(substr);
<a name='L2183'>        slen = PyBytes_GET_SIZE(substr);
<a name='L2184'>    <font color='red'>}</font>
<a name='L2185'>    <b>else</b> <b>if</b> (<a href='../S/2775.html#L226' title='Defined at 226 in Objects/abstract.c.'>PyObject_AsCharBuffer</a>(substr, &amp;sub, &amp;slen))
<a name='L2186'>        <b>return</b> -1;
<a name='L2187'>    str = PyBytes_AS_STRING(self);
<a name='L2188'>
<a name='L2189'>    <a href='../D/42.html' title='Multiple defined in 4 places.'>ADJUST_INDICES</a>(start, end, len);
<a name='L2190'>
<a name='L2191'>    <b>if</b> (direction &lt; 0) <font color='red'>{</font>
<a name='L2192'>        <i><font color='green'>/* startswith */</font></i>
<a name='L2193'>        <b>if</b> (start+slen &gt; len)
<a name='L2194'>            <b>return</b> 0;
<a name='L2195'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2196'>        <i><font color='green'>/* endswith */</font></i>
<a name='L2197'>        <b>if</b> (end-start &lt; slen || start &gt; len)
<a name='L2198'>            <b>return</b> 0;
<a name='L2199'>
<a name='L2200'>        <b>if</b> (end-slen &gt; start)
<a name='L2201'>            start = end - slen;
<a name='L2202'>    <font color='red'>}</font>
<a name='L2203'>    <b>if</b> (end-start &gt;= slen)
<a name='L2204'>        <b>return</b> ! memcmp(str+start, sub, slen);
<a name='L2205'>    <b>return</b> 0;
<a name='L2206'><font color='red'>}</font>
<a name='L2207'>
<a name='L2208'>
<a name='L2209'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(startswith__doc__,
<a name='L2210'>"B.startswith(prefix[, start[, end]]) -&gt; bool\n\
<a name='L2211'>\n\
<a name='L2212'>Return True if B starts with the specified prefix, False otherwise.\n\
<a name='L2213'>With optional start, test B beginning at that position.\n\
<a name='L2214'>With optional end, stop comparing B at that position.\n\
<a name='L2215'>prefix can also be a tuple of bytes to try.");
<a name='L2216'>
<a name='L2217'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2218'><a href='../S/2779.html#L2472' title='Refered from 2472 in Objects/bytesobject.c.'>bytes_startswith</a>(PyBytesObject *self, PyObject *args)
<a name='L2219'><font color='red'>{</font>
<a name='L2220'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start = 0;
<a name='L2221'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> end = <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>;
<a name='L2222'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *subobj;
<a name='L2223'>    <b>int</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2224'>
<a name='L2225'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O&amp;O&amp;:startswith", &amp;subobj,
<a name='L2226'>        <a href='../S/3091.html#L4209' title='Defined at 4209 in Python/ceval.c.'>_PyEval_SliceIndex</a>, &amp;start, <a href='../S/3091.html#L4209' title='Defined at 4209 in Python/ceval.c.'>_PyEval_SliceIndex</a>, &amp;end))
<a name='L2227'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2228'>    <b>if</b> (PyTuple_Check(subobj)) <font color='red'>{</font>
<a name='L2229'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L2230'>        <b>for</b> (i = 0; i &lt; PyTuple_GET_SIZE(subobj); i++) <font color='red'>{</font>
<a name='L2231'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = _bytes_tailmatch(self,
<a name='L2232'>                            PyTuple_GET_ITEM(subobj, i),
<a name='L2233'>                            start, end, -1);
<a name='L2234'>            <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -1)
<a name='L2235'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2236'>            <b>else</b> <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>) <font color='red'>{</font>
<a name='L2237'>                Py_RETURN_TRUE;
<a name='L2238'>            <font color='red'>}</font>
<a name='L2239'>        <font color='red'>}</font>
<a name='L2240'>        Py_RETURN_FALSE;
<a name='L2241'>    <font color='red'>}</font>
<a name='L2242'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = _bytes_tailmatch(self, subobj, start, end, -1);
<a name='L2243'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -1)
<a name='L2244'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2245'>    <b>else</b>
<a name='L2246'>        <b>return</b> <a href='../D/2761.html' title='Multiple defined in 2 places.'>PyBool_FromLong</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2247'><font color='red'>}</font>
<a name='L2248'>
<a name='L2249'>
<a name='L2250'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(endswith__doc__,
<a name='L2251'>"B.endswith(suffix[, start[, end]]) -&gt; bool\n\
<a name='L2252'>\n\
<a name='L2253'>Return True if B ends with the specified suffix, False otherwise.\n\
<a name='L2254'>With optional start, test B beginning at that position.\n\
<a name='L2255'>With optional end, stop comparing B at that position.\n\
<a name='L2256'>suffix can also be a tuple of bytes to try.");
<a name='L2257'>
<a name='L2258'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2259'><a href='../S/2779.html#L2432' title='Refered from 2432 in Objects/bytesobject.c.'>bytes_endswith</a>(PyBytesObject *self, PyObject *args)
<a name='L2260'><font color='red'>{</font>
<a name='L2261'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> start = 0;
<a name='L2262'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> end = <a href='../D/2625.html' title='Multiple defined in 3 places.'>PY_SSIZE_T_MAX</a>;
<a name='L2263'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *subobj;
<a name='L2264'>    <b>int</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2265'>
<a name='L2266'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "O|O&amp;O&amp;:endswith", &amp;subobj,
<a name='L2267'>        <a href='../S/3091.html#L4209' title='Defined at 4209 in Python/ceval.c.'>_PyEval_SliceIndex</a>, &amp;start, <a href='../S/3091.html#L4209' title='Defined at 4209 in Python/ceval.c.'>_PyEval_SliceIndex</a>, &amp;end))
<a name='L2268'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2269'>    <b>if</b> (PyTuple_Check(subobj)) <font color='red'>{</font>
<a name='L2270'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L2271'>        <b>for</b> (i = 0; i &lt; PyTuple_GET_SIZE(subobj); i++) <font color='red'>{</font>
<a name='L2272'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = _bytes_tailmatch(self,
<a name='L2273'>                            PyTuple_GET_ITEM(subobj, i),
<a name='L2274'>                            start, end, +1);
<a name='L2275'>            <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -1)
<a name='L2276'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2277'>            <b>else</b> <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>) <font color='red'>{</font>
<a name='L2278'>                Py_RETURN_TRUE;
<a name='L2279'>            <font color='red'>}</font>
<a name='L2280'>        <font color='red'>}</font>
<a name='L2281'>        Py_RETURN_FALSE;
<a name='L2282'>    <font color='red'>}</font>
<a name='L2283'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = _bytes_tailmatch(self, subobj, start, end, +1);
<a name='L2284'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == -1)
<a name='L2285'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2286'>    <b>else</b>
<a name='L2287'>        <b>return</b> <a href='../D/2761.html' title='Multiple defined in 2 places.'>PyBool_FromLong</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2288'><font color='red'>}</font>
<a name='L2289'>
<a name='L2290'>
<a name='L2291'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(decode__doc__,
<a name='L2292'>"B.decode(encoding='utf-8', errors='strict') -&gt; str\n\
<a name='L2293'>\n\
<a name='L2294'>Decode B using the codec registered for encoding. Default encoding\n\
<a name='L2295'>is 'utf-8'. errors may be given to set a different error\n\
<a name='L2296'>handling scheme.  Default is 'strict' meaning that encoding errors raise\n\
<a name='L2297'>a UnicodeDecodeError.  Other possible values are 'ignore' and 'replace'\n\
<a name='L2298'>as well as any other name registerd with codecs.register_error that is\n\
<a name='L2299'>able to handle UnicodeDecodeErrors.");
<a name='L2300'>
<a name='L2301'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2302'><a href='../S/2779.html#L2431' title='Refered from 2431 in Objects/bytesobject.c.'>bytes_decode</a>(PyObject *self, PyObject *args, PyObject *kwargs)
<a name='L2303'><font color='red'>{</font>
<a name='L2304'>    <b>const</b> <b>char</b> *<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2305'>    <b>const</b> <b>char</b> *errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2306'>    <b>static</b> <b>char</b> *kwlist[] = <font color='red'>{</font>"encoding", "errors", 0<font color='red'>}</font>;
<a name='L2307'>
<a name='L2308'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwargs, "|ss:decode", kwlist, &amp;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, &amp;errors))
<a name='L2309'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2310'>    <b>if</b> (<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2311'>        <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> = <a href='../D/4018.html' title='Multiple defined in 3 places.'>PyUnicode_GetDefaultEncoding</a>();
<a name='L2312'>    <b>return</b> <a href='../D/4007.html' title='Multiple defined in 3 places.'>PyUnicode_FromEncodedObject</a>(self, <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, errors);
<a name='L2313'><font color='red'>}</font>
<a name='L2314'>
<a name='L2315'>
<a name='L2316'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(splitlines__doc__,
<a name='L2317'>"B.splitlines([keepends]) -&gt; list of lines\n\
<a name='L2318'>\n\
<a name='L2319'>Return a list of the lines in B, breaking at line boundaries.\n\
<a name='L2320'>Line breaks are not included in the resulting list unless keepends\n\
<a name='L2321'>is given and true.");
<a name='L2322'>
<a name='L2323'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L2324'><a href='../S/2779.html#L2470' title='Refered from 2470 in Objects/bytesobject.c.'>bytes_splitlines</a>(PyObject *self, PyObject *args)
<a name='L2325'><font color='red'>{</font>
<a name='L2326'>    <b>int</b> keepends = 0;
<a name='L2327'>
<a name='L2328'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "|i:splitlines", &amp;keepends))
<a name='L2329'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2330'>
<a name='L2331'>    <b>return</b> stringlib_splitlines(
<a name='L2332'>        (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*) self, PyBytes_AS_STRING(self),
<a name='L2333'>        PyBytes_GET_SIZE(self), keepends
<a name='L2334'>        );
<a name='L2335'><font color='red'>}</font>
<a name='L2336'>
<a name='L2337'>
<a name='L2338'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(fromhex_doc,
<a name='L2339'>"bytes.fromhex(string) -&gt; bytes\n\
<a name='L2340'>\n\
<a name='L2341'>Create a bytes object from a string of hexadecimal numbers.\n\
<a name='L2342'>Spaces between two numbers are accepted.\n\
<a name='L2343'>Example: bytes.fromhex('B9 01EF') -&gt; b'\\xb9\\x01\\xef'.");
<a name='L2344'>
<a name='L2345'><b>static</b> <b>int</b>
<a name='L2346'><a href='../R/8272.html' title='Multiple refered from 4 places.'>hex_digit_to_int</a>(Py_UNICODE c)
<a name='L2347'><font color='red'>{</font>
<a name='L2348'>    <b>if</b> (c &gt;= 128)
<a name='L2349'>        <b>return</b> -1;
<a name='L2350'>    <b>if</b> (<a href='../S/556.html#L21' title='Defined at 21 in Include/pyctype.h.'>Py_ISDIGIT</a>(c))
<a name='L2351'>        <b>return</b> c - '0';
<a name='L2352'>    <b>else</b> <font color='red'>{</font>
<a name='L2353'>        <b>if</b> (<a href='../S/556.html#L19' title='Defined at 19 in Include/pyctype.h.'>Py_ISUPPER</a>(c))
<a name='L2354'>            c = <a href='../S/556.html#L29' title='Defined at 29 in Include/pyctype.h.'>Py_TOLOWER</a>(c);
<a name='L2355'>        <b>if</b> (c &gt;= 'a' &amp;&amp; c &lt;= 'f')
<a name='L2356'>            <b>return</b> c - 'a' + 10;
<a name='L2357'>    <font color='red'>}</font>
<a name='L2358'>    <b>return</b> -1;
<a name='L2359'><font color='red'>}</font>
<a name='L2360'>
<a name='L2361'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2362'><a href='../S/2779.html#L2437' title='Refered from 2437 in Objects/bytesobject.c.'>bytes_fromhex</a>(PyObject *cls, PyObject *args)
<a name='L2363'><font color='red'>{</font>
<a name='L2364'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *newstring, *hexobj;
<a name='L2365'>    <b>char</b> *buf;
<a name='L2366'>    <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *hex;
<a name='L2367'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> hexlen, byteslen, i, j;
<a name='L2368'>    <b>int</b> top, bot;
<a name='L2369'>
<a name='L2370'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "U:fromhex", &amp;hexobj))
<a name='L2371'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2372'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyUnicode_Check(hexobj));
<a name='L2373'>    hexlen = <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(hexobj);
<a name='L2374'>    hex = <a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(hexobj);
<a name='L2375'>    byteslen = hexlen/2; <i><font color='green'>/* This overestimates if there are spaces */</font></i>
<a name='L2376'>    newstring = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, byteslen);
<a name='L2377'>    <b>if</b> (!newstring)
<a name='L2378'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2379'>    buf = PyBytes_AS_STRING(newstring);
<a name='L2380'>    <b>for</b> (i = j = 0; i &lt; hexlen; i += 2) <font color='red'>{</font>
<a name='L2381'>        <i><font color='green'>/* skip over spaces in the input */</font></i>
<a name='L2382'>        <b>while</b> (hex[i] == ' ')
<a name='L2383'>            i++;
<a name='L2384'>        <b>if</b> (i &gt;= hexlen)
<a name='L2385'>            <b>break</b>;
<a name='L2386'>        top = <a href='../D/9076.html' title='Multiple defined in 2 places.'>hex_digit_to_int</a>(hex[i]);
<a name='L2387'>        bot = <a href='../D/9076.html' title='Multiple defined in 2 places.'>hex_digit_to_int</a>(hex[i+1]);
<a name='L2388'>        <b>if</b> (top == -1 || bot == -1) <font color='red'>{</font>
<a name='L2389'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError,
<a name='L2390'>                         "non-hexadecimal number found in "
<a name='L2391'>                         "fromhex() arg at position %zd", i);
<a name='L2392'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2393'>        <font color='red'>}</font>
<a name='L2394'>        buf[j++] = (top &lt;&lt; 4) + bot;
<a name='L2395'>    <font color='red'>}</font>
<a name='L2396'>    <b>if</b> (j != byteslen &amp;&amp; <a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;newstring, j) &lt; 0)
<a name='L2397'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2398'>    <b>return</b> newstring;
<a name='L2399'>
<a name='L2400'>  <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L2401'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(newstring);
<a name='L2402'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2403'><font color='red'>}</font>
<a name='L2404'>
<a name='L2405'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(sizeof__doc__,
<a name='L2406'>"B.__sizeof__() -&gt; size of B in memory, in bytes");
<a name='L2407'>
<a name='L2408'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2409'><a href='../S/2779.html#L2482' title='Refered from 2482 in Objects/bytesobject.c.'>bytes_sizeof</a>(PyBytesObject *v)
<a name='L2410'><font color='red'>{</font>
<a name='L2411'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> res;
<a name='L2412'>    res = <a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a> + <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(v) * <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(v)-&gt;tp_itemsize;
<a name='L2413'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(res);
<a name='L2414'><font color='red'>}</font>
<a name='L2415'>
<a name='L2416'>
<a name='L2417'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2418'><a href='../S/2779.html#L2426' title='Refered from 2426 in Objects/bytesobject.c.'>bytes_getnewargs</a>(PyBytesObject *v)
<a name='L2419'><font color='red'>{</font>
<a name='L2420'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(y#)", v-&gt;ob_sval, <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(v));
<a name='L2421'><font color='red'>}</font>
<a name='L2422'>
<a name='L2423'>
<a name='L2424'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a>
<a name='L2425'>bytes_methods[] = <font color='red'>{</font>
<a name='L2426'>    <font color='red'>{</font>"__getnewargs__",          (PyCFunction)<a href='../S/2779.html#L2418' title='Defined at 2418 in Objects/bytesobject.c.'>bytes_getnewargs</a>,  <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a><font color='red'>}</font>,
<a name='L2427'>    <font color='red'>{</font>"capitalize", (PyCFunction)<a href='../S/2809.html#L88' title='Defined at 88 in Objects/stringlib/ctype.h.'>stringlib_capitalize</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2428'>     _Py_capitalize__doc__<font color='red'>}</font>,
<a name='L2429'>    <font color='red'>{</font>"center", (PyCFunction)<a href='../S/2820.html#L188' title='Defined at 188 in Objects/stringlib/transmogrify.h.'>stringlib_center</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, center__doc__<font color='red'>}</font>,
<a name='L2430'>    <font color='red'>{</font>"count", (PyCFunction)<a href='../S/2779.html#L1499' title='Defined at 1499 in Objects/bytesobject.c.'>bytes_count</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, count__doc__<font color='red'>}</font>,
<a name='L2431'>    <font color='red'>{</font>"decode", (PyCFunction)<a href='../S/2779.html#L2302' title='Defined at 2302 in Objects/bytesobject.c.'>bytes_decode</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS, decode__doc__<font color='red'>}</font>,
<a name='L2432'>    <font color='red'>{</font>"endswith", (PyCFunction)<a href='../S/2779.html#L2259' title='Defined at 2259 in Objects/bytesobject.c.'>bytes_endswith</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L2433'>     endswith__doc__<font color='red'>}</font>,
<a name='L2434'>    <font color='red'>{</font>"expandtabs", (PyCFunction)<a href='../S/2820.html#L14' title='Defined at 14 in Objects/stringlib/transmogrify.h.'>stringlib_expandtabs</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L2435'>     expandtabs__doc__<font color='red'>}</font>,
<a name='L2436'>    <font color='red'>{</font>"find", (PyCFunction)<a href='../S/2779.html#L1292' title='Defined at 1292 in Objects/bytesobject.c.'>bytes_find</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, find__doc__<font color='red'>}</font>,
<a name='L2437'>    <font color='red'>{</font>"fromhex", (PyCFunction)<a href='../S/2779.html#L2362' title='Defined at 2362 in Objects/bytesobject.c.'>bytes_fromhex</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>|METH_CLASS,
<a name='L2438'>     fromhex_doc<font color='red'>}</font>,
<a name='L2439'>    <font color='red'>{</font>"index", (PyCFunction)<a href='../S/2779.html#L1307' title='Defined at 1307 in Objects/bytesobject.c.'>bytes_index</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, index__doc__<font color='red'>}</font>,
<a name='L2440'>    <font color='red'>{</font>"isalnum", (PyCFunction)<a href='../S/2809.html#L19' title='Defined at 19 in Objects/stringlib/ctype.h.'>stringlib_isalnum</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2441'>     _Py_isalnum__doc__<font color='red'>}</font>,
<a name='L2442'>    <font color='red'>{</font>"isalpha", (PyCFunction)<a href='../S/2809.html#L13' title='Defined at 13 in Objects/stringlib/ctype.h.'>stringlib_isalpha</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2443'>     _Py_isalpha__doc__<font color='red'>}</font>,
<a name='L2444'>    <font color='red'>{</font>"isdigit", (PyCFunction)<a href='../S/2809.html#L25' title='Defined at 25 in Objects/stringlib/ctype.h.'>stringlib_isdigit</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2445'>     _Py_isdigit__doc__<font color='red'>}</font>,
<a name='L2446'>    <font color='red'>{</font>"islower", (PyCFunction)<a href='../S/2809.html#L31' title='Defined at 31 in Objects/stringlib/ctype.h.'>stringlib_islower</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2447'>     _Py_islower__doc__<font color='red'>}</font>,
<a name='L2448'>    <font color='red'>{</font>"isspace", (PyCFunction)<a href='../S/2809.html#L7' title='Defined at 7 in Objects/stringlib/ctype.h.'>stringlib_isspace</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2449'>     _Py_isspace__doc__<font color='red'>}</font>,
<a name='L2450'>    <font color='red'>{</font>"istitle", (PyCFunction)<a href='../S/2809.html#L43' title='Defined at 43 in Objects/stringlib/ctype.h.'>stringlib_istitle</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2451'>     _Py_istitle__doc__<font color='red'>}</font>,
<a name='L2452'>    <font color='red'>{</font>"isupper", (PyCFunction)<a href='../S/2809.html#L37' title='Defined at 37 in Objects/stringlib/ctype.h.'>stringlib_isupper</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2453'>     _Py_isupper__doc__<font color='red'>}</font>,
<a name='L2454'>    <font color='red'>{</font>"join", (PyCFunction)<a href='../S/2779.html#L1127' title='Defined at 1127 in Objects/bytesobject.c.'>bytes_join</a>, METH_O, join__doc__<font color='red'>}</font>,
<a name='L2455'>    <font color='red'>{</font>"ljust", (PyCFunction)<a href='../S/2820.html#L128' title='Defined at 128 in Objects/stringlib/transmogrify.h.'>stringlib_ljust</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, ljust__doc__<font color='red'>}</font>,
<a name='L2456'>    <font color='red'>{</font>"lower", (PyCFunction)<a href='../S/2809.html#L52' title='Defined at 52 in Objects/stringlib/ctype.h.'>stringlib_lower</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, _Py_lower__doc__<font color='red'>}</font>,
<a name='L2457'>    <font color='red'>{</font>"lstrip", (PyCFunction)<a href='../S/2779.html#L1467' title='Defined at 1467 in Objects/bytesobject.c.'>bytes_lstrip</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, lstrip__doc__<font color='red'>}</font>,
<a name='L2458'>    <font color='red'>{</font>"maketrans", (PyCFunction)<a href='../S/2779.html#L1632' title='Defined at 1632 in Objects/bytesobject.c.'>bytes_maketrans</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>|METH_STATIC,
<a name='L2459'>     _Py_maketrans__doc__<font color='red'>}</font>,
<a name='L2460'>    <font color='red'>{</font>"partition", (PyCFunction)<a href='../S/2779.html#L1037' title='Defined at 1037 in Objects/bytesobject.c.'>bytes_partition</a>, METH_O, partition__doc__<font color='red'>}</font>,
<a name='L2461'>    <font color='red'>{</font>"replace", (PyCFunction)<a href='../S/2779.html#L2137' title='Defined at 2137 in Objects/bytesobject.c.'>bytes_replace</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, replace__doc__<font color='red'>}</font>,
<a name='L2462'>    <font color='red'>{</font>"rfind", (PyCFunction)<a href='../S/2779.html#L1331' title='Defined at 1331 in Objects/bytesobject.c.'>bytes_rfind</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, rfind__doc__<font color='red'>}</font>,
<a name='L2463'>    <font color='red'>{</font>"rindex", (PyCFunction)<a href='../S/2779.html#L1346' title='Defined at 1346 in Objects/bytesobject.c.'>bytes_rindex</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, rindex__doc__<font color='red'>}</font>,
<a name='L2464'>    <font color='red'>{</font>"rjust", (PyCFunction)<a href='../S/2820.html#L158' title='Defined at 158 in Objects/stringlib/transmogrify.h.'>stringlib_rjust</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, rjust__doc__<font color='red'>}</font>,
<a name='L2465'>    <font color='red'>{</font>"rpartition", (PyCFunction)<a href='../S/2779.html#L1065' title='Defined at 1065 in Objects/bytesobject.c.'>bytes_rpartition</a>, METH_O,
<a name='L2466'>     rpartition__doc__<font color='red'>}</font>,
<a name='L2467'>    <font color='red'>{</font>"rsplit", (PyCFunction)<a href='../S/2779.html#L1095' title='Defined at 1095 in Objects/bytesobject.c.'>bytes_rsplit</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, rsplit__doc__<font color='red'>}</font>,
<a name='L2468'>    <font color='red'>{</font>"rstrip", (PyCFunction)<a href='../S/2779.html#L1482' title='Defined at 1482 in Objects/bytesobject.c.'>bytes_rstrip</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, rstrip__doc__<font color='red'>}</font>,
<a name='L2469'>    <font color='red'>{</font>"split", (PyCFunction)<a href='../S/2779.html#L1005' title='Defined at 1005 in Objects/bytesobject.c.'>bytes_split</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, split__doc__<font color='red'>}</font>,
<a name='L2470'>    <font color='red'>{</font>"splitlines", (PyCFunction)<a href='../S/2779.html#L2324' title='Defined at 2324 in Objects/bytesobject.c.'>bytes_splitlines</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L2471'>     splitlines__doc__<font color='red'>}</font>,
<a name='L2472'>    <font color='red'>{</font>"startswith", (PyCFunction)<a href='../S/2779.html#L2218' title='Defined at 2218 in Objects/bytesobject.c.'>bytes_startswith</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L2473'>     startswith__doc__<font color='red'>}</font>,
<a name='L2474'>    <font color='red'>{</font>"strip", (PyCFunction)<a href='../S/2779.html#L1452' title='Defined at 1452 in Objects/bytesobject.c.'>bytes_strip</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, strip__doc__<font color='red'>}</font>,
<a name='L2475'>    <font color='red'>{</font>"swapcase", (PyCFunction)<a href='../S/2809.html#L100' title='Defined at 100 in Objects/stringlib/ctype.h.'>stringlib_swapcase</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2476'>     _Py_swapcase__doc__<font color='red'>}</font>,
<a name='L2477'>    <font color='red'>{</font>"title", (PyCFunction)<a href='../S/2809.html#L76' title='Defined at 76 in Objects/stringlib/ctype.h.'>stringlib_title</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, _Py_title__doc__<font color='red'>}</font>,
<a name='L2478'>    <font color='red'>{</font>"translate", (PyCFunction)<a href='../S/2779.html#L1534' title='Defined at 1534 in Objects/bytesobject.c.'>bytes_translate</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L2479'>     translate__doc__<font color='red'>}</font>,
<a name='L2480'>    <font color='red'>{</font>"upper", (PyCFunction)<a href='../S/2809.html#L64' title='Defined at 64 in Objects/stringlib/ctype.h.'>stringlib_upper</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>, _Py_upper__doc__<font color='red'>}</font>,
<a name='L2481'>    <font color='red'>{</font>"zfill", (PyCFunction)<a href='../S/2820.html#L221' title='Defined at 221 in Objects/stringlib/transmogrify.h.'>stringlib_zfill</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>, zfill__doc__<font color='red'>}</font>,
<a name='L2482'>    <font color='red'>{</font>"__sizeof__", (PyCFunction)<a href='../S/2779.html#L2409' title='Defined at 2409 in Objects/bytesobject.c.'>bytes_sizeof</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2483'>     sizeof__doc__<font color='red'>}</font>,
<a name='L2484'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,     <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>                         <i><font color='green'>/* sentinel */</font></i>
<a name='L2485'><font color='red'>}</font>;
<a name='L2486'>
<a name='L2487'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2488'><a href='../S/2779.html#L2703' title='Defined at 2703 in Objects/bytesobject.c.'>str_subtype_new</a>(PyTypeObject *type, PyObject *args, PyObject *kwds);
<a name='L2489'>
<a name='L2490'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2491'><a href='../R/6462.html' title='Multiple refered from 2 places.'>bytes_new</a>(PyTypeObject *type, PyObject *args, PyObject *kwds)
<a name='L2492'><font color='red'>{</font>
<a name='L2493'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *x = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2494'>    <b>const</b> <b>char</b> *<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2495'>    <b>const</b> <b>char</b> *errors = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2496'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *new = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2497'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> size;
<a name='L2498'>    <b>static</b> <b>char</b> *kwlist[] = <font color='red'>{</font>"source", "encoding", "errors", 0<font color='red'>}</font>;
<a name='L2499'>
<a name='L2500'>    <b>if</b> (type != &amp;PyBytes_Type)
<a name='L2501'>        <b>return</b> <a href='../S/2779.html#L2703' title='Defined at 2703 in Objects/bytesobject.c.'>str_subtype_new</a>(type, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds);
<a name='L2502'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds, "|Oss:bytes", kwlist, &amp;x,
<a name='L2503'>                                     &amp;<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, &amp;errors))
<a name='L2504'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2505'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2506'>        <b>if</b> (<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || errors != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2507'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L2508'>                            "encoding or errors without sequence "
<a name='L2509'>                            "argument");
<a name='L2510'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2511'>        <font color='red'>}</font>
<a name='L2512'>        <b>return</b> <a href='../S/2779.html#L122' title='Defined at 122 in Objects/bytesobject.c.'>PyBytes_FromString</a>("");
<a name='L2513'>    <font color='red'>}</font>
<a name='L2514'>
<a name='L2515'>    <b>if</b> (PyUnicode_Check(x)) <font color='red'>{</font>
<a name='L2516'>        <i><font color='green'>/* Encode via the codec registry */</font></i>
<a name='L2517'>        <b>if</b> (<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2518'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L2519'>                            "string argument without an encoding");
<a name='L2520'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2521'>        <font color='red'>}</font>
<a name='L2522'>        new = <a href='../D/3952.html' title='Multiple defined in 3 places.'>PyUnicode_AsEncodedString</a>(x, <a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a>, errors);
<a name='L2523'>        <b>if</b> (new == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2524'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2525'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyBytes_Check(new));
<a name='L2526'>        <b>return</b> new;
<a name='L2527'>    <font color='red'>}</font>
<a name='L2528'>    <i><font color='green'>/* Is it an integer? */</font></i>
<a name='L2529'>    size = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(x, PyExc_OverflowError);
<a name='L2530'>    <b>if</b> (size == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L2531'>        <b>if</b> (<a href='../S/3106.html#L189' title='Defined at 189 in Python/errors.c.'>PyErr_ExceptionMatches</a>(PyExc_OverflowError))
<a name='L2532'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2533'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L2534'>    <font color='red'>}</font>
<a name='L2535'>    <b>else</b> <b>if</b> (size &lt; 0) <font color='red'>{</font>
<a name='L2536'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "negative count");
<a name='L2537'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2538'>    <font color='red'>}</font>
<a name='L2539'>    <b>else</b> <font color='red'>{</font>
<a name='L2540'>        new = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, size);
<a name='L2541'>        <b>if</b> (new == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2542'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2543'>        <font color='red'>}</font>
<a name='L2544'>        <b>if</b> (size &gt; 0) <font color='red'>{</font>
<a name='L2545'>            memset(((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a>*)new)-&gt;ob_sval, 0, size);
<a name='L2546'>        <font color='red'>}</font>
<a name='L2547'>        <b>return</b> new;
<a name='L2548'>    <font color='red'>}</font>
<a name='L2549'>
<a name='L2550'>    <i><font color='green'>/* If it's not unicode, there can't be encoding or errors */</font></i>
<a name='L2551'>    <b>if</b> (<a href='../D/8346.html' title='Multiple defined in 2 places.'>encoding</a> != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || errors != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2552'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L2553'>            "encoding or errors without a string argument");
<a name='L2554'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2555'>    <font color='red'>}</font>
<a name='L2556'>    <b>return</b> <a href='../S/2803.html#L463' title='Defined at 463 in Objects/object.c.'>PyObject_Bytes</a>(x);
<a name='L2557'><font color='red'>}</font>
<a name='L2558'>
<a name='L2559'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2560'><a href='../R/2536.html' title='Multiple refered from 3 places.'>PyBytes_FromObject</a>(PyObject *x)
<a name='L2561'><font color='red'>{</font>
<a name='L2562'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *new, *it;
<a name='L2563'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i, size;
<a name='L2564'>
<a name='L2565'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2566'>        <a href='../D/3142.html' title='Multiple defined in 3 places.'>PyErr_BadInternalCall</a>();
<a name='L2567'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2568'>    <font color='red'>}</font>
<a name='L2569'>    <i><font color='green'>/* Use the modern buffer interface */</font></i>
<a name='L2570'>    <b>if</b> (PyObject_CheckBuffer(x)) <font color='red'>{</font>
<a name='L2571'>        <a href='../S/544.html#L163' title='Defined at 163 in Include/object.h.'>Py_buffer</a> view;
<a name='L2572'>        <b>if</b> (<a href='../S/2775.html#L330' title='Defined at 330 in Objects/abstract.c.'>PyObject_GetBuffer</a>(x, &amp;view, <a href='../S/544.html#L191' title='Defined at 191 in Include/object.h.'>PyBUF_FULL_RO</a>) &lt; 0)
<a name='L2573'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2574'>        new = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, view.len);
<a name='L2575'>        <b>if</b> (!new)
<a name='L2576'>            <b>goto</b> fail;
<a name='L2577'>        <i><font color='green'>/* XXX(brett.cannon): Better way to get to internal buffer? */</font></i>
<a name='L2578'>        <b>if</b> (<a href='../S/2775.html#L453' title='Defined at 453 in Objects/abstract.c.'>PyBuffer_ToContiguous</a>(((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)new)-&gt;ob_sval,
<a name='L2579'>                                  &amp;view, view.len, 'C') &lt; 0)
<a name='L2580'>            <b>goto</b> fail;
<a name='L2581'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;view);
<a name='L2582'>        <b>return</b> new;
<a name='L2583'>      fail:
<a name='L2584'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(new);
<a name='L2585'>        <a href='../S/2775.html#L684' title='Defined at 684 in Objects/abstract.c.'>PyBuffer_Release</a>(&amp;view);
<a name='L2586'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2587'>    <font color='red'>}</font>
<a name='L2588'>    <b>if</b> (PyUnicode_Check(x)) <font color='red'>{</font>
<a name='L2589'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L2590'>                        "cannot convert unicode object to bytes");
<a name='L2591'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2592'>    <font color='red'>}</font>
<a name='L2593'>
<a name='L2594'>    <b>if</b> (PyList_CheckExact(x)) <font color='red'>{</font>
<a name='L2595'>        new = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(x));
<a name='L2596'>        <b>if</b> (new == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2597'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2598'>        <b>for</b> (i = 0; i &lt; <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(x); i++) <font color='red'>{</font>
<a name='L2599'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(
<a name='L2600'>                PyList_GET_ITEM(x, i), PyExc_ValueError);
<a name='L2601'>            <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L2602'>                Py_DECREF(new);
<a name='L2603'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2604'>            <font color='red'>}</font>
<a name='L2605'>            <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> &lt; 0 || <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> &gt;= 256) <font color='red'>{</font>
<a name='L2606'>                <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L2607'>                                "bytes must be in range(0, 256)");
<a name='L2608'>                Py_DECREF(new);
<a name='L2609'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2610'>            <font color='red'>}</font>
<a name='L2611'>            ((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)new)-&gt;ob_sval[i] = (<b>char</b>) <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L2612'>        <font color='red'>}</font>
<a name='L2613'>        <b>return</b> new;
<a name='L2614'>    <font color='red'>}</font>
<a name='L2615'>    <b>if</b> (PyTuple_CheckExact(x)) <font color='red'>{</font>
<a name='L2616'>        new = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(x));
<a name='L2617'>        <b>if</b> (new == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2618'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2619'>        <b>for</b> (i = 0; i &lt; <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(x); i++) <font color='red'>{</font>
<a name='L2620'>            <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(
<a name='L2621'>                PyTuple_GET_ITEM(x, i), PyExc_ValueError);
<a name='L2622'>            <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>()) <font color='red'>{</font>
<a name='L2623'>                Py_DECREF(new);
<a name='L2624'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2625'>            <font color='red'>}</font>
<a name='L2626'>            <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> &lt; 0 || <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> &gt;= 256) <font color='red'>{</font>
<a name='L2627'>                <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L2628'>                                "bytes must be in range(0, 256)");
<a name='L2629'>                Py_DECREF(new);
<a name='L2630'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2631'>            <font color='red'>}</font>
<a name='L2632'>            ((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)new)-&gt;ob_sval[i] = (<b>char</b>) <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L2633'>        <font color='red'>}</font>
<a name='L2634'>        <b>return</b> new;
<a name='L2635'>    <font color='red'>}</font>
<a name='L2636'>
<a name='L2637'>    <i><font color='green'>/* For iterator version, create a string object and resize as needed */</font></i>
<a name='L2638'>    size = <a href='../S/2775.html#L75' title='Defined at 75 in Objects/abstract.c.'>_PyObject_LengthHint</a>(x, 64);
<a name='L2639'>    <b>if</b> (size == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L2640'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2641'>    <i><font color='green'>/* Allocate an extra byte to prevent PyBytes_FromStringAndSize() from</font></i>
<a name='L2642'><i><font color='green'>       returning a shared empty bytes string. This required because we</font></i>
<a name='L2643'><i><font color='green'>       want to call _PyBytes_Resize() the returned object, which we can</font></i>
<a name='L2644'><i><font color='green'>       only do on bytes objects with refcount == 1. */</font></i>
<a name='L2645'>    size += 1;
<a name='L2646'>    new = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, size);
<a name='L2647'>    <b>if</b> (new == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2648'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2649'>
<a name='L2650'>    <i><font color='green'>/* Get the iterator */</font></i>
<a name='L2651'>    it = <a href='../S/2775.html#L2668' title='Defined at 2668 in Objects/abstract.c.'>PyObject_GetIter</a>(x);
<a name='L2652'>    <b>if</b> (it == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2653'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2654'>
<a name='L2655'>    <i><font color='green'>/* Run the iterator to exhaustion */</font></i>
<a name='L2656'>    <b>for</b> (i = 0; ; i++) <font color='red'>{</font>
<a name='L2657'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *item;
<a name='L2658'>        <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L2659'>
<a name='L2660'>        <i><font color='green'>/* Get the next item */</font></i>
<a name='L2661'>        item = <a href='../S/2775.html#L2700' title='Defined at 2700 in Objects/abstract.c.'>PyIter_Next</a>(it);
<a name='L2662'>        <b>if</b> (item == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2663'>            <b>if</b> (<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L2664'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2665'>            <b>break</b>;
<a name='L2666'>        <font color='red'>}</font>
<a name='L2667'>
<a name='L2668'>        <i><font color='green'>/* Interpret it as an int (__index__) */</font></i>
<a name='L2669'>        <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> = <a href='../S/2775.html#L1227' title='Defined at 1227 in Objects/abstract.c.'>PyNumber_AsSsize_t</a>(item, PyExc_ValueError);
<a name='L2670'>        Py_DECREF(item);
<a name='L2671'>        <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L2672'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2673'>
<a name='L2674'>        <i><font color='green'>/* Range check */</font></i>
<a name='L2675'>        <b>if</b> (<a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> &lt; 0 || <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a> &gt;= 256) <font color='red'>{</font>
<a name='L2676'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L2677'>                            "bytes must be in range(0, 256)");
<a name='L2678'>            <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2679'>        <font color='red'>}</font>
<a name='L2680'>
<a name='L2681'>        <i><font color='green'>/* Append the byte */</font></i>
<a name='L2682'>        <b>if</b> (i &gt;= size) <font color='red'>{</font>
<a name='L2683'>            size = 2 * size + 1;
<a name='L2684'>            <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;new, size) &lt; 0)
<a name='L2685'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L2686'>        <font color='red'>}</font>
<a name='L2687'>        ((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)new)-&gt;ob_sval[i] = (<b>char</b>) <a href='../S/2252.html#L27' title='Defined at 27 in Modules/_ctypes/ctypes.h.'>value</a>;
<a name='L2688'>    <font color='red'>}</font>
<a name='L2689'>    <a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;new, i);
<a name='L2690'>
<a name='L2691'>    <i><font color='green'>/* Clean up and return success */</font></i>
<a name='L2692'>    Py_DECREF(it);
<a name='L2693'>    <b>return</b> new;
<a name='L2694'>
<a name='L2695'>  <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L2696'>    <i><font color='green'>/* Error handling when new != NULL */</font></i>
<a name='L2697'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(it);
<a name='L2698'>    Py_DECREF(new);
<a name='L2699'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2700'><font color='red'>}</font>
<a name='L2701'>
<a name='L2702'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2703'><a href='../R/10536.html' title='Multiple refered from 2 places.'>str_subtype_new</a>(PyTypeObject *type, PyObject *args, PyObject *kwds)
<a name='L2704'><font color='red'>{</font>
<a name='L2705'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tmp, *pnew;
<a name='L2706'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> n;
<a name='L2707'>
<a name='L2708'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2824.html#L1082' title='Defined at 1082 in Objects/typeobject.c.'>PyType_IsSubtype</a>(type, &amp;PyBytes_Type));
<a name='L2709'>    tmp = <a href='../S/2779.html#L2491' title='Defined at 2491 in Objects/bytesobject.c.'>bytes_new</a>(&amp;PyBytes_Type, <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kwds);
<a name='L2710'>    <b>if</b> (tmp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2711'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2712'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyBytes_CheckExact(tmp));
<a name='L2713'>    n = PyBytes_GET_SIZE(tmp);
<a name='L2714'>    pnew = type-&gt;tp_alloc(type, n);
<a name='L2715'>    <b>if</b> (pnew != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2716'>        <a href='../D/4187.html' title='Multiple defined in 2 places.'>Py_MEMCPY</a>(PyBytes_AS_STRING(pnew),
<a name='L2717'>                  PyBytes_AS_STRING(tmp), n+1);
<a name='L2718'>        ((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)pnew)-&gt;ob_shash =
<a name='L2719'>            ((<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)tmp)-&gt;ob_shash;
<a name='L2720'>    <font color='red'>}</font>
<a name='L2721'>    Py_DECREF(tmp);
<a name='L2722'>    <b>return</b> pnew;
<a name='L2723'><font color='red'>}</font>
<a name='L2724'>
<a name='L2725'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(bytes_doc,
<a name='L2726'>"bytes(iterable_of_ints) -&gt; bytes\n\
<a name='L2727'>bytes(string, encoding[, errors]) -&gt; bytes\n\
<a name='L2728'>bytes(bytes_or_buffer) -&gt; immutable copy of bytes_or_buffer\n\
<a name='L2729'>bytes(memory_view) -&gt; bytes\n\
<a name='L2730'>\n\
<a name='L2731'>Construct an immutable array of bytes from:\n\
<a name='L2732'>  - an iterable yielding integers in range(256)\n\
<a name='L2733'>  - a text string encoded using the specified encoding\n\
<a name='L2734'>  - a bytes or a buffer object\n\
<a name='L2735'>  - any object implementing the buffer API.");
<a name='L2736'>
<a name='L2737'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2779.html#L3106' title='Defined at 3106 in Objects/bytesobject.c.'>bytes_iter</a>(PyObject *seq);
<a name='L2738'>
<a name='L2739'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyBytes_Type = <font color='red'>{</font>
<a name='L2740'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(&amp;PyType_Type, 0)
<a name='L2741'>    "bytes",
<a name='L2742'>    <a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a>,
<a name='L2743'>    <b>sizeof</b>(<b>char</b>),
<a name='L2744'>    <a href='../S/2779.html#L360' title='Defined at 360 in Objects/bytesobject.c.'>bytes_dealloc</a>,                      <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L2745'>    0,                                          <i><font color='green'>/* tp_print */</font></i>
<a name='L2746'>    0,                                          <i><font color='green'>/* tp_getattr */</font></i>
<a name='L2747'>    0,                                          <i><font color='green'>/* tp_setattr */</font></i>
<a name='L2748'>    0,                                          <i><font color='green'>/* tp_reserved */</font></i>
<a name='L2749'>    (reprfunc)<a href='../S/2779.html#L644' title='Defined at 644 in Objects/bytesobject.c.'>bytes_repr</a>,                       <i><font color='green'>/* tp_repr */</font></i>
<a name='L2750'>    0,                                          <i><font color='green'>/* tp_as_number */</font></i>
<a name='L2751'>    &amp;bytes_as_sequence,                         <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L2752'>    &amp;bytes_as_mapping,                          <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L2753'>    (hashfunc)<a href='../S/2779.html#L872' title='Defined at 872 in Objects/bytesobject.c.'>bytes_hash</a>,                       <i><font color='green'>/* tp_hash */</font></i>
<a name='L2754'>    0,                                          <i><font color='green'>/* tp_call */</font></i>
<a name='L2755'>    <a href='../S/2779.html#L650' title='Defined at 650 in Objects/bytesobject.c.'>bytes_str</a>,                                  <i><font color='green'>/* tp_str */</font></i>
<a name='L2756'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,                    <i><font color='green'>/* tp_getattro */</font></i>
<a name='L2757'>    0,                                          <i><font color='green'>/* tp_setattro */</font></i>
<a name='L2758'>    &amp;bytes_as_buffer,                           <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L2759'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE |
<a name='L2760'>        Py_TPFLAGS_BYTES_SUBCLASS,              <i><font color='green'>/* tp_flags */</font></i>
<a name='L2761'>    bytes_doc,                                  <i><font color='green'>/* tp_doc */</font></i>
<a name='L2762'>    0,                                          <i><font color='green'>/* tp_traverse */</font></i>
<a name='L2763'>    0,                                          <i><font color='green'>/* tp_clear */</font></i>
<a name='L2764'>    (richcmpfunc)<a href='../S/2779.html#L801' title='Defined at 801 in Objects/bytesobject.c.'>bytes_richcompare</a>,             <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L2765'>    0,                                          <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L2766'>    <a href='../S/2779.html#L3106' title='Defined at 3106 in Objects/bytesobject.c.'>bytes_iter</a>,                                 <i><font color='green'>/* tp_iter */</font></i>
<a name='L2767'>    0,                                          <i><font color='green'>/* tp_iternext */</font></i>
<a name='L2768'>    bytes_methods,                              <i><font color='green'>/* tp_methods */</font></i>
<a name='L2769'>    0,                                          <i><font color='green'>/* tp_members */</font></i>
<a name='L2770'>    0,                                          <i><font color='green'>/* tp_getset */</font></i>
<a name='L2771'>    &amp;PyBaseObject_Type,                         <i><font color='green'>/* tp_base */</font></i>
<a name='L2772'>    0,                                          <i><font color='green'>/* tp_dict */</font></i>
<a name='L2773'>    0,                                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L2774'>    0,                                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L2775'>    0,                                          <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L2776'>    0,                                          <i><font color='green'>/* tp_init */</font></i>
<a name='L2777'>    0,                                          <i><font color='green'>/* tp_alloc */</font></i>
<a name='L2778'>    <a href='../S/2779.html#L2491' title='Defined at 2491 in Objects/bytesobject.c.'>bytes_new</a>,                                  <i><font color='green'>/* tp_new */</font></i>
<a name='L2779'>    PyObject_Del,                               <i><font color='green'>/* tp_free */</font></i>
<a name='L2780'><font color='red'>}</font>;
<a name='L2781'>
<a name='L2782'><b>void</b>
<a name='L2783'><a href='../R/2530.html' title='Multiple refered from 2 places.'>PyBytes_Concat</a>(<b>register</b> PyObject **pv, <b>register</b> PyObject *w)
<a name='L2784'><font color='red'>{</font>
<a name='L2785'>    <b>register</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L2786'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(pv != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2787'>    <b>if</b> (*pv == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2788'>        <b>return</b>;
<a name='L2789'>    <b>if</b> (w == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2790'>        Py_DECREF(*pv);
<a name='L2791'>        *pv = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2792'>        <b>return</b>;
<a name='L2793'>    <font color='red'>}</font>
<a name='L2794'>    v = <a href='../S/2779.html#L668' title='Defined at 668 in Objects/bytesobject.c.'>bytes_concat</a>(*pv, w);
<a name='L2795'>    Py_DECREF(*pv);
<a name='L2796'>    *pv = v;
<a name='L2797'><font color='red'>}</font>
<a name='L2798'>
<a name='L2799'><b>void</b>
<a name='L2800'><a href='../R/2531.html' title='Multiple refered from 2 places.'>PyBytes_ConcatAndDel</a>(<b>register</b> PyObject **pv, <b>register</b> PyObject *w)
<a name='L2801'><font color='red'>{</font>
<a name='L2802'>    <a href='../S/2779.html#L2783' title='Defined at 2783 in Objects/bytesobject.c.'>PyBytes_Concat</a>(pv, w);
<a name='L2803'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(w);
<a name='L2804'><font color='red'>}</font>
<a name='L2805'>
<a name='L2806'>
<a name='L2807'><i><font color='green'>/* The following function breaks the notion that strings are immutable:</font></i>
<a name='L2808'><i><font color='green'>   it changes the size of a string.  We get away with this only if there</font></i>
<a name='L2809'><i><font color='green'>   is only one module referencing the object.  You can also think of it</font></i>
<a name='L2810'><i><font color='green'>   as creating a new string object and destroying the old one, only</font></i>
<a name='L2811'><i><font color='green'>   more efficiently.  In any case, don't use this if the string may</font></i>
<a name='L2812'><i><font color='green'>   already be known to some other part of the code...</font></i>
<a name='L2813'><i><font color='green'>   Note that if there's not enough memory to resize the string, the original</font></i>
<a name='L2814'><i><font color='green'>   string object at *pv is deallocated, *pv is set to NULL, an "out of</font></i>
<a name='L2815'><i><font color='green'>   memory" exception is set, and -1 is returned.  Else (on success) 0 is</font></i>
<a name='L2816'><i><font color='green'>   returned, and the value in *pv may or may not be the same as on input.</font></i>
<a name='L2817'><i><font color='green'>   As always, an extra byte is allocated for a trailing \0 byte (newsize</font></i>
<a name='L2818'><i><font color='green'>   does *not* include that), and a trailing \0 byte is stored.</font></i>
<a name='L2819'><i><font color='green'>*/</font></i>
<a name='L2820'>
<a name='L2821'><b>int</b>
<a name='L2822'><a href='../R/5367.html' title='Multiple refered from 80 places.'>_PyBytes_Resize</a>(PyObject **pv, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> newsize)
<a name='L2823'><font color='red'>{</font>
<a name='L2824'>    <b>register</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *v;
<a name='L2825'>    <b>register</b> <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *sv;
<a name='L2826'>    v = *pv;
<a name='L2827'>    <b>if</b> (!PyBytes_Check(v) || <a href='../D/4223.html' title='Multiple defined in 2 places.'>Py_REFCNT</a>(v) != 1 || newsize &lt; 0) <font color='red'>{</font>
<a name='L2828'>        *pv = 0;
<a name='L2829'>        Py_DECREF(v);
<a name='L2830'>        <a href='../D/3142.html' title='Multiple defined in 3 places.'>PyErr_BadInternalCall</a>();
<a name='L2831'>        <b>return</b> -1;
<a name='L2832'>    <font color='red'>}</font>
<a name='L2833'>    <i><font color='green'>/* XXX UNREF/NEWREF interface should be more symmetrical */</font></i>
<a name='L2834'>    <a href='../S/544.html#L661' title='Defined at 661 in Include/object.h.'>_Py_DEC_REFTOTAL</a>;
<a name='L2835'>    <a href='../D/6292.html' title='Multiple defined in 2 places.'>_Py_ForgetReference</a>(v);
<a name='L2836'>    *pv = (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)
<a name='L2837'>        PyObject_REALLOC((<b>char</b> *)v, <a href='../S/2779.html#L41' title='Defined at 41 in Objects/bytesobject.c.'>PyBytesObject_SIZE</a> + newsize);
<a name='L2838'>    <b>if</b> (*pv == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2839'>        PyObject_Del(v);
<a name='L2840'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L2841'>        <b>return</b> -1;
<a name='L2842'>    <font color='red'>}</font>
<a name='L2843'>    <a href='../S/2803.html#L1650' title='Defined at 1650 in Objects/object.c.'>_Py_NewReference</a>(*pv);
<a name='L2844'>    sv = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *) *pv;
<a name='L2845'>    <a href='../S/544.html#L118' title='Defined at 118 in Include/object.h.'>Py_SIZE</a>(sv) = newsize;
<a name='L2846'>    sv-&gt;ob_sval[newsize] = '\0';
<a name='L2847'>    sv-&gt;ob_shash = -1;          <i><font color='green'>/* invalidate cached hash value */</font></i>
<a name='L2848'>    <b>return</b> 0;
<a name='L2849'><font color='red'>}</font>
<a name='L2850'>
<a name='L2851'><i><font color='green'>/* _PyBytes_FormatLong emulates the format codes d, u, o, x and X, and</font></i>
<a name='L2852'><i><font color='green'> * the F_ALT flag, for Python's long (unbounded) ints.  It's not used for</font></i>
<a name='L2853'><i><font color='green'> * Python's regular ints.</font></i>
<a name='L2854'><i><font color='green'> * Return value:  a new PyBytes*, or NULL if error.</font></i>
<a name='L2855'><i><font color='green'> *  .  *pbuf is set to point into it,</font></i>
<a name='L2856'><i><font color='green'> *     *plen set to the # of chars following that.</font></i>
<a name='L2857'><i><font color='green'> *     Caller must decref it when done using pbuf.</font></i>
<a name='L2858'><i><font color='green'> *     The string starting at *pbuf is of the form</font></i>
<a name='L2859'><i><font color='green'> *         "-"? ("0x" | "0X")? digit+</font></i>
<a name='L2860'><i><font color='green'> *     "0x"/"0X" are present only for x and X conversions, with F_ALT</font></i>
<a name='L2861'><i><font color='green'> *         set in flags.  The case of hex digits will be correct,</font></i>
<a name='L2862'><i><font color='green'> *     There will be at least prec digits, zero-filled on the left if</font></i>
<a name='L2863'><i><font color='green'> *         necessary to get that many.</font></i>
<a name='L2864'><i><font color='green'> * val          object to be converted</font></i>
<a name='L2865'><i><font color='green'> * flags        bitmask of format flags; only F_ALT is looked at</font></i>
<a name='L2866'><i><font color='green'> * prec         minimum number of digits; 0-fill on left if needed</font></i>
<a name='L2867'><i><font color='green'> * type         a character in [duoxX]; u acts the same as d</font></i>
<a name='L2868'><i><font color='green'> *</font></i>
<a name='L2869'><i><font color='green'> * CAUTION:  o, x and X conversions on regular ints can never</font></i>
<a name='L2870'><i><font color='green'> * produce a '-' sign, but can for Python's unbounded ints.</font></i>
<a name='L2871'><i><font color='green'> */</font></i>
<a name='L2872'><a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>*
<a name='L2873'><a href='../S/2828.html#L9304' title='Refered from 9304 in Objects/unicodeobject.c.'>_PyBytes_FormatLong</a>(PyObject *val, <b>int</b> flags, <b>int</b> prec, <b>int</b> type,
<a name='L2874'>                     <b>char</b> **pbuf, <b>int</b> *plen)
<a name='L2875'><font color='red'>{</font>
<a name='L2876'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2877'>    <b>char</b> *buf;
<a name='L2878'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> i;
<a name='L2879'>    <b>int</b> sign;           <i><font color='green'>/* 1 if '-', else 0 */</font></i>
<a name='L2880'>    <b>int</b> len;            <i><font color='green'>/* number of characters */</font></i>
<a name='L2881'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> llen;
<a name='L2882'>    <b>int</b> numdigits;      <i><font color='green'>/* len == numnondigits + numdigits */</font></i>
<a name='L2883'>    <b>int</b> numnondigits = 0;
<a name='L2884'>
<a name='L2885'>    <i><font color='green'>/* Avoid exceeding SSIZE_T_MAX */</font></i>
<a name='L2886'>    <b>if</b> (prec &gt; <a href='../S/565.html#L753' title='Defined at 753 in Include/pyport.h.'>INT_MAX</a>-3) <font color='red'>{</font>
<a name='L2887'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L2888'>                        "precision too large");
<a name='L2889'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2890'>    <font color='red'>}</font>
<a name='L2891'>
<a name='L2892'>    <b>switch</b> (type) <font color='red'>{</font>
<a name='L2893'>    <b>case</b> 'd':
<a name='L2894'>    <b>case</b> 'u':
<a name='L2895'>        <i><font color='green'>/* Special-case boolean: we want 0/1 */</font></i>
<a name='L2896'>        <b>if</b> (<a href='../S/2618.html#L46' title='Defined at 46 in Modules/_tkinter.c.'>PyBool_Check</a>(val))
<a name='L2897'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L1420' title='Defined at 1420 in Objects/abstract.c.'>PyNumber_ToBase</a>(val, 10);
<a name='L2898'>        <b>else</b>
<a name='L2899'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(val)-&gt;tp_str(val);
<a name='L2900'>        <b>break</b>;
<a name='L2901'>    <b>case</b> 'o':
<a name='L2902'>        numnondigits = 2;
<a name='L2903'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L1420' title='Defined at 1420 in Objects/abstract.c.'>PyNumber_ToBase</a>(val, 8);
<a name='L2904'>        <b>break</b>;
<a name='L2905'>    <b>case</b> 'x':
<a name='L2906'>    <b>case</b> 'X':
<a name='L2907'>        numnondigits = 2;
<a name='L2908'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L1420' title='Defined at 1420 in Objects/abstract.c.'>PyNumber_ToBase</a>(val, 16);
<a name='L2909'>        <b>break</b>;
<a name='L2910'>    <b>default</b>:
<a name='L2911'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(!"'type' not in [duoxX]");
<a name='L2912'>    <font color='red'>}</font>
<a name='L2913'>    <b>if</b> (!<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)
<a name='L2914'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2915'>
<a name='L2916'>    buf = <a href='../S/2828.html#L1919' title='Defined at 1919 in Objects/unicodeobject.c.'>_PyUnicode_AsString</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2917'>    <b>if</b> (!buf) <font color='red'>{</font>
<a name='L2918'>        Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2919'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2920'>    <font color='red'>}</font>
<a name='L2921'>
<a name='L2922'>    <i><font color='green'>/* To modify the string in-place, there can only be one reference. */</font></i>
<a name='L2923'>    <b>if</b> (<a href='../D/4223.html' title='Multiple defined in 2 places.'>Py_REFCNT</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>) != 1) <font color='red'>{</font>
<a name='L2924'>        <a href='../D/3142.html' title='Multiple defined in 3 places.'>PyErr_BadInternalCall</a>();
<a name='L2925'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2926'>    <font color='red'>}</font>
<a name='L2927'>    llen = <a href='../D/4020.html' title='Multiple defined in 3 places.'>PyUnicode_GetSize</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2928'>    <b>if</b> (llen &gt; <a href='../S/565.html#L753' title='Defined at 753 in Include/pyport.h.'>INT_MAX</a>) <font color='red'>{</font>
<a name='L2929'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L2930'>                        "string too large in _PyBytes_FormatLong");
<a name='L2931'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2932'>    <font color='red'>}</font>
<a name='L2933'>    len = (<b>int</b>)llen;
<a name='L2934'>    <b>if</b> (buf[len-1] == 'L') <font color='red'>{</font>
<a name='L2935'>        --len;
<a name='L2936'>        buf[len] = '\0';
<a name='L2937'>    <font color='red'>}</font>
<a name='L2938'>    sign = buf[0] == '-';
<a name='L2939'>    numnondigits += sign;
<a name='L2940'>    numdigits = len - numnondigits;
<a name='L2941'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(numdigits &gt; 0);
<a name='L2942'>
<a name='L2943'>    <i><font color='green'>/* Get rid of base marker unless F_ALT */</font></i>
<a name='L2944'>    <b>if</b> (((<a href='../D/8626.html' title='Multiple defined in 2 places.'>flags</a> &amp; F_ALT) == 0 &amp;&amp;
<a name='L2945'>        (type == 'o' || type == 'x' || type == 'X'))) <font color='red'>{</font>
<a name='L2946'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(buf[sign] == '0');
<a name='L2947'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(buf[sign+1] == 'x' || buf[sign+1] == 'X' ||
<a name='L2948'>               buf[sign+1] == 'o');
<a name='L2949'>        numnondigits -= 2;
<a name='L2950'>        buf += 2;
<a name='L2951'>        len -= 2;
<a name='L2952'>        <b>if</b> (sign)
<a name='L2953'>            buf[0] = '-';
<a name='L2954'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(len == numnondigits + numdigits);
<a name='L2955'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(numdigits &gt; 0);
<a name='L2956'>    <font color='red'>}</font>
<a name='L2957'>
<a name='L2958'>    <i><font color='green'>/* Fill with leading zeroes to meet minimum width. */</font></i>
<a name='L2959'>    <b>if</b> (prec &gt; numdigits) <font color='red'>{</font>
<a name='L2960'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *r1 = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L2961'>                                numnondigits + prec);
<a name='L2962'>        <b>char</b> *b1;
<a name='L2963'>        <b>if</b> (!r1) <font color='red'>{</font>
<a name='L2964'>            Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2965'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2966'>        <font color='red'>}</font>
<a name='L2967'>        b1 = PyBytes_AS_STRING(r1);
<a name='L2968'>        <b>for</b> (i = 0; i &lt; numnondigits; ++i)
<a name='L2969'>            *b1++ = *buf++;
<a name='L2970'>        <b>for</b> (i = 0; i &lt; prec - numdigits; i++)
<a name='L2971'>            *b1++ = '0';
<a name='L2972'>        <b>for</b> (i = 0; i &lt; numdigits; i++)
<a name='L2973'>            *b1++ = *buf++;
<a name='L2974'>        *b1 = '\0';
<a name='L2975'>        Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2976'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = r1;
<a name='L2977'>        buf = PyBytes_AS_STRING(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L2978'>        len = numnondigits + prec;
<a name='L2979'>    <font color='red'>}</font>
<a name='L2980'>
<a name='L2981'>    <i><font color='green'>/* Fix up case for hex conversions. */</font></i>
<a name='L2982'>    <b>if</b> (type == 'X') <font color='red'>{</font>
<a name='L2983'>        <i><font color='green'>/* Need to convert all lower case letters to upper case.</font></i>
<a name='L2984'><i><font color='green'>           and need to convert 0x to 0X (and -0x to -0X). */</font></i>
<a name='L2985'>        <b>for</b> (i = 0; i &lt; len; i++)
<a name='L2986'>            <b>if</b> (buf[i] &gt;= 'a' &amp;&amp; buf[i] &lt;= 'x')
<a name='L2987'>                buf[i] -= 'a'-'A';
<a name='L2988'>    <font color='red'>}</font>
<a name='L2989'>    *pbuf = buf;
<a name='L2990'>    *plen = len;
<a name='L2991'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2992'><font color='red'>}</font>
<a name='L2993'>
<a name='L2994'><b>void</b>
<a name='L2995'><a href='../S/3138.html#L501' title='Refered from 501 in Python/pythonrun.c.'>PyBytes_Fini</a>(<b>void</b>)
<a name='L2996'><font color='red'>{</font>
<a name='L2997'>    <b>int</b> i;
<a name='L2998'>    <b>for</b> (i = 0; i &lt; UCHAR_MAX + 1; i++) <font color='red'>{</font>
<a name='L2999'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(characters[i]);
<a name='L3000'>        characters[i] = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3001'>    <font color='red'>}</font>
<a name='L3002'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(nullstring);
<a name='L3003'>    nullstring = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3004'><font color='red'>}</font>
<a name='L3005'>
<a name='L3006'><i><font color='green'>/*********************** Bytes Iterator ****************************/</font></i>
<a name='L3007'>
<a name='L3008'><b>typedef</b> <b>struct</b> <font color='red'>{</font>
<a name='L3009'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L3010'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> it_index;
<a name='L3011'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *it_seq; <i><font color='green'>/* Set to NULL when iterator is exhausted */</font></i>
<a name='L3012'><font color='red'>}</font> <a href='../R/10588.html' title='Multiple refered from 3 places.'>striterobject</a>;
<a name='L3013'>
<a name='L3014'><b>static</b> <b>void</b>
<a name='L3015'><a href='../S/2779.html#L3078' title='Refered from 3078 in Objects/bytesobject.c.'>striter_dealloc</a>(striterobject *it)
<a name='L3016'><font color='red'>{</font>
<a name='L3017'>    <a href='../S/545.html#L281' title='Defined at 281 in Include/objimpl.h.'>_PyObject_GC_UNTRACK</a>(it);
<a name='L3018'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(it-&gt;it_seq);
<a name='L3019'>    <a href='../D/3617.html' title='Multiple defined in 2 places.'>PyObject_GC_Del</a>(it);
<a name='L3020'><font color='red'>}</font>
<a name='L3021'>
<a name='L3022'><b>static</b> <b>int</b>
<a name='L3023'><a href='../S/2779.html#L3095' title='Refered from 3095 in Objects/bytesobject.c.'>striter_traverse</a>(striterobject *it, visitproc visit, <b>void</b> *arg)
<a name='L3024'><font color='red'>{</font>
<a name='L3025'>    Py_VISIT(it-&gt;it_seq);
<a name='L3026'>    <b>return</b> 0;
<a name='L3027'><font color='red'>}</font>
<a name='L3028'>
<a name='L3029'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3030'><a href='../S/2779.html#L3100' title='Refered from 3100 in Objects/bytesobject.c.'>striter_next</a>(striterobject *it)
<a name='L3031'><font color='red'>{</font>
<a name='L3032'>    <a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *seq;
<a name='L3033'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *item;
<a name='L3034'>
<a name='L3035'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(it != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L3036'>    seq = it-&gt;it_seq;
<a name='L3037'>    <b>if</b> (seq == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3038'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3039'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyBytes_Check(seq));
<a name='L3040'>
<a name='L3041'>    <b>if</b> (it-&gt;it_index &lt; PyBytes_GET_SIZE(seq)) <font color='red'>{</font>
<a name='L3042'>        item = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(
<a name='L3043'>            (<b>unsigned</b> <b>char</b>)seq-&gt;ob_sval[it-&gt;it_index]);
<a name='L3044'>        <b>if</b> (item != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3045'>            ++it-&gt;it_index;
<a name='L3046'>        <b>return</b> item;
<a name='L3047'>    <font color='red'>}</font>
<a name='L3048'>
<a name='L3049'>    Py_DECREF(seq);
<a name='L3050'>    it-&gt;it_seq = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3051'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3052'><font color='red'>}</font>
<a name='L3053'>
<a name='L3054'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3055'><a href='../S/2779.html#L3067' title='Refered from 3067 in Objects/bytesobject.c.'>striter_len</a>(striterobject *it)
<a name='L3056'><font color='red'>{</font>
<a name='L3057'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> len = 0;
<a name='L3058'>    <b>if</b> (it-&gt;it_seq)
<a name='L3059'>        len = PyBytes_GET_SIZE(it-&gt;it_seq) - it-&gt;it_index;
<a name='L3060'>    <b>return</b> <a href='../D/3469.html' title='Multiple defined in 2 places.'>PyLong_FromSsize_t</a>(len);
<a name='L3061'><font color='red'>}</font>
<a name='L3062'>
<a name='L3063'><a href='../D/3131.html' title='Multiple defined in 2 places.'>PyDoc_STRVAR</a>(length_hint_doc,
<a name='L3064'>             "Private method returning an estimate of len(list(it)).");
<a name='L3065'>
<a name='L3066'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> striter_methods[] = <font color='red'>{</font>
<a name='L3067'>    <font color='red'>{</font>"__length_hint__", (PyCFunction)<a href='../S/2779.html#L3055' title='Defined at 3055 in Objects/bytesobject.c.'>striter_len</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L3068'>     length_hint_doc<font color='red'>}</font>,
<a name='L3069'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,              <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>           <i><font color='green'>/* sentinel */</font></i>
<a name='L3070'><font color='red'>}</font>;
<a name='L3071'>
<a name='L3072'><a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyBytesIter_Type = <font color='red'>{</font>
<a name='L3073'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(&amp;PyType_Type, 0)
<a name='L3074'>    "bytes_iterator",                           <i><font color='green'>/* tp_name */</font></i>
<a name='L3075'>    <b>sizeof</b>(<a href='../S/2779.html#L3012' title='Defined at 3012 in Objects/bytesobject.c.'>striterobject</a>),                      <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L3076'>    0,                                          <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L3077'>    <i><font color='green'>/* methods */</font></i>
<a name='L3078'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2779.html#L3015' title='Defined at 3015 in Objects/bytesobject.c.'>striter_dealloc</a>,                <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L3079'>    0,                                          <i><font color='green'>/* tp_print */</font></i>
<a name='L3080'>    0,                                          <i><font color='green'>/* tp_getattr */</font></i>
<a name='L3081'>    0,                                          <i><font color='green'>/* tp_setattr */</font></i>
<a name='L3082'>    0,                                          <i><font color='green'>/* tp_reserved */</font></i>
<a name='L3083'>    0,                                          <i><font color='green'>/* tp_repr */</font></i>
<a name='L3084'>    0,                                          <i><font color='green'>/* tp_as_number */</font></i>
<a name='L3085'>    0,                                          <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L3086'>    0,                                          <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L3087'>    0,                                          <i><font color='green'>/* tp_hash */</font></i>
<a name='L3088'>    0,                                          <i><font color='green'>/* tp_call */</font></i>
<a name='L3089'>    0,                                          <i><font color='green'>/* tp_str */</font></i>
<a name='L3090'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,                    <i><font color='green'>/* tp_getattro */</font></i>
<a name='L3091'>    0,                                          <i><font color='green'>/* tp_setattro */</font></i>
<a name='L3092'>    0,                                          <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L3093'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_HAVE_GC,<i><font color='green'>/* tp_flags */</font></i>
<a name='L3094'>    0,                                          <i><font color='green'>/* tp_doc */</font></i>
<a name='L3095'>    (traverseproc)<a href='../S/2779.html#L3023' title='Defined at 3023 in Objects/bytesobject.c.'>striter_traverse</a>,     <i><font color='green'>/* tp_traverse */</font></i>
<a name='L3096'>    0,                                          <i><font color='green'>/* tp_clear */</font></i>
<a name='L3097'>    0,                                          <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L3098'>    0,                                          <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L3099'>    <a href='../S/2803.html#L933' title='Defined at 933 in Objects/object.c.'>PyObject_SelfIter</a>,                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L3100'>    (iternextfunc)<a href='../S/2779.html#L3030' title='Defined at 3030 in Objects/bytesobject.c.'>striter_next</a>,                 <i><font color='green'>/* tp_iternext */</font></i>
<a name='L3101'>    striter_methods,                            <i><font color='green'>/* tp_methods */</font></i>
<a name='L3102'>    0,
<a name='L3103'><font color='red'>}</font>;
<a name='L3104'>
<a name='L3105'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3106'><a href='../R/6457.html' title='Multiple refered from 2 places.'>bytes_iter</a>(PyObject *seq)
<a name='L3107'><font color='red'>{</font>
<a name='L3108'>    <a href='../S/2779.html#L3012' title='Defined at 3012 in Objects/bytesobject.c.'>striterobject</a> *it;
<a name='L3109'>
<a name='L3110'>    <b>if</b> (!PyBytes_Check(seq)) <font color='red'>{</font>
<a name='L3111'>        <a href='../D/3142.html' title='Multiple defined in 3 places.'>PyErr_BadInternalCall</a>();
<a name='L3112'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3113'>    <font color='red'>}</font>
<a name='L3114'>    it = PyObject_GC_New(<a href='../S/2779.html#L3012' title='Defined at 3012 in Objects/bytesobject.c.'>striterobject</a>, &amp;PyBytesIter_Type);
<a name='L3115'>    <b>if</b> (it == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3116'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3117'>    it-&gt;it_index = 0;
<a name='L3118'>    Py_INCREF(seq);
<a name='L3119'>    it-&gt;it_seq = (<a href='../S/507.html#L41' title='Defined at 41 in Include/bytesobject.h.'>PyBytesObject</a> *)seq;
<a name='L3120'>    <a href='../S/545.html#L266' title='Defined at 266 in Include/objimpl.h.'>_PyObject_GC_TRACK</a>(it);
<a name='L3121'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)it;
<a name='L3122'><font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L11'>[^]</a><a href='#L3106'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
