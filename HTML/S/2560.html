<html>
<head>
<title>Modules/_datetimemodule.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.8.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/3353.html'>Modules</a>/_datetimemodule.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L130'>[^]</a><a href='#L5074'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L130' title='Defined at 130.'>divmod</a>
<li><a href='#L149' title='Defined at 149.'>round_to_long</a>
<li><a href='#L162' title='Defined at 162.'>divide_nearest</a>
<li><a href='#L197' title='Defined at 197.'>is_leap</a>
<li><a href='#L210' title='Defined at 210.'>days_in_month</a>
<li><a href='#L222' title='Defined at 222.'>days_before_month</a>
<li><a href='#L238' title='Defined at 238.'>days_before_year</a>
<li><a href='#L258' title='Defined at 258.'>ord_to_ymd</a>
<li><a href='#L342' title='Defined at 342.'>ymd_to_ord</a>
<li><a href='#L349' title='Defined at 349.'>weekday</a>
<li><a href='#L358' title='Defined at 358.'>iso_week1_monday</a>
<li><a href='#L379' title='Defined at 379.'>check_delta_day_range</a>
<li><a href='#L393' title='Defined at 393.'>check_date_args</a>
<li><a href='#L418' title='Defined at 418.'>check_time_args</a>
<li><a href='#L454' title='Defined at 454.'>normalize_pair</a>
<li><a href='#L474' title='Defined at 474.'>normalize_d_s_us</a>
<li><a href='#L501' title='Defined at 501.'>normalize_y_m_d</a>
<li><a href='#L568' title='Defined at 568.'>normalize_date</a>
<li><a href='#L577' title='Defined at 577.'>normalize_datetime</a>
<li><a href='#L610' title='Defined at 610.'>time_alloc</a>
<li><a href='#L625' title='Defined at 625.'>datetime_alloc</a>
<li><a href='#L646' title='Defined at 646.'>set_date_fields</a>
<li><a href='#L660' title='Defined at 660.'>new_date_ex</a>
<li><a href='#L675' title='Defined at 675.'>new_datetime_ex</a>
<li><a href='#L703' title='Defined at 703.'>new_time_ex</a>
<li><a href='#L735' title='Defined at 735.'>new_delta_ex</a>
<li><a href='#L777' title='Defined at 777.'>create_timezone</a>
<li><a href='#L800' title='Defined at 800.'>new_timezone</a>
<li><a href='#L834' title='Defined at 834.'>check_tzinfo_subclass</a>
<li><a href='#L850' title='Defined at 850.'>get_tzinfo_member</a>
<li><a href='#L870' title='Defined at 870.'>call_tzinfo_method</a>
<li><a href='#L920' title='Defined at 920.'>call_utcoffset</a>
<li><a href='#L934' title='Defined at 934.'>call_dst</a>
<li><a href='#L946' title='Defined at 946.'>call_tzname</a>
<li><a href='#L979' title='Defined at 979.'>append_keyword_tzinfo</a>
<li><a href='#L1004' title='Defined at 1004.'>format_ctime</a>
<li><a href='#L1035' title='Defined at 1035.'>format_utcoffset</a>
<li><a href='#L1077' title='Defined at 1077.'>make_Zreplacement</a>
<li><a href='#L1119' title='Defined at 1119.'>make_freplacement</a>
<li><a href='#L1140' title='Defined at 1140.'>wrap_strftime</a>
<li><a href='#L1335' title='Defined at 1335.'>time_time</a>
<li><a href='#L1351' title='Defined at 1351.'>build_struct_time</a>
<li><a href='#L1379' title='Defined at 1379.'>diff_to_bool</a>
<li><a href='#L1402' title='Defined at 1402.'>cmperror</a>
<li><a href='#L1439' title='Defined at 1439.'>delta_to_microseconds</a>
<li><a href='#L1489' title='Defined at 1489.'>microseconds_to_delta_ex</a>
<li><a href='#L1571' title='Defined at 1571.'>multiply_int_timedelta</a>
<li><a href='#L1592' title='Defined at 1592.'>multiply_float_timedelta</a>
<li><a href='#L1623' title='Defined at 1623.'>divide_timedelta_int</a>
<li><a href='#L1644' title='Defined at 1644.'>divide_timedelta_timedelta</a>
<li><a href='#L1667' title='Defined at 1667.'>truedivide_timedelta_timedelta</a>
<li><a href='#L1690' title='Defined at 1690.'>truedivide_timedelta_float</a>
<li><a href='#L1721' title='Defined at 1721.'>truedivide_timedelta_int</a>
<li><a href='#L1739' title='Defined at 1739.'>delta_add</a>
<li><a href='#L1761' title='Defined at 1761.'>delta_negative</a>
<li><a href='#L1770' title='Defined at 1770.'>delta_positive</a>
<li><a href='#L1782' title='Defined at 1782.'>delta_abs</a>
<li><a href='#L1798' title='Defined at 1798.'>delta_subtract</a>
<li><a href='#L1819' title='Defined at 1819.'>delta_cmp</a>
<li><a href='#L1832' title='Defined at 1832.'>delta_richcompare</a>
<li><a href='#L1847' title='Defined at 1847.'>delta_hash</a>
<li><a href='#L1860' title='Defined at 1860.'>delta_multiply</a>
<li><a href='#L1886' title='Defined at 1886.'>delta_divide</a>
<li><a href='#L1908' title='Defined at 1908.'>delta_truedivide</a>
<li><a href='#L1931' title='Defined at 1931.'>delta_remainder</a>
<li><a href='#L1968' title='Defined at 1968.'>delta_divmod</a>
<li><a href='#L2019' title='Defined at 2019.'>accum</a>
<li><a href='#L2100' title='Defined at 2100.'>delta_new</a>
<li><a href='#L2187' title='Defined at 2187.'>delta_bool</a>
<li><a href='#L2195' title='Defined at 2195.'>delta_repr</a>
<li><a href='#L2215' title='Defined at 2215.'>delta_str</a>
<li><a href='#L2247' title='Defined at 2247.'>delta_getstate</a>
<li><a href='#L2255' title='Defined at 2255.'>delta_total_seconds</a>
<li><a href='#L2279' title='Defined at 2279.'>delta_reduce</a>
<li><a href='#L2397' title='Defined at 2397.'>date_year</a>
<li><a href='#L2403' title='Defined at 2403.'>date_month</a>
<li><a href='#L2409' title='Defined at 2409.'>date_day</a>
<li><a href='#L2426' title='Defined at 2426.'>date_new</a>
<li><a href='#L2462' title='Defined at 2462.'>date_local_from_time_t</a>
<li><a href='#L2490' title='Defined at 2490.'>date_today</a>
<li><a href='#L2512' title='Defined at 2512.'>date_fromtimestamp</a>
<li><a href='#L2526' title='Defined at 2526.'>date_fromordinal</a>
<li><a href='#L2556' title='Defined at 2556.'>add_date_timedelta</a>
<li><a href='#L2571' title='Defined at 2571.'>date_add</a>
<li><a href='#L2600' title='Defined at 2600.'>date_subtract</a>
<li><a href='#L2632' title='Defined at 2632.'>date_repr</a>
<li><a href='#L2640' title='Defined at 2640.'>date_isoformat</a>
<li><a href='#L2648' title='Defined at 2648.'>date_str</a>
<li><a href='#L2655' title='Defined at 2655.'>date_ctime</a>
<li><a href='#L2661' title='Defined at 2661.'>date_strftime</a>
<li><a href='#L2685' title='Defined at 2685.'>date_format</a>
<li><a href='#L2702' title='Defined at 2702.'>date_isoweekday</a>
<li><a href='#L2710' title='Defined at 2710.'>date_isocalendar</a>
<li><a href='#L2734' title='Defined at 2734.'>date_richcompare</a>
<li><a href='#L2749' title='Defined at 2749.'>date_timetuple</a>
<li><a href='#L2758' title='Defined at 2758.'>date_replace</a>
<li><a href='#L2781' title='Defined at 2781.'>generic_hash</a>
<li><a href='#L2801' title='Defined at 2801.'>date_hash</a>
<li><a href='#L2811' title='Defined at 2811.'>date_toordinal</a>
<li><a href='#L2818' title='Defined at 2818.'>date_weekday</a>
<li><a href='#L2829' title='Defined at 2829.'>date_getstate</a>
<li><a href='#L2838' title='Defined at 2838.'>date_reduce</a>
<li><a href='#L2979' title='Defined at 2979.'>tzinfo_nogo</a>
<li><a href='#L2990' title='Defined at 2990.'>tzinfo_tzname</a>
<li><a href='#L2996' title='Defined at 2996.'>tzinfo_utcoffset</a>
<li><a href='#L3002' title='Defined at 3002.'>tzinfo_dst</a>
<li><a href='#L3015' title='Defined at 3015.'>tzinfo_fromutc</a>
<li><a href='#L3095' title='Defined at 3095.'>tzinfo_reduce</a>
<li><a href='#L3218' title='Defined at 3218.'>timezone_new</a>
<li><a href='#L3231' title='Defined at 3231.'>timezone_dealloc</a>
<li><a href='#L3239' title='Defined at 3239.'>timezone_richcompare</a>
<li><a href='#L3250' title='Defined at 3250.'>timezone_hash</a>
<li><a href='#L3260' title='Defined at 3260.'>_timezone_check_argument</a>
<li><a href='#L3270' title='Defined at 3270.'>timezone_repr</a>
<li><a href='#L3288' title='Defined at 3288.'>timezone_str</a>
<li><a href='#L3324' title='Defined at 3324.'>timezone_tzname</a>
<li><a href='#L3333' title='Defined at 3333.'>timezone_utcoffset</a>
<li><a href='#L3343' title='Defined at 3343.'>timezone_dst</a>
<li><a href='#L3352' title='Defined at 3352.'>timezone_fromutc</a>
<li><a href='#L3369' title='Defined at 3369.'>timezone_getinitargs</a>
<li><a href='#L3448' title='Defined at 3448.'>time_hour</a>
<li><a href='#L3454' title='Defined at 3454.'>time_minute</a>
<li><a href='#L3461' title='Defined at 3461.'>py_time_second</a>
<li><a href='#L3467' title='Defined at 3467.'>time_microsecond</a>
<li><a href='#L3473' title='Defined at 3473.'>time_tzinfo</a>
<li><a href='#L3497' title='Defined at 3497.'>time_new</a>
<li><a href='#L3559' title='Defined at 3559.'>time_dealloc</a>
<li><a href='#L3573' title='Defined at 3573.'>time_utcoffset</a>
<li><a href='#L3578' title='Defined at 3578.'>time_dst</a>
<li><a href='#L3583' title='Defined at 3583.'>time_tzname</a>
<li><a href='#L3592' title='Defined at 3592.'>time_repr</a>
<li><a href='#L3615' title='Defined at 3615.'>time_str</a>
<li><a href='#L3621' title='Defined at 3621.'>time_isoformat</a>
<li><a href='#L3653' title='Defined at 3653.'>time_strftime</a>
<li><a href='#L3688' title='Defined at 3688.'>time_richcompare</a>
<li><a href='#L3755' title='Defined at 3755.'>time_hash</a>
<li><a href='#L3797' title='Defined at 3797.'>time_replace</a>
<li><a href='#L3820' title='Defined at 3820.'>time_bool</a>
<li><a href='#L3850' title='Defined at 3850.'>time_getstate</a>
<li><a href='#L3868' title='Defined at 3868.'>time_reduce</a>
<li><a href='#L3973' title='Defined at 3973.'>datetime_hour</a>
<li><a href='#L3979' title='Defined at 3979.'>datetime_minute</a>
<li><a href='#L3985' title='Defined at 3985.'>datetime_second</a>
<li><a href='#L3991' title='Defined at 3991.'>datetime_microsecond</a>
<li><a href='#L3997' title='Defined at 3997.'>datetime_tzinfo</a>
<li><a href='#L4023' title='Defined at 4023.'>datetime_new</a>
<li><a href='#L4094' title='Defined at 4094.'>datetime_from_timet_and_us</a>
<li><a href='#L4135' title='Defined at 4135.'>datetime_from_timestamp</a>
<li><a href='#L4168' title='Defined at 4168.'>datetime_best_possible</a>
<li><a href='#L4180' title='Defined at 4180.'>datetime_now</a>
<li><a href='#L4208' title='Defined at 4208.'>datetime_utcnow</a>
<li><a href='#L4215' title='Defined at 4215.'>datetime_fromtimestamp</a>
<li><a href='#L4243' title='Defined at 4243.'>datetime_utcfromtimestamp</a>
<li><a href='#L4256' title='Defined at 4256.'>datetime_strptime</a>
<li><a href='#L4275' title='Defined at 4275.'>datetime_combine</a>
<li><a href='#L4307' title='Defined at 4307.'>datetime_dealloc</a>
<li><a href='#L4321' title='Defined at 4321.'>datetime_utcoffset</a>
<li><a href='#L4326' title='Defined at 4326.'>datetime_dst</a>
<li><a href='#L4331' title='Defined at 4331.'>datetime_tzname</a>
<li><a href='#L4343' title='Defined at 4343.'>add_datetime_timedelta</a>
<li><a href='#L4369' title='Defined at 4369.'>datetime_add</a>
<li><a href='#L4391' title='Defined at 4391.'>datetime_subtract</a>
<li><a href='#L4479' title='Defined at 4479.'>datetime_repr</a>
<li><a href='#L4514' title='Defined at 4514.'>datetime_str</a>
<li><a href='#L4520' title='Defined at 4520.'>datetime_isoformat</a>
<li><a href='#L4557' title='Defined at 4557.'>datetime_ctime</a>
<li><a href='#L4568' title='Defined at 4568.'>datetime_richcompare</a>
<li><a href='#L4644' title='Defined at 4644.'>datetime_hash</a>
<li><a href='#L4691' title='Defined at 4691.'>datetime_replace</a>
<li><a href='#L4718' title='Defined at 4718.'>datetime_astimezone</a>
<li><a href='#L4772' title='Defined at 4772.'>datetime_timetuple</a>
<li><a href='#L4797' title='Defined at 4797.'>datetime_getdate</a>
<li><a href='#L4805' title='Defined at 4805.'>datetime_gettime</a>
<li><a href='#L4815' title='Defined at 4815.'>datetime_gettimetz</a>
<li><a href='#L4825' title='Defined at 4825.'>datetime_utctimetuple</a>
<li><a href='#L4873' title='Defined at 4873.'>datetime_getstate</a>
<li><a href='#L4891' title='Defined at 4891.'>datetime_reduce</a>
<li><a href='#L5074' title='Defined at 5074.'>PyInit__datetime</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*  C implementation for the date/time type documented at</font></i>
<a name='L2'><i><font color='green'> *  http://www.zope.org/Members/fdrake/DateTimeWiki/FrontPage</font></i>
<a name='L3'><i><font color='green'> */</font></i>
<a name='L4'>
<a name='L5'><font color='darkred'>#include</font> "<a href='570.html'>Python.h</a>"
<a name='L6'><font color='darkred'>#include</font> "<a href='577.html'>structmember.h</a>"
<a name='L7'>
<a name='L8'><font color='darkred'>#include</font> &lt;time.h&gt;
<a name='L9'>
<a name='L10'><font color='darkred'>#include</font> "<a href='2617.html'>_time.h</a>"
<a name='L11'>
<a name='L12'><i><font color='green'>/* Differentiate between building the core module and building extension</font></i>
<a name='L13'><i><font color='green'> * modules.</font></i>
<a name='L14'><i><font color='green'> */</font></i>
<a name='L15'><font color='darkred'>#ifndef</font> <a href='../D/4085.html' title='Multiple defined in 3 places.'>Py_BUILD_CORE</a>
<a name='L16'><font color='darkred'>#define</font> <a href='../R/3656.html' title='Multiple refered from 6 places.'>Py_BUILD_CORE</a>
<a name='L17'><font color='darkred'>#endif</font>
<a name='L18'><font color='darkred'>#include</font> "<a href='515.html'>datetime.h</a>"
<a name='L19'><font color='darkred'>#undef</font> <a href='../R/3656.html' title='Multiple refered from 6 places.'>Py_BUILD_CORE</a>
<a name='L20'>
<a name='L21'><i><font color='green'>/* We require that C int be at least 32 bits, and use int virtually</font></i>
<a name='L22'><i><font color='green'> * everywhere.  In just a few cases we use a temp long, where a Python</font></i>
<a name='L23'><i><font color='green'> * API returns a C long.  In such cases, we have to ensure that the</font></i>
<a name='L24'><i><font color='green'> * final result fits in a C int (this can be an issue on 64-bit boxes).</font></i>
<a name='L25'><i><font color='green'> */</font></i>
<a name='L26'><font color='darkred'>#if</font> <a href='../D/4733.html' title='Multiple defined in 3 places.'>SIZEOF_INT</a> &lt; 4
<a name='L27'><font color='darkred'>#       error</font> "_datetime.c requires that C int have at least 32 bits"
<a name='L28'><font color='darkred'>#endif</font>
<a name='L29'>
<a name='L30'><font color='darkred'>#define</font> <a href='../R/1928.html' title='Multiple refered from 3 places.'>MINYEAR</a> 1
<a name='L31'><font color='darkred'>#define</font> <a href='../R/1849.html' title='Multiple refered from 5 places.'>MAXYEAR</a> 9999
<a name='L32'><font color='darkred'>#define</font> <a href='../S/2560.html#L544' title='Refered from 544 in Modules/_datetimemodule.c.'>MAXORDINAL</a> 3652059 <i><font color='green'>/* date(9999,12,31).toordinal() */</font></i>
<a name='L33'>
<a name='L34'><i><font color='green'>/* Nine decimal digits is easy to communicate, and leaves enough room</font></i>
<a name='L35'><i><font color='green'> * so that two delta days can be added w/o fear of overflowing a signed</font></i>
<a name='L36'><i><font color='green'> * 32-bit int, and with plenty of room left over to absorb any possible</font></i>
<a name='L37'><i><font color='green'> * carries from adding seconds.</font></i>
<a name='L38'><i><font color='green'> */</font></i>
<a name='L39'><font color='darkred'>#define</font> <a href='../R/1856.html' title='Multiple refered from 4 places.'>MAX_DELTA_DAYS</a> 999999999
<a name='L40'>
<a name='L41'><i><font color='green'>/* Rename the long macros in datetime.h to more reasonable short names. */</font></i>
<a name='L42'><font color='darkred'>#define</font> <a href='../R/1263.html' title='Multiple refered from 28 places.'>GET_YEAR</a>                <a href='../S/515.html#L116' title='Defined at 116 in Include/datetime.h.'>PyDateTime_GET_YEAR</a>
<a name='L43'><font color='darkred'>#define</font> <a href='../R/1254.html' title='Multiple refered from 28 places.'>GET_MONTH</a>               <a href='../S/515.html#L118' title='Defined at 118 in Include/datetime.h.'>PyDateTime_GET_MONTH</a>
<a name='L44'><font color='darkred'>#define</font> <a href='../R/1247.html' title='Multiple refered from 28 places.'>GET_DAY</a>                 <a href='../S/515.html#L119' title='Defined at 119 in Include/datetime.h.'>PyDateTime_GET_DAY</a>
<a name='L45'><font color='darkred'>#define</font> <a href='../R/671.html' title='Multiple refered from 16 places.'>DATE_GET_HOUR</a>           <a href='../S/515.html#L121' title='Defined at 121 in Include/datetime.h.'>PyDateTime_DATE_GET_HOUR</a>
<a name='L46'><font color='darkred'>#define</font> <a href='../R/673.html' title='Multiple refered from 16 places.'>DATE_GET_MINUTE</a>         <a href='../S/515.html#L122' title='Defined at 122 in Include/datetime.h.'>PyDateTime_DATE_GET_MINUTE</a>
<a name='L47'><font color='darkred'>#define</font> <a href='../R/674.html' title='Multiple refered from 16 places.'>DATE_GET_SECOND</a>         <a href='../S/515.html#L123' title='Defined at 123 in Include/datetime.h.'>PyDateTime_DATE_GET_SECOND</a>
<a name='L48'><font color='darkred'>#define</font> <a href='../R/672.html' title='Multiple refered from 12 places.'>DATE_GET_MICROSECOND</a>    <a href='../S/515.html#L124' title='Defined at 124 in Include/datetime.h.'>PyDateTime_DATE_GET_MICROSECOND</a>
<a name='L49'>
<a name='L50'><i><font color='green'>/* Date accessors for date and datetime. */</font></i>
<a name='L51'><font color='darkred'>#define</font> <a href='../S/2560.html#L649' title='Refered from 649 in Modules/_datetimemodule.c.'>SET_YEAR</a>(o, v)          (((o)-&gt;data[0] = ((v) &amp; 0xff00) &gt;&gt; 8), \
<a name='L52'>                 ((o)-&gt;data[1] = ((v) &amp; 0x00ff)))
<a name='L53'><font color='darkred'>#define</font> <a href='../S/2560.html#L650' title='Refered from 650 in Modules/_datetimemodule.c.'>SET_MONTH</a>(o, v)         (<a href='../S/515.html#L118' title='Defined at 118 in Include/datetime.h.'>PyDateTime_GET_MONTH</a>(o) = (v))
<a name='L54'><font color='darkred'>#define</font> <a href='../S/2560.html#L651' title='Refered from 651 in Modules/_datetimemodule.c.'>SET_DAY</a>(o, v)           (<a href='../S/515.html#L119' title='Defined at 119 in Include/datetime.h.'>PyDateTime_GET_DAY</a>(o) = (v))
<a name='L55'>
<a name='L56'><i><font color='green'>/* Date/Time accessors for datetime. */</font></i>
<a name='L57'><font color='darkred'>#define</font> <a href='../S/2560.html#L685' title='Refered from 685 in Modules/_datetimemodule.c.'>DATE_SET_HOUR</a>(o, v)     (<a href='../S/515.html#L121' title='Defined at 121 in Include/datetime.h.'>PyDateTime_DATE_GET_HOUR</a>(o) = (v))
<a name='L58'><font color='darkred'>#define</font> <a href='../S/2560.html#L686' title='Refered from 686 in Modules/_datetimemodule.c.'>DATE_SET_MINUTE</a>(o, v)   (<a href='../S/515.html#L122' title='Defined at 122 in Include/datetime.h.'>PyDateTime_DATE_GET_MINUTE</a>(o) = (v))
<a name='L59'><font color='darkred'>#define</font> <a href='../S/2560.html#L687' title='Refered from 687 in Modules/_datetimemodule.c.'>DATE_SET_SECOND</a>(o, v)   (<a href='../S/515.html#L123' title='Defined at 123 in Include/datetime.h.'>PyDateTime_DATE_GET_SECOND</a>(o) = (v))
<a name='L60'><font color='darkred'>#define</font> <a href='../S/2560.html#L688' title='Refered from 688 in Modules/_datetimemodule.c.'>DATE_SET_MICROSECOND</a>(o, v)      \
<a name='L61'>    (((o)-&gt;data[7] = ((v) &amp; 0xff0000) &gt;&gt; 16), \
<a name='L62'>     ((o)-&gt;data[8] = ((v) &amp; 0x00ff00) &gt;&gt; 8), \
<a name='L63'>     ((o)-&gt;data[9] = ((v) &amp; 0x0000ff)))
<a name='L64'>
<a name='L65'><i><font color='green'>/* Time accessors for time. */</font></i>
<a name='L66'><font color='darkred'>#define</font> <a href='../R/4541.html' title='Multiple refered from 11 places.'>TIME_GET_HOUR</a>           <a href='../S/515.html#L130' title='Defined at 130 in Include/datetime.h.'>PyDateTime_TIME_GET_HOUR</a>
<a name='L67'><font color='darkred'>#define</font> <a href='../R/4543.html' title='Multiple refered from 11 places.'>TIME_GET_MINUTE</a>         <a href='../S/515.html#L131' title='Defined at 131 in Include/datetime.h.'>PyDateTime_TIME_GET_MINUTE</a>
<a name='L68'><font color='darkred'>#define</font> <a href='../R/4544.html' title='Multiple refered from 11 places.'>TIME_GET_SECOND</a>         <a href='../S/515.html#L132' title='Defined at 132 in Include/datetime.h.'>PyDateTime_TIME_GET_SECOND</a>
<a name='L69'><font color='darkred'>#define</font> <a href='../R/4542.html' title='Multiple refered from 10 places.'>TIME_GET_MICROSECOND</a>    <a href='../S/515.html#L133' title='Defined at 133 in Include/datetime.h.'>PyDateTime_TIME_GET_MICROSECOND</a>
<a name='L70'><font color='darkred'>#define</font> <a href='../S/2560.html#L713' title='Refered from 713 in Modules/_datetimemodule.c.'>TIME_SET_HOUR</a>(o, v)     (<a href='../S/515.html#L130' title='Defined at 130 in Include/datetime.h.'>PyDateTime_TIME_GET_HOUR</a>(o) = (v))
<a name='L71'><font color='darkred'>#define</font> <a href='../S/2560.html#L714' title='Refered from 714 in Modules/_datetimemodule.c.'>TIME_SET_MINUTE</a>(o, v)   (<a href='../S/515.html#L131' title='Defined at 131 in Include/datetime.h.'>PyDateTime_TIME_GET_MINUTE</a>(o) = (v))
<a name='L72'><font color='darkred'>#define</font> <a href='../S/2560.html#L715' title='Refered from 715 in Modules/_datetimemodule.c.'>TIME_SET_SECOND</a>(o, v)   (<a href='../S/515.html#L132' title='Defined at 132 in Include/datetime.h.'>PyDateTime_TIME_GET_SECOND</a>(o) = (v))
<a name='L73'><font color='darkred'>#define</font> <a href='../S/2560.html#L716' title='Refered from 716 in Modules/_datetimemodule.c.'>TIME_SET_MICROSECOND</a>(o, v)      \
<a name='L74'>    (((o)-&gt;data[3] = ((v) &amp; 0xff0000) &gt;&gt; 16), \
<a name='L75'>     ((o)-&gt;data[4] = ((v) &amp; 0x00ff00) &gt;&gt; 8), \
<a name='L76'>     ((o)-&gt;data[5] = ((v) &amp; 0x0000ff)))
<a name='L77'>
<a name='L78'><i><font color='green'>/* Delta accessors for timedelta. */</font></i>
<a name='L79'><font color='darkred'>#define</font> <a href='../R/1258.html' title='Multiple refered from 24 places.'>GET_TD_DAYS</a>(o)          (((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)(o))-&gt;days)
<a name='L80'><font color='darkred'>#define</font> <a href='../R/1260.html' title='Multiple refered from 23 places.'>GET_TD_SECONDS</a>(o)       (((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)(o))-&gt;seconds)
<a name='L81'><font color='darkred'>#define</font> <a href='../R/1259.html' title='Multiple refered from 17 places.'>GET_TD_MICROSECONDS</a>(o)  (((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)(o))-&gt;microseconds)
<a name='L82'>
<a name='L83'><font color='darkred'>#define</font> <a href='../S/2560.html#L751' title='Refered from 751 in Modules/_datetimemodule.c.'>SET_TD_DAYS</a>(o, v)       ((o)-&gt;days = (v))
<a name='L84'><font color='darkred'>#define</font> <a href='../S/2560.html#L752' title='Refered from 752 in Modules/_datetimemodule.c.'>SET_TD_SECONDS</a>(o, v)    ((o)-&gt;seconds = (v))
<a name='L85'><font color='darkred'>#define</font> <a href='../S/2560.html#L753' title='Refered from 753 in Modules/_datetimemodule.c.'>SET_TD_MICROSECONDS</a>(o, v) ((o)-&gt;microseconds = (v))
<a name='L86'>
<a name='L87'><i><font color='green'>/* p is a pointer to a time or a datetime object; HASTZINFO(p) returns</font></i>
<a name='L88'><i><font color='green'> * p-&gt;hastzinfo.</font></i>
<a name='L89'><i><font color='green'> */</font></i>
<a name='L90'><font color='darkred'>#define</font> <a href='../R/1312.html' title='Multiple refered from 23 places.'>HASTZINFO</a>(p) (((<a href='../S/515.html#L64' title='Defined at 64 in Include/datetime.h.'>_PyDateTime_BaseTZInfo</a> *)(p))-&gt;hastzinfo)
<a name='L91'><font color='darkred'>#define</font> <a href='../R/1261.html' title='Multiple refered from 5 places.'>GET_TIME_TZINFO</a>(p) (<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(p) ? \
<a name='L92'>                            ((<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *)(p))-&gt;tzinfo : Py_None)
<a name='L93'><font color='darkred'>#define</font> <a href='../R/1248.html' title='Multiple refered from 9 places.'>GET_DT_TZINFO</a>(p) (<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(p) ? \
<a name='L94'>                          ((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)(p))-&gt;tzinfo : Py_None)
<a name='L95'><i><font color='green'>/* M is a char or int claiming to be a valid month.  The macro is equivalent</font></i>
<a name='L96'><i><font color='green'> * to the two-sided Python test</font></i>
<a name='L97'><i><font color='green'> *      1 &lt;= M &lt;= 12</font></i>
<a name='L98'><i><font color='green'> */</font></i>
<a name='L99'><font color='darkred'>#define</font> <a href='../R/1962.html' title='Multiple refered from 2 places.'>MONTH_IS_SANE</a>(<a href='../D/2001.html' title='Multiple defined in 2 places.'>M</a>) ((<b>unsigned</b> <b>int</b>)(M) - 1 &lt; 12)
<a name='L100'>
<a name='L101'><i><font color='green'>/* Forward declarations. */</font></i>
<a name='L102'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_DateType;
<a name='L103'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_DateTimeType;
<a name='L104'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_DeltaType;
<a name='L105'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_TimeType;
<a name='L106'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_TZInfoType;
<a name='L107'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_TimeZoneType;
<a name='L108'>
<a name='L109'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L110'><i><font color='green'> * Math utilities.</font></i>
<a name='L111'><i><font color='green'> */</font></i>
<a name='L112'>
<a name='L113'><i><font color='green'>/* k = i+j overflows iff k differs in sign from both inputs,</font></i>
<a name='L114'><i><font color='green'> * iff k^i has sign bit set and k^j has sign bit set,</font></i>
<a name='L115'><i><font color='green'> * iff (k^i)&amp;(k^j) has sign bit set.</font></i>
<a name='L116'><i><font color='green'> */</font></i>
<a name='L117'><font color='darkred'>#define</font> <a href='../S/2560.html#L461' title='Refered from 461 in Modules/_datetimemodule.c.'>SIGNED_ADD_OVERFLOWED</a>(RESULT, I, J) \
<a name='L118'>    ((((RESULT) ^ (<a href='../S/2690.html#L104' title='Defined at 104 in Modules/md5module.c.'>I</a>)) &amp; ((RESULT) ^ (J))) &lt; 0)
<a name='L119'>
<a name='L120'><i><font color='green'>/* Compute Python divmod(x, y), returning the quotient and storing the</font></i>
<a name='L121'><i><font color='green'> * remainder into *r.  The quotient is the floor of x/y, and that's</font></i>
<a name='L122'><i><font color='green'> * the real point of this.  C will probably truncate instead (C99</font></i>
<a name='L123'><i><font color='green'> * requires truncation; C89 left it implementation-defined).</font></i>
<a name='L124'><i><font color='green'> * Simplification:  we *require* that y &gt; 0 here.  That's appropriate</font></i>
<a name='L125'><i><font color='green'> * for all the uses made of it.  This simplifies the code and makes</font></i>
<a name='L126'><i><font color='green'> * the overflow case impossible (divmod(LONG_MIN, -1) is the only</font></i>
<a name='L127'><i><font color='green'> * overflow case).</font></i>
<a name='L128'><i><font color='green'> */</font></i>
<a name='L129'><b>static</b> <b>int</b>
<a name='L130'><a href='../R/7392.html' title='Multiple refered from 17 places.'>divmod</a>(<b>int</b> x, <b>int</b> y, <b>int</b> *r)
<a name='L131'><font color='red'>{</font>
<a name='L132'>    <b>int</b> quo;
<a name='L133'>
<a name='L134'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(y &gt; 0);
<a name='L135'>    quo = x / y;
<a name='L136'>    *r = x - quo * y;
<a name='L137'>    <b>if</b> (*r &lt; 0) <font color='red'>{</font>
<a name='L138'>        --quo;
<a name='L139'>        *r += y;
<a name='L140'>    <font color='red'>}</font>
<a name='L141'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= *r &amp;&amp; *r &lt; y);
<a name='L142'>    <b>return</b> quo;
<a name='L143'><font color='red'>}</font>
<a name='L144'>
<a name='L145'><i><font color='green'>/* Round a double to the nearest long.  |x| must be small enough to fit</font></i>
<a name='L146'><i><font color='green'> * in a C long; this is not checked.</font></i>
<a name='L147'><i><font color='green'> */</font></i>
<a name='L148'><b>static</b> <b>long</b>
<a name='L149'><a href='../R/10064.html' title='Multiple refered from 2 places.'>round_to_long</a>(<b>double</b> x)
<a name='L150'><font color='red'>{</font>
<a name='L151'>    <b>if</b> (x &gt;= 0.0)
<a name='L152'>        x = floor(x + 0.5);
<a name='L153'>    <b>else</b>
<a name='L154'>        x = ceil(x - 0.5);
<a name='L155'>    <b>return</b> (<b>long</b>)x;
<a name='L156'><font color='red'>}</font>
<a name='L157'>
<a name='L158'><i><font color='green'>/* Nearest integer to m / n for integers m and n. Half-integer results</font></i>
<a name='L159'><i><font color='green'> * are rounded to even.</font></i>
<a name='L160'><i><font color='green'> */</font></i>
<a name='L161'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L162'><a href='../R/7389.html' title='Multiple refered from 3 places.'>divide_nearest</a>(PyObject *m, PyObject *n)
<a name='L163'><font color='red'>{</font>
<a name='L164'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L165'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp;
<a name='L166'>
<a name='L167'>    temp = <a href='../S/2799.html#L4237' title='Defined at 4237 in Objects/longobject.c.'>_PyLong_DivmodNear</a>(m, n);
<a name='L168'>    <b>if</b> (temp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L169'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L170'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = PyTuple_GET_ITEM(temp, 0);
<a name='L171'>    Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L172'>    Py_DECREF(temp);
<a name='L173'>
<a name='L174'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L175'><font color='red'>}</font>
<a name='L176'>
<a name='L177'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L178'><i><font color='green'> * General calendrical helper functions</font></i>
<a name='L179'><i><font color='green'> */</font></i>
<a name='L180'>
<a name='L181'><i><font color='green'>/* For each month ordinal in 1..12, the number of days in that month,</font></i>
<a name='L182'><i><font color='green'> * and the number of days before that month in the same year.  These</font></i>
<a name='L183'><i><font color='green'> * are correct for non-leap years only.</font></i>
<a name='L184'><i><font color='green'> */</font></i>
<a name='L185'><b>static</b> <b>int</b> _days_in_month[] = <font color='red'>{</font>
<a name='L186'>    0, <i><font color='green'>/* unused; this vector uses 1-based indexing */</font></i>
<a name='L187'>    31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31
<a name='L188'><font color='red'>}</font>;
<a name='L189'>
<a name='L190'><b>static</b> <b>int</b> _days_before_month[] = <font color='red'>{</font>
<a name='L191'>    0, <i><font color='green'>/* unused; this vector uses 1-based indexing */</font></i>
<a name='L192'>    0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334
<a name='L193'><font color='red'>}</font>;
<a name='L194'>
<a name='L195'><i><font color='green'>/* year -&gt; 1 if leap year, else 0. */</font></i>
<a name='L196'><b>static</b> <b>int</b>
<a name='L197'><a href='../R/8503.html' title='Multiple refered from 3 places.'>is_leap</a>(<b>int</b> year)
<a name='L198'><font color='red'>{</font>
<a name='L199'>    <i><font color='green'>/* Cast year to unsigned.  The result is the same either way, but</font></i>
<a name='L200'><i><font color='green'>     * C can generate faster code for unsigned mod than for signed</font></i>
<a name='L201'><i><font color='green'>     * mod (especially for % 4 -- a good compiler should just grab</font></i>
<a name='L202'><i><font color='green'>     * the last 2 bits when the LHS is unsigned).</font></i>
<a name='L203'><i><font color='green'>     */</font></i>
<a name='L204'>    <b>const</b> <b>unsigned</b> <b>int</b> ayear = (<b>unsigned</b> <b>int</b>)year;
<a name='L205'>    <b>return</b> ayear % 4 == 0 &amp;&amp; (ayear % 100 != 0 || ayear % 400 == 0);
<a name='L206'><font color='red'>}</font>
<a name='L207'>
<a name='L208'><i><font color='green'>/* year, month -&gt; number of days in that month in that year */</font></i>
<a name='L209'><b>static</b> <b>int</b>
<a name='L210'><a href='../R/7164.html' title='Multiple refered from 5 places.'>days_in_month</a>(<b>int</b> year, <b>int</b> month)
<a name='L211'><font color='red'>{</font>
<a name='L212'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(month &gt;= 1);
<a name='L213'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(month &lt;= 12);
<a name='L214'>    <b>if</b> (month == 2 &amp;&amp; <a href='../S/2560.html#L197' title='Defined at 197 in Modules/_datetimemodule.c.'>is_leap</a>(year))
<a name='L215'>        <b>return</b> 29;
<a name='L216'>    <b>else</b>
<a name='L217'>        <b>return</b> _days_in_month[month];
<a name='L218'><font color='red'>}</font>
<a name='L219'>
<a name='L220'><i><font color='green'>/* year, month -&gt; number of days in year preceeding first day of month */</font></i>
<a name='L221'><b>static</b> <b>int</b>
<a name='L222'><a href='../R/7162.html' title='Multiple refered from 2 places.'>days_before_month</a>(<b>int</b> year, <b>int</b> month)
<a name='L223'><font color='red'>{</font>
<a name='L224'>    <b>int</b> days;
<a name='L225'>
<a name='L226'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(month &gt;= 1);
<a name='L227'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(month &lt;= 12);
<a name='L228'>    days = _days_before_month[month];
<a name='L229'>    <b>if</b> (month &gt; 2 &amp;&amp; <a href='../S/2560.html#L197' title='Defined at 197 in Modules/_datetimemodule.c.'>is_leap</a>(year))
<a name='L230'>        ++days;
<a name='L231'>    <b>return</b> days;
<a name='L232'><font color='red'>}</font>
<a name='L233'>
<a name='L234'><i><font color='green'>/* year -&gt; number of days before January 1st of year.  Remember that we</font></i>
<a name='L235'><i><font color='green'> * start with year 1, so days_before_year(1) == 0.</font></i>
<a name='L236'><i><font color='green'> */</font></i>
<a name='L237'><b>static</b> <b>int</b>
<a name='L238'><a href='../R/7163.html' title='Multiple refered from 4 places.'>days_before_year</a>(<b>int</b> year)
<a name='L239'><font color='red'>{</font>
<a name='L240'>    <b>int</b> y = year - 1;
<a name='L241'>    <i><font color='green'>/* This is incorrect if year &lt;= 0; we really want the floor</font></i>
<a name='L242'><i><font color='green'>     * here.  But so long as MINYEAR is 1, the smallest year this</font></i>
<a name='L243'><i><font color='green'>     * can see is 1.</font></i>
<a name='L244'><i><font color='green'>     */</font></i>
<a name='L245'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a> (year &gt;= 1);
<a name='L246'>    <b>return</b> y*365 + y/4 - y/100 + y/400;
<a name='L247'><font color='red'>}</font>
<a name='L248'>
<a name='L249'><i><font color='green'>/* Number of days in 4, 100, and 400 year cycles.  That these have</font></i>
<a name='L250'><i><font color='green'> * the correct values is asserted in the module init function.</font></i>
<a name='L251'><i><font color='green'> */</font></i>
<a name='L252'><font color='darkred'>#define</font> <a href='../R/728.html' title='Multiple refered from 5 places.'>DI4Y</a>    1461    <i><font color='green'>/* days_before_year(5); days in 4 years */</font></i>
<a name='L253'><font color='darkred'>#define</font> <a href='../R/726.html' title='Multiple refered from 5 places.'>DI100Y</a>  36524   <i><font color='green'>/* days_before_year(101); days in 100 years */</font></i>
<a name='L254'><font color='darkred'>#define</font> <a href='../R/727.html' title='Multiple refered from 4 places.'>DI400Y</a>  146097  <i><font color='green'>/* days_before_year(401); days in 400 years  */</font></i>
<a name='L255'>
<a name='L256'><i><font color='green'>/* ordinal -&gt; year, month, day, considering 01-Jan-0001 as day 1. */</font></i>
<a name='L257'><b>static</b> <b>void</b>
<a name='L258'><a href='../R/9387.html' title='Multiple refered from 2 places.'>ord_to_ymd</a>(<b>int</b> ordinal, <b>int</b> *year, <b>int</b> *month, <b>int</b> *day)
<a name='L259'><font color='red'>{</font>
<a name='L260'>    <b>int</b> n, n1, n4, n100, n400, leapyear, preceding;
<a name='L261'>
<a name='L262'>    <i><font color='green'>/* ordinal is a 1-based index, starting at 1-Jan-1.  The pattern of</font></i>
<a name='L263'><i><font color='green'>     * leap years repeats exactly every 400 years.  The basic strategy is</font></i>
<a name='L264'><i><font color='green'>     * to find the closest 400-year boundary at or before ordinal, then</font></i>
<a name='L265'><i><font color='green'>     * work with the offset from that boundary to ordinal.  Life is much</font></i>
<a name='L266'><i><font color='green'>     * clearer if we subtract 1 from ordinal first -- then the values</font></i>
<a name='L267'><i><font color='green'>     * of ordinal at 400-year boundaries are exactly those divisible</font></i>
<a name='L268'><i><font color='green'>     * by DI400Y:</font></i>
<a name='L269'><i><font color='green'>     *</font></i>
<a name='L270'><i><font color='green'>     *    D  M   Y            n              n-1</font></i>
<a name='L271'><i><font color='green'>     *    -- --- ----        ----------     ----------------</font></i>
<a name='L272'><i><font color='green'>     *    31 Dec -400        -DI400Y       -DI400Y -1</font></i>
<a name='L273'><i><font color='green'>     *     1 Jan -399         -DI400Y +1   -DI400Y      400-year boundary</font></i>
<a name='L274'><i><font color='green'>     *    ...</font></i>
<a name='L275'><i><font color='green'>     *    30 Dec  000        -1             -2</font></i>
<a name='L276'><i><font color='green'>     *    31 Dec  000         0             -1</font></i>
<a name='L277'><i><font color='green'>     *     1 Jan  001         1              0          400-year boundary</font></i>
<a name='L278'><i><font color='green'>     *     2 Jan  001         2              1</font></i>
<a name='L279'><i><font color='green'>     *     3 Jan  001         3              2</font></i>
<a name='L280'><i><font color='green'>     *    ...</font></i>
<a name='L281'><i><font color='green'>     *    31 Dec  400         DI400Y        DI400Y -1</font></i>
<a name='L282'><i><font color='green'>     *     1 Jan  401         DI400Y +1     DI400Y      400-year boundary</font></i>
<a name='L283'><i><font color='green'>     */</font></i>
<a name='L284'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(ordinal &gt;= 1);
<a name='L285'>    --ordinal;
<a name='L286'>    n400 = ordinal / <a href='../S/2560.html#L254' title='Defined at 254 in Modules/_datetimemodule.c.'>DI400Y</a>;
<a name='L287'>    n = ordinal % <a href='../S/2560.html#L254' title='Defined at 254 in Modules/_datetimemodule.c.'>DI400Y</a>;
<a name='L288'>    *year = n400 * 400 + 1;
<a name='L289'>
<a name='L290'>    <i><font color='green'>/* Now n is the (non-negative) offset, in days, from January 1 of</font></i>
<a name='L291'><i><font color='green'>     * year, to the desired date.  Now compute how many 100-year cycles</font></i>
<a name='L292'><i><font color='green'>     * precede n.</font></i>
<a name='L293'><i><font color='green'>     * Note that it's possible for n100 to equal 4!  In that case 4 full</font></i>
<a name='L294'><i><font color='green'>     * 100-year cycles precede the desired day, which implies the</font></i>
<a name='L295'><i><font color='green'>     * desired day is December 31 at the end of a 400-year cycle.</font></i>
<a name='L296'><i><font color='green'>     */</font></i>
<a name='L297'>    n100 = n / <a href='../S/2560.html#L253' title='Defined at 253 in Modules/_datetimemodule.c.'>DI100Y</a>;
<a name='L298'>    n = n % <a href='../S/2560.html#L253' title='Defined at 253 in Modules/_datetimemodule.c.'>DI100Y</a>;
<a name='L299'>
<a name='L300'>    <i><font color='green'>/* Now compute how many 4-year cycles precede it. */</font></i>
<a name='L301'>    n4 = n / <a href='../S/2560.html#L252' title='Defined at 252 in Modules/_datetimemodule.c.'>DI4Y</a>;
<a name='L302'>    n = n % <a href='../S/2560.html#L252' title='Defined at 252 in Modules/_datetimemodule.c.'>DI4Y</a>;
<a name='L303'>
<a name='L304'>    <i><font color='green'>/* And now how many single years.  Again n1 can be 4, and again</font></i>
<a name='L305'><i><font color='green'>     * meaning that the desired day is December 31 at the end of the</font></i>
<a name='L306'><i><font color='green'>     * 4-year cycle.</font></i>
<a name='L307'><i><font color='green'>     */</font></i>
<a name='L308'>    n1 = n / 365;
<a name='L309'>    n = n % 365;
<a name='L310'>
<a name='L311'>    *year += n100 * 100 + n4 * 4 + n1;
<a name='L312'>    <b>if</b> (n1 == 4 || n100 == 4) <font color='red'>{</font>
<a name='L313'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(n == 0);
<a name='L314'>        *year -= 1;
<a name='L315'>        *month = 12;
<a name='L316'>        *day = 31;
<a name='L317'>        <b>return</b>;
<a name='L318'>    <font color='red'>}</font>
<a name='L319'>
<a name='L320'>    <i><font color='green'>/* Now the year is correct, and n is the offset from January 1.  We</font></i>
<a name='L321'><i><font color='green'>     * find the month via an estimate that's either exact or one too</font></i>
<a name='L322'><i><font color='green'>     * large.</font></i>
<a name='L323'><i><font color='green'>     */</font></i>
<a name='L324'>    leapyear = n1 == 3 &amp;&amp; (n4 != 24 || n100 == 3);
<a name='L325'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(leapyear == <a href='../S/2560.html#L197' title='Defined at 197 in Modules/_datetimemodule.c.'>is_leap</a>(*year));
<a name='L326'>    *month = (n + 50) &gt;&gt; 5;
<a name='L327'>    preceding = (_days_before_month[*month] + (*month &gt; 2 &amp;&amp; leapyear));
<a name='L328'>    <b>if</b> (preceding &gt; n) <font color='red'>{</font>
<a name='L329'>        <i><font color='green'>/* estimate is too large */</font></i>
<a name='L330'>        *month -= 1;
<a name='L331'>        preceding -= <a href='../S/2560.html#L210' title='Defined at 210 in Modules/_datetimemodule.c.'>days_in_month</a>(*year, *month);
<a name='L332'>    <font color='red'>}</font>
<a name='L333'>    n -= preceding;
<a name='L334'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= n);
<a name='L335'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(n &lt; <a href='../S/2560.html#L210' title='Defined at 210 in Modules/_datetimemodule.c.'>days_in_month</a>(*year, *month));
<a name='L336'>
<a name='L337'>    *day = n + 1;
<a name='L338'><font color='red'>}</font>
<a name='L339'>
<a name='L340'><i><font color='green'>/* year, month, day -&gt; ordinal, considering 01-Jan-0001 as day 1. */</font></i>
<a name='L341'><b>static</b> <b>int</b>
<a name='L342'><a href='../R/11521.html' title='Multiple refered from 10 places.'>ymd_to_ord</a>(<b>int</b> year, <b>int</b> month, <b>int</b> day)
<a name='L343'><font color='red'>{</font>
<a name='L344'>    <b>return</b> <a href='../S/2560.html#L238' title='Defined at 238 in Modules/_datetimemodule.c.'>days_before_year</a>(year) + <a href='../S/2560.html#L222' title='Defined at 222 in Modules/_datetimemodule.c.'>days_before_month</a>(year, month) + day;
<a name='L345'><font color='red'>}</font>
<a name='L346'>
<a name='L347'><i><font color='green'>/* Day of week, where Monday==0, ..., Sunday==6.  1/1/1 was a Monday. */</font></i>
<a name='L348'><b>static</b> <b>int</b>
<a name='L349'><a href='../R/11397.html' title='Multiple refered from 4 places.'>weekday</a>(<b>int</b> year, <b>int</b> month, <b>int</b> day)
<a name='L350'><font color='red'>{</font>
<a name='L351'>    <b>return</b> (<a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(year, month, day) + 6) % 7;
<a name='L352'><font color='red'>}</font>
<a name='L353'>
<a name='L354'><i><font color='green'>/* Ordinal of the Monday starting week 1 of the ISO year.  Week 1 is the</font></i>
<a name='L355'><i><font color='green'> * first calendar week containing a Thursday.</font></i>
<a name='L356'><i><font color='green'> */</font></i>
<a name='L357'><b>static</b> <b>int</b>
<a name='L358'><a href='../R/8533.html' title='Multiple refered from 3 places.'>iso_week1_monday</a>(<b>int</b> year)
<a name='L359'><font color='red'>{</font>
<a name='L360'>    <b>int</b> first_day = <a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(year, 1, 1);     <i><font color='green'>/* ord of 1/1 */</font></i>
<a name='L361'>    <i><font color='green'>/* 0 if 1/1 is a Monday, 1 if a Tue, etc. */</font></i>
<a name='L362'>    <b>int</b> first_weekday = (first_day + 6) % 7;
<a name='L363'>    <i><font color='green'>/* ordinal of closest Monday at or before 1/1 */</font></i>
<a name='L364'>    <b>int</b> week1_monday  = first_day - first_weekday;
<a name='L365'>
<a name='L366'>    <b>if</b> (first_weekday &gt; 3)      <i><font color='green'>/* if 1/1 was Fri, Sat, Sun */</font></i>
<a name='L367'>        week1_monday += 7;
<a name='L368'>    <b>return</b> week1_monday;
<a name='L369'><font color='red'>}</font>
<a name='L370'>
<a name='L371'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L372'><i><font color='green'> * Range checkers.</font></i>
<a name='L373'><i><font color='green'> */</font></i>
<a name='L374'>
<a name='L375'><i><font color='green'>/* Check that -MAX_DELTA_DAYS &lt;= days &lt;= MAX_DELTA_DAYS.  If so, return 0.</font></i>
<a name='L376'><i><font color='green'> * If not, raise OverflowError and return -1.</font></i>
<a name='L377'><i><font color='green'> */</font></i>
<a name='L378'><b>static</b> <b>int</b>
<a name='L379'><a href='../S/2560.html#L745' title='Refered from 745 in Modules/_datetimemodule.c.'>check_delta_day_range</a>(<b>int</b> days)
<a name='L380'><font color='red'>{</font>
<a name='L381'>    <b>if</b> (-<a href='../S/2560.html#L39' title='Defined at 39 in Modules/_datetimemodule.c.'>MAX_DELTA_DAYS</a> &lt;= days &amp;&amp; days &lt;= <a href='../S/2560.html#L39' title='Defined at 39 in Modules/_datetimemodule.c.'>MAX_DELTA_DAYS</a>)
<a name='L382'>        <b>return</b> 0;
<a name='L383'>    <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_OverflowError,
<a name='L384'>                 "days=%d; must have magnitude &lt;= %d",
<a name='L385'>                 days, <a href='../S/2560.html#L39' title='Defined at 39 in Modules/_datetimemodule.c.'>MAX_DELTA_DAYS</a>);
<a name='L386'>    <b>return</b> -1;
<a name='L387'><font color='red'>}</font>
<a name='L388'>
<a name='L389'><i><font color='green'>/* Check that date arguments are in range.  Return 0 if they are.  If they</font></i>
<a name='L390'><i><font color='green'> * aren't, raise ValueError and return -1.</font></i>
<a name='L391'><i><font color='green'> */</font></i>
<a name='L392'><b>static</b> <b>int</b>
<a name='L393'><a href='../R/6625.html' title='Multiple refered from 2 places.'>check_date_args</a>(<b>int</b> year, <b>int</b> month, <b>int</b> day)
<a name='L394'><font color='red'>{</font>
<a name='L395'>
<a name='L396'>    <b>if</b> (year &lt; <a href='../S/2560.html#L30' title='Defined at 30 in Modules/_datetimemodule.c.'>MINYEAR</a> || year &gt; <a href='../S/2560.html#L31' title='Defined at 31 in Modules/_datetimemodule.c.'>MAXYEAR</a>) <font color='red'>{</font>
<a name='L397'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L398'>                        "year is out of range");
<a name='L399'>        <b>return</b> -1;
<a name='L400'>    <font color='red'>}</font>
<a name='L401'>    <b>if</b> (month &lt; 1 || month &gt; 12) <font color='red'>{</font>
<a name='L402'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L403'>                        "month must be in 1..12");
<a name='L404'>        <b>return</b> -1;
<a name='L405'>    <font color='red'>}</font>
<a name='L406'>    <b>if</b> (day &lt; 1 || day &gt; <a href='../S/2560.html#L210' title='Defined at 210 in Modules/_datetimemodule.c.'>days_in_month</a>(year, month)) <font color='red'>{</font>
<a name='L407'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L408'>                        "day is out of range for month");
<a name='L409'>        <b>return</b> -1;
<a name='L410'>    <font color='red'>}</font>
<a name='L411'>    <b>return</b> 0;
<a name='L412'><font color='red'>}</font>
<a name='L413'>
<a name='L414'><i><font color='green'>/* Check that time arguments are in range.  Return 0 if they are.  If they</font></i>
<a name='L415'><i><font color='green'> * aren't, raise ValueError and return -1.</font></i>
<a name='L416'><i><font color='green'> */</font></i>
<a name='L417'><b>static</b> <b>int</b>
<a name='L418'><a href='../R/6643.html' title='Multiple refered from 2 places.'>check_time_args</a>(<b>int</b> h, <b>int</b> m, <b>int</b> s, <b>int</b> us)
<a name='L419'><font color='red'>{</font>
<a name='L420'>    <b>if</b> (h &lt; 0 || h &gt; 23) <font color='red'>{</font>
<a name='L421'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L422'>                        "hour must be in 0..23");
<a name='L423'>        <b>return</b> -1;
<a name='L424'>    <font color='red'>}</font>
<a name='L425'>    <b>if</b> (m &lt; 0 || m &gt; 59) <font color='red'>{</font>
<a name='L426'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L427'>                        "minute must be in 0..59");
<a name='L428'>        <b>return</b> -1;
<a name='L429'>    <font color='red'>}</font>
<a name='L430'>    <b>if</b> (s &lt; 0 || s &gt; 59) <font color='red'>{</font>
<a name='L431'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L432'>                        "second must be in 0..59");
<a name='L433'>        <b>return</b> -1;
<a name='L434'>    <font color='red'>}</font>
<a name='L435'>    <b>if</b> (us &lt; 0 || us &gt; 999999) <font color='red'>{</font>
<a name='L436'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L437'>                        "microsecond must be in 0..999999");
<a name='L438'>        <b>return</b> -1;
<a name='L439'>    <font color='red'>}</font>
<a name='L440'>    <b>return</b> 0;
<a name='L441'><font color='red'>}</font>
<a name='L442'>
<a name='L443'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L444'><i><font color='green'> * Normalization utilities.</font></i>
<a name='L445'><i><font color='green'> */</font></i>
<a name='L446'>
<a name='L447'><i><font color='green'>/* One step of a mixed-radix conversion.  A "hi" unit is equivalent to</font></i>
<a name='L448'><i><font color='green'> * factor "lo" units.  factor must be &gt; 0.  If *lo is less than 0, or</font></i>
<a name='L449'><i><font color='green'> * at least factor, enough of *lo is converted into "hi" units so that</font></i>
<a name='L450'><i><font color='green'> * 0 &lt;= *lo &lt; factor.  The input values must be such that int overflow</font></i>
<a name='L451'><i><font color='green'> * is impossible.</font></i>
<a name='L452'><i><font color='green'> */</font></i>
<a name='L453'><b>static</b> <b>void</b>
<a name='L454'><a href='../R/9274.html' title='Multiple refered from 6 places.'>normalize_pair</a>(<b>int</b> *hi, <b>int</b> *lo, <b>int</b> factor)
<a name='L455'><font color='red'>{</font>
<a name='L456'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a> &gt; 0);
<a name='L457'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(lo != hi);
<a name='L458'>    <b>if</b> (*lo &lt; 0 || *lo &gt;= <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>) <font color='red'>{</font>
<a name='L459'>        <b>const</b> <b>int</b> num_hi = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(*lo, <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>, lo);
<a name='L460'>        <b>const</b> <b>int</b> new_hi = *hi + num_hi;
<a name='L461'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(! <a href='../S/2560.html#L117' title='Defined at 117 in Modules/_datetimemodule.c.'>SIGNED_ADD_OVERFLOWED</a>(new_hi, *hi, num_hi));
<a name='L462'>        *hi = new_hi;
<a name='L463'>    <font color='red'>}</font>
<a name='L464'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= *lo &amp;&amp; *lo &lt; <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>);
<a name='L465'><font color='red'>}</font>
<a name='L466'>
<a name='L467'><i><font color='green'>/* Fiddle days (d), seconds (s), and microseconds (us) so that</font></i>
<a name='L468'><i><font color='green'> *      0 &lt;= *s &lt; 24*3600</font></i>
<a name='L469'><i><font color='green'> *      0 &lt;= *us &lt; 1000000</font></i>
<a name='L470'><i><font color='green'> * The input values must be such that the internals don't overflow.</font></i>
<a name='L471'><i><font color='green'> * The way this routine is used, we don't get close.</font></i>
<a name='L472'><i><font color='green'> */</font></i>
<a name='L473'><b>static</b> <b>void</b>
<a name='L474'><a href='../S/2560.html#L741' title='Refered from 741 in Modules/_datetimemodule.c.'>normalize_d_s_us</a>(<b>int</b> *d, <b>int</b> *s, <b>int</b> *us)
<a name='L475'><font color='red'>{</font>
<a name='L476'>    <b>if</b> (*us &lt; 0 || *us &gt;= 1000000) <font color='red'>{</font>
<a name='L477'>        <a href='../S/2560.html#L454' title='Defined at 454 in Modules/_datetimemodule.c.'>normalize_pair</a>(s, us, 1000000);
<a name='L478'>        <i><font color='green'>/* |s| can't be bigger than about</font></i>
<a name='L479'><i><font color='green'>         * |original s| + |original us|/1000000 now.</font></i>
<a name='L480'><i><font color='green'>         */</font></i>
<a name='L481'>
<a name='L482'>    <font color='red'>}</font>
<a name='L483'>    <b>if</b> (*s &lt; 0 || *s &gt;= 24*3600) <font color='red'>{</font>
<a name='L484'>        <a href='../S/2560.html#L454' title='Defined at 454 in Modules/_datetimemodule.c.'>normalize_pair</a>(d, s, 24*3600);
<a name='L485'>        <i><font color='green'>/* |d| can't be bigger than about</font></i>
<a name='L486'><i><font color='green'>         * |original d| +</font></i>
<a name='L487'><i><font color='green'>         * (|original s| + |original us|/1000000) / (24*3600) now.</font></i>
<a name='L488'><i><font color='green'>         */</font></i>
<a name='L489'>    <font color='red'>}</font>
<a name='L490'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= *s &amp;&amp; *s &lt; 24*3600);
<a name='L491'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= *us &amp;&amp; *us &lt; 1000000);
<a name='L492'><font color='red'>}</font>
<a name='L493'>
<a name='L494'><i><font color='green'>/* Fiddle years (y), months (m), and days (d) so that</font></i>
<a name='L495'><i><font color='green'> *      1 &lt;= *m &lt;= 12</font></i>
<a name='L496'><i><font color='green'> *      1 &lt;= *d &lt;= days_in_month(*y, *m)</font></i>
<a name='L497'><i><font color='green'> * The input values must be such that the internals don't overflow.</font></i>
<a name='L498'><i><font color='green'> * The way this routine is used, we don't get close.</font></i>
<a name='L499'><i><font color='green'> */</font></i>
<a name='L500'><b>static</b> <b>int</b>
<a name='L501'><a href='../S/2560.html#L570' title='Refered from 570 in Modules/_datetimemodule.c.'>normalize_y_m_d</a>(<b>int</b> *y, <b>int</b> *m, <b>int</b> *d)
<a name='L502'><font color='red'>{</font>
<a name='L503'>    <b>int</b> dim;            <i><font color='green'>/* # of days in month */</font></i>
<a name='L504'>
<a name='L505'>    <i><font color='green'>/* In actual use, m is always the month component extracted from a</font></i>
<a name='L506'><i><font color='green'>     * date/datetime object.  Therefore it is always in [1, 12] range.</font></i>
<a name='L507'><i><font color='green'>     */</font></i>
<a name='L508'>
<a name='L509'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(1 &lt;= *m &amp;&amp; *m &lt;= 12);
<a name='L510'>
<a name='L511'>    <i><font color='green'>/* Now only day can be out of bounds (year may also be out of bounds</font></i>
<a name='L512'><i><font color='green'>     * for a datetime object, but we don't care about that here).</font></i>
<a name='L513'><i><font color='green'>     * If day is out of bounds, what to do is arguable, but at least the</font></i>
<a name='L514'><i><font color='green'>     * method here is principled and explainable.</font></i>
<a name='L515'><i><font color='green'>     */</font></i>
<a name='L516'>    dim = <a href='../S/2560.html#L210' title='Defined at 210 in Modules/_datetimemodule.c.'>days_in_month</a>(*y, *m);
<a name='L517'>    <b>if</b> (*d &lt; 1 || *d &gt; dim) <font color='red'>{</font>
<a name='L518'>        <i><font color='green'>/* Move day-1 days from the first of the month.  First try to</font></i>
<a name='L519'><i><font color='green'>         * get off cheap if we're only one day out of range</font></i>
<a name='L520'><i><font color='green'>         * (adjustments for timezone alone can't be worse than that).</font></i>
<a name='L521'><i><font color='green'>         */</font></i>
<a name='L522'>        <b>if</b> (*d == 0) <font color='red'>{</font>
<a name='L523'>            --*m;
<a name='L524'>            <b>if</b> (*m &gt; 0)
<a name='L525'>                *d = <a href='../S/2560.html#L210' title='Defined at 210 in Modules/_datetimemodule.c.'>days_in_month</a>(*y, *m);
<a name='L526'>            <b>else</b> <font color='red'>{</font>
<a name='L527'>                --*y;
<a name='L528'>                *m = 12;
<a name='L529'>                *d = 31;
<a name='L530'>            <font color='red'>}</font>
<a name='L531'>        <font color='red'>}</font>
<a name='L532'>        <b>else</b> <b>if</b> (*d == dim + 1) <font color='red'>{</font>
<a name='L533'>            <i><font color='green'>/* move forward a day */</font></i>
<a name='L534'>            ++*m;
<a name='L535'>            *d = 1;
<a name='L536'>            <b>if</b> (*m &gt; 12) <font color='red'>{</font>
<a name='L537'>                *m = 1;
<a name='L538'>                ++*y;
<a name='L539'>            <font color='red'>}</font>
<a name='L540'>        <font color='red'>}</font>
<a name='L541'>        <b>else</b> <font color='red'>{</font>
<a name='L542'>            <b>int</b> ordinal = <a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(*y, *m, 1) +
<a name='L543'>                                      *d - 1;
<a name='L544'>            <b>if</b> (ordinal &lt; 1 || ordinal &gt; <a href='../S/2560.html#L32' title='Defined at 32 in Modules/_datetimemodule.c.'>MAXORDINAL</a>) <font color='red'>{</font>
<a name='L545'>                <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L546'>            <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L547'>                <a href='../S/2560.html#L258' title='Defined at 258 in Modules/_datetimemodule.c.'>ord_to_ymd</a>(ordinal, y, m, d);
<a name='L548'>                <b>return</b> 0;
<a name='L549'>            <font color='red'>}</font>
<a name='L550'>        <font color='red'>}</font>
<a name='L551'>    <font color='red'>}</font>
<a name='L552'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(*m &gt; 0);
<a name='L553'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(*d &gt; 0);
<a name='L554'>    <b>if</b> (<a href='../S/2560.html#L30' title='Defined at 30 in Modules/_datetimemodule.c.'>MINYEAR</a> &lt;= *y &amp;&amp; *y &lt;= <a href='../S/2560.html#L31' title='Defined at 31 in Modules/_datetimemodule.c.'>MAXYEAR</a>)
<a name='L555'>        <b>return</b> 0;
<a name='L556'> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L557'>    <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError,
<a name='L558'>            "date value out of range");
<a name='L559'>    <b>return</b> -1;
<a name='L560'>
<a name='L561'><font color='red'>}</font>
<a name='L562'>
<a name='L563'><i><font color='green'>/* Fiddle out-of-bounds months and days so that the result makes some kind</font></i>
<a name='L564'><i><font color='green'> * of sense.  The parameters are both inputs and outputs.  Returns &lt; 0 on</font></i>
<a name='L565'><i><font color='green'> * failure, where failure means the adjusted year is out of bounds.</font></i>
<a name='L566'><i><font color='green'> */</font></i>
<a name='L567'><b>static</b> <b>int</b>
<a name='L568'><a href='../R/9269.html' title='Multiple refered from 2 places.'>normalize_date</a>(<b>int</b> *year, <b>int</b> *month, <b>int</b> *day)
<a name='L569'><font color='red'>{</font>
<a name='L570'>    <b>return</b> <a href='../S/2560.html#L501' title='Defined at 501 in Modules/_datetimemodule.c.'>normalize_y_m_d</a>(year, month, day);
<a name='L571'><font color='red'>}</font>
<a name='L572'>
<a name='L573'><i><font color='green'>/* Force all the datetime fields into range.  The parameters are both</font></i>
<a name='L574'><i><font color='green'> * inputs and outputs.  Returns &lt; 0 on error.</font></i>
<a name='L575'><i><font color='green'> */</font></i>
<a name='L576'><b>static</b> <b>int</b>
<a name='L577'><a href='../S/2560.html#L4359' title='Refered from 4359 in Modules/_datetimemodule.c.'>normalize_datetime</a>(<b>int</b> *year, <b>int</b> *month, <b>int</b> *day,
<a name='L578'>                   <b>int</b> *hour, <b>int</b> *minute, <b>int</b> *second,
<a name='L579'>                   <b>int</b> *microsecond)
<a name='L580'><font color='red'>{</font>
<a name='L581'>    <a href='../S/2560.html#L454' title='Defined at 454 in Modules/_datetimemodule.c.'>normalize_pair</a>(second, microsecond, 1000000);
<a name='L582'>    <a href='../S/2560.html#L454' title='Defined at 454 in Modules/_datetimemodule.c.'>normalize_pair</a>(minute, second, 60);
<a name='L583'>    <a href='../S/2560.html#L454' title='Defined at 454 in Modules/_datetimemodule.c.'>normalize_pair</a>(hour, minute, 60);
<a name='L584'>    <a href='../S/2560.html#L454' title='Defined at 454 in Modules/_datetimemodule.c.'>normalize_pair</a>(day, hour, 24);
<a name='L585'>    <b>return</b> <a href='../S/2560.html#L568' title='Defined at 568 in Modules/_datetimemodule.c.'>normalize_date</a>(year, month, day);
<a name='L586'><font color='red'>}</font>
<a name='L587'>
<a name='L588'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L589'><i><font color='green'> * Basic object allocation:  tp_alloc implementations.  These allocate</font></i>
<a name='L590'><i><font color='green'> * Python objects of the right size and type, and do the Python object-</font></i>
<a name='L591'><i><font color='green'> * initialization bit.  If there's not enough memory, they return NULL after</font></i>
<a name='L592'><i><font color='green'> * setting MemoryError.  All data members remain uninitialized trash.</font></i>
<a name='L593'><i><font color='green'> *</font></i>
<a name='L594'><i><font color='green'> * We abuse the tp_alloc "nitems" argument to communicate whether a tzinfo</font></i>
<a name='L595'><i><font color='green'> * member is needed.  This is ugly, imprecise, and possibly insecure.</font></i>
<a name='L596'><i><font color='green'> * tp_basicsize for the time and datetime types is set to the size of the</font></i>
<a name='L597'><i><font color='green'> * struct that has room for the tzinfo member, so subclasses in Python will</font></i>
<a name='L598'><i><font color='green'> * allocate enough space for a tzinfo member whether or not one is actually</font></i>
<a name='L599'><i><font color='green'> * needed.  That's the "ugly and imprecise" parts.  The "possibly insecure"</font></i>
<a name='L600'><i><font color='green'> * part is that PyType_GenericAlloc() (which subclasses in Python end up</font></i>
<a name='L601'><i><font color='green'> * using) just happens today to effectively ignore the nitems argument</font></i>
<a name='L602'><i><font color='green'> * when tp_itemsize is 0, which it is for these type objects.  If that</font></i>
<a name='L603'><i><font color='green'> * changes, perhaps the callers of tp_alloc slots in this file should</font></i>
<a name='L604'><i><font color='green'> * be changed to force a 0 nitems argument unless the type being allocated</font></i>
<a name='L605'><i><font color='green'> * is a base type implemented in this file (so that tp_alloc is time_alloc</font></i>
<a name='L606'><i><font color='green'> * or datetime_alloc below, which know about the nitems abuse).</font></i>
<a name='L607'><i><font color='green'> */</font></i>
<a name='L608'>
<a name='L609'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L610'><a href='../S/2560.html#L3959' title='Refered from 3959 in Modules/_datetimemodule.c.'>time_alloc</a>(PyTypeObject *type, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> aware)
<a name='L611'><font color='red'>{</font>
<a name='L612'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self;
<a name='L613'>
<a name='L614'>    self = (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)
<a name='L615'>        PyObject_MALLOC(aware ?
<a name='L616'>                        <b>sizeof</b>(<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a>) :
<a name='L617'>                <b>sizeof</b>(<a href='../S/515.html#L79' title='Defined at 79 in Include/datetime.h.'>_PyDateTime_BaseTime</a>));
<a name='L618'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L619'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)<a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L620'>    PyObject_INIT(self, type);
<a name='L621'>    <b>return</b> self;
<a name='L622'><font color='red'>}</font>
<a name='L623'>
<a name='L624'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L625'><a href='../S/2560.html#L5029' title='Refered from 5029 in Modules/_datetimemodule.c.'>datetime_alloc</a>(PyTypeObject *type, <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> aware)
<a name='L626'><font color='red'>{</font>
<a name='L627'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self;
<a name='L628'>
<a name='L629'>    self = (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)
<a name='L630'>        PyObject_MALLOC(aware ?
<a name='L631'>                        <b>sizeof</b>(<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a>) :
<a name='L632'>                <b>sizeof</b>(<a href='../S/515.html#L106' title='Defined at 106 in Include/datetime.h.'>_PyDateTime_BaseDateTime</a>));
<a name='L633'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L634'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)<a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L635'>    PyObject_INIT(self, type);
<a name='L636'>    <b>return</b> self;
<a name='L637'><font color='red'>}</font>
<a name='L638'>
<a name='L639'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L640'><i><font color='green'> * Helpers for setting object fields.  These work on pointers to the</font></i>
<a name='L641'><i><font color='green'> * appropriate base class.</font></i>
<a name='L642'><i><font color='green'> */</font></i>
<a name='L643'>
<a name='L644'><i><font color='green'>/* For date and datetime. */</font></i>
<a name='L645'><b>static</b> <b>void</b>
<a name='L646'><a href='../R/10188.html' title='Multiple refered from 2 places.'>set_date_fields</a>(PyDateTime_Date *self, <b>int</b> y, <b>int</b> m, <b>int</b> d)
<a name='L647'><font color='red'>{</font>
<a name='L648'>    self-&gt;hashcode = -1;
<a name='L649'>    <a href='../S/2560.html#L51' title='Defined at 51 in Modules/_datetimemodule.c.'>SET_YEAR</a>(self, y);
<a name='L650'>    <a href='../S/2560.html#L53' title='Defined at 53 in Modules/_datetimemodule.c.'>SET_MONTH</a>(self, m);
<a name='L651'>    <a href='../S/2560.html#L54' title='Defined at 54 in Modules/_datetimemodule.c.'>SET_DAY</a>(self, d);
<a name='L652'><font color='red'>}</font>
<a name='L653'>
<a name='L654'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L655'><i><font color='green'> * Create various objects, mostly without range checking.</font></i>
<a name='L656'><i><font color='green'> */</font></i>
<a name='L657'>
<a name='L658'><i><font color='green'>/* Create a date instance with no range checking. */</font></i>
<a name='L659'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L660'><a href='../R/9198.html' title='Multiple refered from 3 places.'>new_date_ex</a>(<b>int</b> year, <b>int</b> month, <b>int</b> day, PyTypeObject *type)
<a name='L661'><font color='red'>{</font>
<a name='L662'>    <a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *self;
<a name='L663'>
<a name='L664'>    self = (<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *) (type-&gt;tp_alloc(type, 0));
<a name='L665'>    <b>if</b> (self != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L666'>        <a href='../S/2560.html#L646' title='Defined at 646 in Modules/_datetimemodule.c.'>set_date_fields</a>(self, year, month, day);
<a name='L667'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self;
<a name='L668'><font color='red'>}</font>
<a name='L669'>
<a name='L670'><font color='darkred'>#define</font> <a href='../R/9197.html' title='Multiple refered from 4 places.'>new_date</a>(year, month, day) \
<a name='L671'>    <a href='../S/2560.html#L660' title='Defined at 660 in Modules/_datetimemodule.c.'>new_date_ex</a>(year, month, day, &amp;PyDateTime_DateType)
<a name='L672'>
<a name='L673'><i><font color='green'>/* Create a datetime instance with no range checking. */</font></i>
<a name='L674'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L675'><a href='../R/9200.html' title='Multiple refered from 3 places.'>new_datetime_ex</a>(<b>int</b> year, <b>int</b> month, <b>int</b> day, <b>int</b> hour, <b>int</b> minute,
<a name='L676'>             <b>int</b> second, <b>int</b> usecond, PyObject *tzinfo, PyTypeObject *type)
<a name='L677'><font color='red'>{</font>
<a name='L678'>    <a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *self;
<a name='L679'>    <b>char</b> aware = tzinfo != Py_None;
<a name='L680'>
<a name='L681'>    self = (<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *) (type-&gt;tp_alloc(type, aware));
<a name='L682'>    <b>if</b> (self != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L683'>        self-&gt;hastzinfo = aware;
<a name='L684'>        <a href='../S/2560.html#L646' title='Defined at 646 in Modules/_datetimemodule.c.'>set_date_fields</a>((<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *)self, year, month, day);
<a name='L685'>        <a href='../S/2560.html#L57' title='Defined at 57 in Modules/_datetimemodule.c.'>DATE_SET_HOUR</a>(self, hour);
<a name='L686'>        <a href='../S/2560.html#L58' title='Defined at 58 in Modules/_datetimemodule.c.'>DATE_SET_MINUTE</a>(self, minute);
<a name='L687'>        <a href='../S/2560.html#L59' title='Defined at 59 in Modules/_datetimemodule.c.'>DATE_SET_SECOND</a>(self, second);
<a name='L688'>        <a href='../S/2560.html#L60' title='Defined at 60 in Modules/_datetimemodule.c.'>DATE_SET_MICROSECOND</a>(self, usecond);
<a name='L689'>        <b>if</b> (aware) <font color='red'>{</font>
<a name='L690'>            Py_INCREF(tzinfo);
<a name='L691'>            self-&gt;tzinfo = tzinfo;
<a name='L692'>        <font color='red'>}</font>
<a name='L693'>    <font color='red'>}</font>
<a name='L694'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L695'><font color='red'>}</font>
<a name='L696'>
<a name='L697'><font color='darkred'>#define</font> <a href='../R/9199.html' title='Multiple refered from 3 places.'>new_datetime</a>(y, m, d, hh, mm, ss, us, tzinfo)           \
<a name='L698'>    <a href='../S/2560.html#L675' title='Defined at 675 in Modules/_datetimemodule.c.'>new_datetime_ex</a>(y, m, d, hh, mm, ss, us, tzinfo,            \
<a name='L699'>                    &amp;PyDateTime_DateTimeType)
<a name='L700'>
<a name='L701'><i><font color='green'>/* Create a time instance with no range checking. */</font></i>
<a name='L702'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L703'><a href='../R/9211.html' title='Multiple refered from 3 places.'>new_time_ex</a>(<b>int</b> hour, <b>int</b> minute, <b>int</b> second, <b>int</b> usecond,
<a name='L704'>            PyObject *tzinfo, PyTypeObject *type)
<a name='L705'><font color='red'>{</font>
<a name='L706'>    <a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *self;
<a name='L707'>    <b>char</b> aware = tzinfo != Py_None;
<a name='L708'>
<a name='L709'>    self = (<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *) (type-&gt;tp_alloc(type, aware));
<a name='L710'>    <b>if</b> (self != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L711'>        self-&gt;hastzinfo = aware;
<a name='L712'>        self-&gt;hashcode = -1;
<a name='L713'>        <a href='../S/2560.html#L70' title='Defined at 70 in Modules/_datetimemodule.c.'>TIME_SET_HOUR</a>(self, hour);
<a name='L714'>        <a href='../S/2560.html#L71' title='Defined at 71 in Modules/_datetimemodule.c.'>TIME_SET_MINUTE</a>(self, minute);
<a name='L715'>        <a href='../S/2560.html#L72' title='Defined at 72 in Modules/_datetimemodule.c.'>TIME_SET_SECOND</a>(self, second);
<a name='L716'>        <a href='../S/2560.html#L73' title='Defined at 73 in Modules/_datetimemodule.c.'>TIME_SET_MICROSECOND</a>(self, usecond);
<a name='L717'>        <b>if</b> (aware) <font color='red'>{</font>
<a name='L718'>            Py_INCREF(tzinfo);
<a name='L719'>            self-&gt;tzinfo = tzinfo;
<a name='L720'>        <font color='red'>}</font>
<a name='L721'>    <font color='red'>}</font>
<a name='L722'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L723'><font color='red'>}</font>
<a name='L724'>
<a name='L725'><font color='darkred'>#define</font> <a href='../R/9210.html' title='Multiple refered from 4 places.'>new_time</a>(hh, mm, ss, us, tzinfo)                \
<a name='L726'>    <a href='../S/2560.html#L703' title='Defined at 703 in Modules/_datetimemodule.c.'>new_time_ex</a>(hh, mm, ss, us, tzinfo, &amp;PyDateTime_TimeType)
<a name='L727'>
<a name='L728'><i><font color='green'>/* Create a timedelta instance.  Normalize the members iff normalize is</font></i>
<a name='L729'><i><font color='green'> * true.  Passing false is a speed optimization, if you know for sure</font></i>
<a name='L730'><i><font color='green'> * that seconds and microseconds are already in their proper ranges.  In any</font></i>
<a name='L731'><i><font color='green'> * case, raises OverflowError and returns NULL if the normalized days is out</font></i>
<a name='L732'><i><font color='green'> * of range).</font></i>
<a name='L733'><i><font color='green'> */</font></i>
<a name='L734'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L735'><a href='../R/9202.html' title='Multiple refered from 3 places.'>new_delta_ex</a>(<b>int</b> days, <b>int</b> seconds, <b>int</b> microseconds, <b>int</b> normalize,
<a name='L736'>             PyTypeObject *type)
<a name='L737'><font color='red'>{</font>
<a name='L738'>    <a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *self;
<a name='L739'>
<a name='L740'>    <b>if</b> (normalize)
<a name='L741'>        <a href='../S/2560.html#L474' title='Defined at 474 in Modules/_datetimemodule.c.'>normalize_d_s_us</a>(&amp;days, &amp;seconds, &amp;microseconds);
<a name='L742'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= seconds &amp;&amp; seconds &lt; 24*3600);
<a name='L743'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= microseconds &amp;&amp; microseconds &lt; 1000000);
<a name='L744'>
<a name='L745'>    <b>if</b> (<a href='../S/2560.html#L379' title='Defined at 379 in Modules/_datetimemodule.c.'>check_delta_day_range</a>(days) &lt; 0)
<a name='L746'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L747'>
<a name='L748'>    self = (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) (type-&gt;tp_alloc(type, 0));
<a name='L749'>    <b>if</b> (self != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L750'>        self-&gt;hashcode = -1;
<a name='L751'>        <a href='../S/2560.html#L83' title='Defined at 83 in Modules/_datetimemodule.c.'>SET_TD_DAYS</a>(self, days);
<a name='L752'>        <a href='../S/2560.html#L84' title='Defined at 84 in Modules/_datetimemodule.c.'>SET_TD_SECONDS</a>(self, seconds);
<a name='L753'>        <a href='../S/2560.html#L85' title='Defined at 85 in Modules/_datetimemodule.c.'>SET_TD_MICROSECONDS</a>(self, microseconds);
<a name='L754'>    <font color='red'>}</font>
<a name='L755'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) self;
<a name='L756'><font color='red'>}</font>
<a name='L757'>
<a name='L758'><font color='darkred'>#define</font> <a href='../R/9201.html' title='Multiple refered from 16 places.'>new_delta</a>(d, s, us, normalize)  \
<a name='L759'>    <a href='../S/2560.html#L735' title='Defined at 735 in Modules/_datetimemodule.c.'>new_delta_ex</a>(d, s, us, normalize, &amp;PyDateTime_DeltaType)
<a name='L760'>
<a name='L761'>
<a name='L762'><b>typedef</b> <b>struct</b>
<a name='L763'><font color='red'>{</font>
<a name='L764'>    <a href='../S/544.html#L82' title='Defined at 82 in Include/object.h.'>PyObject_HEAD</a>
<a name='L765'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L766'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *name;
<a name='L767'><font color='red'>}</font> <a href='../R/2808.html' title='Multiple refered from 3 places.'>PyDateTime_TimeZone</a>;
<a name='L768'>
<a name='L769'><i><font color='green'>/* The interned UTC timezone instance */</font></i> 
<a name='L770'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *PyDateTime_TimeZone_UTC;
<a name='L771'>
<a name='L772'><i><font color='green'>/* Create new timezone instance checking offset range.  This</font></i>
<a name='L773'><i><font color='green'>   function does not check the name argument.  Caller must assure</font></i>
<a name='L774'><i><font color='green'>   that offset is a timedelta instance and name is either NULL</font></i>
<a name='L775'><i><font color='green'>   or a unicode object. */</font></i>
<a name='L776'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L777'><a href='../R/7048.html' title='Multiple refered from 4 places.'>create_timezone</a>(PyObject *offset, PyObject *name)
<a name='L778'><font color='red'>{</font>
<a name='L779'>    <a href='../S/2560.html#L767' title='Defined at 767 in Modules/_datetimemodule.c.'>PyDateTime_TimeZone</a> *self;
<a name='L780'>    <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> *type = &amp;PyDateTime_TimeZoneType;
<a name='L781'>
<a name='L782'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(offset != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L783'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(offset));
<a name='L784'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(name == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || PyUnicode_Check(name));
<a name='L785'>
<a name='L786'>    self = (<a href='../S/2560.html#L767' title='Defined at 767 in Modules/_datetimemodule.c.'>PyDateTime_TimeZone</a> *)(type-&gt;tp_alloc(type, 0));
<a name='L787'>    <b>if</b> (self == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L788'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L789'>    <font color='red'>}</font>
<a name='L790'>    Py_INCREF(offset);
<a name='L791'>    self-&gt;offset = offset;
<a name='L792'>    <a href='../S/544.html#L766' title='Defined at 766 in Include/object.h.'>Py_XINCREF</a>(name);
<a name='L793'>    self-&gt;name = name;
<a name='L794'>    <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L795'><font color='red'>}</font>
<a name='L796'>
<a name='L797'><b>static</b> <b>int</b> <a href='../S/2560.html#L2187' title='Defined at 2187 in Modules/_datetimemodule.c.'>delta_bool</a>(PyDateTime_Delta *self);
<a name='L798'>
<a name='L799'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L800'><a href='../S/2560.html#L3225' title='Refered from 3225 in Modules/_datetimemodule.c.'>new_timezone</a>(PyObject *offset, PyObject *name)
<a name='L801'><font color='red'>{</font>
<a name='L802'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(offset != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L803'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(offset));
<a name='L804'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(name == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || PyUnicode_Check(name));
<a name='L805'>
<a name='L806'>    <b>if</b> (name == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; <a href='../S/2560.html#L2187' title='Defined at 2187 in Modules/_datetimemodule.c.'>delta_bool</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)offset) == 0) <font color='red'>{</font>
<a name='L807'>        Py_INCREF(PyDateTime_TimeZone_UTC);
<a name='L808'>        <b>return</b> PyDateTime_TimeZone_UTC;
<a name='L809'>    <font color='red'>}</font>
<a name='L810'>    <b>if</b> (<a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(offset) != 0 || <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset) % 60 != 0) <font color='red'>{</font>
<a name='L811'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError, "offset must be a timedelta"
<a name='L812'>                     " representing a whole number of minutes");
<a name='L813'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L814'>    <font color='red'>}</font>
<a name='L815'>    <b>if</b> ((<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset) == -1 &amp;&amp; <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset) == 0) ||
<a name='L816'>        <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset) &lt; -1 || <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset) &gt;= 1) <font color='red'>{</font>
<a name='L817'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError, "offset must be a timedelta"
<a name='L818'>                     " strictly between -timedelta(hours=24) and"
<a name='L819'>                     " timedelta(hours=24).");
<a name='L820'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L821'>    <font color='red'>}</font>
<a name='L822'>
<a name='L823'>    <b>return</b> <a href='../S/2560.html#L777' title='Defined at 777 in Modules/_datetimemodule.c.'>create_timezone</a>(offset, name);
<a name='L824'><font color='red'>}</font>
<a name='L825'>
<a name='L826'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L827'><i><font color='green'> * tzinfo helpers.</font></i>
<a name='L828'><i><font color='green'> */</font></i>
<a name='L829'>
<a name='L830'><i><font color='green'>/* Ensure that p is None or of a tzinfo subclass.  Return 0 if OK; if not</font></i>
<a name='L831'><i><font color='green'> * raise TypeError and return -1.</font></i>
<a name='L832'><i><font color='green'> */</font></i>
<a name='L833'><b>static</b> <b>int</b>
<a name='L834'><a href='../R/6645.html' title='Multiple refered from 7 places.'>check_tzinfo_subclass</a>(PyObject *p)
<a name='L835'><font color='red'>{</font>
<a name='L836'>    <b>if</b> (p == Py_None || <a href='../D/3822.html' title='Multiple defined in 2 places.'>PyTZInfo_Check</a>(p))
<a name='L837'>        <b>return</b> 0;
<a name='L838'>    <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L839'>                 "tzinfo argument must be None or of a tzinfo subclass, "
<a name='L840'>                 "not type '%s'",
<a name='L841'>                 <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(p)-&gt;tp_name);
<a name='L842'>    <b>return</b> -1;
<a name='L843'><font color='red'>}</font>
<a name='L844'>
<a name='L845'><i><font color='green'>/* If self has a tzinfo member, return a BORROWED reference to it.  Else</font></i>
<a name='L846'><i><font color='green'> * return NULL, which is NOT AN ERROR.  There are no error returns here,</font></i>
<a name='L847'><i><font color='green'> * and the caller must not decref the result.</font></i>
<a name='L848'><i><font color='green'> */</font></i>
<a name='L849'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L850'><a href='../R/8101.html' title='Multiple refered from 2 places.'>get_tzinfo_member</a>(PyObject *self)
<a name='L851'><font color='red'>{</font>
<a name='L852'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L853'>
<a name='L854'>    <b>if</b> (<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(self) &amp;&amp; <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self))
<a name='L855'>        tzinfo = ((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)self)-&gt;tzinfo;
<a name='L856'>    <b>else</b> <b>if</b> (<a href='../D/3864.html' title='Multiple defined in 2 places.'>PyTime_Check</a>(self) &amp;&amp; <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self))
<a name='L857'>        tzinfo = ((<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *)self)-&gt;tzinfo;
<a name='L858'>
<a name='L859'>    <b>return</b> tzinfo;
<a name='L860'><font color='red'>}</font>
<a name='L861'>
<a name='L862'><i><font color='green'>/* Call getattr(tzinfo, name)(tzinfoarg), and check the result.  tzinfo must</font></i>
<a name='L863'><i><font color='green'> * be an instance of the tzinfo class.  If the method returns None, this</font></i>
<a name='L864'><i><font color='green'> * returns None.  If the method doesn't return None or timedelta, TypeError is</font></i>
<a name='L865'><i><font color='green'> * raised and this returns NULL.  If it returns a timedelta and the value is</font></i>
<a name='L866'><i><font color='green'> * out of range or isn't a whole number of minutes, ValueError is raised and</font></i>
<a name='L867'><i><font color='green'> * this returns NULL.  Else result is returned.</font></i>
<a name='L868'><i><font color='green'> */</font></i>
<a name='L869'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L870'><a href='../R/6565.html' title='Multiple refered from 2 places.'>call_tzinfo_method</a>(PyObject *tzinfo, <b>char</b> *name, PyObject *tzinfoarg)
<a name='L871'><font color='red'>{</font>
<a name='L872'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L873'>
<a name='L874'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(tzinfo != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L875'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../D/3822.html' title='Multiple defined in 2 places.'>PyTZInfo_Check</a>(tzinfo) || tzinfo == Py_None);
<a name='L876'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(tzinfoarg != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L877'>
<a name='L878'>    <b>if</b> (tzinfo == Py_None)
<a name='L879'>        <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L880'>    offset = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(tzinfo, name, "O", tzinfoarg);
<a name='L881'>    <b>if</b> (offset == Py_None || offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L882'>        <b>return</b> offset;
<a name='L883'>    <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(offset)) <font color='red'>{</font>
<a name='L884'>        <b>if</b> (<a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(offset) != 0 || <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset) % 60 != 0) <font color='red'>{</font>
<a name='L885'>            Py_DECREF(offset);
<a name='L886'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError, "offset must be a timedelta"
<a name='L887'>                         " representing a whole number of minutes");
<a name='L888'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L889'>        <font color='red'>}</font>
<a name='L890'>        <b>if</b> ((<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset) == -1 &amp;&amp; <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset) == 0) ||
<a name='L891'>            <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset) &lt; -1 || <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset) &gt;= 1) <font color='red'>{</font>
<a name='L892'>            Py_DECREF(offset);
<a name='L893'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError, "offset must be a timedelta"
<a name='L894'>                         " strictly between -timedelta(hours=24) and"
<a name='L895'>                         " timedelta(hours=24).");
<a name='L896'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L897'>        <font color='red'>}</font>
<a name='L898'>    <font color='red'>}</font>
<a name='L899'>    <b>else</b> <font color='red'>{</font>
<a name='L900'>        Py_DECREF(offset);
<a name='L901'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L902'>                     "tzinfo.%s() must return None or "
<a name='L903'>                     "timedelta, not '%.200s'",
<a name='L904'>                     name, <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(offset)-&gt;tp_name);
<a name='L905'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L906'>    <font color='red'>}</font>
<a name='L907'>
<a name='L908'>    <b>return</b> offset;
<a name='L909'><font color='red'>}</font>
<a name='L910'>
<a name='L911'><i><font color='green'>/* Call tzinfo.utcoffset(tzinfoarg), and extract an integer from the</font></i>
<a name='L912'><i><font color='green'> * result.  tzinfo must be an instance of the tzinfo class.  If utcoffset()</font></i>
<a name='L913'><i><font color='green'> * returns None, call_utcoffset returns 0 and sets *none to 1.  If uctoffset()</font></i>
<a name='L914'><i><font color='green'> * doesn't return None or timedelta, TypeError is raised and this returns -1.</font></i>
<a name='L915'><i><font color='green'> * If utcoffset() returns an invalid timedelta (out of range, or not a whole</font></i>
<a name='L916'><i><font color='green'> * # of minutes), ValueError is raised and this returns -1.  Else *none is</font></i>
<a name='L917'><i><font color='green'> * set to 0 and the offset is returned (as int # of minutes east of UTC).</font></i>
<a name='L918'><i><font color='green'> */</font></i>
<a name='L919'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L920'><a href='../R/6567.html' title='Multiple refered from 5 places.'>call_utcoffset</a>(PyObject *tzinfo, PyObject *tzinfoarg)
<a name='L921'><font color='red'>{</font>
<a name='L922'>    <b>return</b> <a href='../S/2560.html#L870' title='Defined at 870 in Modules/_datetimemodule.c.'>call_tzinfo_method</a>(tzinfo, "utcoffset", tzinfoarg);
<a name='L923'><font color='red'>}</font>
<a name='L924'>
<a name='L925'><i><font color='green'>/* Call tzinfo.dst(tzinfoarg), and extract an integer from the</font></i>
<a name='L926'><i><font color='green'> * result.  tzinfo must be an instance of the tzinfo class.  If dst()</font></i>
<a name='L927'><i><font color='green'> * returns None, call_dst returns 0 and sets *none to 1.  If dst()</font></i>
<a name='L928'><i><font color='green'> &amp; doesn't return None or timedelta, TypeError is raised and this</font></i>
<a name='L929'><i><font color='green'> * returns -1.  If dst() returns an invalid timedelta for a UTC offset,</font></i>
<a name='L930'><i><font color='green'> * ValueError is raised and this returns -1.  Else *none is set to 0 and</font></i>
<a name='L931'><i><font color='green'> * the offset is returned (as an int # of minutes east of UTC).</font></i>
<a name='L932'><i><font color='green'> */</font></i>
<a name='L933'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L934'><a href='../R/6551.html' title='Multiple refered from 4 places.'>call_dst</a>(PyObject *tzinfo, PyObject *tzinfoarg)
<a name='L935'><font color='red'>{</font>
<a name='L936'>    <b>return</b> <a href='../S/2560.html#L870' title='Defined at 870 in Modules/_datetimemodule.c.'>call_tzinfo_method</a>(tzinfo, "dst", tzinfoarg);
<a name='L937'><font color='red'>}</font>
<a name='L938'>
<a name='L939'><i><font color='green'>/* Call tzinfo.tzname(tzinfoarg), and return the result.  tzinfo must be</font></i>
<a name='L940'><i><font color='green'> * an instance of the tzinfo class or None.  If tzinfo isn't None, and</font></i>
<a name='L941'><i><font color='green'> * tzname() doesn't return None or a string, TypeError is raised and this</font></i>
<a name='L942'><i><font color='green'> * returns NULL.  If the result is a string, we ensure it is a Unicode</font></i>
<a name='L943'><i><font color='green'> * string.</font></i>
<a name='L944'><i><font color='green'> */</font></i>
<a name='L945'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L946'><a href='../R/6566.html' title='Multiple refered from 3 places.'>call_tzname</a>(PyObject *tzinfo, PyObject *tzinfoarg)
<a name='L947'><font color='red'>{</font>
<a name='L948'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L949'>
<a name='L950'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(tzinfo != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L951'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L834' title='Defined at 834 in Modules/_datetimemodule.c.'>check_tzinfo_subclass</a>(tzinfo) &gt;= 0);
<a name='L952'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(tzinfoarg != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L953'>
<a name='L954'>    <b>if</b> (tzinfo == Py_None)
<a name='L955'>        <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L956'>
<a name='L957'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(tzinfo, "tzname", "O", tzinfoarg);
<a name='L958'>
<a name='L959'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == Py_None)
<a name='L960'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L961'>
<a name='L962'>    <b>if</b> (!PyUnicode_Check(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)) <font color='red'>{</font>
<a name='L963'>        <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError, "tzinfo.tzname() must "
<a name='L964'>                     "return None or a string, not '%s'",
<a name='L965'>                     <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)-&gt;tp_name);
<a name='L966'>        Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L967'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L968'>    <font color='red'>}</font>
<a name='L969'>
<a name='L970'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L971'><font color='red'>}</font>
<a name='L972'>
<a name='L973'><i><font color='green'>/* repr is like "someclass(arg1, arg2)".  If tzinfo isn't None,</font></i>
<a name='L974'><i><font color='green'> * stuff</font></i>
<a name='L975'><i><font color='green'> *     ", tzinfo=" + repr(tzinfo)</font></i>
<a name='L976'><i><font color='green'> * before the closing ")".</font></i>
<a name='L977'><i><font color='green'> */</font></i>
<a name='L978'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L979'><a href='../R/5972.html' title='Multiple refered from 2 places.'>append_keyword_tzinfo</a>(PyObject *repr, PyObject *tzinfo)
<a name='L980'><font color='red'>{</font>
<a name='L981'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp;
<a name='L982'>
<a name='L983'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyUnicode_Check(repr));
<a name='L984'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(tzinfo);
<a name='L985'>    <b>if</b> (tzinfo == Py_None)
<a name='L986'>        <b>return</b> repr;
<a name='L987'>    <i><font color='green'>/* Get rid of the trailing ')'. */</font></i>
<a name='L988'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(repr)[<a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(repr)-1] == ')');
<a name='L989'>    temp = <a href='../D/4014.html' title='Multiple defined in 3 places.'>PyUnicode_FromUnicode</a>(<a href='../S/587.html#L408' title='Defined at 408 in Include/unicodeobject.h.'>PyUnicode_AS_UNICODE</a>(repr),
<a name='L990'>                                      <a href='../S/587.html#L404' title='Defined at 404 in Include/unicodeobject.h.'>PyUnicode_GET_SIZE</a>(repr) - 1);
<a name='L991'>    Py_DECREF(repr);
<a name='L992'>    <b>if</b> (temp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L993'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L994'>    repr = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%U, tzinfo=%R)", temp, tzinfo);
<a name='L995'>    Py_DECREF(temp);
<a name='L996'>    <b>return</b> repr;
<a name='L997'><font color='red'>}</font>
<a name='L998'>
<a name='L999'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L1000'><i><font color='green'> * String format helpers.</font></i>
<a name='L1001'><i><font color='green'> */</font></i>
<a name='L1002'>
<a name='L1003'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1004'><a href='../R/7885.html' title='Multiple refered from 2 places.'>format_ctime</a>(PyDateTime_Date *date, <b>int</b> hours, <b>int</b> minutes, <b>int</b> seconds)
<a name='L1005'><font color='red'>{</font>
<a name='L1006'>    <b>static</b> <b>const</b> <b>char</b> *DayNames[] = <font color='red'>{</font>
<a name='L1007'>        "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"
<a name='L1008'>    <font color='red'>}</font>;
<a name='L1009'>    <b>static</b> <b>const</b> <b>char</b> *MonthNames[] = <font color='red'>{</font>
<a name='L1010'>        "Jan", "Feb", "Mar", "Apr", "May", "Jun",
<a name='L1011'>        "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
<a name='L1012'>    <font color='red'>}</font>;
<a name='L1013'>
<a name='L1014'>    <b>int</b> wday = <a href='../S/2560.html#L349' title='Defined at 349 in Modules/_datetimemodule.c.'>weekday</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(date), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(date), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(date));
<a name='L1015'>
<a name='L1016'>    <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s %s %2d %02d:%02d:%02d %04d",
<a name='L1017'>                                DayNames[wday], MonthNames[<a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(date)-1],
<a name='L1018'>                                <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(date), hours, minutes, seconds,
<a name='L1019'>                                <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(date));
<a name='L1020'><font color='red'>}</font>
<a name='L1021'>
<a name='L1022'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2560.html#L1761' title='Defined at 1761 in Modules/_datetimemodule.c.'>delta_negative</a>(PyDateTime_Delta *self);
<a name='L1023'>
<a name='L1024'><i><font color='green'>/* Add an hours &amp; minutes UTC offset string to buf.  buf has no more than</font></i>
<a name='L1025'><i><font color='green'> * buflen bytes remaining.  The UTC offset is gotten by calling</font></i>
<a name='L1026'><i><font color='green'> * tzinfo.uctoffset(tzinfoarg).  If that returns None, \0 is stored into</font></i>
<a name='L1027'><i><font color='green'> * *buf, and that's all.  Else the returned value is checked for sanity (an</font></i>
<a name='L1028'><i><font color='green'> * integer in range), and if that's OK it's converted to an hours &amp; minutes</font></i>
<a name='L1029'><i><font color='green'> * string of the form</font></i>
<a name='L1030'><i><font color='green'> *   sign HH sep MM</font></i>
<a name='L1031'><i><font color='green'> * Returns 0 if everything is OK.  If the return value from utcoffset() is</font></i>
<a name='L1032'><i><font color='green'> * bogus, an appropriate exception is set and -1 is returned.</font></i>
<a name='L1033'><i><font color='green'> */</font></i>
<a name='L1034'><b>static</b> <b>int</b>
<a name='L1035'><a href='../R/7895.html' title='Multiple refered from 3 places.'>format_utcoffset</a>(<b>char</b> *buf, <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> buflen, <b>const</b> <b>char</b> *sep,
<a name='L1036'>                PyObject *tzinfo, PyObject *tzinfoarg)
<a name='L1037'><font color='red'>{</font>
<a name='L1038'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L1039'>    <b>int</b> hours, minutes, seconds;
<a name='L1040'>    <b>char</b> sign;
<a name='L1041'>
<a name='L1042'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(buflen &gt;= 1);
<a name='L1043'>
<a name='L1044'>    offset = <a href='../S/2560.html#L920' title='Defined at 920 in Modules/_datetimemodule.c.'>call_utcoffset</a>(tzinfo, tzinfoarg);
<a name='L1045'>    <b>if</b> (offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1046'>        <b>return</b> -1;
<a name='L1047'>    <b>if</b> (offset == Py_None) <font color='red'>{</font>
<a name='L1048'>        Py_DECREF(offset);
<a name='L1049'>        *buf = '\0';
<a name='L1050'>        <b>return</b> 0;
<a name='L1051'>    <font color='red'>}</font>
<a name='L1052'>    <i><font color='green'>/* Offset is normalized, so it is negative if days &lt; 0 */</font></i>
<a name='L1053'>    <b>if</b> (<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset) &lt; 0) <font color='red'>{</font>
<a name='L1054'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp = offset;
<a name='L1055'>        sign = '-';
<a name='L1056'>        offset = <a href='../S/2560.html#L1761' title='Defined at 1761 in Modules/_datetimemodule.c.'>delta_negative</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)offset);
<a name='L1057'>        Py_DECREF(temp);
<a name='L1058'>        <b>if</b> (offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1059'>            <b>return</b> -1;
<a name='L1060'>    <font color='red'>}</font>
<a name='L1061'>    <b>else</b> <font color='red'>{</font>
<a name='L1062'>        sign = '+';
<a name='L1063'>    <font color='red'>}</font>
<a name='L1064'>    <i><font color='green'>/* Offset is not negative here. */</font></i>
<a name='L1065'>    seconds = <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset);
<a name='L1066'>    Py_DECREF(offset);
<a name='L1067'>    minutes = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(seconds, 60, &amp;seconds);
<a name='L1068'>    hours = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(minutes, 60, &amp;minutes);
<a name='L1069'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(seconds == 0);
<a name='L1070'>    <i><font color='green'>/* XXX ignore sub-minute data, curently not allowed. */</font></i>
<a name='L1071'>    <a href='../S/3126.html#L41' title='Defined at 41 in Python/mysnprintf.c.'>PyOS_snprintf</a>(buf, buflen, "%c%02d%s%02d", sign, hours, sep, minutes);
<a name='L1072'>
<a name='L1073'>    <b>return</b> 0;
<a name='L1074'><font color='red'>}</font>
<a name='L1075'>
<a name='L1076'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1077'><a href='../S/2560.html#L1251' title='Refered from 1251 in Modules/_datetimemodule.c.'>make_Zreplacement</a>(PyObject *object, PyObject *tzinfoarg)
<a name='L1078'><font color='red'>{</font>
<a name='L1079'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp;
<a name='L1080'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = <a href='../S/2560.html#L850' title='Defined at 850 in Modules/_datetimemodule.c.'>get_tzinfo_member</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>);
<a name='L1081'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *Zreplacement = <a href='../D/4013.html' title='Multiple defined in 3 places.'>PyUnicode_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0);
<a name='L1082'>    <b>if</b> (Zreplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1083'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1084'>    <b>if</b> (tzinfo == Py_None || tzinfo == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1085'>        <b>return</b> Zreplacement;
<a name='L1086'>
<a name='L1087'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(tzinfoarg != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1088'>    temp = <a href='../S/2560.html#L946' title='Defined at 946 in Modules/_datetimemodule.c.'>call_tzname</a>(tzinfo, tzinfoarg);
<a name='L1089'>    <b>if</b> (temp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1090'>        <b>goto</b> Error;
<a name='L1091'>    <b>if</b> (temp == Py_None) <font color='red'>{</font>
<a name='L1092'>        Py_DECREF(temp);
<a name='L1093'>        <b>return</b> Zreplacement;
<a name='L1094'>    <font color='red'>}</font>
<a name='L1095'>
<a name='L1096'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyUnicode_Check(temp));
<a name='L1097'>    <i><font color='green'>/* Since the tzname is getting stuffed into the</font></i>
<a name='L1098'><i><font color='green'>     * format, we have to double any % signs so that</font></i>
<a name='L1099'><i><font color='green'>     * strftime doesn't treat them as format codes.</font></i>
<a name='L1100'><i><font color='green'>     */</font></i>
<a name='L1101'>    Py_DECREF(Zreplacement);
<a name='L1102'>    Zreplacement = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(temp, "replace", "ss", "%", "%%");
<a name='L1103'>    Py_DECREF(temp);
<a name='L1104'>    <b>if</b> (Zreplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1105'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1106'>    <b>if</b> (!PyUnicode_Check(Zreplacement)) <font color='red'>{</font>
<a name='L1107'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L1108'>                        "tzname.replace() did not return a string");
<a name='L1109'>        <b>goto</b> Error;
<a name='L1110'>    <font color='red'>}</font>
<a name='L1111'>    <b>return</b> Zreplacement;
<a name='L1112'>
<a name='L1113'>  Error:
<a name='L1114'>    Py_DECREF(Zreplacement);
<a name='L1115'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1116'><font color='red'>}</font>
<a name='L1117'>
<a name='L1118'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1119'><a href='../S/2560.html#L1266' title='Refered from 1266 in Modules/_datetimemodule.c.'>make_freplacement</a>(PyObject *object)
<a name='L1120'><font color='red'>{</font>
<a name='L1121'>    <b>char</b> freplacement[64];
<a name='L1122'>    <b>if</b> (<a href='../D/3864.html' title='Multiple defined in 2 places.'>PyTime_Check</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>))
<a name='L1123'>        sprintf(freplacement, "%06d", <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>));
<a name='L1124'>    <b>else</b> <b>if</b> (<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>))
<a name='L1125'>        sprintf(freplacement, "%06d", <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>));
<a name='L1126'>    <b>else</b>
<a name='L1127'>        sprintf(freplacement, "%06d", 0);
<a name='L1128'>
<a name='L1129'>    <b>return</b> <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(freplacement, strlen(freplacement));
<a name='L1130'><font color='red'>}</font>
<a name='L1131'>
<a name='L1132'><i><font color='green'>/* I sure don't want to reproduce the strftime code from the time module,</font></i>
<a name='L1133'><i><font color='green'> * so this imports the module and calls it.  All the hair is due to</font></i>
<a name='L1134'><i><font color='green'> * giving special meanings to the %z, %Z and %f format codes via a</font></i>
<a name='L1135'><i><font color='green'> * preprocessing step on the format string.</font></i>
<a name='L1136'><i><font color='green'> * tzinfoarg is the argument to pass to the object's tzinfo method, if</font></i>
<a name='L1137'><i><font color='green'> * needed.</font></i>
<a name='L1138'><i><font color='green'> */</font></i>
<a name='L1139'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1140'><a href='../R/11456.html' title='Multiple refered from 2 places.'>wrap_strftime</a>(PyObject *object, PyObject *format, PyObject *timetuple,
<a name='L1141'>              PyObject *tzinfoarg)
<a name='L1142'><font color='red'>{</font>
<a name='L1143'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;            <i><font color='green'>/* guilty until proved innocent */</font></i>
<a name='L1144'>
<a name='L1145'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *zreplacement = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;      <i><font color='green'>/* py string, replacement for %z */</font></i>
<a name='L1146'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *Zreplacement = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;      <i><font color='green'>/* py string, replacement for %Z */</font></i>
<a name='L1147'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *freplacement = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;      <i><font color='green'>/* py string, replacement for %f */</font></i>
<a name='L1148'>
<a name='L1149'>    <b>const</b> <b>char</b> *pin;            <i><font color='green'>/* pointer to next char in input format */</font></i>
<a name='L1150'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> flen;            <i><font color='green'>/* length of input format */</font></i>
<a name='L1151'>    <b>char</b> ch;                    <i><font color='green'>/* next char in input format */</font></i>
<a name='L1152'>
<a name='L1153'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *newfmt = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;            <i><font color='green'>/* py string, the output format */</font></i>
<a name='L1154'>    <b>char</b> *pnew;         <i><font color='green'>/* pointer to available byte in output format */</font></i>
<a name='L1155'>    <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> totalnew;            <i><font color='green'>/* number bytes total in output format buffer,</font></i>
<a name='L1156'><i><font color='green'>                               exclusive of trailing \0 */</font></i>
<a name='L1157'>    <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> usednew;     <i><font color='green'>/* number bytes used so far in output format buffer */</font></i>
<a name='L1158'>
<a name='L1159'>    <b>const</b> <b>char</b> *ptoappend;      <i><font color='green'>/* ptr to string to append to output buffer */</font></i>
<a name='L1160'>    <a href='../D/4364.html' title='Multiple defined in 6 places.'>Py_ssize_t</a> ntoappend;       <i><font color='green'>/* # of bytes to append to output buffer */</font></i>
<a name='L1161'>
<a name='L1162'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a> &amp;&amp; format &amp;&amp; timetuple);
<a name='L1163'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyUnicode_Check(format));
<a name='L1164'>    <i><font color='green'>/* Convert the input format to a C string and size */</font></i>
<a name='L1165'>    pin = <a href='../S/2828.html#L1903' title='Defined at 1903 in Objects/unicodeobject.c.'>_PyUnicode_AsStringAndSize</a>(format, &amp;flen);
<a name='L1166'>    <b>if</b> (!pin)
<a name='L1167'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1168'>
<a name='L1169'>    <i><font color='green'>/* Give up if the year is before 1000.</font></i>
<a name='L1170'><i><font color='green'>     * Python strftime() plays games with the year, and different</font></i>
<a name='L1171'><i><font color='green'>     * games depending on whether envar PYTHON2K is set.  This makes</font></i>
<a name='L1172'><i><font color='green'>     * years before 1000 a nightmare, even if the platform strftime</font></i>
<a name='L1173'><i><font color='green'>     * supports them (and not all do).</font></i>
<a name='L1174'><i><font color='green'>     * We could get a lot farther here by avoiding Python's strftime</font></i>
<a name='L1175'><i><font color='green'>     * wrapper and calling the C strftime() directly, but that isn't</font></i>
<a name='L1176'><i><font color='green'>     * an option in the Python implementation of this module.</font></i>
<a name='L1177'><i><font color='green'>     */</font></i>
<a name='L1178'>    <font color='red'>{</font>
<a name='L1179'>        <b>long</b> year;
<a name='L1180'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyyear = <a href='../S/2775.html#L1584' title='Defined at 1584 in Objects/abstract.c.'>PySequence_GetItem</a>(timetuple, 0);
<a name='L1181'>        <b>if</b> (pyyear == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1182'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyLong_Check(pyyear));
<a name='L1183'>        year = <a href='../S/2799.html#L416' title='Defined at 416 in Objects/longobject.c.'>PyLong_AsLong</a>(pyyear);
<a name='L1184'>        Py_DECREF(pyyear);
<a name='L1185'>        <b>if</b> (year &lt; 1000) <font color='red'>{</font>
<a name='L1186'>            <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_ValueError, "year=%ld is before "
<a name='L1187'>                         "1000; the datetime strftime() "
<a name='L1188'>                         "methods require year &gt;= 1000",
<a name='L1189'>                         year);
<a name='L1190'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1191'>        <font color='red'>}</font>
<a name='L1192'>    <font color='red'>}</font>
<a name='L1193'>
<a name='L1194'>    <i><font color='green'>/* Scan the input format, looking for %z/%Z/%f escapes, building</font></i>
<a name='L1195'><i><font color='green'>     * a new format.  Since computing the replacements for those codes</font></i>
<a name='L1196'><i><font color='green'>     * is expensive, don't unless they're actually used.</font></i>
<a name='L1197'><i><font color='green'>     */</font></i>
<a name='L1198'>    <b>if</b> (flen &gt; <a href='../S/565.html#L753' title='Defined at 753 in Include/pyport.h.'>INT_MAX</a> - 1) <font color='red'>{</font>
<a name='L1199'>        <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L1200'>        <b>goto</b> Done;
<a name='L1201'>    <font color='red'>}</font>
<a name='L1202'>
<a name='L1203'>    totalnew = flen + 1;        <i><font color='green'>/* realistic if no %z/%Z */</font></i>
<a name='L1204'>    newfmt = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, totalnew);
<a name='L1205'>    <b>if</b> (newfmt == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <b>goto</b> Done;
<a name='L1206'>    pnew = <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(newfmt);
<a name='L1207'>    usednew = 0;
<a name='L1208'>
<a name='L1209'>    <b>while</b> ((ch = *pin++) != '\0') <font color='red'>{</font>
<a name='L1210'>        <b>if</b> (ch != '%') <font color='red'>{</font>
<a name='L1211'>            ptoappend = pin - 1;
<a name='L1212'>            ntoappend = 1;
<a name='L1213'>        <font color='red'>}</font>
<a name='L1214'>        <b>else</b> <b>if</b> ((ch = *pin++) == '\0') <font color='red'>{</font>
<a name='L1215'>            <i><font color='green'>/* There's a lone trailing %; doesn't make sense. */</font></i>
<a name='L1216'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "strftime format "
<a name='L1217'>                            "ends with raw %");
<a name='L1218'>            <b>goto</b> Done;
<a name='L1219'>        <font color='red'>}</font>
<a name='L1220'>        <i><font color='green'>/* A % has been seen and ch is the character after it. */</font></i>
<a name='L1221'>        <b>else</b> <b>if</b> (ch == 'z') <font color='red'>{</font>
<a name='L1222'>            <b>if</b> (zreplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1223'>                <i><font color='green'>/* format utcoffset */</font></i>
<a name='L1224'>                <b>char</b> buf[100];
<a name='L1225'>                <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = <a href='../S/2560.html#L850' title='Defined at 850 in Modules/_datetimemodule.c.'>get_tzinfo_member</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>);
<a name='L1226'>                zreplacement = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>("", 0);
<a name='L1227'>                <b>if</b> (zreplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <b>goto</b> Done;
<a name='L1228'>                <b>if</b> (tzinfo != Py_None &amp;&amp; tzinfo != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1229'>                    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(tzinfoarg != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1230'>                    <b>if</b> (<a href='../S/2560.html#L1035' title='Defined at 1035 in Modules/_datetimemodule.c.'>format_utcoffset</a>(buf,
<a name='L1231'>                                         <b>sizeof</b>(buf),
<a name='L1232'>                                         "",
<a name='L1233'>                                         tzinfo,
<a name='L1234'>                                         tzinfoarg) &lt; 0)
<a name='L1235'>                        <b>goto</b> Done;
<a name='L1236'>                    Py_DECREF(zreplacement);
<a name='L1237'>                    zreplacement =
<a name='L1238'>                      <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>(buf,
<a name='L1239'>                                               strlen(buf));
<a name='L1240'>                    <b>if</b> (zreplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1241'>                        <b>goto</b> Done;
<a name='L1242'>                <font color='red'>}</font>
<a name='L1243'>            <font color='red'>}</font>
<a name='L1244'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(zreplacement != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1245'>            ptoappend = PyBytes_AS_STRING(zreplacement);
<a name='L1246'>            ntoappend = PyBytes_GET_SIZE(zreplacement);
<a name='L1247'>        <font color='red'>}</font>
<a name='L1248'>        <b>else</b> <b>if</b> (ch == 'Z') <font color='red'>{</font>
<a name='L1249'>            <i><font color='green'>/* format tzname */</font></i>
<a name='L1250'>            <b>if</b> (Zreplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1251'>                Zreplacement = <a href='../S/2560.html#L1077' title='Defined at 1077 in Modules/_datetimemodule.c.'>make_Zreplacement</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>,
<a name='L1252'>                                                 tzinfoarg);
<a name='L1253'>                <b>if</b> (Zreplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1254'>                    <b>goto</b> Done;
<a name='L1255'>            <font color='red'>}</font>
<a name='L1256'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(Zreplacement != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1257'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyUnicode_Check(Zreplacement));
<a name='L1258'>            ptoappend = <a href='../S/2828.html#L1903' title='Defined at 1903 in Objects/unicodeobject.c.'>_PyUnicode_AsStringAndSize</a>(Zreplacement,
<a name='L1259'>                                                  &amp;ntoappend);
<a name='L1260'>            <b>if</b> (ptoappend == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1261'>                <b>goto</b> Done;
<a name='L1262'>        <font color='red'>}</font>
<a name='L1263'>        <b>else</b> <b>if</b> (ch == 'f') <font color='red'>{</font>
<a name='L1264'>            <i><font color='green'>/* format microseconds */</font></i>
<a name='L1265'>            <b>if</b> (freplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1266'>                freplacement = <a href='../S/2560.html#L1119' title='Defined at 1119 in Modules/_datetimemodule.c.'>make_freplacement</a>(<a href='../S/500.html#L6' title='Defined at 6 in Include/asdl.h.'>object</a>);
<a name='L1267'>                <b>if</b> (freplacement == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1268'>                    <b>goto</b> Done;
<a name='L1269'>            <font color='red'>}</font>
<a name='L1270'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(freplacement != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1271'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyBytes_Check(freplacement));
<a name='L1272'>            ptoappend = PyBytes_AS_STRING(freplacement);
<a name='L1273'>            ntoappend = PyBytes_GET_SIZE(freplacement);
<a name='L1274'>        <font color='red'>}</font>
<a name='L1275'>        <b>else</b> <font color='red'>{</font>
<a name='L1276'>            <i><font color='green'>/* percent followed by neither z nor Z */</font></i>
<a name='L1277'>            ptoappend = pin - 2;
<a name='L1278'>            ntoappend = 2;
<a name='L1279'>        <font color='red'>}</font>
<a name='L1280'>
<a name='L1281'>        <i><font color='green'>/* Append the ntoappend chars starting at ptoappend to</font></i>
<a name='L1282'><i><font color='green'>         * the new format.</font></i>
<a name='L1283'><i><font color='green'>         */</font></i>
<a name='L1284'>        <b>if</b> (ntoappend == 0)
<a name='L1285'>            <b>continue</b>;
<a name='L1286'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(ptoappend != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1287'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(ntoappend &gt; 0);
<a name='L1288'>        <b>while</b> (usednew + ntoappend &gt; totalnew) <font color='red'>{</font>
<a name='L1289'>            <a href='../D/11182.html' title='Multiple defined in 2 places.'>size_t</a> bigger = totalnew &lt;&lt; 1;
<a name='L1290'>            <b>if</b> ((bigger &gt;&gt; 1) != totalnew) <font color='red'>{</font> <i><font color='green'>/* overflow */</font></i>
<a name='L1291'>                <a href='../S/3106.html#L334' title='Defined at 334 in Python/errors.c.'>PyErr_NoMemory</a>();
<a name='L1292'>                <b>goto</b> Done;
<a name='L1293'>            <font color='red'>}</font>
<a name='L1294'>            <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;newfmt, bigger) &lt; 0)
<a name='L1295'>                <b>goto</b> Done;
<a name='L1296'>            totalnew = bigger;
<a name='L1297'>            pnew = <a href='../S/2779.html#L517' title='Defined at 517 in Objects/bytesobject.c.'>PyBytes_AsString</a>(newfmt) + usednew;
<a name='L1298'>        <font color='red'>}</font>
<a name='L1299'>        <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(pnew, ptoappend, ntoappend);
<a name='L1300'>        pnew += ntoappend;
<a name='L1301'>        usednew += ntoappend;
<a name='L1302'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(usednew &lt;= totalnew);
<a name='L1303'>    <font color='red'>}</font>  <i><font color='green'>/* end while() */</font></i>
<a name='L1304'>
<a name='L1305'>    <b>if</b> (<a href='../S/2779.html#L2822' title='Defined at 2822 in Objects/bytesobject.c.'>_PyBytes_Resize</a>(&amp;newfmt, usednew) &lt; 0)
<a name='L1306'>        <b>goto</b> Done;
<a name='L1307'>    <font color='red'>{</font>
<a name='L1308'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *format;
<a name='L1309'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *time = <a href='../S/3120.html#L2348' title='Defined at 2348 in Python/import.c.'>PyImport_ImportModuleNoBlock</a>("time");
<a name='L1310'>        <b>if</b> (time == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1311'>            <b>goto</b> Done;
<a name='L1312'>        format = <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(PyBytes_AS_STRING(newfmt));
<a name='L1313'>        <b>if</b> (format != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1314'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(time, "strftime", "OO",
<a name='L1315'>                                         format, timetuple, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1316'>            Py_DECREF(format);
<a name='L1317'>        <font color='red'>}</font>
<a name='L1318'>        Py_DECREF(time);
<a name='L1319'>    <font color='red'>}</font>
<a name='L1320'> Done:
<a name='L1321'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(freplacement);
<a name='L1322'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(zreplacement);
<a name='L1323'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(Zreplacement);
<a name='L1324'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(newfmt);
<a name='L1325'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1326'><font color='red'>}</font>
<a name='L1327'>
<a name='L1328'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L1329'><i><font color='green'> * Wrap functions from the time module.  These aren't directly available</font></i>
<a name='L1330'><i><font color='green'> * from C.  Perhaps they should be.</font></i>
<a name='L1331'><i><font color='green'> */</font></i>
<a name='L1332'>
<a name='L1333'><i><font color='green'>/* Call time.time() and return its result (a Python float). */</font></i>
<a name='L1334'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1335'><a href='../R/10906.html' title='Multiple refered from 3 places.'>time_time</a>(<b>void</b>)
<a name='L1336'><font color='red'>{</font>
<a name='L1337'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1338'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *time = <a href='../S/3120.html#L2348' title='Defined at 2348 in Python/import.c.'>PyImport_ImportModuleNoBlock</a>("time");
<a name='L1339'>
<a name='L1340'>    <b>if</b> (time != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1341'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(time, "time", "()");
<a name='L1342'>        Py_DECREF(time);
<a name='L1343'>    <font color='red'>}</font>
<a name='L1344'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1345'><font color='red'>}</font>
<a name='L1346'>
<a name='L1347'><i><font color='green'>/* Build a time.struct_time.  The weekday and day number are automatically</font></i>
<a name='L1348'><i><font color='green'> * computed from the y,m,d args.</font></i>
<a name='L1349'><i><font color='green'> */</font></i>
<a name='L1350'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1351'><a href='../R/6348.html' title='Multiple refered from 3 places.'>build_struct_time</a>(<b>int</b> y, <b>int</b> m, <b>int</b> d, <b>int</b> hh, <b>int</b> mm, <b>int</b> ss, <b>int</b> dstflag)
<a name='L1352'><font color='red'>{</font>
<a name='L1353'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *time;
<a name='L1354'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1355'>
<a name='L1356'>    time = <a href='../S/3120.html#L2348' title='Defined at 2348 in Python/import.c.'>PyImport_ImportModuleNoBlock</a>("time");
<a name='L1357'>    <b>if</b> (time != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1358'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(time, "struct_time",
<a name='L1359'>                                     "((iiiiiiiii))",
<a name='L1360'>                                     y, m, d,
<a name='L1361'>                                     hh, mm, ss,
<a name='L1362'>                                     <a href='../S/2560.html#L349' title='Defined at 349 in Modules/_datetimemodule.c.'>weekday</a>(y, m, d),
<a name='L1363'>                                     <a href='../S/2560.html#L222' title='Defined at 222 in Modules/_datetimemodule.c.'>days_before_month</a>(y, m) + d,
<a name='L1364'>                                     dstflag);
<a name='L1365'>        Py_DECREF(time);
<a name='L1366'>    <font color='red'>}</font>
<a name='L1367'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1368'><font color='red'>}</font>
<a name='L1369'>
<a name='L1370'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L1371'><i><font color='green'> * Miscellaneous helpers.</font></i>
<a name='L1372'><i><font color='green'> */</font></i>
<a name='L1373'>
<a name='L1374'><i><font color='green'>/* For various reasons, we need to use tp_richcompare instead of tp_reserved.</font></i>
<a name='L1375'><i><font color='green'> * The comparisons here all most naturally compute a cmp()-like result.</font></i>
<a name='L1376'><i><font color='green'> * This little helper turns that into a bool result for rich comparisons.</font></i>
<a name='L1377'><i><font color='green'> */</font></i>
<a name='L1378'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1379'><a href='../R/7383.html' title='Multiple refered from 8 places.'>diff_to_bool</a>(<b>int</b> diff, <b>int</b> op)
<a name='L1380'><font color='red'>{</font>
<a name='L1381'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1382'>    <b>int</b> istrue;
<a name='L1383'>
<a name='L1384'>    <b>switch</b> (op) <font color='red'>{</font>
<a name='L1385'>        <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>: istrue = <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> == 0; <b>break</b>;
<a name='L1386'>        <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_NE</a>: istrue = <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> != 0; <b>break</b>;
<a name='L1387'>        <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_LE</a>: istrue = <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> &lt;= 0; <b>break</b>;
<a name='L1388'>        <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_GE</a>: istrue = <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> &gt;= 0; <b>break</b>;
<a name='L1389'>        <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_LT</a>: istrue = <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> &lt; 0; <b>break</b>;
<a name='L1390'>        <b>case</b> <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_GT</a>: istrue = <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> &gt; 0; <b>break</b>;
<a name='L1391'>        <b>default</b>:
<a name='L1392'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(! "op unknown");
<a name='L1393'>            istrue = 0; <i><font color='green'>/* To shut up compiler */</font></i>
<a name='L1394'>    <font color='red'>}</font>
<a name='L1395'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = istrue ? Py_True : Py_False;
<a name='L1396'>    Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1397'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1398'><font color='red'>}</font>
<a name='L1399'>
<a name='L1400'><i><font color='green'>/* Raises a "can't compare" TypeError and returns NULL. */</font></i>
<a name='L1401'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1402'><a href='../S/2560.html#L4587' title='Refered from 4587 in Modules/_datetimemodule.c.'>cmperror</a>(PyObject *a, PyObject *b)
<a name='L1403'><font color='red'>{</font>
<a name='L1404'>    <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L1405'>                 "can't compare %s to %s",
<a name='L1406'>                 <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(a)-&gt;tp_name, <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(<a href='../D/6949.html' title='Multiple defined in 12 places.'>b</a>)-&gt;tp_name);
<a name='L1407'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1408'><font color='red'>}</font>
<a name='L1409'>
<a name='L1410'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L1411'><i><font color='green'> * Cached Python objects; these are set by the module init function.</font></i>
<a name='L1412'><i><font color='green'> */</font></i>
<a name='L1413'>
<a name='L1414'><i><font color='green'>/* Conversion factors. */</font></i>
<a name='L1415'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *us_per_us = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;      <i><font color='green'>/* 1 */</font></i>
<a name='L1416'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *us_per_ms = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;      <i><font color='green'>/* 1000 */</font></i>
<a name='L1417'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *us_per_second = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;  <i><font color='green'>/* 1000000 */</font></i>
<a name='L1418'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *us_per_minute = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;  <i><font color='green'>/* 1e6 * 60 as Python int */</font></i>
<a name='L1419'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *us_per_hour = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;    <i><font color='green'>/* 1e6 * 3600 as Python long */</font></i>
<a name='L1420'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *us_per_day = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;     <i><font color='green'>/* 1e6 * 3600 * 24 as Python long */</font></i>
<a name='L1421'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *us_per_week = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;    <i><font color='green'>/* 1e6*3600*24*7 as Python long */</font></i>
<a name='L1422'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *seconds_per_day = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>; <i><font color='green'>/* 3600*24 as Python int */</font></i>
<a name='L1423'>
<a name='L1424'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L1425'><i><font color='green'> * Class implementations.</font></i>
<a name='L1426'><i><font color='green'> */</font></i>
<a name='L1427'>
<a name='L1428'><i><font color='green'>/*</font></i>
<a name='L1429'><i><font color='green'> * PyDateTime_Delta implementation.</font></i>
<a name='L1430'><i><font color='green'> */</font></i>
<a name='L1431'>
<a name='L1432'><i><font color='green'>/* Convert a timedelta to a number of us,</font></i>
<a name='L1433'><i><font color='green'> *      (24*3600*self.days + self.seconds)*1000000 + self.microseconds</font></i>
<a name='L1434'><i><font color='green'> * as a Python int or long.</font></i>
<a name='L1435'><i><font color='green'> * Doing mixed-radix arithmetic by hand instead is excruciating in C,</font></i>
<a name='L1436'><i><font color='green'> * due to ubiquitous overflow possibilities.</font></i>
<a name='L1437'><i><font color='green'> */</font></i>
<a name='L1438'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1439'><a href='../R/7266.html' title='Multiple refered from 14 places.'>delta_to_microseconds</a>(PyDateTime_Delta *self)
<a name='L1440'><font color='red'>{</font>
<a name='L1441'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *x1 = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1442'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *x2 = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1443'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *x3 = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1444'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1445'>
<a name='L1446'>    x1 = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self));
<a name='L1447'>    <b>if</b> (x1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1448'>        <b>goto</b> Done;
<a name='L1449'>    x2 = <a href='../S/2775.html#L949' title='Defined at 949 in Objects/abstract.c.'>PyNumber_Multiply</a>(x1, seconds_per_day);        <i><font color='green'>/* days in seconds */</font></i>
<a name='L1450'>    <b>if</b> (x2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1451'>        <b>goto</b> Done;
<a name='L1452'>    Py_DECREF(x1);
<a name='L1453'>    x1 = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1454'>
<a name='L1455'>    <i><font color='green'>/* x2 has days in seconds */</font></i>
<a name='L1456'>    x1 = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self));         <i><font color='green'>/* seconds */</font></i>
<a name='L1457'>    <b>if</b> (x1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1458'>        <b>goto</b> Done;
<a name='L1459'>    x3 = PyNumber_Add(x1, x2);          <i><font color='green'>/* days and seconds in seconds */</font></i>
<a name='L1460'>    <b>if</b> (x3 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1461'>        <b>goto</b> Done;
<a name='L1462'>    Py_DECREF(x1);
<a name='L1463'>    Py_DECREF(x2);
<a name='L1464'>    x1 = x2 = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1465'>
<a name='L1466'>    <i><font color='green'>/* x3 has days+seconds in seconds */</font></i>
<a name='L1467'>    x1 = <a href='../S/2775.html#L949' title='Defined at 949 in Objects/abstract.c.'>PyNumber_Multiply</a>(x3, us_per_second);          <i><font color='green'>/* us */</font></i>
<a name='L1468'>    <b>if</b> (x1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1469'>        <b>goto</b> Done;
<a name='L1470'>    Py_DECREF(x3);
<a name='L1471'>    x3 = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1472'>
<a name='L1473'>    <i><font color='green'>/* x1 has days+seconds in us */</font></i>
<a name='L1474'>    x2 = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self));
<a name='L1475'>    <b>if</b> (x2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1476'>        <b>goto</b> Done;
<a name='L1477'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = PyNumber_Add(x1, x2);
<a name='L1478'>
<a name='L1479'>Done:
<a name='L1480'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(x1);
<a name='L1481'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(x2);
<a name='L1482'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(x3);
<a name='L1483'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1484'><font color='red'>}</font>
<a name='L1485'>
<a name='L1486'><i><font color='green'>/* Convert a number of us (as a Python int or long) to a timedelta.</font></i>
<a name='L1487'><i><font color='green'> */</font></i>
<a name='L1488'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1489'><a href='../R/9045.html' title='Multiple refered from 2 places.'>microseconds_to_delta_ex</a>(PyObject *pyus, PyTypeObject *type)
<a name='L1490'><font color='red'>{</font>
<a name='L1491'>    <b>int</b> us;
<a name='L1492'>    <b>int</b> s;
<a name='L1493'>    <b>int</b> d;
<a name='L1494'>    <b>long</b> temp;
<a name='L1495'>
<a name='L1496'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tuple = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1497'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *num = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1498'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1499'>
<a name='L1500'>    tuple = PyNumber_Divmod(pyus, us_per_second);
<a name='L1501'>    <b>if</b> (tuple == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1502'>        <b>goto</b> Done;
<a name='L1503'>
<a name='L1504'>    num = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(tuple, 1);            <i><font color='green'>/* us */</font></i>
<a name='L1505'>    <b>if</b> (num == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1506'>        <b>goto</b> Done;
<a name='L1507'>    temp = <a href='../S/2799.html#L416' title='Defined at 416 in Objects/longobject.c.'>PyLong_AsLong</a>(num);
<a name='L1508'>    num = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1509'>    <b>if</b> (temp == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1510'>        <b>goto</b> Done;
<a name='L1511'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= temp &amp;&amp; temp &lt; 1000000);
<a name='L1512'>    us = (<b>int</b>)temp;
<a name='L1513'>    <b>if</b> (us &lt; 0) <font color='red'>{</font>
<a name='L1514'>        <i><font color='green'>/* The divisor was positive, so this must be an error. */</font></i>
<a name='L1515'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>());
<a name='L1516'>        <b>goto</b> Done;
<a name='L1517'>    <font color='red'>}</font>
<a name='L1518'>
<a name='L1519'>    num = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(tuple, 0);            <i><font color='green'>/* leftover seconds */</font></i>
<a name='L1520'>    <b>if</b> (num == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1521'>        <b>goto</b> Done;
<a name='L1522'>    Py_INCREF(num);
<a name='L1523'>    Py_DECREF(tuple);
<a name='L1524'>
<a name='L1525'>    tuple = PyNumber_Divmod(num, seconds_per_day);
<a name='L1526'>    <b>if</b> (tuple == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1527'>        <b>goto</b> Done;
<a name='L1528'>    Py_DECREF(num);
<a name='L1529'>
<a name='L1530'>    num = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(tuple, 1);            <i><font color='green'>/* seconds */</font></i>
<a name='L1531'>    <b>if</b> (num == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1532'>        <b>goto</b> Done;
<a name='L1533'>    temp = <a href='../S/2799.html#L416' title='Defined at 416 in Objects/longobject.c.'>PyLong_AsLong</a>(num);
<a name='L1534'>    num = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1535'>    <b>if</b> (temp == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1536'>        <b>goto</b> Done;
<a name='L1537'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(0 &lt;= temp &amp;&amp; temp &lt; 24*3600);
<a name='L1538'>    s = (<b>int</b>)temp;
<a name='L1539'>
<a name='L1540'>    <b>if</b> (s &lt; 0) <font color='red'>{</font>
<a name='L1541'>        <i><font color='green'>/* The divisor was positive, so this must be an error. */</font></i>
<a name='L1542'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>());
<a name='L1543'>        <b>goto</b> Done;
<a name='L1544'>    <font color='red'>}</font>
<a name='L1545'>
<a name='L1546'>    num = <a href='../S/2823.html#L123' title='Defined at 123 in Objects/tupleobject.c.'>PyTuple_GetItem</a>(tuple, 0);            <i><font color='green'>/* leftover days */</font></i>
<a name='L1547'>    <b>if</b> (num == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1548'>        <b>goto</b> Done;
<a name='L1549'>    Py_INCREF(num);
<a name='L1550'>    temp = <a href='../S/2799.html#L416' title='Defined at 416 in Objects/longobject.c.'>PyLong_AsLong</a>(num);
<a name='L1551'>    <b>if</b> (temp == -1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L1552'>        <b>goto</b> Done;
<a name='L1553'>    d = (<b>int</b>)temp;
<a name='L1554'>    <b>if</b> ((<b>long</b>)d != temp) <font color='red'>{</font>
<a name='L1555'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_OverflowError, "normalized days too "
<a name='L1556'>                        "large to fit in a C int");
<a name='L1557'>        <b>goto</b> Done;
<a name='L1558'>    <font color='red'>}</font>
<a name='L1559'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L735' title='Defined at 735 in Modules/_datetimemodule.c.'>new_delta_ex</a>(d, s, us, 0, type);
<a name='L1560'>
<a name='L1561'>Done:
<a name='L1562'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(tuple);
<a name='L1563'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(num);
<a name='L1564'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1565'><font color='red'>}</font>
<a name='L1566'>
<a name='L1567'><font color='darkred'>#define</font> <a href='../R/9044.html' title='Multiple refered from 7 places.'>microseconds_to_delta</a>(pymicros) \
<a name='L1568'>    <a href='../S/2560.html#L1489' title='Defined at 1489 in Modules/_datetimemodule.c.'>microseconds_to_delta_ex</a>(pymicros, &amp;PyDateTime_DeltaType)
<a name='L1569'>
<a name='L1570'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1571'><a href='../R/9158.html' title='Multiple refered from 2 places.'>multiply_int_timedelta</a>(PyObject *intobj, PyDateTime_Delta *delta)
<a name='L1572'><font color='red'>{</font>
<a name='L1573'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_in;
<a name='L1574'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_out;
<a name='L1575'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1576'>
<a name='L1577'>    pyus_in = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(delta);
<a name='L1578'>    <b>if</b> (pyus_in == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1579'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1580'>
<a name='L1581'>    pyus_out = <a href='../S/2775.html#L949' title='Defined at 949 in Objects/abstract.c.'>PyNumber_Multiply</a>(pyus_in, intobj);
<a name='L1582'>    Py_DECREF(pyus_in);
<a name='L1583'>    <b>if</b> (pyus_out == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1584'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1585'>
<a name='L1586'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1567' title='Defined at 1567 in Modules/_datetimemodule.c.'>microseconds_to_delta</a>(pyus_out);
<a name='L1587'>    Py_DECREF(pyus_out);
<a name='L1588'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1589'><font color='red'>}</font>
<a name='L1590'>
<a name='L1591'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1592'><a href='../R/9157.html' title='Multiple refered from 2 places.'>multiply_float_timedelta</a>(PyObject *floatobj, PyDateTime_Delta *delta)
<a name='L1593'><font color='red'>{</font>
<a name='L1594'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1595'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_in = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *temp, *pyus_out;
<a name='L1596'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1597'>
<a name='L1598'>    pyus_in = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(delta);
<a name='L1599'>    <b>if</b> (pyus_in == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1600'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1601'>    <a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(floatobj, "as_integer_ratio", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1602'>    <b>if</b> (<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1603'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1604'>    temp = <a href='../S/2775.html#L949' title='Defined at 949 in Objects/abstract.c.'>PyNumber_Multiply</a>(pyus_in, PyTuple_GET_ITEM(<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a>, 0));
<a name='L1605'>    Py_DECREF(pyus_in);
<a name='L1606'>    pyus_in = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1607'>    <b>if</b> (temp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1608'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1609'>    pyus_out = <a href='../S/2560.html#L162' title='Defined at 162 in Modules/_datetimemodule.c.'>divide_nearest</a>(temp, PyTuple_GET_ITEM(<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a>, 1));
<a name='L1610'>    Py_DECREF(temp);
<a name='L1611'>    <b>if</b> (pyus_out == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1612'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1613'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1567' title='Defined at 1567 in Modules/_datetimemodule.c.'>microseconds_to_delta</a>(pyus_out);
<a name='L1614'>    Py_DECREF(pyus_out);
<a name='L1615'> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L1616'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pyus_in);
<a name='L1617'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a>);
<a name='L1618'>
<a name='L1619'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1620'><font color='red'>}</font>
<a name='L1621'>
<a name='L1622'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1623'><a href='../S/2560.html#L1893' title='Refered from 1893 in Modules/_datetimemodule.c.'>divide_timedelta_int</a>(PyDateTime_Delta *delta, PyObject *intobj)
<a name='L1624'><font color='red'>{</font>
<a name='L1625'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_in;
<a name='L1626'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_out;
<a name='L1627'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1628'>
<a name='L1629'>    pyus_in = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(delta);
<a name='L1630'>    <b>if</b> (pyus_in == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1631'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1632'>
<a name='L1633'>    pyus_out = <a href='../S/2775.html#L968' title='Defined at 968 in Objects/abstract.c.'>PyNumber_FloorDivide</a>(pyus_in, intobj);
<a name='L1634'>    Py_DECREF(pyus_in);
<a name='L1635'>    <b>if</b> (pyus_out == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1636'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1637'>
<a name='L1638'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1567' title='Defined at 1567 in Modules/_datetimemodule.c.'>microseconds_to_delta</a>(pyus_out);
<a name='L1639'>    Py_DECREF(pyus_out);
<a name='L1640'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1641'><font color='red'>}</font>
<a name='L1642'>
<a name='L1643'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1644'><a href='../S/2560.html#L1897' title='Refered from 1897 in Modules/_datetimemodule.c.'>divide_timedelta_timedelta</a>(PyDateTime_Delta *left, PyDateTime_Delta *right)
<a name='L1645'><font color='red'>{</font>
<a name='L1646'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_left;
<a name='L1647'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_right;
<a name='L1648'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1649'>
<a name='L1650'>    pyus_left = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(left);
<a name='L1651'>    <b>if</b> (pyus_left == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1652'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1653'>
<a name='L1654'>    pyus_right = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(right);
<a name='L1655'>    <b>if</b> (pyus_right == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)     <font color='red'>{</font>
<a name='L1656'>        Py_DECREF(pyus_left);
<a name='L1657'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1658'>    <font color='red'>}</font>
<a name='L1659'>
<a name='L1660'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L968' title='Defined at 968 in Objects/abstract.c.'>PyNumber_FloorDivide</a>(pyus_left, pyus_right);
<a name='L1661'>    Py_DECREF(pyus_left);
<a name='L1662'>    Py_DECREF(pyus_right);
<a name='L1663'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1664'><font color='red'>}</font>
<a name='L1665'>
<a name='L1666'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1667'><a href='../S/2560.html#L1914' title='Refered from 1914 in Modules/_datetimemodule.c.'>truedivide_timedelta_timedelta</a>(PyDateTime_Delta *left, PyDateTime_Delta *right)
<a name='L1668'><font color='red'>{</font>
<a name='L1669'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_left;
<a name='L1670'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_right;
<a name='L1671'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1672'>
<a name='L1673'>    pyus_left = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(left);
<a name='L1674'>    <b>if</b> (pyus_left == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1675'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1676'>
<a name='L1677'>    pyus_right = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(right);
<a name='L1678'>    <b>if</b> (pyus_right == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)     <font color='red'>{</font>
<a name='L1679'>        Py_DECREF(pyus_left);
<a name='L1680'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1681'>    <font color='red'>}</font>
<a name='L1682'>
<a name='L1683'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2775.html#L974' title='Defined at 974 in Objects/abstract.c.'>PyNumber_TrueDivide</a>(pyus_left, pyus_right);
<a name='L1684'>    Py_DECREF(pyus_left);
<a name='L1685'>    Py_DECREF(pyus_right);
<a name='L1686'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1687'><font color='red'>}</font>
<a name='L1688'>
<a name='L1689'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1690'><a href='../S/2560.html#L1918' title='Refered from 1918 in Modules/_datetimemodule.c.'>truedivide_timedelta_float</a>(PyDateTime_Delta *delta, PyObject *f)
<a name='L1691'><font color='red'>{</font>
<a name='L1692'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1693'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_in = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *temp, *pyus_out;
<a name='L1694'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1695'>
<a name='L1696'>    pyus_in = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(delta);
<a name='L1697'>    <b>if</b> (pyus_in == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1698'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1699'>    <a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(f, "as_integer_ratio", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L1700'>    <b>if</b> (<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1701'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1702'>    temp = <a href='../S/2775.html#L949' title='Defined at 949 in Objects/abstract.c.'>PyNumber_Multiply</a>(pyus_in, PyTuple_GET_ITEM(<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a>, 1));
<a name='L1703'>    Py_DECREF(pyus_in);
<a name='L1704'>    pyus_in = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1705'>    <b>if</b> (temp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1706'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1707'>    pyus_out = <a href='../S/2560.html#L162' title='Defined at 162 in Modules/_datetimemodule.c.'>divide_nearest</a>(temp, PyTuple_GET_ITEM(<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a>, 0));
<a name='L1708'>    Py_DECREF(temp);
<a name='L1709'>    <b>if</b> (pyus_out == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1710'>        <b>goto</b> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>;
<a name='L1711'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1567' title='Defined at 1567 in Modules/_datetimemodule.c.'>microseconds_to_delta</a>(pyus_out);
<a name='L1712'>    Py_DECREF(pyus_out);
<a name='L1713'> <a href='../D/8389.html' title='Multiple defined in 3 places.'>error</a>:
<a name='L1714'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(pyus_in);
<a name='L1715'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/3095.html#L1162' title='Defined at 1162 in Python/dtoa.c.'>ratio</a>);
<a name='L1716'>
<a name='L1717'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1718'><font color='red'>}</font>
<a name='L1719'>
<a name='L1720'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1721'><a href='../S/2560.html#L1921' title='Refered from 1921 in Modules/_datetimemodule.c.'>truedivide_timedelta_int</a>(PyDateTime_Delta *delta, PyObject *i)
<a name='L1722'><font color='red'>{</font>
<a name='L1723'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1724'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_in, *pyus_out;
<a name='L1725'>    pyus_in = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>(delta);
<a name='L1726'>    <b>if</b> (pyus_in == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1727'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1728'>    pyus_out = <a href='../S/2560.html#L162' title='Defined at 162 in Modules/_datetimemodule.c.'>divide_nearest</a>(pyus_in, i);
<a name='L1729'>    Py_DECREF(pyus_in);
<a name='L1730'>    <b>if</b> (pyus_out == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1731'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1732'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1567' title='Defined at 1567 in Modules/_datetimemodule.c.'>microseconds_to_delta</a>(pyus_out);
<a name='L1733'>    Py_DECREF(pyus_out);
<a name='L1734'>
<a name='L1735'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1736'><font color='red'>}</font>
<a name='L1737'>
<a name='L1738'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1739'><a href='../R/7249.html' title='Multiple refered from 2 places.'>delta_add</a>(PyObject *left, PyObject *right)
<a name='L1740'><font color='red'>{</font>
<a name='L1741'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_NotImplemented;
<a name='L1742'>
<a name='L1743'>    <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left) &amp;&amp; <a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right)) <font color='red'>{</font>
<a name='L1744'>        <i><font color='green'>/* delta + delta */</font></i>
<a name='L1745'>        <i><font color='green'>/* The C-level additions can't overflow because of the</font></i>
<a name='L1746'><i><font color='green'>         * invariant bounds.</font></i>
<a name='L1747'><i><font color='green'>         */</font></i>
<a name='L1748'>        <b>int</b> days = <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(left) + <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(right);
<a name='L1749'>        <b>int</b> seconds = <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(left) + <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(right);
<a name='L1750'>        <b>int</b> microseconds = <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(left) +
<a name='L1751'>                           <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(right);
<a name='L1752'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(days, seconds, microseconds, 1);
<a name='L1753'>    <font color='red'>}</font>
<a name='L1754'>
<a name='L1755'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == Py_NotImplemented)
<a name='L1756'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1757'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1758'><font color='red'>}</font>
<a name='L1759'>
<a name='L1760'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1761'><a href='../R/7257.html' title='Multiple refered from 5 places.'>delta_negative</a>(PyDateTime_Delta *self)
<a name='L1762'><font color='red'>{</font>
<a name='L1763'>    <b>return</b> <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(-<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self),
<a name='L1764'>                     -<a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self),
<a name='L1765'>                     -<a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self),
<a name='L1766'>                     1);
<a name='L1767'><font color='red'>}</font>
<a name='L1768'>
<a name='L1769'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1770'><a href='../R/7259.html' title='Multiple refered from 2 places.'>delta_positive</a>(PyDateTime_Delta *self)
<a name='L1771'><font color='red'>{</font>
<a name='L1772'>    <i><font color='green'>/* Could optimize this (by returning self) if this isn't a</font></i>
<a name='L1773'><i><font color='green'>     * subclass -- but who uses unary + ?  Approximately nobody.</font></i>
<a name='L1774'><i><font color='green'>     */</font></i>
<a name='L1775'>    <b>return</b> <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self),
<a name='L1776'>                     <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self),
<a name='L1777'>                     <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self),
<a name='L1778'>                     0);
<a name='L1779'><font color='red'>}</font>
<a name='L1780'>
<a name='L1781'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1782'><a href='../S/2560.html#L2321' title='Refered from 2321 in Modules/_datetimemodule.c.'>delta_abs</a>(PyDateTime_Delta *self)
<a name='L1783'><font color='red'>{</font>
<a name='L1784'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1785'>
<a name='L1786'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self) &gt;= 0);
<a name='L1787'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self) &gt;= 0);
<a name='L1788'>
<a name='L1789'>    <b>if</b> (<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self) &lt; 0)
<a name='L1790'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1761' title='Defined at 1761 in Modules/_datetimemodule.c.'>delta_negative</a>(self);
<a name='L1791'>    <b>else</b>
<a name='L1792'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1770' title='Defined at 1770 in Modules/_datetimemodule.c.'>delta_positive</a>(self);
<a name='L1793'>
<a name='L1794'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1795'><font color='red'>}</font>
<a name='L1796'>
<a name='L1797'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1798'><a href='../R/7265.html' title='Multiple refered from 6 places.'>delta_subtract</a>(PyObject *left, PyObject *right)
<a name='L1799'><font color='red'>{</font>
<a name='L1800'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_NotImplemented;
<a name='L1801'>
<a name='L1802'>    <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left) &amp;&amp; <a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right)) <font color='red'>{</font>
<a name='L1803'>        <i><font color='green'>/* delta - delta */</font></i>
<a name='L1804'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *minus_right = <a href='../S/2775.html#L1136' title='Defined at 1136 in Objects/abstract.c.'>PyNumber_Negative</a>(right);
<a name='L1805'>        <b>if</b> (minus_right) <font color='red'>{</font>
<a name='L1806'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1739' title='Defined at 1739 in Modules/_datetimemodule.c.'>delta_add</a>(left, minus_right);
<a name='L1807'>            Py_DECREF(minus_right);
<a name='L1808'>        <font color='red'>}</font>
<a name='L1809'>        <b>else</b>
<a name='L1810'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1811'>    <font color='red'>}</font>
<a name='L1812'>
<a name='L1813'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == Py_NotImplemented)
<a name='L1814'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1815'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1816'><font color='red'>}</font>
<a name='L1817'>
<a name='L1818'><b>static</b> <b>int</b>
<a name='L1819'><a href='../R/7251.html' title='Multiple refered from 4 places.'>delta_cmp</a>(PyObject *self, PyObject *other)
<a name='L1820'><font color='red'>{</font>
<a name='L1821'>    <b>int</b> <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self) - <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>);
<a name='L1822'>    <b>if</b> (<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> == 0) <font color='red'>{</font>
<a name='L1823'>        <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self) - <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>);
<a name='L1824'>        <b>if</b> (<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> == 0)
<a name='L1825'>            <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self) -
<a name='L1826'>                <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>);
<a name='L1827'>    <font color='red'>}</font>
<a name='L1828'>    <b>return</b> <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>;
<a name='L1829'><font color='red'>}</font>
<a name='L1830'>
<a name='L1831'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1832'><a href='../R/7263.html' title='Multiple refered from 2 places.'>delta_richcompare</a>(PyObject *self, PyObject *other, <b>int</b> op)
<a name='L1833'><font color='red'>{</font>
<a name='L1834'>    <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)) <font color='red'>{</font>
<a name='L1835'>        <b>int</b> <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = <a href='../S/2560.html#L1819' title='Defined at 1819 in Modules/_datetimemodule.c.'>delta_cmp</a>(self, <a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>);
<a name='L1836'>        <b>return</b> <a href='../S/2560.html#L1379' title='Defined at 1379 in Modules/_datetimemodule.c.'>diff_to_bool</a>(<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>, op);
<a name='L1837'>    <font color='red'>}</font>
<a name='L1838'>    <b>else</b> <font color='red'>{</font>
<a name='L1839'>        Py_INCREF(Py_NotImplemented);
<a name='L1840'>        <b>return</b> Py_NotImplemented;
<a name='L1841'>    <font color='red'>}</font>
<a name='L1842'><font color='red'>}</font>
<a name='L1843'>
<a name='L1844'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2560.html#L2247' title='Defined at 2247 in Modules/_datetimemodule.c.'>delta_getstate</a>(PyDateTime_Delta *self);
<a name='L1845'>
<a name='L1846'><b>static</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a>
<a name='L1847'><a href='../R/7255.html' title='Multiple refered from 2 places.'>delta_hash</a>(PyDateTime_Delta *self)
<a name='L1848'><font color='red'>{</font>
<a name='L1849'>    <b>if</b> (self-&gt;hashcode == -1) <font color='red'>{</font>
<a name='L1850'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp = <a href='../S/2560.html#L2247' title='Defined at 2247 in Modules/_datetimemodule.c.'>delta_getstate</a>(self);
<a name='L1851'>        <b>if</b> (temp != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1852'>            self-&gt;hashcode = <a href='../S/2803.html#L758' title='Defined at 758 in Objects/object.c.'>PyObject_Hash</a>(temp);
<a name='L1853'>            Py_DECREF(temp);
<a name='L1854'>        <font color='red'>}</font>
<a name='L1855'>    <font color='red'>}</font>
<a name='L1856'>    <b>return</b> self-&gt;hashcode;
<a name='L1857'><font color='red'>}</font>
<a name='L1858'>
<a name='L1859'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1860'><a href='../S/2560.html#L2315' title='Refered from 2315 in Modules/_datetimemodule.c.'>delta_multiply</a>(PyObject *left, PyObject *right)
<a name='L1861'><font color='red'>{</font>
<a name='L1862'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_NotImplemented;
<a name='L1863'>
<a name='L1864'>    <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left)) <font color='red'>{</font>
<a name='L1865'>        <i><font color='green'>/* delta * ??? */</font></i>
<a name='L1866'>        <b>if</b> (PyLong_Check(right))
<a name='L1867'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1571' title='Defined at 1571 in Modules/_datetimemodule.c.'>multiply_int_timedelta</a>(right,
<a name='L1868'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) left);
<a name='L1869'>        <b>else</b> <b>if</b> (PyFloat_Check(right))
<a name='L1870'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1592' title='Defined at 1592 in Modules/_datetimemodule.c.'>multiply_float_timedelta</a>(right,
<a name='L1871'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) left);
<a name='L1872'>    <font color='red'>}</font>
<a name='L1873'>    <b>else</b> <b>if</b> (PyLong_Check(left))
<a name='L1874'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1571' title='Defined at 1571 in Modules/_datetimemodule.c.'>multiply_int_timedelta</a>(left,
<a name='L1875'>                        (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) right);
<a name='L1876'>    <b>else</b> <b>if</b> (PyFloat_Check(left))
<a name='L1877'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1592' title='Defined at 1592 in Modules/_datetimemodule.c.'>multiply_float_timedelta</a>(left,
<a name='L1878'>                        (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) right);
<a name='L1879'>
<a name='L1880'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == Py_NotImplemented)
<a name='L1881'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1882'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1883'><font color='red'>}</font>
<a name='L1884'>
<a name='L1885'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1886'><a href='../S/2560.html#L2342' title='Refered from 2342 in Modules/_datetimemodule.c.'>delta_divide</a>(PyObject *left, PyObject *right)
<a name='L1887'><font color='red'>{</font>
<a name='L1888'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_NotImplemented;
<a name='L1889'>
<a name='L1890'>    <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left)) <font color='red'>{</font>
<a name='L1891'>        <i><font color='green'>/* delta * ??? */</font></i>
<a name='L1892'>        <b>if</b> (PyLong_Check(right))
<a name='L1893'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1623' title='Defined at 1623 in Modules/_datetimemodule.c.'>divide_timedelta_int</a>(
<a name='L1894'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)left,
<a name='L1895'>                            right);
<a name='L1896'>        <b>else</b> <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right))
<a name='L1897'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1644' title='Defined at 1644 in Modules/_datetimemodule.c.'>divide_timedelta_timedelta</a>(
<a name='L1898'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)left,
<a name='L1899'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)right);
<a name='L1900'>    <font color='red'>}</font>
<a name='L1901'>
<a name='L1902'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == Py_NotImplemented)
<a name='L1903'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1904'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1905'><font color='red'>}</font>
<a name='L1906'>
<a name='L1907'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1908'><a href='../S/2560.html#L2343' title='Refered from 2343 in Modules/_datetimemodule.c.'>delta_truedivide</a>(PyObject *left, PyObject *right)
<a name='L1909'><font color='red'>{</font>
<a name='L1910'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_NotImplemented;
<a name='L1911'>
<a name='L1912'>    <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left)) <font color='red'>{</font>
<a name='L1913'>        <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right))
<a name='L1914'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1667' title='Defined at 1667 in Modules/_datetimemodule.c.'>truedivide_timedelta_timedelta</a>(
<a name='L1915'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)left,
<a name='L1916'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)right);
<a name='L1917'>        <b>else</b> <b>if</b> (PyFloat_Check(right))
<a name='L1918'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1690' title='Defined at 1690 in Modules/_datetimemodule.c.'>truedivide_timedelta_float</a>(
<a name='L1919'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)left, right);
<a name='L1920'>        <b>else</b> <b>if</b> (PyLong_Check(right))
<a name='L1921'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1721' title='Defined at 1721 in Modules/_datetimemodule.c.'>truedivide_timedelta_int</a>(
<a name='L1922'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)left, right);
<a name='L1923'>    <font color='red'>}</font>
<a name='L1924'>
<a name='L1925'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == Py_NotImplemented)
<a name='L1926'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L1927'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1928'><font color='red'>}</font>
<a name='L1929'>
<a name='L1930'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1931'><a href='../S/2560.html#L2316' title='Refered from 2316 in Modules/_datetimemodule.c.'>delta_remainder</a>(PyObject *left, PyObject *right)
<a name='L1932'><font color='red'>{</font>
<a name='L1933'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_left;
<a name='L1934'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_right;
<a name='L1935'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_remainder;
<a name='L1936'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *remainder;
<a name='L1937'>
<a name='L1938'>    <b>if</b> (!<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left) || !<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right)) <font color='red'>{</font>
<a name='L1939'>        Py_INCREF(Py_NotImplemented);
<a name='L1940'>        <b>return</b> Py_NotImplemented;
<a name='L1941'>    <font color='red'>}</font>
<a name='L1942'>
<a name='L1943'>    pyus_left = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)left);
<a name='L1944'>    <b>if</b> (pyus_left == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1945'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1946'>
<a name='L1947'>    pyus_right = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)right);
<a name='L1948'>    <b>if</b> (pyus_right == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1949'>        Py_DECREF(pyus_left);
<a name='L1950'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1951'>    <font color='red'>}</font>
<a name='L1952'>
<a name='L1953'>    pyus_remainder = <a href='../S/2775.html#L980' title='Defined at 980 in Objects/abstract.c.'>PyNumber_Remainder</a>(pyus_left, pyus_right);
<a name='L1954'>    Py_DECREF(pyus_left);
<a name='L1955'>    Py_DECREF(pyus_right);
<a name='L1956'>    <b>if</b> (pyus_remainder == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1957'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1958'>
<a name='L1959'>    remainder = <a href='../S/2560.html#L1567' title='Defined at 1567 in Modules/_datetimemodule.c.'>microseconds_to_delta</a>(pyus_remainder);
<a name='L1960'>    Py_DECREF(pyus_remainder);
<a name='L1961'>    <b>if</b> (remainder == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1962'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1963'>
<a name='L1964'>    <b>return</b> remainder;
<a name='L1965'><font color='red'>}</font>
<a name='L1966'>
<a name='L1967'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L1968'><a href='../S/2560.html#L2317' title='Refered from 2317 in Modules/_datetimemodule.c.'>delta_divmod</a>(PyObject *left, PyObject *right)
<a name='L1969'><font color='red'>{</font>
<a name='L1970'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_left;
<a name='L1971'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *pyus_right;
<a name='L1972'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>;
<a name='L1973'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *delta;
<a name='L1974'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L1975'>
<a name='L1976'>    <b>if</b> (!<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left) || !<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right)) <font color='red'>{</font>
<a name='L1977'>        Py_INCREF(Py_NotImplemented);
<a name='L1978'>        <b>return</b> Py_NotImplemented;
<a name='L1979'>    <font color='red'>}</font>
<a name='L1980'>
<a name='L1981'>    pyus_left = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)left);
<a name='L1982'>    <b>if</b> (pyus_left == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1983'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1984'>
<a name='L1985'>    pyus_right = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)right);
<a name='L1986'>    <b>if</b> (pyus_right == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L1987'>        Py_DECREF(pyus_left);
<a name='L1988'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1989'>    <font color='red'>}</font>
<a name='L1990'>
<a name='L1991'>    <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a> = PyNumber_Divmod(pyus_left, pyus_right);
<a name='L1992'>    Py_DECREF(pyus_left);
<a name='L1993'>    Py_DECREF(pyus_right);
<a name='L1994'>    <b>if</b> (<a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L1995'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L1996'>
<a name='L1997'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(<a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>) == 2);
<a name='L1998'>    delta = <a href='../S/2560.html#L1567' title='Defined at 1567 in Modules/_datetimemodule.c.'>microseconds_to_delta</a>(PyTuple_GET_ITEM(<a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>, 1));
<a name='L1999'>    <b>if</b> (delta == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2000'>        Py_DECREF(<a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>);
<a name='L2001'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2002'>    <font color='red'>}</font>
<a name='L2003'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2823.html#L186' title='Defined at 186 in Objects/tupleobject.c.'>PyTuple_Pack</a>(2, PyTuple_GET_ITEM(<a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>, 0), delta);
<a name='L2004'>    Py_DECREF(delta);
<a name='L2005'>    Py_DECREF(<a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>);
<a name='L2006'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2007'><font color='red'>}</font>
<a name='L2008'>
<a name='L2009'><i><font color='green'>/* Fold in the value of the tag ("seconds", "weeks", etc) component of a</font></i>
<a name='L2010'><i><font color='green'> * timedelta constructor.  sofar is the # of microseconds accounted for</font></i>
<a name='L2011'><i><font color='green'> * so far, and there are factor microseconds per current unit, the number</font></i>
<a name='L2012'><i><font color='green'> * of which is given by num.  num * factor is added to sofar in a</font></i>
<a name='L2013'><i><font color='green'> * numerically careful way, and that's the result.  Any fractional</font></i>
<a name='L2014'><i><font color='green'> * microseconds left over (this can happen if num is a float type) are</font></i>
<a name='L2015'><i><font color='green'> * added into *leftover.</font></i>
<a name='L2016'><i><font color='green'> * Note that there are many ways this can give an error (NULL) return.</font></i>
<a name='L2017'><i><font color='green'> */</font></i>
<a name='L2018'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2019'><a href='../R/5903.html' title='Multiple refered from 37 places.'>accum</a>(<b>const</b> <b>char</b>* tag, PyObject *sofar, PyObject *num, PyObject *factor,
<a name='L2020'>      <b>double</b> *leftover)
<a name='L2021'><font color='red'>{</font>
<a name='L2022'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *prod;
<a name='L2023'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *sum;
<a name='L2024'>
<a name='L2025'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(num != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2026'>
<a name='L2027'>    <b>if</b> (PyLong_Check(num)) <font color='red'>{</font>
<a name='L2028'>        prod = <a href='../S/2775.html#L949' title='Defined at 949 in Objects/abstract.c.'>PyNumber_Multiply</a>(num, <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>);
<a name='L2029'>        <b>if</b> (prod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2030'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2031'>        sum = PyNumber_Add(sofar, prod);
<a name='L2032'>        Py_DECREF(prod);
<a name='L2033'>        <b>return</b> sum;
<a name='L2034'>    <font color='red'>}</font>
<a name='L2035'>
<a name='L2036'>    <b>if</b> (PyFloat_Check(num)) <font color='red'>{</font>
<a name='L2037'>        <b>double</b> dnum;
<a name='L2038'>        <b>double</b> fracpart;
<a name='L2039'>        <b>double</b> intpart;
<a name='L2040'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *x;
<a name='L2041'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *y;
<a name='L2042'>
<a name='L2043'>        <i><font color='green'>/* The Plan:  decompose num into an integer part and a</font></i>
<a name='L2044'><i><font color='green'>         * fractional part, num = intpart + fracpart.</font></i>
<a name='L2045'><i><font color='green'>         * Then num * factor ==</font></i>
<a name='L2046'><i><font color='green'>         *      intpart * factor + fracpart * factor</font></i>
<a name='L2047'><i><font color='green'>         * and the LHS can be computed exactly in long arithmetic.</font></i>
<a name='L2048'><i><font color='green'>         * The RHS is again broken into an int part and frac part.</font></i>
<a name='L2049'><i><font color='green'>         * and the frac part is added into *leftover.</font></i>
<a name='L2050'><i><font color='green'>         */</font></i>
<a name='L2051'>        dnum = <a href='../S/2791.html#L244' title='Defined at 244 in Objects/floatobject.c.'>PyFloat_AsDouble</a>(num);
<a name='L2052'>        <b>if</b> (dnum == -1.0 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L2053'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2054'>        fracpart = modf(dnum, &amp;intpart);
<a name='L2055'>        x = <a href='../S/2799.html#L274' title='Defined at 274 in Objects/longobject.c.'>PyLong_FromDouble</a>(intpart);
<a name='L2056'>        <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2057'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2058'>
<a name='L2059'>        prod = <a href='../S/2775.html#L949' title='Defined at 949 in Objects/abstract.c.'>PyNumber_Multiply</a>(x, <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>);
<a name='L2060'>        Py_DECREF(x);
<a name='L2061'>        <b>if</b> (prod == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2062'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2063'>
<a name='L2064'>        sum = PyNumber_Add(sofar, prod);
<a name='L2065'>        Py_DECREF(prod);
<a name='L2066'>        <b>if</b> (sum == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2067'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2068'>
<a name='L2069'>        <b>if</b> (fracpart == 0.0)
<a name='L2070'>            <b>return</b> sum;
<a name='L2071'>        <i><font color='green'>/* So far we've lost no information.  Dealing with the</font></i>
<a name='L2072'><i><font color='green'>         * fractional part requires float arithmetic, and may</font></i>
<a name='L2073'><i><font color='green'>         * lose a little info.</font></i>
<a name='L2074'><i><font color='green'>         */</font></i>
<a name='L2075'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(PyLong_Check(<a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>));
<a name='L2076'>        dnum = <a href='../S/2799.html#L2481' title='Defined at 2481 in Objects/longobject.c.'>PyLong_AsDouble</a>(<a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>);
<a name='L2077'>
<a name='L2078'>        dnum *= fracpart;
<a name='L2079'>        fracpart = modf(dnum, &amp;intpart);
<a name='L2080'>        x = <a href='../S/2799.html#L274' title='Defined at 274 in Objects/longobject.c.'>PyLong_FromDouble</a>(intpart);
<a name='L2081'>        <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2082'>            Py_DECREF(sum);
<a name='L2083'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2084'>        <font color='red'>}</font>
<a name='L2085'>
<a name='L2086'>        y = PyNumber_Add(sum, x);
<a name='L2087'>        Py_DECREF(sum);
<a name='L2088'>        Py_DECREF(x);
<a name='L2089'>        *leftover += fracpart;
<a name='L2090'>        <b>return</b> y;
<a name='L2091'>    <font color='red'>}</font>
<a name='L2092'>
<a name='L2093'>    <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError,
<a name='L2094'>                 "unsupported type for timedelta %s component: %s",
<a name='L2095'>                 <a href='../S/2664.html#L175' title='Defined at 175 in Modules/expat/xmlparse.c.'>tag</a>, <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(num)-&gt;tp_name);
<a name='L2096'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2097'><font color='red'>}</font>
<a name='L2098'>
<a name='L2099'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2100'><a href='../S/2560.html#L2386' title='Refered from 2386 in Modules/_datetimemodule.c.'>delta_new</a>(PyTypeObject *type, PyObject *args, PyObject *kw)
<a name='L2101'><font color='red'>{</font>
<a name='L2102'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2103'>
<a name='L2104'>    <i><font color='green'>/* Argument objects. */</font></i>
<a name='L2105'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *day = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2106'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *second = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2107'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *us = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2108'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *ms = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2109'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *minute = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2110'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *hour = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2111'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *week = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2112'>
<a name='L2113'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *x = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;         <i><font color='green'>/* running sum of microseconds */</font></i>
<a name='L2114'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *y = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;         <i><font color='green'>/* temp sum of microseconds */</font></i>
<a name='L2115'>    <b>double</b> leftover_us = 0.0;
<a name='L2116'>
<a name='L2117'>    <b>static</b> <b>char</b> *keywords[] = <font color='red'>{</font>
<a name='L2118'>        "days", "seconds", "microseconds", "milliseconds",
<a name='L2119'>        "minutes", "hours", "weeks", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L2120'>    <font color='red'>}</font>;
<a name='L2121'>
<a name='L2122'>    <b>if</b> (<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "|OOOOOOO:__new__",
<a name='L2123'>                                    keywords,
<a name='L2124'>                                    &amp;day, &amp;second, &amp;us,
<a name='L2125'>                                    &amp;ms, &amp;minute, &amp;hour, &amp;week) == 0)
<a name='L2126'>        <b>goto</b> Done;
<a name='L2127'>
<a name='L2128'>    x = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(0);
<a name='L2129'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2130'>        <b>goto</b> Done;
<a name='L2131'>
<a name='L2132'><font color='darkred'>#define</font> <a href='../R/524.html' title='Multiple refered from 8 places.'>CLEANUP</a>         \
<a name='L2133'>    Py_DECREF(x);       \
<a name='L2134'>    x = y;              \
<a name='L2135'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)      \
<a name='L2136'>        <b>goto</b> Done
<a name='L2137'>
<a name='L2138'>    <b>if</b> (us) <font color='red'>{</font>
<a name='L2139'>        y = <a href='../S/2560.html#L2019' title='Defined at 2019 in Modules/_datetimemodule.c.'>accum</a>("microseconds", x, us, us_per_us, &amp;leftover_us);
<a name='L2140'>        <a href='../D/561.html' title='Multiple defined in 2 places.'>CLEANUP</a>;
<a name='L2141'>    <font color='red'>}</font>
<a name='L2142'>    <b>if</b> (ms) <font color='red'>{</font>
<a name='L2143'>        y = <a href='../S/2560.html#L2019' title='Defined at 2019 in Modules/_datetimemodule.c.'>accum</a>("milliseconds", x, ms, us_per_ms, &amp;leftover_us);
<a name='L2144'>        <a href='../D/561.html' title='Multiple defined in 2 places.'>CLEANUP</a>;
<a name='L2145'>    <font color='red'>}</font>
<a name='L2146'>    <b>if</b> (second) <font color='red'>{</font>
<a name='L2147'>        y = <a href='../S/2560.html#L2019' title='Defined at 2019 in Modules/_datetimemodule.c.'>accum</a>("seconds", x, second, us_per_second, &amp;leftover_us);
<a name='L2148'>        <a href='../D/561.html' title='Multiple defined in 2 places.'>CLEANUP</a>;
<a name='L2149'>    <font color='red'>}</font>
<a name='L2150'>    <b>if</b> (minute) <font color='red'>{</font>
<a name='L2151'>        y = <a href='../S/2560.html#L2019' title='Defined at 2019 in Modules/_datetimemodule.c.'>accum</a>("minutes", x, minute, us_per_minute, &amp;leftover_us);
<a name='L2152'>        <a href='../D/561.html' title='Multiple defined in 2 places.'>CLEANUP</a>;
<a name='L2153'>    <font color='red'>}</font>
<a name='L2154'>    <b>if</b> (hour) <font color='red'>{</font>
<a name='L2155'>        y = <a href='../S/2560.html#L2019' title='Defined at 2019 in Modules/_datetimemodule.c.'>accum</a>("hours", x, hour, us_per_hour, &amp;leftover_us);
<a name='L2156'>        <a href='../D/561.html' title='Multiple defined in 2 places.'>CLEANUP</a>;
<a name='L2157'>    <font color='red'>}</font>
<a name='L2158'>    <b>if</b> (day) <font color='red'>{</font>
<a name='L2159'>        y = <a href='../S/2560.html#L2019' title='Defined at 2019 in Modules/_datetimemodule.c.'>accum</a>("days", x, day, us_per_day, &amp;leftover_us);
<a name='L2160'>        <a href='../D/561.html' title='Multiple defined in 2 places.'>CLEANUP</a>;
<a name='L2161'>    <font color='red'>}</font>
<a name='L2162'>    <b>if</b> (week) <font color='red'>{</font>
<a name='L2163'>        y = <a href='../S/2560.html#L2019' title='Defined at 2019 in Modules/_datetimemodule.c.'>accum</a>("weeks", x, week, us_per_week, &amp;leftover_us);
<a name='L2164'>        <a href='../D/561.html' title='Multiple defined in 2 places.'>CLEANUP</a>;
<a name='L2165'>    <font color='red'>}</font>
<a name='L2166'>    <b>if</b> (leftover_us) <font color='red'>{</font>
<a name='L2167'>        <i><font color='green'>/* Round to nearest whole # of us, and add into x. */</font></i>
<a name='L2168'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L149' title='Defined at 149 in Modules/_datetimemodule.c.'>round_to_long</a>(leftover_us));
<a name='L2169'>        <b>if</b> (temp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2170'>            Py_DECREF(x);
<a name='L2171'>            <b>goto</b> Done;
<a name='L2172'>        <font color='red'>}</font>
<a name='L2173'>        y = PyNumber_Add(x, temp);
<a name='L2174'>        Py_DECREF(temp);
<a name='L2175'>        <a href='../D/561.html' title='Multiple defined in 2 places.'>CLEANUP</a>;
<a name='L2176'>    <font color='red'>}</font>
<a name='L2177'>
<a name='L2178'>    self = <a href='../S/2560.html#L1489' title='Defined at 1489 in Modules/_datetimemodule.c.'>microseconds_to_delta_ex</a>(x, type);
<a name='L2179'>    Py_DECREF(x);
<a name='L2180'>Done:
<a name='L2181'>    <b>return</b> self;
<a name='L2182'>
<a name='L2183'><font color='darkred'>#undef</font> <a href='../R/524.html' title='Multiple refered from 8 places.'>CLEANUP</a>
<a name='L2184'><font color='red'>}</font>
<a name='L2185'>
<a name='L2186'><b>static</b> <b>int</b>
<a name='L2187'><a href='../R/7250.html' title='Multiple refered from 5 places.'>delta_bool</a>(PyDateTime_Delta *self)
<a name='L2188'><font color='red'>{</font>
<a name='L2189'>    <b>return</b> (<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self) != 0
<a name='L2190'>        || <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self) != 0
<a name='L2191'>        || <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self) != 0);
<a name='L2192'><font color='red'>}</font>
<a name='L2193'>
<a name='L2194'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2195'><a href='../S/2560.html#L2358' title='Refered from 2358 in Modules/_datetimemodule.c.'>delta_repr</a>(PyDateTime_Delta *self)
<a name='L2196'><font color='red'>{</font>
<a name='L2197'>    <b>if</b> (<a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self) != 0)
<a name='L2198'>        <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%d, %d, %d)",
<a name='L2199'>                                    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name,
<a name='L2200'>                                    <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self),
<a name='L2201'>                                    <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self),
<a name='L2202'>                                    <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self));
<a name='L2203'>    <b>if</b> (<a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self) != 0)
<a name='L2204'>        <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%d, %d)",
<a name='L2205'>                                    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name,
<a name='L2206'>                                    <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self),
<a name='L2207'>                                    <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self));
<a name='L2208'>
<a name='L2209'>    <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%d)",
<a name='L2210'>                                <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name,
<a name='L2211'>                                <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self));
<a name='L2212'><font color='red'>}</font>
<a name='L2213'>
<a name='L2214'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2215'><a href='../S/2560.html#L2364' title='Refered from 2364 in Modules/_datetimemodule.c.'>delta_str</a>(PyDateTime_Delta *self)
<a name='L2216'><font color='red'>{</font>
<a name='L2217'>    <b>int</b> us = <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self);
<a name='L2218'>    <b>int</b> seconds = <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self);
<a name='L2219'>    <b>int</b> minutes = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(seconds, 60, &amp;seconds);
<a name='L2220'>    <b>int</b> hours = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(minutes, 60, &amp;minutes);
<a name='L2221'>    <b>int</b> days = <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self);
<a name='L2222'>
<a name='L2223'>    <b>if</b> (days) <font color='red'>{</font>
<a name='L2224'>        <b>if</b> (us)
<a name='L2225'>            <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%d day%s, %d:%02d:%02d.%06d",
<a name='L2226'>                                        days, (days == 1 || days == -1) ? "" : "s",
<a name='L2227'>                                        hours, minutes, seconds, us);
<a name='L2228'>        <b>else</b>
<a name='L2229'>            <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%d day%s, %d:%02d:%02d",
<a name='L2230'>                                        days, (days == 1 || days == -1) ? "" : "s",
<a name='L2231'>                                        hours, minutes, seconds);
<a name='L2232'>    <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2233'>        <b>if</b> (us)
<a name='L2234'>            <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%d:%02d:%02d.%06d",
<a name='L2235'>                                        hours, minutes, seconds, us);
<a name='L2236'>        <b>else</b>
<a name='L2237'>            <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%d:%02d:%02d",
<a name='L2238'>                                        hours, minutes, seconds);
<a name='L2239'>    <font color='red'>}</font>
<a name='L2240'>
<a name='L2241'><font color='red'>}</font>
<a name='L2242'>
<a name='L2243'><i><font color='green'>/* Pickle support, a simple use of __reduce__. */</font></i>
<a name='L2244'>
<a name='L2245'><i><font color='green'>/* __getstate__ isn't exposed */</font></i>
<a name='L2246'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2247'><a href='../R/7254.html' title='Multiple refered from 3 places.'>delta_getstate</a>(PyDateTime_Delta *self)
<a name='L2248'><font color='red'>{</font>
<a name='L2249'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("iii", <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self),
<a name='L2250'>                                <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(self),
<a name='L2251'>                                <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(self));
<a name='L2252'><font color='red'>}</font>
<a name='L2253'>
<a name='L2254'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2255'><a href='../S/2560.html#L2300' title='Refered from 2300 in Modules/_datetimemodule.c.'>delta_total_seconds</a>(PyObject *self)
<a name='L2256'><font color='red'>{</font>
<a name='L2257'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *total_seconds;
<a name='L2258'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *total_microseconds;
<a name='L2259'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *one_million;
<a name='L2260'>
<a name='L2261'>    total_microseconds = <a href='../S/2560.html#L1439' title='Defined at 1439 in Modules/_datetimemodule.c.'>delta_to_microseconds</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)self);
<a name='L2262'>    <b>if</b> (total_microseconds == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2263'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2264'>
<a name='L2265'>    one_million = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(1000000L);
<a name='L2266'>    <b>if</b> (one_million == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2267'>        Py_DECREF(total_microseconds);
<a name='L2268'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2269'>    <font color='red'>}</font>
<a name='L2270'>
<a name='L2271'>    total_seconds = <a href='../S/2775.html#L974' title='Defined at 974 in Objects/abstract.c.'>PyNumber_TrueDivide</a>(total_microseconds, one_million);
<a name='L2272'>
<a name='L2273'>    Py_DECREF(total_microseconds);
<a name='L2274'>    Py_DECREF(one_million);
<a name='L2275'>    <b>return</b> total_seconds;
<a name='L2276'><font color='red'>}</font>
<a name='L2277'>
<a name='L2278'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2279'><a href='../S/2560.html#L2303' title='Refered from 2303 in Modules/_datetimemodule.c.'>delta_reduce</a>(PyDateTime_Delta* self)
<a name='L2280'><font color='red'>{</font>
<a name='L2281'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("ON", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), <a href='../S/2560.html#L2247' title='Defined at 2247 in Modules/_datetimemodule.c.'>delta_getstate</a>(self));
<a name='L2282'><font color='red'>}</font>
<a name='L2283'>
<a name='L2284'><font color='darkred'>#define</font> <a href='../R/2176.html' title='Multiple refered from 3 places.'>OFFSET</a>(field)  <a href='../D/10194.html' title='Multiple defined in 2 places.'>offsetof</a>(<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a>, field)
<a name='L2285'>
<a name='L2286'><b>static</b> <a href='../D/3506.html' title='Multiple defined in 2 places.'>PyMemberDef</a> delta_members[] = <font color='red'>{</font>
<a name='L2287'>
<a name='L2288'>    <font color='red'>{</font>"days",         <a href='../S/577.html#L39' title='Defined at 39 in Include/structmember.h.'>T_INT</a>, <a href='../S/2560.html#L2284' title='Defined at 2284 in Modules/_datetimemodule.c.'>OFFSET</a>(days),         <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a>,
<a name='L2289'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Number of days.")<font color='red'>}</font>,
<a name='L2290'>
<a name='L2291'>    <font color='red'>{</font>"seconds",      <a href='../S/577.html#L39' title='Defined at 39 in Include/structmember.h.'>T_INT</a>, <a href='../S/2560.html#L2284' title='Defined at 2284 in Modules/_datetimemodule.c.'>OFFSET</a>(seconds),      <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a>,
<a name='L2292'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Number of seconds (&gt;= 0 and less than 1 day).")<font color='red'>}</font>,
<a name='L2293'>
<a name='L2294'>    <font color='red'>{</font>"microseconds", <a href='../S/577.html#L39' title='Defined at 39 in Include/structmember.h.'>T_INT</a>, <a href='../S/2560.html#L2284' title='Defined at 2284 in Modules/_datetimemodule.c.'>OFFSET</a>(microseconds), <a href='../S/577.html#L73' title='Defined at 73 in Include/structmember.h.'>READONLY</a>,
<a name='L2295'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Number of microseconds (&gt;= 0 and less than 1 second).")<font color='red'>}</font>,
<a name='L2296'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2297'><font color='red'>}</font>;
<a name='L2298'>
<a name='L2299'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> delta_methods[] = <font color='red'>{</font>
<a name='L2300'>    <font color='red'>{</font>"total_seconds", (PyCFunction)<a href='../S/2560.html#L2255' title='Defined at 2255 in Modules/_datetimemodule.c.'>delta_total_seconds</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2301'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Total seconds in the duration.")<font color='red'>}</font>,
<a name='L2302'>
<a name='L2303'>    <font color='red'>{</font>"__reduce__", (PyCFunction)<a href='../S/2560.html#L2279' title='Defined at 2279 in Modules/_datetimemodule.c.'>delta_reduce</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2304'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("__reduce__() -&gt; (cls, state)")<font color='red'>}</font>,
<a name='L2305'>
<a name='L2306'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,      <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>,
<a name='L2307'><font color='red'>}</font>;
<a name='L2308'>
<a name='L2309'><b>static</b> <b>char</b> delta_doc[] =
<a name='L2310'><a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Difference between two datetime values.");
<a name='L2311'>
<a name='L2312'><b>static</b> <a href='../S/544.html#L247' title='Defined at 247 in Include/object.h.'>PyNumberMethods</a> delta_as_number = <font color='red'>{</font>
<a name='L2313'>    <a href='../S/2560.html#L1739' title='Defined at 1739 in Modules/_datetimemodule.c.'>delta_add</a>,                                  <i><font color='green'>/* nb_add */</font></i>
<a name='L2314'>    <a href='../S/2560.html#L1798' title='Defined at 1798 in Modules/_datetimemodule.c.'>delta_subtract</a>,                             <i><font color='green'>/* nb_subtract */</font></i>
<a name='L2315'>    <a href='../S/2560.html#L1860' title='Defined at 1860 in Modules/_datetimemodule.c.'>delta_multiply</a>,                             <i><font color='green'>/* nb_multiply */</font></i>
<a name='L2316'>    <a href='../S/2560.html#L1931' title='Defined at 1931 in Modules/_datetimemodule.c.'>delta_remainder</a>,                            <i><font color='green'>/* nb_remainder */</font></i>
<a name='L2317'>    <a href='../S/2560.html#L1968' title='Defined at 1968 in Modules/_datetimemodule.c.'>delta_divmod</a>,                               <i><font color='green'>/* nb_divmod */</font></i>
<a name='L2318'>    0,                                          <i><font color='green'>/* nb_power */</font></i>
<a name='L2319'>    (unaryfunc)<a href='../S/2560.html#L1761' title='Defined at 1761 in Modules/_datetimemodule.c.'>delta_negative</a>,                  <i><font color='green'>/* nb_negative */</font></i>
<a name='L2320'>    (unaryfunc)<a href='../S/2560.html#L1770' title='Defined at 1770 in Modules/_datetimemodule.c.'>delta_positive</a>,                  <i><font color='green'>/* nb_positive */</font></i>
<a name='L2321'>    (unaryfunc)<a href='../S/2560.html#L1782' title='Defined at 1782 in Modules/_datetimemodule.c.'>delta_abs</a>,                       <i><font color='green'>/* nb_absolute */</font></i>
<a name='L2322'>    (inquiry)<a href='../S/2560.html#L2187' title='Defined at 2187 in Modules/_datetimemodule.c.'>delta_bool</a>,                        <i><font color='green'>/* nb_bool */</font></i>
<a name='L2323'>    0,                                          <i><font color='green'>/*nb_invert*/</font></i>
<a name='L2324'>    0,                                          <i><font color='green'>/*nb_lshift*/</font></i>
<a name='L2325'>    0,                                          <i><font color='green'>/*nb_rshift*/</font></i>
<a name='L2326'>    0,                                          <i><font color='green'>/*nb_and*/</font></i>
<a name='L2327'>    0,                                          <i><font color='green'>/*nb_xor*/</font></i>
<a name='L2328'>    0,                                          <i><font color='green'>/*nb_or*/</font></i>
<a name='L2329'>    0,                                          <i><font color='green'>/*nb_int*/</font></i>
<a name='L2330'>    0,                                          <i><font color='green'>/*nb_reserved*/</font></i>
<a name='L2331'>    0,                                          <i><font color='green'>/*nb_float*/</font></i>
<a name='L2332'>    0,                                          <i><font color='green'>/*nb_inplace_add*/</font></i>
<a name='L2333'>    0,                                          <i><font color='green'>/*nb_inplace_subtract*/</font></i>
<a name='L2334'>    0,                                          <i><font color='green'>/*nb_inplace_multiply*/</font></i>
<a name='L2335'>    0,                                          <i><font color='green'>/*nb_inplace_remainder*/</font></i>
<a name='L2336'>    0,                                          <i><font color='green'>/*nb_inplace_power*/</font></i>
<a name='L2337'>    0,                                          <i><font color='green'>/*nb_inplace_lshift*/</font></i>
<a name='L2338'>    0,                                          <i><font color='green'>/*nb_inplace_rshift*/</font></i>
<a name='L2339'>    0,                                          <i><font color='green'>/*nb_inplace_and*/</font></i>
<a name='L2340'>    0,                                          <i><font color='green'>/*nb_inplace_xor*/</font></i>
<a name='L2341'>    0,                                          <i><font color='green'>/*nb_inplace_or*/</font></i>
<a name='L2342'>    <a href='../S/2560.html#L1886' title='Defined at 1886 in Modules/_datetimemodule.c.'>delta_divide</a>,                               <i><font color='green'>/* nb_floor_divide */</font></i>
<a name='L2343'>    <a href='../S/2560.html#L1908' title='Defined at 1908 in Modules/_datetimemodule.c.'>delta_truedivide</a>,                           <i><font color='green'>/* nb_true_divide */</font></i>
<a name='L2344'>    0,                                          <i><font color='green'>/* nb_inplace_floor_divide */</font></i>
<a name='L2345'>    0,                                          <i><font color='green'>/* nb_inplace_true_divide */</font></i>
<a name='L2346'><font color='red'>}</font>;
<a name='L2347'>
<a name='L2348'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_DeltaType = <font color='red'>{</font>
<a name='L2349'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L2350'>    "datetime.timedelta",                               <i><font color='green'>/* tp_name */</font></i>
<a name='L2351'>    <b>sizeof</b>(<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a>),                           <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L2352'>    0,                                                  <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L2353'>    0,                                                  <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L2354'>    0,                                                  <i><font color='green'>/* tp_print */</font></i>
<a name='L2355'>    0,                                                  <i><font color='green'>/* tp_getattr */</font></i>
<a name='L2356'>    0,                                                  <i><font color='green'>/* tp_setattr */</font></i>
<a name='L2357'>    0,                                                  <i><font color='green'>/* tp_reserved */</font></i>
<a name='L2358'>    (reprfunc)<a href='../S/2560.html#L2195' title='Defined at 2195 in Modules/_datetimemodule.c.'>delta_repr</a>,                               <i><font color='green'>/* tp_repr */</font></i>
<a name='L2359'>    &amp;delta_as_number,                                   <i><font color='green'>/* tp_as_number */</font></i>
<a name='L2360'>    0,                                                  <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L2361'>    0,                                                  <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L2362'>    (hashfunc)<a href='../S/2560.html#L1847' title='Defined at 1847 in Modules/_datetimemodule.c.'>delta_hash</a>,                               <i><font color='green'>/* tp_hash */</font></i>
<a name='L2363'>    0,                                                  <i><font color='green'>/* tp_call */</font></i>
<a name='L2364'>    (reprfunc)<a href='../S/2560.html#L2215' title='Defined at 2215 in Modules/_datetimemodule.c.'>delta_str</a>,                                <i><font color='green'>/* tp_str */</font></i>
<a name='L2365'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,                            <i><font color='green'>/* tp_getattro */</font></i>
<a name='L2366'>    0,                                                  <i><font color='green'>/* tp_setattro */</font></i>
<a name='L2367'>    0,                                                  <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L2368'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE,           <i><font color='green'>/* tp_flags */</font></i>
<a name='L2369'>    delta_doc,                                          <i><font color='green'>/* tp_doc */</font></i>
<a name='L2370'>    0,                                                  <i><font color='green'>/* tp_traverse */</font></i>
<a name='L2371'>    0,                                                  <i><font color='green'>/* tp_clear */</font></i>
<a name='L2372'>    <a href='../S/2560.html#L1832' title='Defined at 1832 in Modules/_datetimemodule.c.'>delta_richcompare</a>,                                  <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L2373'>    0,                                                  <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L2374'>    0,                                                  <i><font color='green'>/* tp_iter */</font></i>
<a name='L2375'>    0,                                                  <i><font color='green'>/* tp_iternext */</font></i>
<a name='L2376'>    delta_methods,                                      <i><font color='green'>/* tp_methods */</font></i>
<a name='L2377'>    delta_members,                                      <i><font color='green'>/* tp_members */</font></i>
<a name='L2378'>    0,                                                  <i><font color='green'>/* tp_getset */</font></i>
<a name='L2379'>    0,                                                  <i><font color='green'>/* tp_base */</font></i>
<a name='L2380'>    0,                                                  <i><font color='green'>/* tp_dict */</font></i>
<a name='L2381'>    0,                                                  <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L2382'>    0,                                                  <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L2383'>    0,                                                  <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L2384'>    0,                                                  <i><font color='green'>/* tp_init */</font></i>
<a name='L2385'>    0,                                                  <i><font color='green'>/* tp_alloc */</font></i>
<a name='L2386'>    <a href='../S/2560.html#L2100' title='Defined at 2100 in Modules/_datetimemodule.c.'>delta_new</a>,                                          <i><font color='green'>/* tp_new */</font></i>
<a name='L2387'>    0,                                                  <i><font color='green'>/* tp_free */</font></i>
<a name='L2388'><font color='red'>}</font>;
<a name='L2389'>
<a name='L2390'><i><font color='green'>/*</font></i>
<a name='L2391'><i><font color='green'> * PyDateTime_Date implementation.</font></i>
<a name='L2392'><i><font color='green'> */</font></i>
<a name='L2393'>
<a name='L2394'><i><font color='green'>/* Accessor properties. */</font></i>
<a name='L2395'>
<a name='L2396'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2397'><a href='../S/2560.html#L2415' title='Refered from 2415 in Modules/_datetimemodule.c.'>date_year</a>(PyDateTime_Date *self, <b>void</b> *unused)
<a name='L2398'><font color='red'>{</font>
<a name='L2399'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self));
<a name='L2400'><font color='red'>}</font>
<a name='L2401'>
<a name='L2402'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2403'><a href='../S/2560.html#L2416' title='Refered from 2416 in Modules/_datetimemodule.c.'>date_month</a>(PyDateTime_Date *self, <b>void</b> *unused)
<a name='L2404'><font color='red'>{</font>
<a name='L2405'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self));
<a name='L2406'><font color='red'>}</font>
<a name='L2407'>
<a name='L2408'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2409'><a href='../S/2560.html#L2417' title='Refered from 2417 in Modules/_datetimemodule.c.'>date_day</a>(PyDateTime_Date *self, <b>void</b> *unused)
<a name='L2410'><font color='red'>{</font>
<a name='L2411'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self));
<a name='L2412'><font color='red'>}</font>
<a name='L2413'>
<a name='L2414'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> date_getset[] = <font color='red'>{</font>
<a name='L2415'>    <font color='red'>{</font>"year",        (getter)<a href='../S/2560.html#L2397' title='Defined at 2397 in Modules/_datetimemodule.c.'>date_year</a><font color='red'>}</font>,
<a name='L2416'>    <font color='red'>{</font>"month",       (getter)<a href='../S/2560.html#L2403' title='Defined at 2403 in Modules/_datetimemodule.c.'>date_month</a><font color='red'>}</font>,
<a name='L2417'>    <font color='red'>{</font>"day",         (getter)<a href='../S/2560.html#L2409' title='Defined at 2409 in Modules/_datetimemodule.c.'>date_day</a><font color='red'>}</font>,
<a name='L2418'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2419'><font color='red'>}</font>;
<a name='L2420'>
<a name='L2421'><i><font color='green'>/* Constructors. */</font></i>
<a name='L2422'>
<a name='L2423'><b>static</b> <b>char</b> *date_kws[] = <font color='red'>{</font>"year", "month", "day", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L2424'>
<a name='L2425'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2426'><a href='../R/7111.html' title='Multiple refered from 2 places.'>date_new</a>(PyTypeObject *type, PyObject *args, PyObject *kw)
<a name='L2427'><font color='red'>{</font>
<a name='L2428'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2429'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>;
<a name='L2430'>    <b>int</b> year;
<a name='L2431'>    <b>int</b> month;
<a name='L2432'>    <b>int</b> day;
<a name='L2433'>
<a name='L2434'>    <i><font color='green'>/* Check for invocation from pickle with __getstate__ state */</font></i>
<a name='L2435'>    <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 1 &amp;&amp;
<a name='L2436'>        PyBytes_Check(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> = PyTuple_GET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0)) &amp;&amp;
<a name='L2437'>        PyBytes_GET_SIZE(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>) == <a href='../S/515.html#L25' title='Defined at 25 in Include/datetime.h.'>_PyDateTime_DATE_DATASIZE</a> &amp;&amp;
<a name='L2438'>        <a href='../S/2560.html#L99' title='Defined at 99 in Modules/_datetimemodule.c.'>MONTH_IS_SANE</a>(PyBytes_AS_STRING(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>)[2]))
<a name='L2439'>    <font color='red'>{</font>
<a name='L2440'>        <a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *me;
<a name='L2441'>
<a name='L2442'>        me = (<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *) (type-&gt;tp_alloc(type, 0));
<a name='L2443'>        <b>if</b> (me != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L2444'>            <b>char</b> *pdata = PyBytes_AS_STRING(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>);
<a name='L2445'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(me-&gt;data, pdata, <a href='../S/515.html#L25' title='Defined at 25 in Include/datetime.h.'>_PyDateTime_DATE_DATASIZE</a>);
<a name='L2446'>            me-&gt;hashcode = -1;
<a name='L2447'>        <font color='red'>}</font>
<a name='L2448'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)me;
<a name='L2449'>    <font color='red'>}</font>
<a name='L2450'>
<a name='L2451'>    <b>if</b> (<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "iii", date_kws,
<a name='L2452'>                                    &amp;year, &amp;month, &amp;day)) <font color='red'>{</font>
<a name='L2453'>        <b>if</b> (<a href='../S/2560.html#L393' title='Defined at 393 in Modules/_datetimemodule.c.'>check_date_args</a>(year, month, day) &lt; 0)
<a name='L2454'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2455'>        self = <a href='../S/2560.html#L660' title='Defined at 660 in Modules/_datetimemodule.c.'>new_date_ex</a>(year, month, day, type);
<a name='L2456'>    <font color='red'>}</font>
<a name='L2457'>    <b>return</b> self;
<a name='L2458'><font color='red'>}</font>
<a name='L2459'>
<a name='L2460'><i><font color='green'>/* Return new date from localtime(t). */</font></i>
<a name='L2461'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2462'><a href='../S/2560.html#L2518' title='Refered from 2518 in Modules/_datetimemodule.c.'>date_local_from_time_t</a>(PyObject *cls, <b>double</b> ts)
<a name='L2463'><font color='red'>{</font>
<a name='L2464'>    <b>struct</b> tm *tm;
<a name='L2465'>    time_t t;
<a name='L2466'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2467'>
<a name='L2468'>    t = <a href='../S/2616.html#L6' title='Defined at 6 in Modules/_time.c.'>_PyTime_DoubleToTimet</a>(ts);
<a name='L2469'>    <b>if</b> (t == (time_t)-1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L2470'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2471'>    tm = localtime(&amp;t);
<a name='L2472'>    <b>if</b> (tm)
<a name='L2473'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(cls, "iii",
<a name='L2474'>                                       tm-&gt;tm_year + 1900,
<a name='L2475'>                                       tm-&gt;tm_mon + 1,
<a name='L2476'>                                       tm-&gt;tm_mday);
<a name='L2477'>    <b>else</b>
<a name='L2478'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L2479'>                        "timestamp out of range for "
<a name='L2480'>                        "platform localtime() function");
<a name='L2481'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2482'><font color='red'>}</font>
<a name='L2483'>
<a name='L2484'><i><font color='green'>/* Return new date from current time.</font></i>
<a name='L2485'><i><font color='green'> * We say this is equivalent to fromtimestamp(time.time()), and the</font></i>
<a name='L2486'><i><font color='green'> * only way to be sure of that is to *call* time.time().  That's not</font></i>
<a name='L2487'><i><font color='green'> * generally the same as calling C's time.</font></i>
<a name='L2488'><i><font color='green'> */</font></i>
<a name='L2489'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2490'><a href='../S/2560.html#L2857' title='Refered from 2857 in Modules/_datetimemodule.c.'>date_today</a>(PyObject *cls, PyObject *dummy)
<a name='L2491'><font color='red'>{</font>
<a name='L2492'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *time;
<a name='L2493'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2494'>
<a name='L2495'>    time = <a href='../D/11786.html' title='Multiple defined in 2 places.'>time_time</a>();
<a name='L2496'>    <b>if</b> (time == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2497'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2498'>
<a name='L2499'>    <i><font color='green'>/* Note well:  today() is a class method, so this may not call</font></i>
<a name='L2500'><i><font color='green'>     * date.fromtimestamp.  For example, it may call</font></i>
<a name='L2501'><i><font color='green'>     * datetime.fromtimestamp.  That's why we need all the accuracy</font></i>
<a name='L2502'><i><font color='green'>     * time.time() delivers; if someone were gonzo about optimization,</font></i>
<a name='L2503'><i><font color='green'>     * date.today() could get away with plain C time().</font></i>
<a name='L2504'><i><font color='green'>     */</font></i>
<a name='L2505'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(cls, "fromtimestamp", "O", time);
<a name='L2506'>    Py_DECREF(time);
<a name='L2507'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2508'><font color='red'>}</font>
<a name='L2509'>
<a name='L2510'><i><font color='green'>/* Return new date from given timestamp (Python timestamp -- a double). */</font></i>
<a name='L2511'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2512'><a href='../R/7103.html' title='Multiple refered from 2 places.'>date_fromtimestamp</a>(PyObject *cls, PyObject *args)
<a name='L2513'><font color='red'>{</font>
<a name='L2514'>    <b>double</b> timestamp;
<a name='L2515'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2516'>
<a name='L2517'>    <b>if</b> (<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "d:fromtimestamp", &amp;timestamp))
<a name='L2518'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L2462' title='Defined at 2462 in Modules/_datetimemodule.c.'>date_local_from_time_t</a>(cls, timestamp);
<a name='L2519'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2520'><font color='red'>}</font>
<a name='L2521'>
<a name='L2522'><i><font color='green'>/* Return new date from proleptic Gregorian ordinal.  Raises ValueError if</font></i>
<a name='L2523'><i><font color='green'> * the ordinal is out of range.</font></i>
<a name='L2524'><i><font color='green'> */</font></i>
<a name='L2525'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2526'><a href='../S/2560.html#L2852' title='Refered from 2852 in Modules/_datetimemodule.c.'>date_fromordinal</a>(PyObject *cls, PyObject *args)
<a name='L2527'><font color='red'>{</font>
<a name='L2528'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2529'>    <b>int</b> ordinal;
<a name='L2530'>
<a name='L2531'>    <b>if</b> (<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "i:fromordinal", &amp;ordinal)) <font color='red'>{</font>
<a name='L2532'>        <b>int</b> year;
<a name='L2533'>        <b>int</b> month;
<a name='L2534'>        <b>int</b> day;
<a name='L2535'>
<a name='L2536'>        <b>if</b> (ordinal &lt; 1)
<a name='L2537'>            <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "ordinal must be "
<a name='L2538'>                                              "&gt;= 1");
<a name='L2539'>        <b>else</b> <font color='red'>{</font>
<a name='L2540'>            <a href='../S/2560.html#L258' title='Defined at 258 in Modules/_datetimemodule.c.'>ord_to_ymd</a>(ordinal, &amp;year, &amp;month, &amp;day);
<a name='L2541'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(cls, "iii",
<a name='L2542'>                                           year, month, day);
<a name='L2543'>        <font color='red'>}</font>
<a name='L2544'>    <font color='red'>}</font>
<a name='L2545'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2546'><font color='red'>}</font>
<a name='L2547'>
<a name='L2548'><i><font color='green'>/*</font></i>
<a name='L2549'><i><font color='green'> * Date arithmetic.</font></i>
<a name='L2550'><i><font color='green'> */</font></i>
<a name='L2551'>
<a name='L2552'><i><font color='green'>/* date + timedelta -&gt; date.  If arg negate is true, subtract the timedelta</font></i>
<a name='L2553'><i><font color='green'> * instead.</font></i>
<a name='L2554'><i><font color='green'> */</font></i>
<a name='L2555'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2556'><a href='../R/5913.html' title='Multiple refered from 3 places.'>add_date_timedelta</a>(PyDateTime_Date *date, PyDateTime_Delta *delta, <b>int</b> negate)
<a name='L2557'><font color='red'>{</font>
<a name='L2558'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2559'>    <b>int</b> year = <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(date);
<a name='L2560'>    <b>int</b> month = <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(date);
<a name='L2561'>    <b>int</b> deltadays = <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(delta);
<a name='L2562'>    <i><font color='green'>/* C-level overflow is impossible because |deltadays| &lt; 1e9. */</font></i>
<a name='L2563'>    <b>int</b> day = <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(date) + (negate ? -deltadays : deltadays);
<a name='L2564'>
<a name='L2565'>    <b>if</b> (<a href='../S/2560.html#L568' title='Defined at 568 in Modules/_datetimemodule.c.'>normalize_date</a>(&amp;year, &amp;month, &amp;day) &gt;= 0)
<a name='L2566'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L670' title='Defined at 670 in Modules/_datetimemodule.c.'>new_date</a>(year, month, day);
<a name='L2567'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2568'><font color='red'>}</font>
<a name='L2569'>
<a name='L2570'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2571'><a href='../S/2560.html#L2907' title='Refered from 2907 in Modules/_datetimemodule.c.'>date_add</a>(PyObject *left, PyObject *right)
<a name='L2572'><font color='red'>{</font>
<a name='L2573'>    <b>if</b> (<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(left) || <a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(right)) <font color='red'>{</font>
<a name='L2574'>        Py_INCREF(Py_NotImplemented);
<a name='L2575'>        <b>return</b> Py_NotImplemented;
<a name='L2576'>    <font color='red'>}</font>
<a name='L2577'>    <b>if</b> (<a href='../D/3078.html' title='Multiple defined in 2 places.'>PyDate_Check</a>(left)) <font color='red'>{</font>
<a name='L2578'>        <i><font color='green'>/* date + ??? */</font></i>
<a name='L2579'>        <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right))
<a name='L2580'>            <i><font color='green'>/* date + delta */</font></i>
<a name='L2581'>            <b>return</b> <a href='../S/2560.html#L2556' title='Defined at 2556 in Modules/_datetimemodule.c.'>add_date_timedelta</a>((<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *) left,
<a name='L2582'>                                      (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) right,
<a name='L2583'>                                      0);
<a name='L2584'>    <font color='red'>}</font>
<a name='L2585'>    <b>else</b> <font color='red'>{</font>
<a name='L2586'>        <i><font color='green'>/* ??? + date</font></i>
<a name='L2587'><i><font color='green'>         * 'right' must be one of us, or we wouldn't have been called</font></i>
<a name='L2588'><i><font color='green'>         */</font></i>
<a name='L2589'>        <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left))
<a name='L2590'>            <i><font color='green'>/* delta + date */</font></i>
<a name='L2591'>            <b>return</b> <a href='../S/2560.html#L2556' title='Defined at 2556 in Modules/_datetimemodule.c.'>add_date_timedelta</a>((<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *) right,
<a name='L2592'>                                      (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) left,
<a name='L2593'>                                      0);
<a name='L2594'>    <font color='red'>}</font>
<a name='L2595'>    Py_INCREF(Py_NotImplemented);
<a name='L2596'>    <b>return</b> Py_NotImplemented;
<a name='L2597'><font color='red'>}</font>
<a name='L2598'>
<a name='L2599'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2600'><a href='../S/2560.html#L2908' title='Refered from 2908 in Modules/_datetimemodule.c.'>date_subtract</a>(PyObject *left, PyObject *right)
<a name='L2601'><font color='red'>{</font>
<a name='L2602'>    <b>if</b> (<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(left) || <a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(right)) <font color='red'>{</font>
<a name='L2603'>        Py_INCREF(Py_NotImplemented);
<a name='L2604'>        <b>return</b> Py_NotImplemented;
<a name='L2605'>    <font color='red'>}</font>
<a name='L2606'>    <b>if</b> (<a href='../D/3078.html' title='Multiple defined in 2 places.'>PyDate_Check</a>(left)) <font color='red'>{</font>
<a name='L2607'>        <b>if</b> (<a href='../D/3078.html' title='Multiple defined in 2 places.'>PyDate_Check</a>(right)) <font color='red'>{</font>
<a name='L2608'>            <i><font color='green'>/* date - date */</font></i>
<a name='L2609'>            <b>int</b> left_ord = <a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(left),
<a name='L2610'>                                      <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(left),
<a name='L2611'>                                      <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(left));
<a name='L2612'>            <b>int</b> right_ord = <a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(right),
<a name='L2613'>                                       <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(right),
<a name='L2614'>                                       <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(right));
<a name='L2615'>            <b>return</b> <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(left_ord - right_ord, 0, 0, 0);
<a name='L2616'>        <font color='red'>}</font>
<a name='L2617'>        <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right)) <font color='red'>{</font>
<a name='L2618'>            <i><font color='green'>/* date - delta */</font></i>
<a name='L2619'>            <b>return</b> <a href='../S/2560.html#L2556' title='Defined at 2556 in Modules/_datetimemodule.c.'>add_date_timedelta</a>((<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *) left,
<a name='L2620'>                                      (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) right,
<a name='L2621'>                                      1);
<a name='L2622'>        <font color='red'>}</font>
<a name='L2623'>    <font color='red'>}</font>
<a name='L2624'>    Py_INCREF(Py_NotImplemented);
<a name='L2625'>    <b>return</b> Py_NotImplemented;
<a name='L2626'><font color='red'>}</font>
<a name='L2627'>
<a name='L2628'>
<a name='L2629'><i><font color='green'>/* Various ways to turn a date into a string. */</font></i>
<a name='L2630'>
<a name='L2631'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2632'><a href='../S/2560.html#L2929' title='Refered from 2929 in Modules/_datetimemodule.c.'>date_repr</a>(PyDateTime_Date *self)
<a name='L2633'><font color='red'>{</font>
<a name='L2634'>    <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%d, %d, %d)",
<a name='L2635'>                                <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name,
<a name='L2636'>                                <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self));
<a name='L2637'><font color='red'>}</font>
<a name='L2638'>
<a name='L2639'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2640'><a href='../S/2560.html#L2879' title='Refered from 2879 in Modules/_datetimemodule.c.'>date_isoformat</a>(PyDateTime_Date *self)
<a name='L2641'><font color='red'>{</font>
<a name='L2642'>    <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%04d-%02d-%02d",
<a name='L2643'>                                <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self));
<a name='L2644'><font color='red'>}</font>
<a name='L2645'>
<a name='L2646'><i><font color='green'>/* str() calls the appropriate isoformat() method. */</font></i>
<a name='L2647'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2648'><a href='../S/2560.html#L2935' title='Refered from 2935 in Modules/_datetimemodule.c.'>date_str</a>(PyDateTime_Date *self)
<a name='L2649'><font color='red'>{</font>
<a name='L2650'>    <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, "isoformat", "()");
<a name='L2651'><font color='red'>}</font>
<a name='L2652'>
<a name='L2653'>
<a name='L2654'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2655'><a href='../S/2560.html#L2863' title='Refered from 2863 in Modules/_datetimemodule.c.'>date_ctime</a>(PyDateTime_Date *self)
<a name='L2656'><font color='red'>{</font>
<a name='L2657'>    <b>return</b> <a href='../S/2560.html#L1004' title='Defined at 1004 in Modules/_datetimemodule.c.'>format_ctime</a>(self, 0, 0, 0);
<a name='L2658'><font color='red'>}</font>
<a name='L2659'>
<a name='L2660'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2661'><a href='../S/2560.html#L2866' title='Refered from 2866 in Modules/_datetimemodule.c.'>date_strftime</a>(PyDateTime_Date *self, PyObject *args, PyObject *kw)
<a name='L2662'><font color='red'>{</font>
<a name='L2663'>    <i><font color='green'>/* This method can be inherited, and needs to call the</font></i>
<a name='L2664'><i><font color='green'>     * timetuple() method appropriate to self's class.</font></i>
<a name='L2665'><i><font color='green'>     */</font></i>
<a name='L2666'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2667'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tuple;
<a name='L2668'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *format;
<a name='L2669'>    <b>static</b> <b>char</b> *keywords[] = <font color='red'>{</font>"format", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L2670'>
<a name='L2671'>    <b>if</b> (! <a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "U:strftime", keywords,
<a name='L2672'>                                      &amp;format))
<a name='L2673'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2674'>
<a name='L2675'>    tuple = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, "timetuple", "()");
<a name='L2676'>    <b>if</b> (tuple == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2677'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2678'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1140' title='Defined at 1140 in Modules/_datetimemodule.c.'>wrap_strftime</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, format, tuple,
<a name='L2679'>                           (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L2680'>    Py_DECREF(tuple);
<a name='L2681'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L2682'><font color='red'>}</font>
<a name='L2683'>
<a name='L2684'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2685'><a href='../R/7101.html' title='Multiple refered from 2 places.'>date_format</a>(PyDateTime_Date *self, PyObject *args)
<a name='L2686'><font color='red'>{</font>
<a name='L2687'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *format;
<a name='L2688'>
<a name='L2689'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "U:__format__", &amp;format))
<a name='L2690'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2691'>
<a name='L2692'>    <i><font color='green'>/* if the format is zero length, return str(self) */</font></i>
<a name='L2693'>    <b>if</b> (<a href='../D/4020.html' title='Multiple defined in 3 places.'>PyUnicode_GetSize</a>(format) == 0)
<a name='L2694'>        <b>return</b> <a href='../S/2803.html#L396' title='Defined at 396 in Objects/object.c.'>PyObject_Str</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L2695'>
<a name='L2696'>    <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, "strftime", "O", format);
<a name='L2697'><font color='red'>}</font>
<a name='L2698'>
<a name='L2699'><i><font color='green'>/* ISO methods. */</font></i>
<a name='L2700'>
<a name='L2701'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2702'><a href='../S/2560.html#L2882' title='Refered from 2882 in Modules/_datetimemodule.c.'>date_isoweekday</a>(PyDateTime_Date *self)
<a name='L2703'><font color='red'>{</font>
<a name='L2704'>    <b>int</b> dow = <a href='../S/2560.html#L349' title='Defined at 349 in Modules/_datetimemodule.c.'>weekday</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self));
<a name='L2705'>
<a name='L2706'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(dow + 1);
<a name='L2707'><font color='red'>}</font>
<a name='L2708'>
<a name='L2709'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2710'><a href='../S/2560.html#L2875' title='Refered from 2875 in Modules/_datetimemodule.c.'>date_isocalendar</a>(PyDateTime_Date *self)
<a name='L2711'><font color='red'>{</font>
<a name='L2712'>    <b>int</b>  year         = <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self);
<a name='L2713'>    <b>int</b>  week1_monday = <a href='../S/2560.html#L358' title='Defined at 358 in Modules/_datetimemodule.c.'>iso_week1_monday</a>(year);
<a name='L2714'>    <b>int</b> today         = <a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(year, <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self));
<a name='L2715'>    <b>int</b>  week;
<a name='L2716'>    <b>int</b>  day;
<a name='L2717'>
<a name='L2718'>    week = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(today - week1_monday, 7, &amp;day);
<a name='L2719'>    <b>if</b> (week &lt; 0) <font color='red'>{</font>
<a name='L2720'>        --year;
<a name='L2721'>        week1_monday = <a href='../S/2560.html#L358' title='Defined at 358 in Modules/_datetimemodule.c.'>iso_week1_monday</a>(year);
<a name='L2722'>        week = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(today - week1_monday, 7, &amp;day);
<a name='L2723'>    <font color='red'>}</font>
<a name='L2724'>    <b>else</b> <b>if</b> (week &gt;= 52 &amp;&amp; today &gt;= <a href='../S/2560.html#L358' title='Defined at 358 in Modules/_datetimemodule.c.'>iso_week1_monday</a>(year + 1)) <font color='red'>{</font>
<a name='L2725'>        ++year;
<a name='L2726'>        week = 0;
<a name='L2727'>    <font color='red'>}</font>
<a name='L2728'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("iii", year, week + 1, day + 1);
<a name='L2729'><font color='red'>}</font>
<a name='L2730'>
<a name='L2731'><i><font color='green'>/* Miscellaneous methods. */</font></i>
<a name='L2732'>
<a name='L2733'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2734'><a href='../S/2560.html#L2943' title='Refered from 2943 in Modules/_datetimemodule.c.'>date_richcompare</a>(PyObject *self, PyObject *other, <b>int</b> op)
<a name='L2735'><font color='red'>{</font>
<a name='L2736'>    <b>if</b> (<a href='../D/3078.html' title='Multiple defined in 2 places.'>PyDate_Check</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)) <font color='red'>{</font>
<a name='L2737'>        <b>int</b> <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = memcmp(((<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *)self)-&gt;data,
<a name='L2738'>                          ((<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *)<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)-&gt;data,
<a name='L2739'>                          <a href='../S/515.html#L25' title='Defined at 25 in Include/datetime.h.'>_PyDateTime_DATE_DATASIZE</a>);
<a name='L2740'>        <b>return</b> <a href='../S/2560.html#L1379' title='Defined at 1379 in Modules/_datetimemodule.c.'>diff_to_bool</a>(<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>, op);
<a name='L2741'>    <font color='red'>}</font>
<a name='L2742'>    <b>else</b> <font color='red'>{</font>
<a name='L2743'>        Py_INCREF(Py_NotImplemented);
<a name='L2744'>        <b>return</b> Py_NotImplemented;
<a name='L2745'>    <font color='red'>}</font>
<a name='L2746'><font color='red'>}</font>
<a name='L2747'>
<a name='L2748'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2749'><a href='../S/2560.html#L2872' title='Refered from 2872 in Modules/_datetimemodule.c.'>date_timetuple</a>(PyDateTime_Date *self)
<a name='L2750'><font color='red'>{</font>
<a name='L2751'>    <b>return</b> <a href='../S/2560.html#L1351' title='Defined at 1351 in Modules/_datetimemodule.c.'>build_struct_time</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self),
<a name='L2752'>                             <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self),
<a name='L2753'>                             <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self),
<a name='L2754'>                             0, 0, 0, -1);
<a name='L2755'><font color='red'>}</font>
<a name='L2756'>
<a name='L2757'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2758'><a href='../S/2560.html#L2894' title='Refered from 2894 in Modules/_datetimemodule.c.'>date_replace</a>(PyDateTime_Date *self, PyObject *args, PyObject *kw)
<a name='L2759'><font color='red'>{</font>
<a name='L2760'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *clone;
<a name='L2761'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tuple;
<a name='L2762'>    <b>int</b> year = <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self);
<a name='L2763'>    <b>int</b> month = <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self);
<a name='L2764'>    <b>int</b> day = <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self);
<a name='L2765'>
<a name='L2766'>    <b>if</b> (! <a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "|iii:replace", date_kws,
<a name='L2767'>                                      &amp;year, &amp;month, &amp;day))
<a name='L2768'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2769'>    tuple = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("iii", year, month, day);
<a name='L2770'>    <b>if</b> (tuple == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L2771'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2772'>    clone = <a href='../S/2560.html#L2426' title='Defined at 2426 in Modules/_datetimemodule.c.'>date_new</a>(<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), tuple, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L2773'>    Py_DECREF(tuple);
<a name='L2774'>    <b>return</b> clone;
<a name='L2775'><font color='red'>}</font>
<a name='L2776'>
<a name='L2777'><i><font color='green'>/*</font></i>
<a name='L2778'><i><font color='green'>    Borrowed from stringobject.c, originally it was string_hash()</font></i>
<a name='L2779'><i><font color='green'>*/</font></i>
<a name='L2780'><b>static</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a>
<a name='L2781'><a href='../R/8015.html' title='Multiple refered from 3 places.'>generic_hash</a>(<b>unsigned</b> <b>char</b> *data, <b>int</b> len)
<a name='L2782'><font color='red'>{</font>
<a name='L2783'>    <b>register</b> <b>unsigned</b> <b>char</b> *p;
<a name='L2784'>    <b>register</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a> x;
<a name='L2785'>
<a name='L2786'>    p = (<b>unsigned</b> <b>char</b> *) data;
<a name='L2787'>    x = *p &lt;&lt; 7;
<a name='L2788'>    <b>while</b> (--len &gt;= 0)
<a name='L2789'>        x = (1000003*x) ^ *p++;
<a name='L2790'>    x ^= len;
<a name='L2791'>    <b>if</b> (x == -1)
<a name='L2792'>        x = -2;
<a name='L2793'>
<a name='L2794'>    <b>return</b> x;
<a name='L2795'><font color='red'>}</font>
<a name='L2796'>
<a name='L2797'>
<a name='L2798'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2560.html#L2829' title='Defined at 2829 in Modules/_datetimemodule.c.'>date_getstate</a>(PyDateTime_Date *self);
<a name='L2799'>
<a name='L2800'><b>static</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a>
<a name='L2801'><a href='../S/2560.html#L2933' title='Refered from 2933 in Modules/_datetimemodule.c.'>date_hash</a>(PyDateTime_Date *self)
<a name='L2802'><font color='red'>{</font>
<a name='L2803'>    <b>if</b> (self-&gt;hashcode == -1)
<a name='L2804'>        self-&gt;hashcode = <a href='../S/2560.html#L2781' title='Defined at 2781 in Modules/_datetimemodule.c.'>generic_hash</a>(
<a name='L2805'>            (<b>unsigned</b> <b>char</b> *)self-&gt;data, <a href='../S/515.html#L25' title='Defined at 25 in Include/datetime.h.'>_PyDateTime_DATE_DATASIZE</a>);
<a name='L2806'>
<a name='L2807'>    <b>return</b> self-&gt;hashcode;
<a name='L2808'><font color='red'>}</font>
<a name='L2809'>
<a name='L2810'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2811'><a href='../S/2560.html#L2886' title='Refered from 2886 in Modules/_datetimemodule.c.'>date_toordinal</a>(PyDateTime_Date *self)
<a name='L2812'><font color='red'>{</font>
<a name='L2813'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self),
<a name='L2814'>                                     <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self)));
<a name='L2815'><font color='red'>}</font>
<a name='L2816'>
<a name='L2817'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2818'><a href='../S/2560.html#L2890' title='Refered from 2890 in Modules/_datetimemodule.c.'>date_weekday</a>(PyDateTime_Date *self)
<a name='L2819'><font color='red'>{</font>
<a name='L2820'>    <b>int</b> dow = <a href='../S/2560.html#L349' title='Defined at 349 in Modules/_datetimemodule.c.'>weekday</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self));
<a name='L2821'>
<a name='L2822'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(dow);
<a name='L2823'><font color='red'>}</font>
<a name='L2824'>
<a name='L2825'><i><font color='green'>/* Pickle support, a simple use of __reduce__. */</font></i>
<a name='L2826'>
<a name='L2827'><i><font color='green'>/* __getstate__ isn't exposed */</font></i>
<a name='L2828'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2829'><a href='../R/7104.html' title='Multiple refered from 2 places.'>date_getstate</a>(PyDateTime_Date *self)
<a name='L2830'><font color='red'>{</font>
<a name='L2831'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a>* field;
<a name='L2832'>    field = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>((<b>char</b>*)self-&gt;data,
<a name='L2833'>                                       <a href='../S/515.html#L25' title='Defined at 25 in Include/datetime.h.'>_PyDateTime_DATE_DATASIZE</a>);
<a name='L2834'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(N)", field);
<a name='L2835'><font color='red'>}</font>
<a name='L2836'>
<a name='L2837'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2838'><a href='../S/2560.html#L2897' title='Refered from 2897 in Modules/_datetimemodule.c.'>date_reduce</a>(PyDateTime_Date *self, PyObject *arg)
<a name='L2839'><font color='red'>{</font>
<a name='L2840'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(ON)", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), <a href='../S/2560.html#L2829' title='Defined at 2829 in Modules/_datetimemodule.c.'>date_getstate</a>(self));
<a name='L2841'><font color='red'>}</font>
<a name='L2842'>
<a name='L2843'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> date_methods[] = <font color='red'>{</font>
<a name='L2844'>
<a name='L2845'>    <i><font color='green'>/* Class methods: */</font></i>
<a name='L2846'>
<a name='L2847'>    <font color='red'>{</font>"fromtimestamp", (PyCFunction)<a href='../S/2560.html#L2512' title='Defined at 2512 in Modules/_datetimemodule.c.'>date_fromtimestamp</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> |
<a name='L2848'>                                                       METH_CLASS,
<a name='L2849'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("timestamp -&gt; local date from a POSIX timestamp (like "
<a name='L2850'>               "time.time()).")<font color='red'>}</font>,
<a name='L2851'>
<a name='L2852'>    <font color='red'>{</font>"fromordinal", (PyCFunction)<a href='../S/2560.html#L2526' title='Defined at 2526 in Modules/_datetimemodule.c.'>date_fromordinal</a>,      <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> |
<a name='L2853'>                                                    METH_CLASS,
<a name='L2854'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("int -&gt; date corresponding to a proleptic Gregorian "
<a name='L2855'>               "ordinal.")<font color='red'>}</font>,
<a name='L2856'>
<a name='L2857'>    <font color='red'>{</font>"today",         (PyCFunction)<a href='../S/2560.html#L2490' title='Defined at 2490 in Modules/_datetimemodule.c.'>date_today</a>,   <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> | METH_CLASS,
<a name='L2858'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Current date or datetime:  same as "
<a name='L2859'>               "self.__class__.fromtimestamp(time.time()).")<font color='red'>}</font>,
<a name='L2860'>
<a name='L2861'>    <i><font color='green'>/* Instance methods: */</font></i>
<a name='L2862'>
<a name='L2863'>    <font color='red'>{</font>"ctime",       (PyCFunction)<a href='../S/2560.html#L2655' title='Defined at 2655 in Modules/_datetimemodule.c.'>date_ctime</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2864'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return ctime() style string.")<font color='red'>}</font>,
<a name='L2865'>
<a name='L2866'>    <font color='red'>{</font>"strftime",        (PyCFunction)<a href='../S/2560.html#L2661' title='Defined at 2661 in Modules/_datetimemodule.c.'>date_strftime</a>,     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L2867'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("format -&gt; strftime() style string.")<font color='red'>}</font>,
<a name='L2868'>
<a name='L2869'>    <font color='red'>{</font>"__format__",      (PyCFunction)<a href='../S/2560.html#L2685' title='Defined at 2685 in Modules/_datetimemodule.c.'>date_format</a>,       <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L2870'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Formats self with strftime.")<font color='red'>}</font>,
<a name='L2871'>
<a name='L2872'>    <font color='red'>{</font>"timetuple",   (PyCFunction)<a href='../S/2560.html#L2749' title='Defined at 2749 in Modules/_datetimemodule.c.'>date_timetuple</a>,    <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2873'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return time tuple, compatible with time.localtime().")<font color='red'>}</font>,
<a name='L2874'>
<a name='L2875'>    <font color='red'>{</font>"isocalendar", (PyCFunction)<a href='../S/2560.html#L2710' title='Defined at 2710 in Modules/_datetimemodule.c.'>date_isocalendar</a>,  <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2876'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return a 3-tuple containing ISO year, week number, and "
<a name='L2877'>               "weekday.")<font color='red'>}</font>,
<a name='L2878'>
<a name='L2879'>    <font color='red'>{</font>"isoformat",   (PyCFunction)<a href='../S/2560.html#L2640' title='Defined at 2640 in Modules/_datetimemodule.c.'>date_isoformat</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2880'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return string in ISO 8601 format, YYYY-MM-DD.")<font color='red'>}</font>,
<a name='L2881'>
<a name='L2882'>    <font color='red'>{</font>"isoweekday",  (PyCFunction)<a href='../S/2560.html#L2702' title='Defined at 2702 in Modules/_datetimemodule.c.'>date_isoweekday</a>,   <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2883'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return the day of the week represented by the date.\n"
<a name='L2884'>               "Monday == 1 ... Sunday == 7")<font color='red'>}</font>,
<a name='L2885'>
<a name='L2886'>    <font color='red'>{</font>"toordinal",   (PyCFunction)<a href='../S/2560.html#L2811' title='Defined at 2811 in Modules/_datetimemodule.c.'>date_toordinal</a>,    <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2887'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return proleptic Gregorian ordinal.  January 1 of year "
<a name='L2888'>               "1 is day 1.")<font color='red'>}</font>,
<a name='L2889'>
<a name='L2890'>    <font color='red'>{</font>"weekday",     (PyCFunction)<a href='../S/2560.html#L2818' title='Defined at 2818 in Modules/_datetimemodule.c.'>date_weekday</a>,      <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2891'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return the day of the week represented by the date.\n"
<a name='L2892'>               "Monday == 0 ... Sunday == 6")<font color='red'>}</font>,
<a name='L2893'>
<a name='L2894'>    <font color='red'>{</font>"replace",     (PyCFunction)<a href='../S/2560.html#L2758' title='Defined at 2758 in Modules/_datetimemodule.c.'>date_replace</a>,      <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L2895'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return date with new specified fields.")<font color='red'>}</font>,
<a name='L2896'>
<a name='L2897'>    <font color='red'>{</font>"__reduce__", (PyCFunction)<a href='../S/2560.html#L2838' title='Defined at 2838 in Modules/_datetimemodule.c.'>date_reduce</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L2898'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("__reduce__() -&gt; (cls, state)")<font color='red'>}</font>,
<a name='L2899'>
<a name='L2900'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,      <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L2901'><font color='red'>}</font>;
<a name='L2902'>
<a name='L2903'><b>static</b> <b>char</b> date_doc[] =
<a name='L2904'><a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("date(year, month, day) --&gt; date object");
<a name='L2905'>
<a name='L2906'><b>static</b> <a href='../S/544.html#L247' title='Defined at 247 in Include/object.h.'>PyNumberMethods</a> date_as_number = <font color='red'>{</font>
<a name='L2907'>    <a href='../S/2560.html#L2571' title='Defined at 2571 in Modules/_datetimemodule.c.'>date_add</a>,                                           <i><font color='green'>/* nb_add */</font></i>
<a name='L2908'>    <a href='../S/2560.html#L2600' title='Defined at 2600 in Modules/_datetimemodule.c.'>date_subtract</a>,                                      <i><font color='green'>/* nb_subtract */</font></i>
<a name='L2909'>    0,                                                  <i><font color='green'>/* nb_multiply */</font></i>
<a name='L2910'>    0,                                                  <i><font color='green'>/* nb_remainder */</font></i>
<a name='L2911'>    0,                                                  <i><font color='green'>/* nb_divmod */</font></i>
<a name='L2912'>    0,                                                  <i><font color='green'>/* nb_power */</font></i>
<a name='L2913'>    0,                                                  <i><font color='green'>/* nb_negative */</font></i>
<a name='L2914'>    0,                                                  <i><font color='green'>/* nb_positive */</font></i>
<a name='L2915'>    0,                                                  <i><font color='green'>/* nb_absolute */</font></i>
<a name='L2916'>    0,                                                  <i><font color='green'>/* nb_bool */</font></i>
<a name='L2917'><font color='red'>}</font>;
<a name='L2918'>
<a name='L2919'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_DateType = <font color='red'>{</font>
<a name='L2920'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L2921'>    "datetime.date",                                    <i><font color='green'>/* tp_name */</font></i>
<a name='L2922'>    <b>sizeof</b>(<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a>),                            <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L2923'>    0,                                                  <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L2924'>    0,                                                  <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L2925'>    0,                                                  <i><font color='green'>/* tp_print */</font></i>
<a name='L2926'>    0,                                                  <i><font color='green'>/* tp_getattr */</font></i>
<a name='L2927'>    0,                                                  <i><font color='green'>/* tp_setattr */</font></i>
<a name='L2928'>    0,                                                  <i><font color='green'>/* tp_reserved */</font></i>
<a name='L2929'>    (reprfunc)<a href='../S/2560.html#L2632' title='Defined at 2632 in Modules/_datetimemodule.c.'>date_repr</a>,                                <i><font color='green'>/* tp_repr */</font></i>
<a name='L2930'>    &amp;date_as_number,                                    <i><font color='green'>/* tp_as_number */</font></i>
<a name='L2931'>    0,                                                  <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L2932'>    0,                                                  <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L2933'>    (hashfunc)<a href='../S/2560.html#L2801' title='Defined at 2801 in Modules/_datetimemodule.c.'>date_hash</a>,                                <i><font color='green'>/* tp_hash */</font></i>
<a name='L2934'>    0,                                                  <i><font color='green'>/* tp_call */</font></i>
<a name='L2935'>    (reprfunc)<a href='../S/2560.html#L2648' title='Defined at 2648 in Modules/_datetimemodule.c.'>date_str</a>,                                 <i><font color='green'>/* tp_str */</font></i>
<a name='L2936'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,                            <i><font color='green'>/* tp_getattro */</font></i>
<a name='L2937'>    0,                                                  <i><font color='green'>/* tp_setattro */</font></i>
<a name='L2938'>    0,                                                  <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L2939'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE,           <i><font color='green'>/* tp_flags */</font></i>
<a name='L2940'>    date_doc,                                           <i><font color='green'>/* tp_doc */</font></i>
<a name='L2941'>    0,                                                  <i><font color='green'>/* tp_traverse */</font></i>
<a name='L2942'>    0,                                                  <i><font color='green'>/* tp_clear */</font></i>
<a name='L2943'>    <a href='../S/2560.html#L2734' title='Defined at 2734 in Modules/_datetimemodule.c.'>date_richcompare</a>,                                   <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L2944'>    0,                                                  <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L2945'>    0,                                                  <i><font color='green'>/* tp_iter */</font></i>
<a name='L2946'>    0,                                                  <i><font color='green'>/* tp_iternext */</font></i>
<a name='L2947'>    date_methods,                                       <i><font color='green'>/* tp_methods */</font></i>
<a name='L2948'>    0,                                                  <i><font color='green'>/* tp_members */</font></i>
<a name='L2949'>    date_getset,                                        <i><font color='green'>/* tp_getset */</font></i>
<a name='L2950'>    0,                                                  <i><font color='green'>/* tp_base */</font></i>
<a name='L2951'>    0,                                                  <i><font color='green'>/* tp_dict */</font></i>
<a name='L2952'>    0,                                                  <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L2953'>    0,                                                  <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L2954'>    0,                                                  <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L2955'>    0,                                                  <i><font color='green'>/* tp_init */</font></i>
<a name='L2956'>    0,                                                  <i><font color='green'>/* tp_alloc */</font></i>
<a name='L2957'>    <a href='../S/2560.html#L2426' title='Defined at 2426 in Modules/_datetimemodule.c.'>date_new</a>,                                           <i><font color='green'>/* tp_new */</font></i>
<a name='L2958'>    0,                                                  <i><font color='green'>/* tp_free */</font></i>
<a name='L2959'><font color='red'>}</font>;
<a name='L2960'>
<a name='L2961'><i><font color='green'>/*</font></i>
<a name='L2962'><i><font color='green'> * PyDateTime_TZInfo implementation.</font></i>
<a name='L2963'><i><font color='green'> */</font></i>
<a name='L2964'>
<a name='L2965'><i><font color='green'>/* This is a pure abstract base class, so doesn't do anything beyond</font></i>
<a name='L2966'><i><font color='green'> * raising NotImplemented exceptions.  Real tzinfo classes need</font></i>
<a name='L2967'><i><font color='green'> * to derive from this.  This is mostly for clarity, and for efficiency in</font></i>
<a name='L2968'><i><font color='green'> * datetime and time constructors (their tzinfo arguments need to</font></i>
<a name='L2969'><i><font color='green'> * be subclasses of this tzinfo class, which is easy and quick to check).</font></i>
<a name='L2970'><i><font color='green'> *</font></i>
<a name='L2971'><i><font color='green'> * Note:  For reasons having to do with pickling of subclasses, we have</font></i>
<a name='L2972'><i><font color='green'> * to allow tzinfo objects to be instantiated.  This wasn't an issue</font></i>
<a name='L2973'><i><font color='green'> * in the Python implementation (__init__() could raise NotImplementedError</font></i>
<a name='L2974'><i><font color='green'> * there without ill effect), but doing so in the C implementation hit a</font></i>
<a name='L2975'><i><font color='green'> * brick wall.</font></i>
<a name='L2976'><i><font color='green'> */</font></i>
<a name='L2977'>
<a name='L2978'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2979'><a href='../R/11030.html' title='Multiple refered from 3 places.'>tzinfo_nogo</a>(<b>const</b> <b>char</b>* methodname)
<a name='L2980'><font color='red'>{</font>
<a name='L2981'>    <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_NotImplementedError,
<a name='L2982'>                 "a tzinfo subclass must implement %s()",
<a name='L2983'>                 methodname);
<a name='L2984'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L2985'><font color='red'>}</font>
<a name='L2986'>
<a name='L2987'><i><font color='green'>/* Methods.  A subclass must implement these. */</font></i>
<a name='L2988'>
<a name='L2989'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2990'><a href='../S/2560.html#L3151' title='Refered from 3151 in Modules/_datetimemodule.c.'>tzinfo_tzname</a>(PyDateTime_TZInfo *self, PyObject *dt)
<a name='L2991'><font color='red'>{</font>
<a name='L2992'>    <b>return</b> <a href='../S/2560.html#L2979' title='Defined at 2979 in Modules/_datetimemodule.c.'>tzinfo_nogo</a>("tzname");
<a name='L2993'><font color='red'>}</font>
<a name='L2994'>
<a name='L2995'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L2996'><a href='../S/2560.html#L3154' title='Refered from 3154 in Modules/_datetimemodule.c.'>tzinfo_utcoffset</a>(PyDateTime_TZInfo *self, PyObject *dt)
<a name='L2997'><font color='red'>{</font>
<a name='L2998'>    <b>return</b> <a href='../S/2560.html#L2979' title='Defined at 2979 in Modules/_datetimemodule.c.'>tzinfo_nogo</a>("utcoffset");
<a name='L2999'><font color='red'>}</font>
<a name='L3000'>
<a name='L3001'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3002'><a href='../S/2560.html#L3158' title='Refered from 3158 in Modules/_datetimemodule.c.'>tzinfo_dst</a>(PyDateTime_TZInfo *self, PyObject *dt)
<a name='L3003'><font color='red'>{</font>
<a name='L3004'>    <b>return</b> <a href='../S/2560.html#L2979' title='Defined at 2979 in Modules/_datetimemodule.c.'>tzinfo_nogo</a>("dst");
<a name='L3005'><font color='red'>}</font>
<a name='L3006'>
<a name='L3007'>
<a name='L3008'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>(PyDateTime_DateTime *date,
<a name='L3009'>                                        PyDateTime_Delta *delta,
<a name='L3010'>                                        <b>int</b> factor);
<a name='L3011'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>(PyObject *self, PyObject *);
<a name='L3012'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2560.html#L4326' title='Defined at 4326 in Modules/_datetimemodule.c.'>datetime_dst</a>(PyObject *self, PyObject *);
<a name='L3013'>
<a name='L3014'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3015'><a href='../S/2560.html#L3161' title='Refered from 3161 in Modules/_datetimemodule.c.'>tzinfo_fromutc</a>(PyDateTime_TZInfo *self, PyObject *dt)
<a name='L3016'><font color='red'>{</font>
<a name='L3017'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3018'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *off = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, *dst = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3019'>    <a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *delta = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3020'>
<a name='L3021'>    <b>if</b> (!<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(dt)) <font color='red'>{</font>
<a name='L3022'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L3023'>                        "fromutc: argument must be a datetime");
<a name='L3024'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3025'>    <font color='red'>}</font>
<a name='L3026'>    <b>if</b> (<a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(dt) != (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self) <font color='red'>{</font>
<a name='L3027'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "fromutc: dt.tzinfo "
<a name='L3028'>                        "is not self");
<a name='L3029'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3030'>    <font color='red'>}</font>
<a name='L3031'>
<a name='L3032'>    off = <a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>(dt, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L3033'>    <b>if</b> (off == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3034'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3035'>    <b>if</b> (off == Py_None) <font color='red'>{</font>
<a name='L3036'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "fromutc: non-None "
<a name='L3037'>                        "utcoffset() result required");
<a name='L3038'>        <b>goto</b> Fail;
<a name='L3039'>    <font color='red'>}</font>
<a name='L3040'>
<a name='L3041'>    dst = <a href='../S/2560.html#L4326' title='Defined at 4326 in Modules/_datetimemodule.c.'>datetime_dst</a>(dt, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L3042'>    <b>if</b> (dst == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3043'>        <b>goto</b> Fail;
<a name='L3044'>    <b>if</b> (dst == Py_None) <font color='red'>{</font>
<a name='L3045'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "fromutc: non-None "
<a name='L3046'>                        "dst() result required");
<a name='L3047'>        <b>goto</b> Fail;
<a name='L3048'>    <font color='red'>}</font>
<a name='L3049'>
<a name='L3050'>    delta = (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)<a href='../S/2560.html#L1798' title='Defined at 1798 in Modules/_datetimemodule.c.'>delta_subtract</a>(off, dst);
<a name='L3051'>    <b>if</b> (delta == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3052'>        <b>goto</b> Fail;
<a name='L3053'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)dt, delta, 1);
<a name='L3054'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3055'>        <b>goto</b> Fail;
<a name='L3056'>
<a name='L3057'>    Py_DECREF(dst);
<a name='L3058'>    dst = <a href='../S/2560.html#L934' title='Defined at 934 in Modules/_datetimemodule.c.'>call_dst</a>(<a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(dt), <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L3059'>    <b>if</b> (dst == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3060'>        <b>goto</b> Fail;
<a name='L3061'>    <b>if</b> (dst == Py_None)
<a name='L3062'>        <b>goto</b> Inconsistent;
<a name='L3063'>    <b>if</b> (<a href='../S/2560.html#L2187' title='Defined at 2187 in Modules/_datetimemodule.c.'>delta_bool</a>(delta) != 0) <font color='red'>{</font>
<a name='L3064'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp = <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3065'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>,
<a name='L3066'>                                        (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)dst, 1);
<a name='L3067'>        Py_DECREF(temp);
<a name='L3068'>        <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3069'>            <b>goto</b> Fail;
<a name='L3070'>    <font color='red'>}</font>
<a name='L3071'>    Py_DECREF(delta);
<a name='L3072'>    Py_DECREF(dst);
<a name='L3073'>    Py_DECREF(off);
<a name='L3074'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3075'>
<a name='L3076'>Inconsistent:
<a name='L3077'>    <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "fromutc: tz.dst() gave"
<a name='L3078'>                    "inconsistent results; cannot convert");
<a name='L3079'>
<a name='L3080'>    <i><font color='green'>/* fall thru to failure */</font></i>
<a name='L3081'>Fail:
<a name='L3082'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(off);
<a name='L3083'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(dst);
<a name='L3084'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(delta);
<a name='L3085'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L3086'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3087'><font color='red'>}</font>
<a name='L3088'>
<a name='L3089'><i><font color='green'>/*</font></i>
<a name='L3090'><i><font color='green'> * Pickle support.  This is solely so that tzinfo subclasses can use</font></i>
<a name='L3091'><i><font color='green'> * pickling -- tzinfo itself is supposed to be uninstantiable.</font></i>
<a name='L3092'><i><font color='green'> */</font></i>
<a name='L3093'>
<a name='L3094'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3095'><a href='../S/2560.html#L3164' title='Refered from 3164 in Modules/_datetimemodule.c.'>tzinfo_reduce</a>(PyObject *self)
<a name='L3096'><font color='red'>{</font>
<a name='L3097'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>, *tmp;
<a name='L3098'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *getinitargs, *getstate;
<a name='L3099'>
<a name='L3100'>    tmp = <a href='../S/2823.html#L49' title='Defined at 49 in Objects/tupleobject.c.'>PyTuple_New</a>(0);
<a name='L3101'>    <b>if</b> (tmp == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3102'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3103'>
<a name='L3104'>    getinitargs = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(self, "__getinitargs__");
<a name='L3105'>    <b>if</b> (getinitargs != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3106'>        <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = <a href='../S/2775.html#L2135' title='Defined at 2135 in Objects/abstract.c.'>PyObject_CallObject</a>(getinitargs, tmp);
<a name='L3107'>        Py_DECREF(getinitargs);
<a name='L3108'>        <b>if</b> (<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3109'>            Py_DECREF(tmp);
<a name='L3110'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3111'>        <font color='red'>}</font>
<a name='L3112'>    <font color='red'>}</font>
<a name='L3113'>    <b>else</b> <font color='red'>{</font>
<a name='L3114'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L3115'>        <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a> = tmp;
<a name='L3116'>        Py_INCREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L3117'>    <font color='red'>}</font>
<a name='L3118'>
<a name='L3119'>    getstate = <a href='../S/2803.html#L779' title='Defined at 779 in Objects/object.c.'>PyObject_GetAttrString</a>(self, "__getstate__");
<a name='L3120'>    <b>if</b> (getstate != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3121'>        <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> = <a href='../S/2775.html#L2135' title='Defined at 2135 in Objects/abstract.c.'>PyObject_CallObject</a>(getstate, tmp);
<a name='L3122'>        Py_DECREF(getstate);
<a name='L3123'>        <b>if</b> (<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3124'>            Py_DECREF(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L3125'>            Py_DECREF(tmp);
<a name='L3126'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3127'>        <font color='red'>}</font>
<a name='L3128'>    <font color='red'>}</font>
<a name='L3129'>    <b>else</b> <font color='red'>{</font>
<a name='L3130'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> **dictptr;
<a name='L3131'>        <a href='../S/3106.html#L318' title='Defined at 318 in Python/errors.c.'>PyErr_Clear</a>();
<a name='L3132'>        <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> = Py_None;
<a name='L3133'>        dictptr = <a href='../S/2803.html#L908' title='Defined at 908 in Objects/object.c.'>_PyObject_GetDictPtr</a>(self);
<a name='L3134'>        <b>if</b> (dictptr &amp;&amp; *dictptr &amp;&amp; <a href='../S/2787.html#L1620' title='Defined at 1620 in Objects/dictobject.c.'>PyDict_Size</a>(*dictptr))
<a name='L3135'>            <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> = *dictptr;
<a name='L3136'>        Py_INCREF(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>);
<a name='L3137'>    <font color='red'>}</font>
<a name='L3138'>
<a name='L3139'>    Py_DECREF(tmp);
<a name='L3140'>
<a name='L3141'>    <b>if</b> (<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> == Py_None) <font color='red'>{</font>
<a name='L3142'>        Py_DECREF(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>);
<a name='L3143'>        <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(ON)", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>);
<a name='L3144'>    <font color='red'>}</font>
<a name='L3145'>    <b>else</b>
<a name='L3146'>        <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(ONN)", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), <a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, <a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>);
<a name='L3147'><font color='red'>}</font>
<a name='L3148'>
<a name='L3149'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> tzinfo_methods[] = <font color='red'>{</font>
<a name='L3150'>
<a name='L3151'>    <font color='red'>{</font>"tzname",          (PyCFunction)<a href='../S/2560.html#L2990' title='Defined at 2990 in Modules/_datetimemodule.c.'>tzinfo_tzname</a>,             METH_O,
<a name='L3152'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("datetime -&gt; string name of time zone.")<font color='red'>}</font>,
<a name='L3153'>
<a name='L3154'>    <font color='red'>{</font>"utcoffset",       (PyCFunction)<a href='../S/2560.html#L2996' title='Defined at 2996 in Modules/_datetimemodule.c.'>tzinfo_utcoffset</a>,          METH_O,
<a name='L3155'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("datetime -&gt; timedelta showing offset from UTC, negative "
<a name='L3156'>           "values indicating West of UTC")<font color='red'>}</font>,
<a name='L3157'>
<a name='L3158'>    <font color='red'>{</font>"dst",             (PyCFunction)<a href='../S/2560.html#L3002' title='Defined at 3002 in Modules/_datetimemodule.c.'>tzinfo_dst</a>,                METH_O,
<a name='L3159'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("datetime -&gt; DST offset in minutes east of UTC.")<font color='red'>}</font>,
<a name='L3160'>
<a name='L3161'>    <font color='red'>{</font>"fromutc",         (PyCFunction)<a href='../S/2560.html#L3015' title='Defined at 3015 in Modules/_datetimemodule.c.'>tzinfo_fromutc</a>,            METH_O,
<a name='L3162'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("datetime in UTC -&gt; datetime in local time.")<font color='red'>}</font>,
<a name='L3163'>
<a name='L3164'>    <font color='red'>{</font>"__reduce__",  (PyCFunction)<a href='../S/2560.html#L3095' title='Defined at 3095 in Modules/_datetimemodule.c.'>tzinfo_reduce</a>,             <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L3165'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("-&gt; (cls, state)")<font color='red'>}</font>,
<a name='L3166'>
<a name='L3167'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L3168'><font color='red'>}</font>;
<a name='L3169'>
<a name='L3170'><b>static</b> <b>char</b> tzinfo_doc[] =
<a name='L3171'><a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Abstract base class for time zone info objects.");
<a name='L3172'>
<a name='L3173'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_TZInfoType = <font color='red'>{</font>
<a name='L3174'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L3175'>    "datetime.tzinfo",                          <i><font color='green'>/* tp_name */</font></i>
<a name='L3176'>    <b>sizeof</b>(<a href='../S/515.html#L46' title='Defined at 46 in Include/datetime.h.'>PyDateTime_TZInfo</a>),                  <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L3177'>    0,                                          <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L3178'>    0,                                          <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L3179'>    0,                                          <i><font color='green'>/* tp_print */</font></i>
<a name='L3180'>    0,                                          <i><font color='green'>/* tp_getattr */</font></i>
<a name='L3181'>    0,                                          <i><font color='green'>/* tp_setattr */</font></i>
<a name='L3182'>    0,                                          <i><font color='green'>/* tp_reserved */</font></i>
<a name='L3183'>    0,                                          <i><font color='green'>/* tp_repr */</font></i>
<a name='L3184'>    0,                                          <i><font color='green'>/* tp_as_number */</font></i>
<a name='L3185'>    0,                                          <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L3186'>    0,                                          <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L3187'>    0,                                          <i><font color='green'>/* tp_hash */</font></i>
<a name='L3188'>    0,                                          <i><font color='green'>/* tp_call */</font></i>
<a name='L3189'>    0,                                          <i><font color='green'>/* tp_str */</font></i>
<a name='L3190'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,                    <i><font color='green'>/* tp_getattro */</font></i>
<a name='L3191'>    0,                                          <i><font color='green'>/* tp_setattro */</font></i>
<a name='L3192'>    0,                                          <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L3193'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE,   <i><font color='green'>/* tp_flags */</font></i>
<a name='L3194'>    tzinfo_doc,                                 <i><font color='green'>/* tp_doc */</font></i>
<a name='L3195'>    0,                                          <i><font color='green'>/* tp_traverse */</font></i>
<a name='L3196'>    0,                                          <i><font color='green'>/* tp_clear */</font></i>
<a name='L3197'>    0,                                          <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L3198'>    0,                                          <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L3199'>    0,                                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L3200'>    0,                                          <i><font color='green'>/* tp_iternext */</font></i>
<a name='L3201'>    tzinfo_methods,                             <i><font color='green'>/* tp_methods */</font></i>
<a name='L3202'>    0,                                          <i><font color='green'>/* tp_members */</font></i>
<a name='L3203'>    0,                                          <i><font color='green'>/* tp_getset */</font></i>
<a name='L3204'>    0,                                          <i><font color='green'>/* tp_base */</font></i>
<a name='L3205'>    0,                                          <i><font color='green'>/* tp_dict */</font></i>
<a name='L3206'>    0,                                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L3207'>    0,                                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L3208'>    0,                                          <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L3209'>    0,                                          <i><font color='green'>/* tp_init */</font></i>
<a name='L3210'>    0,                                          <i><font color='green'>/* tp_alloc */</font></i>
<a name='L3211'>    <a href='../S/2824.html#L730' title='Defined at 730 in Objects/typeobject.c.'>PyType_GenericNew</a>,                          <i><font color='green'>/* tp_new */</font></i>
<a name='L3212'>    0,                                          <i><font color='green'>/* tp_free */</font></i>
<a name='L3213'><font color='red'>}</font>;
<a name='L3214'>
<a name='L3215'><b>static</b> <b>char</b> *timezone_kws[] = <font color='red'>{</font>"offset", "name", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L3216'>
<a name='L3217'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3218'><a href='../S/2560.html#L3437' title='Refered from 3437 in Modules/_datetimemodule.c.'>timezone_new</a>(PyTypeObject *type, PyObject *args, PyObject *kw)
<a name='L3219'><font color='red'>{</font>
<a name='L3220'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L3221'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *name = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3222'>    <b>if</b> (<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "O!|O!:timezone", timezone_kws,
<a name='L3223'>                                    &amp;PyDateTime_DeltaType, &amp;offset,
<a name='L3224'>                                    &amp;PyUnicode_Type, &amp;name))
<a name='L3225'>        <b>return</b> <a href='../S/2560.html#L800' title='Defined at 800 in Modules/_datetimemodule.c.'>new_timezone</a>(offset, name);
<a name='L3226'>
<a name='L3227'>    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3228'><font color='red'>}</font>
<a name='L3229'>
<a name='L3230'><b>static</b> <b>void</b>
<a name='L3231'><a href='../S/2560.html#L3404' title='Refered from 3404 in Modules/_datetimemodule.c.'>timezone_dealloc</a>(PyDateTime_TimeZone *self)
<a name='L3232'><font color='red'>{</font>
<a name='L3233'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;offset);
<a name='L3234'>    <a href='../D/4095.html' title='Multiple defined in 2 places.'>Py_CLEAR</a>(self-&gt;name);
<a name='L3235'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L3236'><font color='red'>}</font>
<a name='L3237'>
<a name='L3238'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3239'><a href='../S/2560.html#L3423' title='Refered from 3423 in Modules/_datetimemodule.c.'>timezone_richcompare</a>(PyDateTime_TimeZone *self,
<a name='L3240'>                     PyDateTime_TimeZone *other, <b>int</b> op)
<a name='L3241'><font color='red'>{</font>
<a name='L3242'>    <b>if</b> (op != <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a> &amp;&amp; op != <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_NE</a>) <font color='red'>{</font>
<a name='L3243'>        Py_INCREF(Py_NotImplemented);
<a name='L3244'>        <b>return</b> Py_NotImplemented;
<a name='L3245'>    <font color='red'>}</font>
<a name='L3246'>    <b>return</b> <a href='../S/2560.html#L1832' title='Defined at 1832 in Modules/_datetimemodule.c.'>delta_richcompare</a>(self-&gt;offset, <a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>-&gt;offset, op);
<a name='L3247'><font color='red'>}</font>
<a name='L3248'>
<a name='L3249'><b>static</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a>
<a name='L3250'><a href='../S/2560.html#L3413' title='Refered from 3413 in Modules/_datetimemodule.c.'>timezone_hash</a>(PyDateTime_TimeZone *self)
<a name='L3251'><font color='red'>{</font>
<a name='L3252'>    <b>return</b> <a href='../S/2560.html#L1847' title='Defined at 1847 in Modules/_datetimemodule.c.'>delta_hash</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)self-&gt;offset);
<a name='L3253'><font color='red'>}</font>
<a name='L3254'>
<a name='L3255'><i><font color='green'>/* Check argument type passed to tzname, utcoffset, or dst methods.</font></i>
<a name='L3256'><i><font color='green'>   Returns 0 for good argument.  Returns -1 and sets exception info</font></i>
<a name='L3257'><i><font color='green'>   otherwise.</font></i>
<a name='L3258'><i><font color='green'> */</font></i>
<a name='L3259'><b>static</b> <b>int</b>
<a name='L3260'><a href='../R/5869.html' title='Multiple refered from 3 places.'>_timezone_check_argument</a>(PyObject *dt, <b>const</b> <b>char</b> *meth)
<a name='L3261'><font color='red'>{</font>
<a name='L3262'>    <b>if</b> (dt == Py_None || <a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(dt))
<a name='L3263'>        <b>return</b> 0;
<a name='L3264'>    <a href='../S/3106.html#L600' title='Defined at 600 in Python/errors.c.'>PyErr_Format</a>(PyExc_TypeError, "%s(dt) argument must be a datetime instance"
<a name='L3265'>                 " or None, not %.200s", meth, <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(dt)-&gt;tp_name);
<a name='L3266'>    <b>return</b> -1;
<a name='L3267'><font color='red'>}</font>
<a name='L3268'>
<a name='L3269'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3270'><a href='../S/2560.html#L3409' title='Refered from 3409 in Modules/_datetimemodule.c.'>timezone_repr</a>(PyDateTime_TimeZone *self)
<a name='L3271'><font color='red'>{</font>
<a name='L3272'>    <i><font color='green'>/* Note that although timezone is not subclassable, it is convenient</font></i>
<a name='L3273'><i><font color='green'>       to use Py_TYPE(self)-&gt;tp_name here. */</font></i>
<a name='L3274'>    <b>const</b> <b>char</b> *<a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a> = <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name;
<a name='L3275'>
<a name='L3276'>    <b>if</b> (((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self) == PyDateTime_TimeZone_UTC)
<a name='L3277'>        <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s.utc", <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>);
<a name='L3278'>
<a name='L3279'>    <b>if</b> (self-&gt;name == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3280'>        <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%R)", <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>, self-&gt;offset);
<a name='L3281'>
<a name='L3282'>    <b>return</b> <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%R, %R)", <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>, self-&gt;offset,
<a name='L3283'>                                self-&gt;name);
<a name='L3284'><font color='red'>}</font>
<a name='L3285'>
<a name='L3286'>
<a name='L3287'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3288'><a href='../R/10922.html' title='Multiple refered from 2 places.'>timezone_str</a>(PyDateTime_TimeZone *self)
<a name='L3289'><font color='red'>{</font>
<a name='L3290'>    <b>char</b> buf[10];
<a name='L3291'>    <b>int</b> hours, minutes, seconds;
<a name='L3292'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L3293'>    <b>char</b> sign;
<a name='L3294'>
<a name='L3295'>    <b>if</b> (self-&gt;name != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3296'>        Py_INCREF(self-&gt;name);
<a name='L3297'>        <b>return</b> self-&gt;name;
<a name='L3298'>    <font color='red'>}</font>
<a name='L3299'>    <i><font color='green'>/* Offset is normalized, so it is negative if days &lt; 0 */</font></i>
<a name='L3300'>    <b>if</b> (<a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(self-&gt;offset) &lt; 0) <font color='red'>{</font>
<a name='L3301'>        sign = '-';
<a name='L3302'>        offset = <a href='../S/2560.html#L1761' title='Defined at 1761 in Modules/_datetimemodule.c.'>delta_negative</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)self-&gt;offset);
<a name='L3303'>        <b>if</b> (offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3304'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3305'>    <font color='red'>}</font>
<a name='L3306'>    <b>else</b> <font color='red'>{</font>
<a name='L3307'>        sign = '+';
<a name='L3308'>        offset = self-&gt;offset;
<a name='L3309'>        Py_INCREF(offset);
<a name='L3310'>    <font color='red'>}</font>
<a name='L3311'>    <i><font color='green'>/* Offset is not negative here. */</font></i>
<a name='L3312'>    seconds = <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset);
<a name='L3313'>    Py_DECREF(offset);
<a name='L3314'>    minutes = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(seconds, 60, &amp;seconds);
<a name='L3315'>    hours = <a href='../S/2560.html#L130' title='Defined at 130 in Modules/_datetimemodule.c.'>divmod</a>(minutes, 60, &amp;minutes);
<a name='L3316'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(seconds == 0);
<a name='L3317'>    <i><font color='green'>/* XXX ignore sub-minute data, curently not allowed. */</font></i>
<a name='L3318'>    <a href='../S/3126.html#L41' title='Defined at 41 in Python/mysnprintf.c.'>PyOS_snprintf</a>(buf, <b>sizeof</b>(buf), "UTC%c%02d:%02d", sign, hours, minutes);
<a name='L3319'>
<a name='L3320'>    <b>return</b> <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(buf);
<a name='L3321'><font color='red'>}</font>
<a name='L3322'>
<a name='L3323'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3324'><a href='../S/2560.html#L3377' title='Refered from 3377 in Modules/_datetimemodule.c.'>timezone_tzname</a>(PyDateTime_TimeZone *self, PyObject *dt)
<a name='L3325'><font color='red'>{</font>
<a name='L3326'>    <b>if</b> (<a href='../S/2560.html#L3260' title='Defined at 3260 in Modules/_datetimemodule.c.'>_timezone_check_argument</a>(dt, "tzname") == -1)
<a name='L3327'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3328'>
<a name='L3329'>    <b>return</b> <a href='../S/2560.html#L3288' title='Defined at 3288 in Modules/_datetimemodule.c.'>timezone_str</a>(self);
<a name='L3330'><font color='red'>}</font>
<a name='L3331'>
<a name='L3332'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3333'><a href='../S/2560.html#L3381' title='Refered from 3381 in Modules/_datetimemodule.c.'>timezone_utcoffset</a>(PyDateTime_TimeZone *self, PyObject *dt)
<a name='L3334'><font color='red'>{</font>
<a name='L3335'>    <b>if</b> (<a href='../S/2560.html#L3260' title='Defined at 3260 in Modules/_datetimemodule.c.'>_timezone_check_argument</a>(dt, "utcoffset") == -1)
<a name='L3336'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3337'>
<a name='L3338'>    Py_INCREF(self-&gt;offset);
<a name='L3339'>    <b>return</b> self-&gt;offset;
<a name='L3340'><font color='red'>}</font>
<a name='L3341'>
<a name='L3342'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3343'><a href='../S/2560.html#L3384' title='Refered from 3384 in Modules/_datetimemodule.c.'>timezone_dst</a>(PyObject *self, PyObject *dt)
<a name='L3344'><font color='red'>{</font>
<a name='L3345'>    <b>if</b> (<a href='../S/2560.html#L3260' title='Defined at 3260 in Modules/_datetimemodule.c.'>_timezone_check_argument</a>(dt, "dst") == -1)
<a name='L3346'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3347'>
<a name='L3348'>    <a href='../S/2562.html#L112' title='Defined at 112 in Modules/_elementtree.c.'>Py_RETURN_NONE</a>;
<a name='L3349'><font color='red'>}</font>
<a name='L3350'>
<a name='L3351'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3352'><a href='../S/2560.html#L3387' title='Refered from 3387 in Modules/_datetimemodule.c.'>timezone_fromutc</a>(PyDateTime_TimeZone *self, PyDateTime_DateTime *dt)
<a name='L3353'><font color='red'>{</font>
<a name='L3354'>    <b>if</b> (!<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(dt)) <font color='red'>{</font>
<a name='L3355'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L3356'>                        "fromutc: argument must be a datetime");
<a name='L3357'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3358'>    <font color='red'>}</font>
<a name='L3359'>    <b>if</b> (!<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(dt) || dt-&gt;tzinfo != (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self) <font color='red'>{</font>
<a name='L3360'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "fromutc: dt.tzinfo "
<a name='L3361'>                        "is not self");
<a name='L3362'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3363'>    <font color='red'>}</font>
<a name='L3364'>
<a name='L3365'>    <b>return</b> <a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>(dt, (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)self-&gt;offset, 1);
<a name='L3366'><font color='red'>}</font>
<a name='L3367'>
<a name='L3368'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3369'><a href='../S/2560.html#L3390' title='Refered from 3390 in Modules/_datetimemodule.c.'>timezone_getinitargs</a>(PyDateTime_TimeZone *self)
<a name='L3370'><font color='red'>{</font>
<a name='L3371'>    <b>if</b> (self-&gt;name == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3372'>        <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(O)", self-&gt;offset);
<a name='L3373'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(OO)", self-&gt;offset, self-&gt;name);
<a name='L3374'><font color='red'>}</font>
<a name='L3375'>
<a name='L3376'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> timezone_methods[] = <font color='red'>{</font>
<a name='L3377'>    <font color='red'>{</font>"tzname", (PyCFunction)<a href='../S/2560.html#L3324' title='Defined at 3324 in Modules/_datetimemodule.c.'>timezone_tzname</a>, METH_O,
<a name='L3378'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("If name is specified when timezone is created, returns the name."
<a name='L3379'>               "  Otherwise returns offset as 'UTC(+|-)HH:MM'.")<font color='red'>}</font>,
<a name='L3380'>
<a name='L3381'>    <font color='red'>{</font>"utcoffset", (PyCFunction)<a href='../S/2560.html#L3333' title='Defined at 3333 in Modules/_datetimemodule.c.'>timezone_utcoffset</a>, METH_O,
<a name='L3382'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return fixed offset.")<font color='red'>}</font>,
<a name='L3383'>
<a name='L3384'>    <font color='red'>{</font>"dst", (PyCFunction)<a href='../S/2560.html#L3343' title='Defined at 3343 in Modules/_datetimemodule.c.'>timezone_dst</a>, METH_O,
<a name='L3385'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return None.")<font color='red'>}</font>,
<a name='L3386'>
<a name='L3387'>    <font color='red'>{</font>"fromutc", (PyCFunction)<a href='../S/2560.html#L3352' title='Defined at 3352 in Modules/_datetimemodule.c.'>timezone_fromutc</a>, METH_O,
<a name='L3388'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("datetime in UTC -&gt; datetime in local time.")<font color='red'>}</font>,
<a name='L3389'>
<a name='L3390'>    <font color='red'>{</font>"__getinitargs__", (PyCFunction)<a href='../S/2560.html#L3369' title='Defined at 3369 in Modules/_datetimemodule.c.'>timezone_getinitargs</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L3391'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("pickle support")<font color='red'>}</font>,
<a name='L3392'>
<a name='L3393'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L3394'><font color='red'>}</font>;
<a name='L3395'>
<a name='L3396'><b>static</b> <b>char</b> timezone_doc[] =
<a name='L3397'><a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Fixed offset from UTC implementation of tzinfo.");
<a name='L3398'>
<a name='L3399'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_TimeZoneType = <font color='red'>{</font>
<a name='L3400'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L3401'>    "datetime.timezone",              <i><font color='green'>/* tp_name */</font></i>
<a name='L3402'>    <b>sizeof</b>(<a href='../S/2560.html#L767' title='Defined at 767 in Modules/_datetimemodule.c.'>PyDateTime_TimeZone</a>),      <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L3403'>    0,                                <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L3404'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2560.html#L3231' title='Defined at 3231 in Modules/_datetimemodule.c.'>timezone_dealloc</a>,     <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L3405'>    0,                                <i><font color='green'>/* tp_print */</font></i>
<a name='L3406'>    0,                                <i><font color='green'>/* tp_getattr */</font></i>
<a name='L3407'>    0,                                <i><font color='green'>/* tp_setattr */</font></i>
<a name='L3408'>    0,                                <i><font color='green'>/* tp_reserved */</font></i>
<a name='L3409'>    (reprfunc)<a href='../S/2560.html#L3270' title='Defined at 3270 in Modules/_datetimemodule.c.'>timezone_repr</a>,          <i><font color='green'>/* tp_repr */</font></i>
<a name='L3410'>    0,                                <i><font color='green'>/* tp_as_number */</font></i>
<a name='L3411'>    0,                                <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L3412'>    0,                                <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L3413'>    (hashfunc)<a href='../S/2560.html#L3250' title='Defined at 3250 in Modules/_datetimemodule.c.'>timezone_hash</a>,          <i><font color='green'>/* tp_hash */</font></i>
<a name='L3414'>    0,                                <i><font color='green'>/* tp_call */</font></i>
<a name='L3415'>    (reprfunc)<a href='../S/2560.html#L3288' title='Defined at 3288 in Modules/_datetimemodule.c.'>timezone_str</a>,           <i><font color='green'>/* tp_str */</font></i>
<a name='L3416'>    0,                                <i><font color='green'>/* tp_getattro */</font></i>
<a name='L3417'>    0,                                <i><font color='green'>/* tp_setattro */</font></i>
<a name='L3418'>    0,                                <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L3419'>    Py_TPFLAGS_DEFAULT,               <i><font color='green'>/* tp_flags */</font></i>
<a name='L3420'>    timezone_doc,                     <i><font color='green'>/* tp_doc */</font></i>
<a name='L3421'>    0,                                <i><font color='green'>/* tp_traverse */</font></i>
<a name='L3422'>    0,                                <i><font color='green'>/* tp_clear */</font></i>
<a name='L3423'>    (richcmpfunc)<a href='../S/2560.html#L3239' title='Defined at 3239 in Modules/_datetimemodule.c.'>timezone_richcompare</a>,<i><font color='green'>/* tp_richcompare */</font></i>
<a name='L3424'>    0,                                <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L3425'>    0,                                <i><font color='green'>/* tp_iter */</font></i>
<a name='L3426'>    0,                                <i><font color='green'>/* tp_iternext */</font></i>
<a name='L3427'>    timezone_methods,                 <i><font color='green'>/* tp_methods */</font></i>
<a name='L3428'>    0,                                <i><font color='green'>/* tp_members */</font></i>
<a name='L3429'>    0,                                <i><font color='green'>/* tp_getset */</font></i>
<a name='L3430'>    &amp;PyDateTime_TZInfoType,           <i><font color='green'>/* tp_base */</font></i>
<a name='L3431'>    0,                                <i><font color='green'>/* tp_dict */</font></i>
<a name='L3432'>    0,                                <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L3433'>    0,                                <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L3434'>    0,                                <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L3435'>    0,                                <i><font color='green'>/* tp_init */</font></i>
<a name='L3436'>    0,                                <i><font color='green'>/* tp_alloc */</font></i>
<a name='L3437'>    <a href='../S/2560.html#L3218' title='Defined at 3218 in Modules/_datetimemodule.c.'>timezone_new</a>,                     <i><font color='green'>/* tp_new */</font></i>
<a name='L3438'><font color='red'>}</font>;
<a name='L3439'>
<a name='L3440'><i><font color='green'>/*</font></i>
<a name='L3441'><i><font color='green'> * PyDateTime_Time implementation.</font></i>
<a name='L3442'><i><font color='green'> */</font></i>
<a name='L3443'>
<a name='L3444'><i><font color='green'>/* Accessor properties.</font></i>
<a name='L3445'><i><font color='green'> */</font></i>
<a name='L3446'>
<a name='L3447'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3448'><a href='../S/2560.html#L3481' title='Refered from 3481 in Modules/_datetimemodule.c.'>time_hour</a>(PyDateTime_Time *self, <b>void</b> *unused)
<a name='L3449'><font color='red'>{</font>
<a name='L3450'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self));
<a name='L3451'><font color='red'>}</font>
<a name='L3452'>
<a name='L3453'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3454'><a href='../S/2560.html#L3482' title='Refered from 3482 in Modules/_datetimemodule.c.'>time_minute</a>(PyDateTime_Time *self, <b>void</b> *unused)
<a name='L3455'><font color='red'>{</font>
<a name='L3456'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self));
<a name='L3457'><font color='red'>}</font>
<a name='L3458'>
<a name='L3459'><i><font color='green'>/* The name time_second conflicted with some platform header file. */</font></i>
<a name='L3460'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3461'><a href='../S/2560.html#L3483' title='Refered from 3483 in Modules/_datetimemodule.c.'>py_time_second</a>(PyDateTime_Time *self, <b>void</b> *unused)
<a name='L3462'><font color='red'>{</font>
<a name='L3463'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self));
<a name='L3464'><font color='red'>}</font>
<a name='L3465'>
<a name='L3466'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3467'><a href='../S/2560.html#L3484' title='Refered from 3484 in Modules/_datetimemodule.c.'>time_microsecond</a>(PyDateTime_Time *self, <b>void</b> *unused)
<a name='L3468'><font color='red'>{</font>
<a name='L3469'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(self));
<a name='L3470'><font color='red'>}</font>
<a name='L3471'>
<a name='L3472'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3473'><a href='../S/2560.html#L3485' title='Refered from 3485 in Modules/_datetimemodule.c.'>time_tzinfo</a>(PyDateTime_Time *self, <b>void</b> *unused)
<a name='L3474'><font color='red'>{</font>
<a name='L3475'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) ? self-&gt;tzinfo : Py_None;
<a name='L3476'>    Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L3477'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3478'><font color='red'>}</font>
<a name='L3479'>
<a name='L3480'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> time_getset[] = <font color='red'>{</font>
<a name='L3481'>    <font color='red'>{</font>"hour",        (getter)<a href='../S/2560.html#L3448' title='Defined at 3448 in Modules/_datetimemodule.c.'>time_hour</a><font color='red'>}</font>,
<a name='L3482'>    <font color='red'>{</font>"minute",      (getter)<a href='../S/2560.html#L3454' title='Defined at 3454 in Modules/_datetimemodule.c.'>time_minute</a><font color='red'>}</font>,
<a name='L3483'>    <font color='red'>{</font>"second",      (getter)<a href='../S/2560.html#L3461' title='Defined at 3461 in Modules/_datetimemodule.c.'>py_time_second</a><font color='red'>}</font>,
<a name='L3484'>    <font color='red'>{</font>"microsecond", (getter)<a href='../S/2560.html#L3467' title='Defined at 3467 in Modules/_datetimemodule.c.'>time_microsecond</a><font color='red'>}</font>,
<a name='L3485'>    <font color='red'>{</font>"tzinfo",          (getter)<a href='../S/2560.html#L3473' title='Defined at 3473 in Modules/_datetimemodule.c.'>time_tzinfo</a><font color='red'>}</font>,
<a name='L3486'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L3487'><font color='red'>}</font>;
<a name='L3488'>
<a name='L3489'><i><font color='green'>/*</font></i>
<a name='L3490'><i><font color='green'> * Constructors.</font></i>
<a name='L3491'><i><font color='green'> */</font></i>
<a name='L3492'>
<a name='L3493'><b>static</b> <b>char</b> *time_kws[] = <font color='red'>{</font>"hour", "minute", "second", "microsecond",
<a name='L3494'>                           "tzinfo", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L3495'>
<a name='L3496'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3497'><a href='../R/10895.html' title='Multiple refered from 2 places.'>time_new</a>(PyTypeObject *type, PyObject *args, PyObject *kw)
<a name='L3498'><font color='red'>{</font>
<a name='L3499'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3500'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>;
<a name='L3501'>    <b>int</b> hour = 0;
<a name='L3502'>    <b>int</b> minute = 0;
<a name='L3503'>    <b>int</b> second = 0;
<a name='L3504'>    <b>int</b> usecond = 0;
<a name='L3505'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = Py_None;
<a name='L3506'>
<a name='L3507'>    <i><font color='green'>/* Check for invocation from pickle with __getstate__ state */</font></i>
<a name='L3508'>    <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) &gt;= 1 &amp;&amp;
<a name='L3509'>        PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) &lt;= 2 &amp;&amp;
<a name='L3510'>        PyBytes_Check(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> = PyTuple_GET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0)) &amp;&amp;
<a name='L3511'>        PyBytes_GET_SIZE(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>) == <a href='../S/515.html#L28' title='Defined at 28 in Include/datetime.h.'>_PyDateTime_TIME_DATASIZE</a> &amp;&amp;
<a name='L3512'>        ((<b>unsigned</b> <b>char</b>) (PyBytes_AS_STRING(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>)[0])) &lt; 24)
<a name='L3513'>    <font color='red'>{</font>
<a name='L3514'>        <a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *me;
<a name='L3515'>        <b>char</b> aware;
<a name='L3516'>
<a name='L3517'>        <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 2) <font color='red'>{</font>
<a name='L3518'>            tzinfo = PyTuple_GET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 1);
<a name='L3519'>            <b>if</b> (<a href='../S/2560.html#L834' title='Defined at 834 in Modules/_datetimemodule.c.'>check_tzinfo_subclass</a>(tzinfo) &lt; 0) <font color='red'>{</font>
<a name='L3520'>                <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "bad "
<a name='L3521'>                    "tzinfo state arg");
<a name='L3522'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3523'>            <font color='red'>}</font>
<a name='L3524'>        <font color='red'>}</font>
<a name='L3525'>        aware = (<b>char</b>)(tzinfo != Py_None);
<a name='L3526'>        me = (<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *) (type-&gt;tp_alloc(type, aware));
<a name='L3527'>        <b>if</b> (me != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3528'>            <b>char</b> *pdata = PyBytes_AS_STRING(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>);
<a name='L3529'>
<a name='L3530'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(me-&gt;data, pdata, <a href='../S/515.html#L28' title='Defined at 28 in Include/datetime.h.'>_PyDateTime_TIME_DATASIZE</a>);
<a name='L3531'>            me-&gt;hashcode = -1;
<a name='L3532'>            me-&gt;hastzinfo = aware;
<a name='L3533'>            <b>if</b> (aware) <font color='red'>{</font>
<a name='L3534'>                Py_INCREF(tzinfo);
<a name='L3535'>                me-&gt;tzinfo = tzinfo;
<a name='L3536'>            <font color='red'>}</font>
<a name='L3537'>        <font color='red'>}</font>
<a name='L3538'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)me;
<a name='L3539'>    <font color='red'>}</font>
<a name='L3540'>
<a name='L3541'>    <b>if</b> (<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "|iiiiO", time_kws,
<a name='L3542'>                                    &amp;hour, &amp;minute, &amp;second, &amp;usecond,
<a name='L3543'>                                    &amp;tzinfo)) <font color='red'>{</font>
<a name='L3544'>        <b>if</b> (<a href='../S/2560.html#L418' title='Defined at 418 in Modules/_datetimemodule.c.'>check_time_args</a>(hour, minute, second, usecond) &lt; 0)
<a name='L3545'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3546'>        <b>if</b> (<a href='../S/2560.html#L834' title='Defined at 834 in Modules/_datetimemodule.c.'>check_tzinfo_subclass</a>(tzinfo) &lt; 0)
<a name='L3547'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3548'>        self = <a href='../S/2560.html#L703' title='Defined at 703 in Modules/_datetimemodule.c.'>new_time_ex</a>(hour, minute, second, usecond, tzinfo,
<a name='L3549'>                           type);
<a name='L3550'>    <font color='red'>}</font>
<a name='L3551'>    <b>return</b> self;
<a name='L3552'><font color='red'>}</font>
<a name='L3553'>
<a name='L3554'><i><font color='green'>/*</font></i>
<a name='L3555'><i><font color='green'> * Destructor.</font></i>
<a name='L3556'><i><font color='green'> */</font></i>
<a name='L3557'>
<a name='L3558'><b>static</b> <b>void</b>
<a name='L3559'><a href='../S/2560.html#L3927' title='Refered from 3927 in Modules/_datetimemodule.c.'>time_dealloc</a>(PyDateTime_Time *self)
<a name='L3560'><font color='red'>{</font>
<a name='L3561'>    <b>if</b> (<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self)) <font color='red'>{</font>
<a name='L3562'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;tzinfo);
<a name='L3563'>    <font color='red'>}</font>
<a name='L3564'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L3565'><font color='red'>}</font>
<a name='L3566'>
<a name='L3567'><i><font color='green'>/*</font></i>
<a name='L3568'><i><font color='green'> * Indirect access to tzinfo methods.</font></i>
<a name='L3569'><i><font color='green'> */</font></i>
<a name='L3570'>
<a name='L3571'><i><font color='green'>/* These are all METH_NOARGS, so don't need to check the arglist. */</font></i>
<a name='L3572'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3573'><a href='../R/10910.html' title='Multiple refered from 4 places.'>time_utcoffset</a>(PyObject *self, PyObject *unused) <font color='red'>{</font>
<a name='L3574'>    <b>return</b> <a href='../S/2560.html#L920' title='Defined at 920 in Modules/_datetimemodule.c.'>call_utcoffset</a>(<a href='../S/2560.html#L91' title='Defined at 91 in Modules/_datetimemodule.c.'>GET_TIME_TZINFO</a>(self), Py_None);
<a name='L3575'><font color='red'>}</font>
<a name='L3576'>
<a name='L3577'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3578'><a href='../S/2560.html#L3891' title='Refered from 3891 in Modules/_datetimemodule.c.'>time_dst</a>(PyObject *self, PyObject *unused) <font color='red'>{</font>
<a name='L3579'>    <b>return</b> <a href='../S/2560.html#L934' title='Defined at 934 in Modules/_datetimemodule.c.'>call_dst</a>(<a href='../S/2560.html#L91' title='Defined at 91 in Modules/_datetimemodule.c.'>GET_TIME_TZINFO</a>(self), Py_None);
<a name='L3580'><font color='red'>}</font>
<a name='L3581'>
<a name='L3582'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3583'><a href='../S/2560.html#L3888' title='Refered from 3888 in Modules/_datetimemodule.c.'>time_tzname</a>(PyDateTime_Time *self, PyObject *unused) <font color='red'>{</font>
<a name='L3584'>    <b>return</b> <a href='../S/2560.html#L946' title='Defined at 946 in Modules/_datetimemodule.c.'>call_tzname</a>(<a href='../S/2560.html#L91' title='Defined at 91 in Modules/_datetimemodule.c.'>GET_TIME_TZINFO</a>(self), Py_None);
<a name='L3585'><font color='red'>}</font>
<a name='L3586'>
<a name='L3587'><i><font color='green'>/*</font></i>
<a name='L3588'><i><font color='green'> * Various ways to turn a time into a string.</font></i>
<a name='L3589'><i><font color='green'> */</font></i>
<a name='L3590'>
<a name='L3591'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3592'><a href='../S/2560.html#L3932' title='Refered from 3932 in Modules/_datetimemodule.c.'>time_repr</a>(PyDateTime_Time *self)
<a name='L3593'><font color='red'>{</font>
<a name='L3594'>    <b>const</b> <b>char</b> *<a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a> = <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name;
<a name='L3595'>    <b>int</b> h = <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self);
<a name='L3596'>    <b>int</b> m = <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self);
<a name='L3597'>    <b>int</b> s = <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self);
<a name='L3598'>    <b>int</b> us = <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(self);
<a name='L3599'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3600'>
<a name='L3601'>    <b>if</b> (us)
<a name='L3602'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%d, %d, %d, %d)",
<a name='L3603'>                                      <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>, h, m, s, us);
<a name='L3604'>    <b>else</b> <b>if</b> (s)
<a name='L3605'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%d, %d, %d)",
<a name='L3606'>                                      <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>, h, m, s);
<a name='L3607'>    <b>else</b>
<a name='L3608'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%s(%d, %d)", <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>, h, m);
<a name='L3609'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self))
<a name='L3610'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L979' title='Defined at 979 in Modules/_datetimemodule.c.'>append_keyword_tzinfo</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, self-&gt;tzinfo);
<a name='L3611'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3612'><font color='red'>}</font>
<a name='L3613'>
<a name='L3614'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3615'><a href='../S/2560.html#L3938' title='Refered from 3938 in Modules/_datetimemodule.c.'>time_str</a>(PyDateTime_Time *self)
<a name='L3616'><font color='red'>{</font>
<a name='L3617'>    <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, "isoformat", "()");
<a name='L3618'><font color='red'>}</font>
<a name='L3619'>
<a name='L3620'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3621'><a href='../S/2560.html#L3875' title='Refered from 3875 in Modules/_datetimemodule.c.'>time_isoformat</a>(PyDateTime_Time *self, PyObject *unused)
<a name='L3622'><font color='red'>{</font>
<a name='L3623'>    <b>char</b> buf[100];
<a name='L3624'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3625'>    <b>int</b> us = <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(self);;
<a name='L3626'>
<a name='L3627'>    <b>if</b> (us)
<a name='L3628'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%02d:%02d:%02d.%06d",
<a name='L3629'>                                      <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self),
<a name='L3630'>                                      <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self),
<a name='L3631'>                                      <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self),
<a name='L3632'>                                      us);
<a name='L3633'>    <b>else</b>
<a name='L3634'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%02d:%02d:%02d",
<a name='L3635'>                                      <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self),
<a name='L3636'>                                      <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self),
<a name='L3637'>                                      <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self));
<a name='L3638'>
<a name='L3639'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || !<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) || self-&gt;tzinfo == Py_None)
<a name='L3640'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3641'>
<a name='L3642'>    <i><font color='green'>/* We need to append the UTC offset. */</font></i>
<a name='L3643'>    <b>if</b> (<a href='../S/2560.html#L1035' title='Defined at 1035 in Modules/_datetimemodule.c.'>format_utcoffset</a>(buf, <b>sizeof</b>(buf), ":", self-&gt;tzinfo,
<a name='L3644'>                         Py_None) &lt; 0) <font color='red'>{</font>
<a name='L3645'>        Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L3646'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3647'>    <font color='red'>}</font>
<a name='L3648'>    <a href='../D/3946.html' title='Multiple defined in 3 places.'>PyUnicode_AppendAndDel</a>(&amp;<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(buf));
<a name='L3649'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3650'><font color='red'>}</font>
<a name='L3651'>
<a name='L3652'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3653'><a href='../R/10902.html' title='Multiple refered from 2 places.'>time_strftime</a>(PyDateTime_Time *self, PyObject *args, PyObject *kw)
<a name='L3654'><font color='red'>{</font>
<a name='L3655'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3656'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tuple;
<a name='L3657'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *format;
<a name='L3658'>    <b>static</b> <b>char</b> *keywords[] = <font color='red'>{</font>"format", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L3659'>
<a name='L3660'>    <b>if</b> (! <a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "U:strftime", keywords,
<a name='L3661'>                                      &amp;format))
<a name='L3662'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3663'>
<a name='L3664'>    <i><font color='green'>/* Python's strftime does insane things with the year part of the</font></i>
<a name='L3665'><i><font color='green'>     * timetuple.  The year is forced to (the otherwise nonsensical)</font></i>
<a name='L3666'><i><font color='green'>     * 1900 to work around that.</font></i>
<a name='L3667'><i><font color='green'>     */</font></i>
<a name='L3668'>    tuple = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("iiiiiiiii",
<a name='L3669'>                          1900, 1, 1, <i><font color='green'>/* year, month, day */</font></i>
<a name='L3670'>                  <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self),
<a name='L3671'>                  <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self),
<a name='L3672'>                  <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self),
<a name='L3673'>                  0, 1, -1); <i><font color='green'>/* weekday, daynum, dst */</font></i>
<a name='L3674'>    <b>if</b> (tuple == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3675'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3676'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2823.html#L112' title='Defined at 112 in Objects/tupleobject.c.'>PyTuple_Size</a>(tuple) == 9);
<a name='L3677'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1140' title='Defined at 1140 in Modules/_datetimemodule.c.'>wrap_strftime</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, format, tuple,
<a name='L3678'>                           Py_None);
<a name='L3679'>    Py_DECREF(tuple);
<a name='L3680'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3681'><font color='red'>}</font>
<a name='L3682'>
<a name='L3683'><i><font color='green'>/*</font></i>
<a name='L3684'><i><font color='green'> * Miscellaneous methods.</font></i>
<a name='L3685'><i><font color='green'> */</font></i>
<a name='L3686'>
<a name='L3687'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3688'><a href='../S/2560.html#L3946' title='Refered from 3946 in Modules/_datetimemodule.c.'>time_richcompare</a>(PyObject *self, PyObject *other, <b>int</b> op)
<a name='L3689'><font color='red'>{</font>
<a name='L3690'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3691'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset1, *offset2;
<a name='L3692'>    <b>int</b> <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>;
<a name='L3693'>
<a name='L3694'>    <b>if</b> (! <a href='../D/3864.html' title='Multiple defined in 2 places.'>PyTime_Check</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)) <font color='red'>{</font>
<a name='L3695'>        Py_INCREF(Py_NotImplemented);
<a name='L3696'>        <b>return</b> Py_NotImplemented;
<a name='L3697'>    <font color='red'>}</font>
<a name='L3698'>
<a name='L3699'>    <b>if</b> (<a href='../S/2560.html#L91' title='Defined at 91 in Modules/_datetimemodule.c.'>GET_TIME_TZINFO</a>(self) == <a href='../S/2560.html#L91' title='Defined at 91 in Modules/_datetimemodule.c.'>GET_TIME_TZINFO</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)) <font color='red'>{</font>
<a name='L3700'>        <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = memcmp(((<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *)self)-&gt;data,
<a name='L3701'>                      ((<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *)<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)-&gt;data,
<a name='L3702'>                      <a href='../S/515.html#L28' title='Defined at 28 in Include/datetime.h.'>_PyDateTime_TIME_DATASIZE</a>);
<a name='L3703'>        <b>return</b> <a href='../S/2560.html#L1379' title='Defined at 1379 in Modules/_datetimemodule.c.'>diff_to_bool</a>(<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>, op);
<a name='L3704'>    <font color='red'>}</font>
<a name='L3705'>    offset1 = <a href='../S/2560.html#L3573' title='Defined at 3573 in Modules/_datetimemodule.c.'>time_utcoffset</a>(self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L3706'>    <b>if</b> (offset1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3707'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3708'>    offset2 = <a href='../S/2560.html#L3573' title='Defined at 3573 in Modules/_datetimemodule.c.'>time_utcoffset</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L3709'>    <b>if</b> (offset2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3710'>        <b>goto</b> done;
<a name='L3711'>    <i><font color='green'>/* If they're both naive, or both aware and have the same offsets,</font></i>
<a name='L3712'><i><font color='green'>     * we get off cheap.  Note that if they're both naive, offset1 ==</font></i>
<a name='L3713'><i><font color='green'>     * offset2 == Py_None at this point.</font></i>
<a name='L3714'><i><font color='green'>     */</font></i>
<a name='L3715'>    <b>if</b> ((offset1 == offset2) ||
<a name='L3716'>        (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(offset1) &amp;&amp; <a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(offset2) &amp;&amp;
<a name='L3717'>         <a href='../S/2560.html#L1819' title='Defined at 1819 in Modules/_datetimemodule.c.'>delta_cmp</a>(offset1, offset2) == 0)) <font color='red'>{</font>
<a name='L3718'>        <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = memcmp(((<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *)self)-&gt;data,
<a name='L3719'>                      ((<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *)<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)-&gt;data,
<a name='L3720'>                      <a href='../S/515.html#L28' title='Defined at 28 in Include/datetime.h.'>_PyDateTime_TIME_DATASIZE</a>);
<a name='L3721'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1379' title='Defined at 1379 in Modules/_datetimemodule.c.'>diff_to_bool</a>(<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>, op);
<a name='L3722'>    <font color='red'>}</font>
<a name='L3723'>    <i><font color='green'>/* The hard case: both aware with different UTC offsets */</font></i>
<a name='L3724'>    <b>else</b> <b>if</b> (offset1 != Py_None &amp;&amp; offset2 != Py_None) <font color='red'>{</font>
<a name='L3725'>        <b>int</b> offsecs1, offsecs2;
<a name='L3726'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(offset1 != offset2); <i><font color='green'>/* else last "if" handled it */</font></i>
<a name='L3727'>        offsecs1 = <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self) * 3600 +
<a name='L3728'>                   <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self) * 60 +
<a name='L3729'>                   <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self) -
<a name='L3730'>                   <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset1) * 86400 -
<a name='L3731'>                   <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset1);
<a name='L3732'>        offsecs2 = <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>) * 3600 +
<a name='L3733'>                   <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>) * 60 +
<a name='L3734'>                   <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>) -
<a name='L3735'>                   <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset2) * 86400 -
<a name='L3736'>                   <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset2);
<a name='L3737'>        <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = offsecs1 - offsecs2;
<a name='L3738'>        <b>if</b> (<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> == 0)
<a name='L3739'>            <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(self) -
<a name='L3740'>                   <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>);
<a name='L3741'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1379' title='Defined at 1379 in Modules/_datetimemodule.c.'>diff_to_bool</a>(<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>, op);
<a name='L3742'>    <font color='red'>}</font>
<a name='L3743'>    <b>else</b> <font color='red'>{</font>
<a name='L3744'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L3745'>                        "can't compare offset-naive and "
<a name='L3746'>                        "offset-aware times");
<a name='L3747'>    <font color='red'>}</font>
<a name='L3748'> done:
<a name='L3749'>    Py_DECREF(offset1);
<a name='L3750'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(offset2);
<a name='L3751'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3752'><font color='red'>}</font>
<a name='L3753'>
<a name='L3754'><b>static</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a>
<a name='L3755'><a href='../S/2560.html#L3936' title='Refered from 3936 in Modules/_datetimemodule.c.'>time_hash</a>(PyDateTime_Time *self)
<a name='L3756'><font color='red'>{</font>
<a name='L3757'>    <b>if</b> (self-&gt;hashcode == -1) <font color='red'>{</font>
<a name='L3758'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L3759'>
<a name='L3760'>        offset = <a href='../S/2560.html#L3573' title='Defined at 3573 in Modules/_datetimemodule.c.'>time_utcoffset</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L3761'>
<a name='L3762'>        <b>if</b> (offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3763'>            <b>return</b> -1;
<a name='L3764'>
<a name='L3765'>        <i><font color='green'>/* Reduce this to a hash of another object. */</font></i>
<a name='L3766'>        <b>if</b> (offset == Py_None)
<a name='L3767'>            self-&gt;hashcode = <a href='../S/2560.html#L2781' title='Defined at 2781 in Modules/_datetimemodule.c.'>generic_hash</a>(
<a name='L3768'>                (<b>unsigned</b> <b>char</b> *)self-&gt;data, <a href='../S/515.html#L28' title='Defined at 28 in Include/datetime.h.'>_PyDateTime_TIME_DATASIZE</a>);
<a name='L3769'>        <b>else</b> <font color='red'>{</font>
<a name='L3770'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp1, *temp2;
<a name='L3771'>            <b>int</b> seconds, microseconds;
<a name='L3772'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self));
<a name='L3773'>            seconds = <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self) * 3600 +
<a name='L3774'>                      <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self) * 60 +
<a name='L3775'>                      <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self);
<a name='L3776'>            microseconds = <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(self);
<a name='L3777'>            temp1 = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(0, seconds, microseconds, 1);
<a name='L3778'>            <b>if</b> (temp1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3779'>                Py_DECREF(offset);
<a name='L3780'>                <b>return</b> -1;
<a name='L3781'>            <font color='red'>}</font>
<a name='L3782'>            temp2 = <a href='../S/2560.html#L1798' title='Defined at 1798 in Modules/_datetimemodule.c.'>delta_subtract</a>(temp1, offset);
<a name='L3783'>            Py_DECREF(temp1);
<a name='L3784'>            <b>if</b> (temp2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3785'>                Py_DECREF(offset);
<a name='L3786'>                <b>return</b> -1;
<a name='L3787'>            <font color='red'>}</font>
<a name='L3788'>            self-&gt;hashcode = <a href='../S/2803.html#L758' title='Defined at 758 in Objects/object.c.'>PyObject_Hash</a>(temp2);
<a name='L3789'>            Py_DECREF(temp2);
<a name='L3790'>        <font color='red'>}</font>
<a name='L3791'>        Py_DECREF(offset);
<a name='L3792'>    <font color='red'>}</font>
<a name='L3793'>    <b>return</b> self-&gt;hashcode;
<a name='L3794'><font color='red'>}</font>
<a name='L3795'>
<a name='L3796'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3797'><a href='../S/2560.html#L3894' title='Refered from 3894 in Modules/_datetimemodule.c.'>time_replace</a>(PyDateTime_Time *self, PyObject *args, PyObject *kw)
<a name='L3798'><font color='red'>{</font>
<a name='L3799'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *clone;
<a name='L3800'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tuple;
<a name='L3801'>    <b>int</b> hh = <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self);
<a name='L3802'>    <b>int</b> mm = <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self);
<a name='L3803'>    <b>int</b> ss = <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self);
<a name='L3804'>    <b>int</b> us = <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(self);
<a name='L3805'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) ? self-&gt;tzinfo : Py_None;
<a name='L3806'>
<a name='L3807'>    <b>if</b> (! <a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "|iiiiO:replace",
<a name='L3808'>                                      time_kws,
<a name='L3809'>                                      &amp;hh, &amp;mm, &amp;ss, &amp;us, &amp;tzinfo))
<a name='L3810'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3811'>    tuple = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("iiiiO", hh, mm, ss, us, tzinfo);
<a name='L3812'>    <b>if</b> (tuple == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3813'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3814'>    clone = <a href='../S/2560.html#L3497' title='Defined at 3497 in Modules/_datetimemodule.c.'>time_new</a>(<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), tuple, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L3815'>    Py_DECREF(tuple);
<a name='L3816'>    <b>return</b> clone;
<a name='L3817'><font color='red'>}</font>
<a name='L3818'>
<a name='L3819'><b>static</b> <b>int</b>
<a name='L3820'><a href='../S/2560.html#L3919' title='Refered from 3919 in Modules/_datetimemodule.c.'>time_bool</a>(PyObject *self)
<a name='L3821'><font color='red'>{</font>
<a name='L3822'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset, *tzinfo;
<a name='L3823'>    <b>int</b> offsecs = 0;
<a name='L3824'>
<a name='L3825'>    <b>if</b> (<a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(self) || <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(self)) <font color='red'>{</font>
<a name='L3826'>        <i><font color='green'>/* Since utcoffset is in whole minutes, nothing can</font></i>
<a name='L3827'><i><font color='green'>         * alter the conclusion that this is nonzero.</font></i>
<a name='L3828'><i><font color='green'>         */</font></i>
<a name='L3829'>        <b>return</b> 1;
<a name='L3830'>    <font color='red'>}</font>
<a name='L3831'>    tzinfo = <a href='../S/2560.html#L91' title='Defined at 91 in Modules/_datetimemodule.c.'>GET_TIME_TZINFO</a>(self);
<a name='L3832'>    <b>if</b> (tzinfo != Py_None) <font color='red'>{</font>
<a name='L3833'>        offset = <a href='../S/2560.html#L920' title='Defined at 920 in Modules/_datetimemodule.c.'>call_utcoffset</a>(tzinfo, Py_None);
<a name='L3834'>        <b>if</b> (offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L3835'>            <b>return</b> -1;
<a name='L3836'>        offsecs = <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(offset)*86400 + <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(offset);
<a name='L3837'>        Py_DECREF(offset);
<a name='L3838'>    <font color='red'>}</font>
<a name='L3839'>    <b>return</b> (<a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(self)*60 - offsecs + <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(self)*3600) != 0;
<a name='L3840'><font color='red'>}</font>
<a name='L3841'>
<a name='L3842'><i><font color='green'>/* Pickle support, a simple use of __reduce__. */</font></i>
<a name='L3843'>
<a name='L3844'><i><font color='green'>/* Let basestate be the non-tzinfo data string.</font></i>
<a name='L3845'><i><font color='green'> * If tzinfo is None, this returns (basestate,), else (basestate, tzinfo).</font></i>
<a name='L3846'><i><font color='green'> * So it's a tuple in any (non-error) case.</font></i>
<a name='L3847'><i><font color='green'> * __getstate__ isn't exposed.</font></i>
<a name='L3848'><i><font color='green'> */</font></i>
<a name='L3849'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3850'><a href='../S/2560.html#L3870' title='Refered from 3870 in Modules/_datetimemodule.c.'>time_getstate</a>(PyDateTime_Time *self)
<a name='L3851'><font color='red'>{</font>
<a name='L3852'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *basestate;
<a name='L3853'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L3854'>
<a name='L3855'>    basestate =  <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>((<b>char</b> *)self-&gt;data,
<a name='L3856'>                                            <a href='../S/515.html#L28' title='Defined at 28 in Include/datetime.h.'>_PyDateTime_TIME_DATASIZE</a>);
<a name='L3857'>    <b>if</b> (basestate != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L3858'>        <b>if</b> (! <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) || self-&gt;tzinfo == Py_None)
<a name='L3859'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2823.html#L186' title='Defined at 186 in Objects/tupleobject.c.'>PyTuple_Pack</a>(1, basestate);
<a name='L3860'>        <b>else</b>
<a name='L3861'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2823.html#L186' title='Defined at 186 in Objects/tupleobject.c.'>PyTuple_Pack</a>(2, basestate, self-&gt;tzinfo);
<a name='L3862'>        Py_DECREF(basestate);
<a name='L3863'>    <font color='red'>}</font>
<a name='L3864'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L3865'><font color='red'>}</font>
<a name='L3866'>
<a name='L3867'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3868'><a href='../S/2560.html#L3897' title='Refered from 3897 in Modules/_datetimemodule.c.'>time_reduce</a>(PyDateTime_Time *self, PyObject *arg)
<a name='L3869'><font color='red'>{</font>
<a name='L3870'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(ON)", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), <a href='../S/2560.html#L3850' title='Defined at 3850 in Modules/_datetimemodule.c.'>time_getstate</a>(self));
<a name='L3871'><font color='red'>}</font>
<a name='L3872'>
<a name='L3873'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> time_methods[] = <font color='red'>{</font>
<a name='L3874'>
<a name='L3875'>    <font color='red'>{</font>"isoformat",   (PyCFunction)<a href='../S/2560.html#L3621' title='Defined at 3621 in Modules/_datetimemodule.c.'>time_isoformat</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L3876'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return string in ISO 8601 format, HH:MM:SS[.mmmmmm]"
<a name='L3877'>               "[+HH:MM].")<font color='red'>}</font>,
<a name='L3878'>
<a name='L3879'>    <font color='red'>{</font>"strftime",        (PyCFunction)<a href='../D/11782.html' title='Multiple defined in 2 places.'>time_strftime</a>,     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L3880'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("format -&gt; strftime() style string.")<font color='red'>}</font>,
<a name='L3881'>
<a name='L3882'>    <font color='red'>{</font>"__format__",      (PyCFunction)<a href='../S/2560.html#L2685' title='Defined at 2685 in Modules/_datetimemodule.c.'>date_format</a>,       <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a>,
<a name='L3883'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Formats self with strftime.")<font color='red'>}</font>,
<a name='L3884'>
<a name='L3885'>    <font color='red'>{</font>"utcoffset",       (PyCFunction)<a href='../S/2560.html#L3573' title='Defined at 3573 in Modules/_datetimemodule.c.'>time_utcoffset</a>,    <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L3886'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return self.tzinfo.utcoffset(self).")<font color='red'>}</font>,
<a name='L3887'>
<a name='L3888'>    <font color='red'>{</font>"tzname",          (PyCFunction)<a href='../S/2560.html#L3583' title='Defined at 3583 in Modules/_datetimemodule.c.'>time_tzname</a>,       <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L3889'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return self.tzinfo.tzname(self).")<font color='red'>}</font>,
<a name='L3890'>
<a name='L3891'>    <font color='red'>{</font>"dst",             (PyCFunction)<a href='../S/2560.html#L3578' title='Defined at 3578 in Modules/_datetimemodule.c.'>time_dst</a>,          <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L3892'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return self.tzinfo.dst(self).")<font color='red'>}</font>,
<a name='L3893'>
<a name='L3894'>    <font color='red'>{</font>"replace",     (PyCFunction)<a href='../S/2560.html#L3797' title='Defined at 3797 in Modules/_datetimemodule.c.'>time_replace</a>,          <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L3895'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return time with new specified fields.")<font color='red'>}</font>,
<a name='L3896'>
<a name='L3897'>    <font color='red'>{</font>"__reduce__", (PyCFunction)<a href='../S/2560.html#L3868' title='Defined at 3868 in Modules/_datetimemodule.c.'>time_reduce</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L3898'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("__reduce__() -&gt; (cls, state)")<font color='red'>}</font>,
<a name='L3899'>
<a name='L3900'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,      <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L3901'><font color='red'>}</font>;
<a name='L3902'>
<a name='L3903'><b>static</b> <b>char</b> time_doc[] =
<a name='L3904'><a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("time([hour[, minute[, second[, microsecond[, tzinfo]]]]]) --&gt; a time object\n\
<a name='L3905'>\n\
<a name='L3906'>All arguments are optional. tzinfo may be None, or an instance of\n\
<a name='L3907'>a tzinfo subclass. The remaining arguments may be ints or longs.\n");
<a name='L3908'>
<a name='L3909'><b>static</b> <a href='../S/544.html#L247' title='Defined at 247 in Include/object.h.'>PyNumberMethods</a> time_as_number = <font color='red'>{</font>
<a name='L3910'>    0,                                          <i><font color='green'>/* nb_add */</font></i>
<a name='L3911'>    0,                                          <i><font color='green'>/* nb_subtract */</font></i>
<a name='L3912'>    0,                                          <i><font color='green'>/* nb_multiply */</font></i>
<a name='L3913'>    0,                                          <i><font color='green'>/* nb_remainder */</font></i>
<a name='L3914'>    0,                                          <i><font color='green'>/* nb_divmod */</font></i>
<a name='L3915'>    0,                                          <i><font color='green'>/* nb_power */</font></i>
<a name='L3916'>    0,                                          <i><font color='green'>/* nb_negative */</font></i>
<a name='L3917'>    0,                                          <i><font color='green'>/* nb_positive */</font></i>
<a name='L3918'>    0,                                          <i><font color='green'>/* nb_absolute */</font></i>
<a name='L3919'>    (inquiry)<a href='../S/2560.html#L3820' title='Defined at 3820 in Modules/_datetimemodule.c.'>time_bool</a>,                         <i><font color='green'>/* nb_bool */</font></i>
<a name='L3920'><font color='red'>}</font>;
<a name='L3921'>
<a name='L3922'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_TimeType = <font color='red'>{</font>
<a name='L3923'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L3924'>    "datetime.time",                            <i><font color='green'>/* tp_name */</font></i>
<a name='L3925'>    <b>sizeof</b>(<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a>),                    <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L3926'>    0,                                          <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L3927'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2560.html#L3559' title='Defined at 3559 in Modules/_datetimemodule.c.'>time_dealloc</a>,                   <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L3928'>    0,                                          <i><font color='green'>/* tp_print */</font></i>
<a name='L3929'>    0,                                          <i><font color='green'>/* tp_getattr */</font></i>
<a name='L3930'>    0,                                          <i><font color='green'>/* tp_setattr */</font></i>
<a name='L3931'>    0,                                          <i><font color='green'>/* tp_reserved */</font></i>
<a name='L3932'>    (reprfunc)<a href='../S/2560.html#L3592' title='Defined at 3592 in Modules/_datetimemodule.c.'>time_repr</a>,                        <i><font color='green'>/* tp_repr */</font></i>
<a name='L3933'>    &amp;time_as_number,                            <i><font color='green'>/* tp_as_number */</font></i>
<a name='L3934'>    0,                                          <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L3935'>    0,                                          <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L3936'>    (hashfunc)<a href='../S/2560.html#L3755' title='Defined at 3755 in Modules/_datetimemodule.c.'>time_hash</a>,                        <i><font color='green'>/* tp_hash */</font></i>
<a name='L3937'>    0,                                          <i><font color='green'>/* tp_call */</font></i>
<a name='L3938'>    (reprfunc)<a href='../S/2560.html#L3615' title='Defined at 3615 in Modules/_datetimemodule.c.'>time_str</a>,                         <i><font color='green'>/* tp_str */</font></i>
<a name='L3939'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,                    <i><font color='green'>/* tp_getattro */</font></i>
<a name='L3940'>    0,                                          <i><font color='green'>/* tp_setattro */</font></i>
<a name='L3941'>    0,                                          <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L3942'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE, <i><font color='green'>/* tp_flags */</font></i>
<a name='L3943'>    time_doc,                                   <i><font color='green'>/* tp_doc */</font></i>
<a name='L3944'>    0,                                          <i><font color='green'>/* tp_traverse */</font></i>
<a name='L3945'>    0,                                          <i><font color='green'>/* tp_clear */</font></i>
<a name='L3946'>    <a href='../S/2560.html#L3688' title='Defined at 3688 in Modules/_datetimemodule.c.'>time_richcompare</a>,                           <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L3947'>    0,                                          <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L3948'>    0,                                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L3949'>    0,                                          <i><font color='green'>/* tp_iternext */</font></i>
<a name='L3950'>    time_methods,                               <i><font color='green'>/* tp_methods */</font></i>
<a name='L3951'>    0,                                          <i><font color='green'>/* tp_members */</font></i>
<a name='L3952'>    time_getset,                                <i><font color='green'>/* tp_getset */</font></i>
<a name='L3953'>    0,                                          <i><font color='green'>/* tp_base */</font></i>
<a name='L3954'>    0,                                          <i><font color='green'>/* tp_dict */</font></i>
<a name='L3955'>    0,                                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L3956'>    0,                                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L3957'>    0,                                          <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L3958'>    0,                                          <i><font color='green'>/* tp_init */</font></i>
<a name='L3959'>    <a href='../S/2560.html#L610' title='Defined at 610 in Modules/_datetimemodule.c.'>time_alloc</a>,                                 <i><font color='green'>/* tp_alloc */</font></i>
<a name='L3960'>    <a href='../S/2560.html#L3497' title='Defined at 3497 in Modules/_datetimemodule.c.'>time_new</a>,                                   <i><font color='green'>/* tp_new */</font></i>
<a name='L3961'>    0,                                          <i><font color='green'>/* tp_free */</font></i>
<a name='L3962'><font color='red'>}</font>;
<a name='L3963'>
<a name='L3964'><i><font color='green'>/*</font></i>
<a name='L3965'><i><font color='green'> * PyDateTime_DateTime implementation.</font></i>
<a name='L3966'><i><font color='green'> */</font></i>
<a name='L3967'>
<a name='L3968'><i><font color='green'>/* Accessor properties.  Properties for day, month, and year are inherited</font></i>
<a name='L3969'><i><font color='green'> * from date.</font></i>
<a name='L3970'><i><font color='green'> */</font></i>
<a name='L3971'>
<a name='L3972'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3973'><a href='../S/2560.html#L4005' title='Refered from 4005 in Modules/_datetimemodule.c.'>datetime_hour</a>(PyDateTime_DateTime *self, <b>void</b> *unused)
<a name='L3974'><font color='red'>{</font>
<a name='L3975'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self));
<a name='L3976'><font color='red'>}</font>
<a name='L3977'>
<a name='L3978'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3979'><a href='../S/2560.html#L4006' title='Refered from 4006 in Modules/_datetimemodule.c.'>datetime_minute</a>(PyDateTime_DateTime *self, <b>void</b> *unused)
<a name='L3980'><font color='red'>{</font>
<a name='L3981'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self));
<a name='L3982'><font color='red'>}</font>
<a name='L3983'>
<a name='L3984'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3985'><a href='../S/2560.html#L4007' title='Refered from 4007 in Modules/_datetimemodule.c.'>datetime_second</a>(PyDateTime_DateTime *self, <b>void</b> *unused)
<a name='L3986'><font color='red'>{</font>
<a name='L3987'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self));
<a name='L3988'><font color='red'>}</font>
<a name='L3989'>
<a name='L3990'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3991'><a href='../S/2560.html#L4008' title='Refered from 4008 in Modules/_datetimemodule.c.'>datetime_microsecond</a>(PyDateTime_DateTime *self, <b>void</b> *unused)
<a name='L3992'><font color='red'>{</font>
<a name='L3993'>    <b>return</b> <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(<a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(self));
<a name='L3994'><font color='red'>}</font>
<a name='L3995'>
<a name='L3996'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L3997'><a href='../S/2560.html#L4009' title='Refered from 4009 in Modules/_datetimemodule.c.'>datetime_tzinfo</a>(PyDateTime_DateTime *self, <b>void</b> *unused)
<a name='L3998'><font color='red'>{</font>
<a name='L3999'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) ? self-&gt;tzinfo : Py_None;
<a name='L4000'>    Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L4001'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4002'><font color='red'>}</font>
<a name='L4003'>
<a name='L4004'><b>static</b> <a href='../D/3272.html' title='Multiple defined in 2 places.'>PyGetSetDef</a> datetime_getset[] = <font color='red'>{</font>
<a name='L4005'>    <font color='red'>{</font>"hour",        (getter)<a href='../S/2560.html#L3973' title='Defined at 3973 in Modules/_datetimemodule.c.'>datetime_hour</a><font color='red'>}</font>,
<a name='L4006'>    <font color='red'>{</font>"minute",      (getter)<a href='../S/2560.html#L3979' title='Defined at 3979 in Modules/_datetimemodule.c.'>datetime_minute</a><font color='red'>}</font>,
<a name='L4007'>    <font color='red'>{</font>"second",      (getter)<a href='../S/2560.html#L3985' title='Defined at 3985 in Modules/_datetimemodule.c.'>datetime_second</a><font color='red'>}</font>,
<a name='L4008'>    <font color='red'>{</font>"microsecond", (getter)<a href='../S/2560.html#L3991' title='Defined at 3991 in Modules/_datetimemodule.c.'>datetime_microsecond</a><font color='red'>}</font>,
<a name='L4009'>    <font color='red'>{</font>"tzinfo",          (getter)<a href='../S/2560.html#L3997' title='Defined at 3997 in Modules/_datetimemodule.c.'>datetime_tzinfo</a><font color='red'>}</font>,
<a name='L4010'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L4011'><font color='red'>}</font>;
<a name='L4012'>
<a name='L4013'><i><font color='green'>/*</font></i>
<a name='L4014'><i><font color='green'> * Constructors.</font></i>
<a name='L4015'><i><font color='green'> */</font></i>
<a name='L4016'>
<a name='L4017'><b>static</b> <b>char</b> *datetime_kws[] = <font color='red'>{</font>
<a name='L4018'>    "year", "month", "day", "hour", "minute", "second",
<a name='L4019'>    "microsecond", "tzinfo", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L4020'><font color='red'>}</font>;
<a name='L4021'>
<a name='L4022'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4023'><a href='../R/7144.html' title='Multiple refered from 2 places.'>datetime_new</a>(PyTypeObject *type, PyObject *args, PyObject *kw)
<a name='L4024'><font color='red'>{</font>
<a name='L4025'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4026'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>;
<a name='L4027'>    <b>int</b> year;
<a name='L4028'>    <b>int</b> month;
<a name='L4029'>    <b>int</b> day;
<a name='L4030'>    <b>int</b> hour = 0;
<a name='L4031'>    <b>int</b> minute = 0;
<a name='L4032'>    <b>int</b> second = 0;
<a name='L4033'>    <b>int</b> usecond = 0;
<a name='L4034'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = Py_None;
<a name='L4035'>
<a name='L4036'>    <i><font color='green'>/* Check for invocation from pickle with __getstate__ state */</font></i>
<a name='L4037'>    <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) &gt;= 1 &amp;&amp;
<a name='L4038'>        PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) &lt;= 2 &amp;&amp;
<a name='L4039'>        PyBytes_Check(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a> = PyTuple_GET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 0)) &amp;&amp;
<a name='L4040'>        PyBytes_GET_SIZE(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>) == <a href='../S/515.html#L31' title='Defined at 31 in Include/datetime.h.'>_PyDateTime_DATETIME_DATASIZE</a> &amp;&amp;
<a name='L4041'>        <a href='../S/2560.html#L99' title='Defined at 99 in Modules/_datetimemodule.c.'>MONTH_IS_SANE</a>(PyBytes_AS_STRING(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>)[2]))
<a name='L4042'>    <font color='red'>{</font>
<a name='L4043'>        <a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *me;
<a name='L4044'>        <b>char</b> aware;
<a name='L4045'>
<a name='L4046'>        <b>if</b> (PyTuple_GET_SIZE(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>) == 2) <font color='red'>{</font>
<a name='L4047'>            tzinfo = PyTuple_GET_ITEM(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, 1);
<a name='L4048'>            <b>if</b> (<a href='../S/2560.html#L834' title='Defined at 834 in Modules/_datetimemodule.c.'>check_tzinfo_subclass</a>(tzinfo) &lt; 0) <font color='red'>{</font>
<a name='L4049'>                <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError, "bad "
<a name='L4050'>                    "tzinfo state arg");
<a name='L4051'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4052'>            <font color='red'>}</font>
<a name='L4053'>        <font color='red'>}</font>
<a name='L4054'>        aware = (<b>char</b>)(tzinfo != Py_None);
<a name='L4055'>        me = (<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *) (type-&gt;tp_alloc(type , aware));
<a name='L4056'>        <b>if</b> (me != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L4057'>            <b>char</b> *pdata = PyBytes_AS_STRING(<a href='../S/530.html#L46' title='Defined at 46 in Include/grammar.h.'>state</a>);
<a name='L4058'>
<a name='L4059'>            <a href='../D/9803.html' title='Multiple defined in 4 places.'>memcpy</a>(me-&gt;data, pdata, <a href='../S/515.html#L31' title='Defined at 31 in Include/datetime.h.'>_PyDateTime_DATETIME_DATASIZE</a>);
<a name='L4060'>            me-&gt;hashcode = -1;
<a name='L4061'>            me-&gt;hastzinfo = aware;
<a name='L4062'>            <b>if</b> (aware) <font color='red'>{</font>
<a name='L4063'>                Py_INCREF(tzinfo);
<a name='L4064'>                me-&gt;tzinfo = tzinfo;
<a name='L4065'>            <font color='red'>}</font>
<a name='L4066'>        <font color='red'>}</font>
<a name='L4067'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)me;
<a name='L4068'>    <font color='red'>}</font>
<a name='L4069'>
<a name='L4070'>    <b>if</b> (<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "iii|iiiiO", datetime_kws,
<a name='L4071'>                                    &amp;year, &amp;month, &amp;day, &amp;hour, &amp;minute,
<a name='L4072'>                                    &amp;second, &amp;usecond, &amp;tzinfo)) <font color='red'>{</font>
<a name='L4073'>        <b>if</b> (<a href='../S/2560.html#L393' title='Defined at 393 in Modules/_datetimemodule.c.'>check_date_args</a>(year, month, day) &lt; 0)
<a name='L4074'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4075'>        <b>if</b> (<a href='../S/2560.html#L418' title='Defined at 418 in Modules/_datetimemodule.c.'>check_time_args</a>(hour, minute, second, usecond) &lt; 0)
<a name='L4076'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4077'>        <b>if</b> (<a href='../S/2560.html#L834' title='Defined at 834 in Modules/_datetimemodule.c.'>check_tzinfo_subclass</a>(tzinfo) &lt; 0)
<a name='L4078'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4079'>        self = <a href='../S/2560.html#L675' title='Defined at 675 in Modules/_datetimemodule.c.'>new_datetime_ex</a>(year, month, day,
<a name='L4080'>                                hour, minute, second, usecond,
<a name='L4081'>                                tzinfo, type);
<a name='L4082'>    <font color='red'>}</font>
<a name='L4083'>    <b>return</b> self;
<a name='L4084'><font color='red'>}</font>
<a name='L4085'>
<a name='L4086'><i><font color='green'>/* TM_FUNC is the shared type of localtime() and gmtime(). */</font></i>
<a name='L4087'><b>typedef</b> <b>struct</b> tm *(*TM_FUNC)(<b>const</b> time_t *<a href='../R/10911.html' title='Multiple refered from 4 places.'>timer</a>);
<a name='L4088'>
<a name='L4089'><i><font color='green'>/* Internal helper.</font></i>
<a name='L4090'><i><font color='green'> * Build datetime from a time_t and a distinct count of microseconds.</font></i>
<a name='L4091'><i><font color='green'> * Pass localtime or gmtime for f, to control the interpretation of timet.</font></i>
<a name='L4092'><i><font color='green'> */</font></i>
<a name='L4093'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4094'><a href='../R/7133.html' title='Multiple refered from 2 places.'>datetime_from_timet_and_us</a>(PyObject *cls, TM_FUNC f, time_t timet, <b>int</b> us,
<a name='L4095'>                           PyObject *tzinfo)
<a name='L4096'><font color='red'>{</font>
<a name='L4097'>    <b>struct</b> tm *tm;
<a name='L4098'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4099'>
<a name='L4100'>    tm = f(&amp;timet);
<a name='L4101'>    <b>if</b> (tm) <font color='red'>{</font>
<a name='L4102'>        <i><font color='green'>/* The platform localtime/gmtime may insert leap seconds,</font></i>
<a name='L4103'><i><font color='green'>         * indicated by tm-&gt;tm_sec &gt; 59.  We don't care about them,</font></i>
<a name='L4104'><i><font color='green'>         * except to the extent that passing them on to the datetime</font></i>
<a name='L4105'><i><font color='green'>         * constructor would raise ValueError for a reason that</font></i>
<a name='L4106'><i><font color='green'>         * made no sense to the user.</font></i>
<a name='L4107'><i><font color='green'>         */</font></i>
<a name='L4108'>        <b>if</b> (tm-&gt;tm_sec &gt; 59)
<a name='L4109'>            tm-&gt;tm_sec = 59;
<a name='L4110'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(cls, "iiiiiiiO",
<a name='L4111'>                                       tm-&gt;tm_year + 1900,
<a name='L4112'>                                       tm-&gt;tm_mon + 1,
<a name='L4113'>                                       tm-&gt;tm_mday,
<a name='L4114'>                                       tm-&gt;tm_hour,
<a name='L4115'>                                       tm-&gt;tm_min,
<a name='L4116'>                                       tm-&gt;tm_sec,
<a name='L4117'>                                       us,
<a name='L4118'>                                       tzinfo);
<a name='L4119'>    <font color='red'>}</font>
<a name='L4120'>    <b>else</b>
<a name='L4121'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError,
<a name='L4122'>                        "timestamp out of range for "
<a name='L4123'>                        "platform localtime()/gmtime() function");
<a name='L4124'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4125'><font color='red'>}</font>
<a name='L4126'>
<a name='L4127'><i><font color='green'>/* Internal helper.</font></i>
<a name='L4128'><i><font color='green'> * Build datetime from a Python timestamp.  Pass localtime or gmtime for f,</font></i>
<a name='L4129'><i><font color='green'> * to control the interpretation of the timestamp.  Since a double doesn't</font></i>
<a name='L4130'><i><font color='green'> * have enough bits to cover a datetime's full range of precision, it's</font></i>
<a name='L4131'><i><font color='green'> * better to call datetime_from_timet_and_us provided you have a way</font></i>
<a name='L4132'><i><font color='green'> * to get that much precision (e.g., C time() isn't good enough).</font></i>
<a name='L4133'><i><font color='green'> */</font></i>
<a name='L4134'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4135'><a href='../R/7132.html' title='Multiple refered from 2 places.'>datetime_from_timestamp</a>(PyObject *cls, TM_FUNC f, <b>double</b> timestamp,
<a name='L4136'>                        PyObject *tzinfo)
<a name='L4137'><font color='red'>{</font>
<a name='L4138'>    time_t timet;
<a name='L4139'>    <b>double</b> fraction;
<a name='L4140'>    <b>int</b> us;
<a name='L4141'>
<a name='L4142'>    timet = <a href='../S/2616.html#L6' title='Defined at 6 in Modules/_time.c.'>_PyTime_DoubleToTimet</a>(timestamp);
<a name='L4143'>    <b>if</b> (timet == (time_t)-1 &amp;&amp; <a href='../D/3154.html' title='Multiple defined in 2 places.'>PyErr_Occurred</a>())
<a name='L4144'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4145'>    fraction = timestamp - (<b>double</b>)timet;
<a name='L4146'>    us = (<b>int</b>)<a href='../S/2560.html#L149' title='Defined at 149 in Modules/_datetimemodule.c.'>round_to_long</a>(fraction * 1e6);
<a name='L4147'>    <b>if</b> (us &lt; 0) <font color='red'>{</font>
<a name='L4148'>        <i><font color='green'>/* Truncation towards zero is not what we wanted</font></i>
<a name='L4149'><i><font color='green'>           for negative numbers (Python's mod semantics) */</font></i>
<a name='L4150'>        timet -= 1;
<a name='L4151'>        us += 1000000;
<a name='L4152'>    <font color='red'>}</font>
<a name='L4153'>    <i><font color='green'>/* If timestamp is less than one microsecond smaller than a</font></i>
<a name='L4154'><i><font color='green'>     * full second, round up. Otherwise, ValueErrors are raised</font></i>
<a name='L4155'><i><font color='green'>     * for some floats. */</font></i>
<a name='L4156'>    <b>if</b> (us == 1000000) <font color='red'>{</font>
<a name='L4157'>        timet += 1;
<a name='L4158'>        us = 0;
<a name='L4159'>    <font color='red'>}</font>
<a name='L4160'>    <b>return</b> <a href='../S/2560.html#L4094' title='Defined at 4094 in Modules/_datetimemodule.c.'>datetime_from_timet_and_us</a>(cls, f, timet, us, tzinfo);
<a name='L4161'><font color='red'>}</font>
<a name='L4162'>
<a name='L4163'><i><font color='green'>/* Internal helper.</font></i>
<a name='L4164'><i><font color='green'> * Build most accurate possible datetime for current time.  Pass localtime or</font></i>
<a name='L4165'><i><font color='green'> * gmtime for f as appropriate.</font></i>
<a name='L4166'><i><font color='green'> */</font></i>
<a name='L4167'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4168'><a href='../R/7127.html' title='Multiple refered from 2 places.'>datetime_best_possible</a>(PyObject *cls, TM_FUNC f, PyObject *tzinfo)
<a name='L4169'><font color='red'>{</font>
<a name='L4170'>    <a href='../D/6194.html' title='Multiple defined in 2 places.'>_PyTime_timeval</a> t;
<a name='L4171'>    <a href='../S/3139.html#L23' title='Defined at 23 in Python/pytime.c.'>_PyTime_gettimeofday</a>(&amp;t);
<a name='L4172'>    <b>return</b> <a href='../S/2560.html#L4094' title='Defined at 4094 in Modules/_datetimemodule.c.'>datetime_from_timet_and_us</a>(cls, f, t.tv_sec, (<b>int</b>)t.tv_usec,
<a name='L4173'>                                      tzinfo);
<a name='L4174'><font color='red'>}</font>
<a name='L4175'>
<a name='L4176'><i><font color='green'>/* Return best possible local time -- this isn't constrained by the</font></i>
<a name='L4177'><i><font color='green'> * precision of a timestamp.</font></i>
<a name='L4178'><i><font color='green'> */</font></i>
<a name='L4179'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4180'><a href='../S/2560.html#L4900' title='Refered from 4900 in Modules/_datetimemodule.c.'>datetime_now</a>(PyObject *cls, PyObject *args, PyObject *kw)
<a name='L4181'><font color='red'>{</font>
<a name='L4182'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self;
<a name='L4183'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = Py_None;
<a name='L4184'>    <b>static</b> <b>char</b> *keywords[] = <font color='red'>{</font>"tz", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L4185'>
<a name='L4186'>    <b>if</b> (! <a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "|O:now", keywords,
<a name='L4187'>                                      &amp;tzinfo))
<a name='L4188'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4189'>    <b>if</b> (<a href='../S/2560.html#L834' title='Defined at 834 in Modules/_datetimemodule.c.'>check_tzinfo_subclass</a>(tzinfo) &lt; 0)
<a name='L4190'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4191'>
<a name='L4192'>    self = <a href='../S/2560.html#L4168' title='Defined at 4168 in Modules/_datetimemodule.c.'>datetime_best_possible</a>(cls,
<a name='L4193'>                                  tzinfo == Py_None ? localtime : gmtime,
<a name='L4194'>                                  tzinfo);
<a name='L4195'>    <b>if</b> (self != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; tzinfo != Py_None) <font color='red'>{</font>
<a name='L4196'>        <i><font color='green'>/* Convert UTC to tzinfo's zone. */</font></i>
<a name='L4197'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp = self;
<a name='L4198'>        self = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(tzinfo, "fromutc", "O", self);
<a name='L4199'>        Py_DECREF(temp);
<a name='L4200'>    <font color='red'>}</font>
<a name='L4201'>    <b>return</b> self;
<a name='L4202'><font color='red'>}</font>
<a name='L4203'>
<a name='L4204'><i><font color='green'>/* Return best possible UTC time -- this isn't constrained by the</font></i>
<a name='L4205'><i><font color='green'> * precision of a timestamp.</font></i>
<a name='L4206'><i><font color='green'> */</font></i>
<a name='L4207'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4208'><a href='../S/2560.html#L4904' title='Refered from 4904 in Modules/_datetimemodule.c.'>datetime_utcnow</a>(PyObject *cls, PyObject *dummy)
<a name='L4209'><font color='red'>{</font>
<a name='L4210'>    <b>return</b> <a href='../S/2560.html#L4168' title='Defined at 4168 in Modules/_datetimemodule.c.'>datetime_best_possible</a>(cls, gmtime, Py_None);
<a name='L4211'><font color='red'>}</font>
<a name='L4212'>
<a name='L4213'><i><font color='green'>/* Return new local datetime from timestamp (Python timestamp -- a double). */</font></i>
<a name='L4214'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4215'><a href='../R/7134.html' title='Multiple refered from 2 places.'>datetime_fromtimestamp</a>(PyObject *cls, PyObject *args, PyObject *kw)
<a name='L4216'><font color='red'>{</font>
<a name='L4217'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *self;
<a name='L4218'>    <b>double</b> timestamp;
<a name='L4219'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = Py_None;
<a name='L4220'>    <b>static</b> <b>char</b> *keywords[] = <font color='red'>{</font>"timestamp", "tz", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L4221'>
<a name='L4222'>    <b>if</b> (! <a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "d|O:fromtimestamp",
<a name='L4223'>                                      keywords, &amp;timestamp, &amp;tzinfo))
<a name='L4224'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4225'>    <b>if</b> (<a href='../S/2560.html#L834' title='Defined at 834 in Modules/_datetimemodule.c.'>check_tzinfo_subclass</a>(tzinfo) &lt; 0)
<a name='L4226'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4227'>
<a name='L4228'>    self = <a href='../S/2560.html#L4135' title='Defined at 4135 in Modules/_datetimemodule.c.'>datetime_from_timestamp</a>(cls,
<a name='L4229'>                                   tzinfo == Py_None ? localtime : gmtime,
<a name='L4230'>                                   timestamp,
<a name='L4231'>                                   tzinfo);
<a name='L4232'>    <b>if</b> (self != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> &amp;&amp; tzinfo != Py_None) <font color='red'>{</font>
<a name='L4233'>        <i><font color='green'>/* Convert UTC to tzinfo's zone. */</font></i>
<a name='L4234'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp = self;
<a name='L4235'>        self = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(tzinfo, "fromutc", "O", self);
<a name='L4236'>        Py_DECREF(temp);
<a name='L4237'>    <font color='red'>}</font>
<a name='L4238'>    <b>return</b> self;
<a name='L4239'><font color='red'>}</font>
<a name='L4240'>
<a name='L4241'><i><font color='green'>/* Return new UTC datetime from timestamp (Python timestamp -- a double). */</font></i>
<a name='L4242'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4243'><a href='../S/2560.html#L4912' title='Refered from 4912 in Modules/_datetimemodule.c.'>datetime_utcfromtimestamp</a>(PyObject *cls, PyObject *args)
<a name='L4244'><font color='red'>{</font>
<a name='L4245'>    <b>double</b> timestamp;
<a name='L4246'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4247'>
<a name='L4248'>    <b>if</b> (<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "d:utcfromtimestamp", &amp;timestamp))
<a name='L4249'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L4135' title='Defined at 4135 in Modules/_datetimemodule.c.'>datetime_from_timestamp</a>(cls, gmtime, timestamp,
<a name='L4250'>                                         Py_None);
<a name='L4251'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4252'><font color='red'>}</font>
<a name='L4253'>
<a name='L4254'><i><font color='green'>/* Return new datetime from _strptime.strptime_datetime(). */</font></i>
<a name='L4255'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4256'><a href='../S/2560.html#L4917' title='Refered from 4917 in Modules/_datetimemodule.c.'>datetime_strptime</a>(PyObject *cls, PyObject *args)
<a name='L4257'><font color='red'>{</font>
<a name='L4258'>    <b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *module = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4259'>    <b>const</b> <a href='../S/587.html#L135' title='Defined at 135 in Include/unicodeobject.h.'>Py_UNICODE</a> *<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>, *format;
<a name='L4260'>
<a name='L4261'>    <b>if</b> (!<a href='../D/2731.html' title='Multiple defined in 2 places.'>PyArg_ParseTuple</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, "uu:strptime", &amp;<a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>, &amp;format))
<a name='L4262'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4263'>
<a name='L4264'>    <b>if</b> (module == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L4265'>        module = <a href='../S/3120.html#L2348' title='Defined at 2348 in Python/import.c.'>PyImport_ImportModuleNoBlock</a>("_strptime");
<a name='L4266'>        <b>if</b> (module == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4267'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4268'>    <font color='red'>}</font>
<a name='L4269'>    <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(module, "_strptime_datetime", "Ouu",
<a name='L4270'>                               cls, <a href='../S/500.html#L5' title='Defined at 5 in Include/asdl.h.'>string</a>, format);
<a name='L4271'><font color='red'>}</font>
<a name='L4272'>
<a name='L4273'><i><font color='green'>/* Return new datetime from date/datetime and time arguments. */</font></i>
<a name='L4274'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4275'><a href='../S/2560.html#L4922' title='Refered from 4922 in Modules/_datetimemodule.c.'>datetime_combine</a>(PyObject *cls, PyObject *args, PyObject *kw)
<a name='L4276'><font color='red'>{</font>
<a name='L4277'>    <b>static</b> <b>char</b> *keywords[] = <font color='red'>{</font>"date", "time", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L4278'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *date;
<a name='L4279'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *time;
<a name='L4280'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4281'>
<a name='L4282'>    <b>if</b> (<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "O!O!:combine", keywords,
<a name='L4283'>                                    &amp;PyDateTime_DateType, &amp;date,
<a name='L4284'>                                    &amp;PyDateTime_TimeType, &amp;time)) <font color='red'>{</font>
<a name='L4285'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = Py_None;
<a name='L4286'>
<a name='L4287'>        <b>if</b> (<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(time))
<a name='L4288'>            tzinfo = ((<a href='../S/515.html#L85' title='Defined at 85 in Include/datetime.h.'>PyDateTime_Time</a> *)time)-&gt;tzinfo;
<a name='L4289'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3601.html' title='Multiple defined in 2 places.'>PyObject_CallFunction</a>(cls, "iiiiiiiO",
<a name='L4290'>                                        <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(date),
<a name='L4291'>                                        <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(date),
<a name='L4292'>                                        <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(date),
<a name='L4293'>                                        <a href='../S/2560.html#L66' title='Defined at 66 in Modules/_datetimemodule.c.'>TIME_GET_HOUR</a>(time),
<a name='L4294'>                                        <a href='../S/2560.html#L67' title='Defined at 67 in Modules/_datetimemodule.c.'>TIME_GET_MINUTE</a>(time),
<a name='L4295'>                                        <a href='../S/2560.html#L68' title='Defined at 68 in Modules/_datetimemodule.c.'>TIME_GET_SECOND</a>(time),
<a name='L4296'>                                        <a href='../S/2560.html#L69' title='Defined at 69 in Modules/_datetimemodule.c.'>TIME_GET_MICROSECOND</a>(time),
<a name='L4297'>                                        tzinfo);
<a name='L4298'>    <font color='red'>}</font>
<a name='L4299'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4300'><font color='red'>}</font>
<a name='L4301'>
<a name='L4302'><i><font color='green'>/*</font></i>
<a name='L4303'><i><font color='green'> * Destructor.</font></i>
<a name='L4304'><i><font color='green'> */</font></i>
<a name='L4305'>
<a name='L4306'><b>static</b> <b>void</b>
<a name='L4307'><a href='../S/2560.html#L4997' title='Refered from 4997 in Modules/_datetimemodule.c.'>datetime_dealloc</a>(PyDateTime_DateTime *self)
<a name='L4308'><font color='red'>{</font>
<a name='L4309'>    <b>if</b> (<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self)) <font color='red'>{</font>
<a name='L4310'>        <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(self-&gt;tzinfo);
<a name='L4311'>    <font color='red'>}</font>
<a name='L4312'>    <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_free((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L4313'><font color='red'>}</font>
<a name='L4314'>
<a name='L4315'><i><font color='green'>/*</font></i>
<a name='L4316'><i><font color='green'> * Indirect access to tzinfo methods.</font></i>
<a name='L4317'><i><font color='green'> */</font></i>
<a name='L4318'>
<a name='L4319'><i><font color='green'>/* These are all METH_NOARGS, so don't need to check the arglist. */</font></i>
<a name='L4320'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4321'><a href='../R/7159.html' title='Multiple refered from 9 places.'>datetime_utcoffset</a>(PyObject *self, PyObject *unused) <font color='red'>{</font>
<a name='L4322'>    <b>return</b> <a href='../S/2560.html#L920' title='Defined at 920 in Modules/_datetimemodule.c.'>call_utcoffset</a>(<a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(self), self);
<a name='L4323'><font color='red'>}</font>
<a name='L4324'>
<a name='L4325'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4326'><a href='../R/7131.html' title='Multiple refered from 3 places.'>datetime_dst</a>(PyObject *self, PyObject *unused) <font color='red'>{</font>
<a name='L4327'>    <b>return</b> <a href='../S/2560.html#L934' title='Defined at 934 in Modules/_datetimemodule.c.'>call_dst</a>(<a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(self), self);
<a name='L4328'><font color='red'>}</font>
<a name='L4329'>
<a name='L4330'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4331'><a href='../S/2560.html#L4955' title='Refered from 4955 in Modules/_datetimemodule.c.'>datetime_tzname</a>(PyObject *self, PyObject *unused) <font color='red'>{</font>
<a name='L4332'>    <b>return</b> <a href='../S/2560.html#L946' title='Defined at 946 in Modules/_datetimemodule.c.'>call_tzname</a>(<a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(self), self);
<a name='L4333'><font color='red'>}</font>
<a name='L4334'>
<a name='L4335'><i><font color='green'>/*</font></i>
<a name='L4336'><i><font color='green'> * datetime arithmetic.</font></i>
<a name='L4337'><i><font color='green'> */</font></i>
<a name='L4338'>
<a name='L4339'><i><font color='green'>/* factor must be 1 (to add) or -1 (to subtract).  The result inherits</font></i>
<a name='L4340'><i><font color='green'> * the tzinfo state of date.</font></i>
<a name='L4341'><i><font color='green'> */</font></i>
<a name='L4342'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4343'><a href='../R/5914.html' title='Multiple refered from 9 places.'>add_datetime_timedelta</a>(PyDateTime_DateTime *date, PyDateTime_Delta *delta,
<a name='L4344'>                       <b>int</b> factor)
<a name='L4345'><font color='red'>{</font>
<a name='L4346'>    <i><font color='green'>/* Note that the C-level additions can't overflow, because of</font></i>
<a name='L4347'><i><font color='green'>     * invariant bounds on the member values.</font></i>
<a name='L4348'><i><font color='green'>     */</font></i>
<a name='L4349'>    <b>int</b> year = <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(date);
<a name='L4350'>    <b>int</b> month = <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(date);
<a name='L4351'>    <b>int</b> day = <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(date) + <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(delta) * <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>;
<a name='L4352'>    <b>int</b> hour = <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(date);
<a name='L4353'>    <b>int</b> minute = <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(date);
<a name='L4354'>    <b>int</b> second = <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(date) + <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(delta) * <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>;
<a name='L4355'>    <b>int</b> microsecond = <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(date) +
<a name='L4356'>                      <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(delta) * <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a>;
<a name='L4357'>
<a name='L4358'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a> == 1 || <a href='../S/529.html#L65' title='Defined at 65 in Include/graminit.h.'>factor</a> == -1);
<a name='L4359'>    <b>if</b> (<a href='../S/2560.html#L577' title='Defined at 577 in Modules/_datetimemodule.c.'>normalize_datetime</a>(&amp;year, &amp;month, &amp;day,
<a name='L4360'>                           &amp;hour, &amp;minute, &amp;second, &amp;microsecond) &lt; 0)
<a name='L4361'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4362'>    <b>else</b>
<a name='L4363'>        <b>return</b> <a href='../S/2560.html#L697' title='Defined at 697 in Modules/_datetimemodule.c.'>new_datetime</a>(year, month, day,
<a name='L4364'>                            hour, minute, second, microsecond,
<a name='L4365'>                            <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(date) ? date-&gt;tzinfo : Py_None);
<a name='L4366'><font color='red'>}</font>
<a name='L4367'>
<a name='L4368'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4369'><a href='../S/2560.html#L4980' title='Refered from 4980 in Modules/_datetimemodule.c.'>datetime_add</a>(PyObject *left, PyObject *right)
<a name='L4370'><font color='red'>{</font>
<a name='L4371'>    <b>if</b> (<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(left)) <font color='red'>{</font>
<a name='L4372'>        <i><font color='green'>/* datetime + ??? */</font></i>
<a name='L4373'>        <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right))
<a name='L4374'>            <i><font color='green'>/* datetime + delta */</font></i>
<a name='L4375'>            <b>return</b> <a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>(
<a name='L4376'>                            (<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)left,
<a name='L4377'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)right,
<a name='L4378'>                            1);
<a name='L4379'>    <font color='red'>}</font>
<a name='L4380'>    <b>else</b> <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(left)) <font color='red'>{</font>
<a name='L4381'>        <i><font color='green'>/* delta + datetime */</font></i>
<a name='L4382'>        <b>return</b> <a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *) right,
<a name='L4383'>                                      (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *) left,
<a name='L4384'>                                      1);
<a name='L4385'>    <font color='red'>}</font>
<a name='L4386'>    Py_INCREF(Py_NotImplemented);
<a name='L4387'>    <b>return</b> Py_NotImplemented;
<a name='L4388'><font color='red'>}</font>
<a name='L4389'>
<a name='L4390'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4391'><a href='../R/7153.html' title='Multiple refered from 2 places.'>datetime_subtract</a>(PyObject *left, PyObject *right)
<a name='L4392'><font color='red'>{</font>
<a name='L4393'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = Py_NotImplemented;
<a name='L4394'>
<a name='L4395'>    <b>if</b> (<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(left)) <font color='red'>{</font>
<a name='L4396'>        <i><font color='green'>/* datetime - ??? */</font></i>
<a name='L4397'>        <b>if</b> (<a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(right)) <font color='red'>{</font>
<a name='L4398'>            <i><font color='green'>/* datetime - datetime */</font></i>
<a name='L4399'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset1, *offset2, *offdiff = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4400'>            <b>int</b> delta_d, delta_s, delta_us;
<a name='L4401'>
<a name='L4402'>            <b>if</b> (<a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(left) == <a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(right)) <font color='red'>{</font>
<a name='L4403'>                offset2 = offset1 = Py_None;
<a name='L4404'>                Py_INCREF(offset1);
<a name='L4405'>                Py_INCREF(offset2);
<a name='L4406'>            <font color='red'>}</font>
<a name='L4407'>            <b>else</b> <font color='red'>{</font>
<a name='L4408'>                offset1 = <a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>(left, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L4409'>                <b>if</b> (offset1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4410'>                    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4411'>                offset2 = <a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>(right, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L4412'>                <b>if</b> (offset2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L4413'>                    Py_DECREF(offset1);
<a name='L4414'>                    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4415'>                <font color='red'>}</font>
<a name='L4416'>                <b>if</b> ((offset1 != Py_None) != (offset2 != Py_None)) <font color='red'>{</font>
<a name='L4417'>                    <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L4418'>                                    "can't subtract offset-naive and "
<a name='L4419'>                                    "offset-aware datetimes");
<a name='L4420'>                    Py_DECREF(offset1);
<a name='L4421'>                    Py_DECREF(offset2);
<a name='L4422'>                    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4423'>                <font color='red'>}</font>
<a name='L4424'>            <font color='red'>}</font>
<a name='L4425'>            <b>if</b> ((offset1 != offset2) &amp;&amp;
<a name='L4426'>                <a href='../S/2560.html#L1819' title='Defined at 1819 in Modules/_datetimemodule.c.'>delta_cmp</a>(offset1, offset2) != 0) <font color='red'>{</font>
<a name='L4427'>                offdiff = <a href='../S/2560.html#L1798' title='Defined at 1798 in Modules/_datetimemodule.c.'>delta_subtract</a>(offset1, offset2);
<a name='L4428'>                <b>if</b> (offdiff == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L4429'>                    Py_DECREF(offset1);
<a name='L4430'>                    Py_DECREF(offset2);
<a name='L4431'>                    <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4432'>                <font color='red'>}</font>
<a name='L4433'>            <font color='red'>}</font>
<a name='L4434'>            Py_DECREF(offset1);
<a name='L4435'>            Py_DECREF(offset2);
<a name='L4436'>            delta_d = <a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(left),
<a name='L4437'>                                 <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(left),
<a name='L4438'>                                 <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(left)) -
<a name='L4439'>                      <a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(right),
<a name='L4440'>                                 <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(right),
<a name='L4441'>                                 <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(right));
<a name='L4442'>            <i><font color='green'>/* These can't overflow, since the values are</font></i>
<a name='L4443'><i><font color='green'>             * normalized.  At most this gives the number of</font></i>
<a name='L4444'><i><font color='green'>             * seconds in one day.</font></i>
<a name='L4445'><i><font color='green'>             */</font></i>
<a name='L4446'>            delta_s = (<a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(left) -
<a name='L4447'>                       <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(right)) * 3600 +
<a name='L4448'>                      (<a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(left) -
<a name='L4449'>                       <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(right)) * 60 +
<a name='L4450'>                      (<a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(left) -
<a name='L4451'>                       <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(right));
<a name='L4452'>            delta_us = <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(left) -
<a name='L4453'>                       <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(right);
<a name='L4454'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(delta_d, delta_s, delta_us, 1);
<a name='L4455'>            <b>if</b> (offdiff != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L4456'>                <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp = <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4457'>                <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1798' title='Defined at 1798 in Modules/_datetimemodule.c.'>delta_subtract</a>(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, offdiff);
<a name='L4458'>                Py_DECREF(temp);
<a name='L4459'>                Py_DECREF(offdiff);
<a name='L4460'>            <font color='red'>}</font>
<a name='L4461'>        <font color='red'>}</font>
<a name='L4462'>        <b>else</b> <b>if</b> (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(right)) <font color='red'>{</font>
<a name='L4463'>            <i><font color='green'>/* datetime - delta */</font></i>
<a name='L4464'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>(
<a name='L4465'>                            (<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)left,
<a name='L4466'>                            (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)right,
<a name='L4467'>                            -1);
<a name='L4468'>        <font color='red'>}</font>
<a name='L4469'>    <font color='red'>}</font>
<a name='L4470'>
<a name='L4471'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == Py_NotImplemented)
<a name='L4472'>        Py_INCREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L4473'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4474'><font color='red'>}</font>
<a name='L4475'>
<a name='L4476'><i><font color='green'>/* Various ways to turn a datetime into a string. */</font></i>
<a name='L4477'>
<a name='L4478'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4479'><a href='../S/2560.html#L5002' title='Refered from 5002 in Modules/_datetimemodule.c.'>datetime_repr</a>(PyDateTime_DateTime *self)
<a name='L4480'><font color='red'>{</font>
<a name='L4481'>    <b>const</b> <b>char</b> *<a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a> = <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self)-&gt;tp_name;
<a name='L4482'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *baserepr;
<a name='L4483'>
<a name='L4484'>    <b>if</b> (<a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(self)) <font color='red'>{</font>
<a name='L4485'>        baserepr = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>(
<a name='L4486'>                      "%s(%d, %d, %d, %d, %d, %d, %d)",
<a name='L4487'>                      <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>,
<a name='L4488'>                      <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self),
<a name='L4489'>                      <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self), <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self),
<a name='L4490'>                      <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self),
<a name='L4491'>                      <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(self));
<a name='L4492'>    <font color='red'>}</font>
<a name='L4493'>    <b>else</b> <b>if</b> (<a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self)) <font color='red'>{</font>
<a name='L4494'>        baserepr = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>(
<a name='L4495'>                      "%s(%d, %d, %d, %d, %d, %d)",
<a name='L4496'>                      <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>,
<a name='L4497'>                      <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self),
<a name='L4498'>                      <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self), <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self),
<a name='L4499'>                      <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self));
<a name='L4500'>    <font color='red'>}</font>
<a name='L4501'>    <b>else</b> <font color='red'>{</font>
<a name='L4502'>        baserepr = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>(
<a name='L4503'>                      "%s(%d, %d, %d, %d, %d)",
<a name='L4504'>                      <a href='../S/2824.html#L205' title='Defined at 205 in Objects/typeobject.c.'>type_name</a>,
<a name='L4505'>                      <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self), <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self),
<a name='L4506'>                      <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self), <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self));
<a name='L4507'>    <font color='red'>}</font>
<a name='L4508'>    <b>if</b> (baserepr == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || ! <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self))
<a name='L4509'>        <b>return</b> baserepr;
<a name='L4510'>    <b>return</b> <a href='../S/2560.html#L979' title='Defined at 979 in Modules/_datetimemodule.c.'>append_keyword_tzinfo</a>(baserepr, self-&gt;tzinfo);
<a name='L4511'><font color='red'>}</font>
<a name='L4512'>
<a name='L4513'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4514'><a href='../S/2560.html#L5008' title='Refered from 5008 in Modules/_datetimemodule.c.'>datetime_str</a>(PyDateTime_DateTime *self)
<a name='L4515'><font color='red'>{</font>
<a name='L4516'>    <b>return</b> <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, "isoformat", "(s)", " ");
<a name='L4517'><font color='red'>}</font>
<a name='L4518'>
<a name='L4519'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4520'><a href='../S/2560.html#L4946' title='Refered from 4946 in Modules/_datetimemodule.c.'>datetime_isoformat</a>(PyDateTime_DateTime *self, PyObject *args, PyObject *kw)
<a name='L4521'><font color='red'>{</font>
<a name='L4522'>    <b>int</b> sep = 'T';
<a name='L4523'>    <b>static</b> <b>char</b> *keywords[] = <font color='red'>{</font>"sep", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L4524'>    <b>char</b> <a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>[100];
<a name='L4525'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4526'>    <b>int</b> us = <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(self);
<a name='L4527'>
<a name='L4528'>    <b>if</b> (!<a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "|C:isoformat", keywords, &amp;sep))
<a name='L4529'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4530'>    <b>if</b> (us)
<a name='L4531'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%04d-%02d-%02d%c%02d:%02d:%02d.%06d",
<a name='L4532'>                                      <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self),
<a name='L4533'>                                      <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self), (<b>int</b>)sep,
<a name='L4534'>                                      <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self), <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self),
<a name='L4535'>                                      <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self), us);
<a name='L4536'>    <b>else</b>
<a name='L4537'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/4008.html' title='Multiple defined in 3 places.'>PyUnicode_FromFormat</a>("%04d-%02d-%02d%c%02d:%02d:%02d",
<a name='L4538'>                                      <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self), <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self),
<a name='L4539'>                                      <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self), (<b>int</b>)sep,
<a name='L4540'>                                      <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self), <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self),
<a name='L4541'>                                      <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self));
<a name='L4542'>
<a name='L4543'>    <b>if</b> (!<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> || !<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self))
<a name='L4544'>        <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4545'>
<a name='L4546'>    <i><font color='green'>/* We need to append the UTC offset. */</font></i>
<a name='L4547'>    <b>if</b> (<a href='../S/2560.html#L1035' title='Defined at 1035 in Modules/_datetimemodule.c.'>format_utcoffset</a>(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>, <b>sizeof</b>(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>), ":", self-&gt;tzinfo,
<a name='L4548'>                         (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self) &lt; 0) <font color='red'>{</font>
<a name='L4549'>        Py_DECREF(<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>);
<a name='L4550'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4551'>    <font color='red'>}</font>
<a name='L4552'>    <a href='../D/3946.html' title='Multiple defined in 3 places.'>PyUnicode_AppendAndDel</a>(&amp;<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>, <a href='../D/4012.html' title='Multiple defined in 3 places.'>PyUnicode_FromString</a>(<a href='../S/2664.html#L607' title='Defined at 607 in Modules/expat/xmlparse.c.'>buffer</a>));
<a name='L4553'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4554'><font color='red'>}</font>
<a name='L4555'>
<a name='L4556'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4557'><a href='../S/2560.html#L4937' title='Refered from 4937 in Modules/_datetimemodule.c.'>datetime_ctime</a>(PyDateTime_DateTime *self)
<a name='L4558'><font color='red'>{</font>
<a name='L4559'>    <b>return</b> <a href='../S/2560.html#L1004' title='Defined at 1004 in Modules/_datetimemodule.c.'>format_ctime</a>((<a href='../S/515.html#L97' title='Defined at 97 in Include/datetime.h.'>PyDateTime_Date</a> *)self,
<a name='L4560'>                        <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self),
<a name='L4561'>                        <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self),
<a name='L4562'>                        <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self));
<a name='L4563'><font color='red'>}</font>
<a name='L4564'>
<a name='L4565'><i><font color='green'>/* Miscellaneous methods. */</font></i>
<a name='L4566'>
<a name='L4567'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4568'><a href='../S/2560.html#L5016' title='Refered from 5016 in Modules/_datetimemodule.c.'>datetime_richcompare</a>(PyObject *self, PyObject *other, <b>int</b> op)
<a name='L4569'><font color='red'>{</font>
<a name='L4570'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4571'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset1, *offset2;
<a name='L4572'>    <b>int</b> <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>;
<a name='L4573'>
<a name='L4574'>    <b>if</b> (! <a href='../D/3056.html' title='Multiple defined in 2 places.'>PyDateTime_Check</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)) <font color='red'>{</font>
<a name='L4575'>        <b>if</b> (<a href='../D/3078.html' title='Multiple defined in 2 places.'>PyDate_Check</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)) <font color='red'>{</font>
<a name='L4576'>            <i><font color='green'>/* Prevent invocation of date_richcompare.  We want to</font></i>
<a name='L4577'><i><font color='green'>               return NotImplemented here to give the other object</font></i>
<a name='L4578'><i><font color='green'>               a chance.  But since DateTime is a subclass of</font></i>
<a name='L4579'><i><font color='green'>               Date, if the other object is a Date, it would</font></i>
<a name='L4580'><i><font color='green'>               compute an ordering based on the date part alone,</font></i>
<a name='L4581'><i><font color='green'>               and we don't want that.  So force unequal or</font></i>
<a name='L4582'><i><font color='green'>               uncomparable here in that case. */</font></i>
<a name='L4583'>            <b>if</b> (op == <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_EQ</a>)
<a name='L4584'>                Py_RETURN_FALSE;
<a name='L4585'>            <b>if</b> (op == <a href='../S/546.html#L151' title='Defined at 151 in Include/opcode.h.'>Py_NE</a>)
<a name='L4586'>                Py_RETURN_TRUE;
<a name='L4587'>            <b>return</b> <a href='../S/2560.html#L1402' title='Defined at 1402 in Modules/_datetimemodule.c.'>cmperror</a>(self, <a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>);
<a name='L4588'>        <font color='red'>}</font>
<a name='L4589'>        Py_INCREF(Py_NotImplemented);
<a name='L4590'>        <b>return</b> Py_NotImplemented;
<a name='L4591'>    <font color='red'>}</font>
<a name='L4592'>
<a name='L4593'>    <b>if</b> (<a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(self) == <a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)) <font color='red'>{</font>
<a name='L4594'>        <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = memcmp(((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)self)-&gt;data,
<a name='L4595'>                      ((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)-&gt;data,
<a name='L4596'>                      <a href='../S/515.html#L31' title='Defined at 31 in Include/datetime.h.'>_PyDateTime_DATETIME_DATASIZE</a>);
<a name='L4597'>        <b>return</b> <a href='../S/2560.html#L1379' title='Defined at 1379 in Modules/_datetimemodule.c.'>diff_to_bool</a>(<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>, op);
<a name='L4598'>    <font color='red'>}</font>
<a name='L4599'>    offset1 = <a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>(self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L4600'>    <b>if</b> (offset1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4601'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4602'>    offset2 = <a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>(<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L4603'>    <b>if</b> (offset2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4604'>        <b>goto</b> done;
<a name='L4605'>    <i><font color='green'>/* If they're both naive, or both aware and have the same offsets,</font></i>
<a name='L4606'><i><font color='green'>     * we get off cheap.  Note that if they're both naive, offset1 ==</font></i>
<a name='L4607'><i><font color='green'>     * offset2 == Py_None at this point.</font></i>
<a name='L4608'><i><font color='green'>     */</font></i>
<a name='L4609'>    <b>if</b> ((offset1 == offset2) ||
<a name='L4610'>        (<a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(offset1) &amp;&amp; <a href='../D/3085.html' title='Multiple defined in 2 places.'>PyDelta_Check</a>(offset2) &amp;&amp;
<a name='L4611'>         <a href='../S/2560.html#L1819' title='Defined at 1819 in Modules/_datetimemodule.c.'>delta_cmp</a>(offset1, offset2) == 0)) <font color='red'>{</font>
<a name='L4612'>        <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = memcmp(((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)self)-&gt;data,
<a name='L4613'>                      ((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)<a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>)-&gt;data,
<a name='L4614'>                      <a href='../S/515.html#L31' title='Defined at 31 in Include/datetime.h.'>_PyDateTime_DATETIME_DATASIZE</a>);
<a name='L4615'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1379' title='Defined at 1379 in Modules/_datetimemodule.c.'>diff_to_bool</a>(<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>, op);
<a name='L4616'>    <font color='red'>}</font>
<a name='L4617'>    <b>else</b> <b>if</b> (offset1 != Py_None &amp;&amp; offset2 != Py_None) <font color='red'>{</font>
<a name='L4618'>        <a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *delta;
<a name='L4619'>
<a name='L4620'>        <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(offset1 != offset2); <i><font color='green'>/* else last "if" handled it */</font></i>
<a name='L4621'>        delta = (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)<a href='../S/2560.html#L4391' title='Defined at 4391 in Modules/_datetimemodule.c.'>datetime_subtract</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self,
<a name='L4622'>                                                       <a href='../S/2669.html#L1431' title='Defined at 1431 in Modules/expat/xmltok_impl.c.'>other</a>);
<a name='L4623'>        <b>if</b> (delta == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4624'>            <b>goto</b> done;
<a name='L4625'>        <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = <a href='../S/2560.html#L79' title='Defined at 79 in Modules/_datetimemodule.c.'>GET_TD_DAYS</a>(delta);
<a name='L4626'>        <b>if</b> (<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> == 0)
<a name='L4627'>            <a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a> = <a href='../S/2560.html#L80' title='Defined at 80 in Modules/_datetimemodule.c.'>GET_TD_SECONDS</a>(delta) |
<a name='L4628'>                   <a href='../S/2560.html#L81' title='Defined at 81 in Modules/_datetimemodule.c.'>GET_TD_MICROSECONDS</a>(delta);
<a name='L4629'>        Py_DECREF(delta);
<a name='L4630'>        <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L1379' title='Defined at 1379 in Modules/_datetimemodule.c.'>diff_to_bool</a>(<a href='../S/3095.html#L906' title='Defined at 906 in Python/dtoa.c.'>diff</a>, op);
<a name='L4631'>    <font color='red'>}</font>
<a name='L4632'>    <b>else</b> <font color='red'>{</font>
<a name='L4633'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_TypeError,
<a name='L4634'>                        "can't compare offset-naive and "
<a name='L4635'>                        "offset-aware datetimes");
<a name='L4636'>    <font color='red'>}</font>
<a name='L4637'> done:
<a name='L4638'>    Py_DECREF(offset1);
<a name='L4639'>    <a href='../S/544.html#L767' title='Defined at 767 in Include/object.h.'>Py_XDECREF</a>(offset2);
<a name='L4640'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4641'><font color='red'>}</font>
<a name='L4642'>
<a name='L4643'><b>static</b> <a href='../S/565.html#L186' title='Defined at 186 in Include/pyport.h.'>Py_hash_t</a>
<a name='L4644'><a href='../S/2560.html#L5006' title='Refered from 5006 in Modules/_datetimemodule.c.'>datetime_hash</a>(PyDateTime_DateTime *self)
<a name='L4645'><font color='red'>{</font>
<a name='L4646'>    <b>if</b> (self-&gt;hashcode == -1) <font color='red'>{</font>
<a name='L4647'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L4648'>
<a name='L4649'>        offset = <a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L4650'>
<a name='L4651'>        <b>if</b> (offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4652'>            <b>return</b> -1;
<a name='L4653'>
<a name='L4654'>        <i><font color='green'>/* Reduce this to a hash of another object. */</font></i>
<a name='L4655'>        <b>if</b> (offset == Py_None)
<a name='L4656'>            self-&gt;hashcode = <a href='../S/2560.html#L2781' title='Defined at 2781 in Modules/_datetimemodule.c.'>generic_hash</a>(
<a name='L4657'>                (<b>unsigned</b> <b>char</b> *)self-&gt;data, <a href='../S/515.html#L31' title='Defined at 31 in Include/datetime.h.'>_PyDateTime_DATETIME_DATASIZE</a>);
<a name='L4658'>        <b>else</b> <font color='red'>{</font>
<a name='L4659'>            <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp1, *temp2;
<a name='L4660'>            <b>int</b> days, seconds;
<a name='L4661'>
<a name='L4662'>            <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self));
<a name='L4663'>            days = <a href='../S/2560.html#L342' title='Defined at 342 in Modules/_datetimemodule.c.'>ymd_to_ord</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self),
<a name='L4664'>                              <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self),
<a name='L4665'>                              <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self));
<a name='L4666'>            seconds = <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self) * 3600 +
<a name='L4667'>                      <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self) * 60 +
<a name='L4668'>                      <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self);
<a name='L4669'>            temp1 = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(days, seconds,
<a name='L4670'>                              <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(self),
<a name='L4671'>                              1);
<a name='L4672'>            <b>if</b> (temp1 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L4673'>                Py_DECREF(offset);
<a name='L4674'>                <b>return</b> -1;
<a name='L4675'>            <font color='red'>}</font>
<a name='L4676'>            temp2 = <a href='../S/2560.html#L1798' title='Defined at 1798 in Modules/_datetimemodule.c.'>delta_subtract</a>(temp1, offset);
<a name='L4677'>            Py_DECREF(temp1);
<a name='L4678'>            <b>if</b> (temp2 == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L4679'>                Py_DECREF(offset);
<a name='L4680'>                <b>return</b> -1;
<a name='L4681'>            <font color='red'>}</font>
<a name='L4682'>            self-&gt;hashcode = <a href='../S/2803.html#L758' title='Defined at 758 in Objects/object.c.'>PyObject_Hash</a>(temp2);
<a name='L4683'>            Py_DECREF(temp2);
<a name='L4684'>        <font color='red'>}</font>
<a name='L4685'>        Py_DECREF(offset);
<a name='L4686'>    <font color='red'>}</font>
<a name='L4687'>    <b>return</b> self-&gt;hashcode;
<a name='L4688'><font color='red'>}</font>
<a name='L4689'>
<a name='L4690'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4691'><a href='../S/2560.html#L4961' title='Refered from 4961 in Modules/_datetimemodule.c.'>datetime_replace</a>(PyDateTime_DateTime *self, PyObject *args, PyObject *kw)
<a name='L4692'><font color='red'>{</font>
<a name='L4693'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *clone;
<a name='L4694'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tuple;
<a name='L4695'>    <b>int</b> y = <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self);
<a name='L4696'>    <b>int</b> m = <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self);
<a name='L4697'>    <b>int</b> d = <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self);
<a name='L4698'>    <b>int</b> hh = <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self);
<a name='L4699'>    <b>int</b> mm = <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self);
<a name='L4700'>    <b>int</b> ss = <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self);
<a name='L4701'>    <b>int</b> us = <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(self);
<a name='L4702'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo = <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) ? self-&gt;tzinfo : Py_None;
<a name='L4703'>
<a name='L4704'>    <b>if</b> (! <a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "|iiiiiiiO:replace",
<a name='L4705'>                                      datetime_kws,
<a name='L4706'>                                      &amp;y, &amp;m, &amp;d, &amp;hh, &amp;mm, &amp;ss, &amp;us,
<a name='L4707'>                                      &amp;tzinfo))
<a name='L4708'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4709'>    tuple = <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("iiiiiiiO", y, m, d, hh, mm, ss, us, tzinfo);
<a name='L4710'>    <b>if</b> (tuple == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4711'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4712'>    clone = <a href='../S/2560.html#L4023' title='Defined at 4023 in Modules/_datetimemodule.c.'>datetime_new</a>(<a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), tuple, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L4713'>    Py_DECREF(tuple);
<a name='L4714'>    <b>return</b> clone;
<a name='L4715'><font color='red'>}</font>
<a name='L4716'>
<a name='L4717'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4718'><a href='../S/2560.html#L4964' title='Refered from 4964 in Modules/_datetimemodule.c.'>datetime_astimezone</a>(PyDateTime_DateTime *self, PyObject *args, PyObject *kw)
<a name='L4719'><font color='red'>{</font>
<a name='L4720'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4721'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L4722'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *temp;
<a name='L4723'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo;
<a name='L4724'>    <b>static</b> <b>char</b> *keywords[] = <font color='red'>{</font>"tz", <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>;
<a name='L4725'>
<a name='L4726'>    <b>if</b> (! <a href='../D/2732.html' title='Multiple defined in 2 places.'>PyArg_ParseTupleAndKeywords</a>(<a href='../S/2858.html#L294' title='Defined at 294 in PC/bdist_wininst/install.c.'>args</a>, kw, "O!:astimezone", keywords,
<a name='L4727'>                                      &amp;PyDateTime_TZInfoType, &amp;tzinfo))
<a name='L4728'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4729'>
<a name='L4730'>    <b>if</b> (!<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) || self-&gt;tzinfo == Py_None)
<a name='L4731'>        <b>goto</b> NeedAware;
<a name='L4732'>
<a name='L4733'>    <i><font color='green'>/* Conversion to self's own time zone is a NOP. */</font></i>
<a name='L4734'>    <b>if</b> (self-&gt;tzinfo == tzinfo) <font color='red'>{</font>
<a name='L4735'>        Py_INCREF(self);
<a name='L4736'>        <b>return</b> (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self;
<a name='L4737'>    <font color='red'>}</font>
<a name='L4738'>
<a name='L4739'>    <i><font color='green'>/* Convert self to UTC. */</font></i>
<a name='L4740'>    offset = <a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>((<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L4741'>    <b>if</b> (offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4742'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4743'>    <b>if</b> (offset == Py_None) <font color='red'>{</font>
<a name='L4744'>        Py_DECREF(offset);
<a name='L4745'>      NeedAware:
<a name='L4746'>        <a href='../S/3106.html#L122' title='Defined at 122 in Python/errors.c.'>PyErr_SetString</a>(PyExc_ValueError, "astimezone() cannot be applied to "
<a name='L4747'>                        "a naive datetime");
<a name='L4748'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4749'>    <font color='red'>}</font>
<a name='L4750'>
<a name='L4751'>    <i><font color='green'>/* result = self - offset */</font></i>
<a name='L4752'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>(self,
<a name='L4753'>                (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)offset, -1);
<a name='L4754'>    Py_DECREF(offset);
<a name='L4755'>    <b>if</b> (<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4756'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4757'>
<a name='L4758'>    <i><font color='green'>/* Attach new tzinfo and let fromutc() do the rest. */</font></i>
<a name='L4759'>    temp = ((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)-&gt;tzinfo;
<a name='L4760'>    ((<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>)-&gt;tzinfo = tzinfo;
<a name='L4761'>    Py_INCREF(tzinfo);
<a name='L4762'>    Py_DECREF(temp);
<a name='L4763'>
<a name='L4764'>    temp = <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4765'>    <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../D/3603.html' title='Multiple defined in 2 places.'>PyObject_CallMethod</a>(tzinfo, "fromutc", "O", temp);
<a name='L4766'>    Py_DECREF(temp);
<a name='L4767'>
<a name='L4768'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4769'><font color='red'>}</font>
<a name='L4770'>
<a name='L4771'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4772'><a href='../S/2560.html#L4940' title='Refered from 4940 in Modules/_datetimemodule.c.'>datetime_timetuple</a>(PyDateTime_DateTime *self)
<a name='L4773'><font color='red'>{</font>
<a name='L4774'>    <b>int</b> dstflag = -1;
<a name='L4775'>
<a name='L4776'>    <b>if</b> (<a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) &amp;&amp; self-&gt;tzinfo != Py_None) <font color='red'>{</font>
<a name='L4777'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> * dst;
<a name='L4778'>
<a name='L4779'>        dst = <a href='../S/2560.html#L934' title='Defined at 934 in Modules/_datetimemodule.c.'>call_dst</a>(self-&gt;tzinfo, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L4780'>        <b>if</b> (dst == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4781'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4782'>
<a name='L4783'>        <b>if</b> (dst != Py_None)
<a name='L4784'>            dstflag = <a href='../S/2560.html#L2187' title='Defined at 2187 in Modules/_datetimemodule.c.'>delta_bool</a>((<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)dst);
<a name='L4785'>        Py_DECREF(dst);
<a name='L4786'>    <font color='red'>}</font>
<a name='L4787'>    <b>return</b> <a href='../S/2560.html#L1351' title='Defined at 1351 in Modules/_datetimemodule.c.'>build_struct_time</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self),
<a name='L4788'>                             <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self),
<a name='L4789'>                             <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self),
<a name='L4790'>                             <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self),
<a name='L4791'>                             <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self),
<a name='L4792'>                             <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self),
<a name='L4793'>                             dstflag);
<a name='L4794'><font color='red'>}</font>
<a name='L4795'>
<a name='L4796'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4797'><a href='../S/2560.html#L4928' title='Refered from 4928 in Modules/_datetimemodule.c.'>datetime_getdate</a>(PyDateTime_DateTime *self)
<a name='L4798'><font color='red'>{</font>
<a name='L4799'>    <b>return</b> <a href='../S/2560.html#L670' title='Defined at 670 in Modules/_datetimemodule.c.'>new_date</a>(<a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(self),
<a name='L4800'>                    <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(self),
<a name='L4801'>                    <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(self));
<a name='L4802'><font color='red'>}</font>
<a name='L4803'>
<a name='L4804'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4805'><a href='../S/2560.html#L4931' title='Refered from 4931 in Modules/_datetimemodule.c.'>datetime_gettime</a>(PyDateTime_DateTime *self)
<a name='L4806'><font color='red'>{</font>
<a name='L4807'>    <b>return</b> <a href='../S/2560.html#L725' title='Defined at 725 in Modules/_datetimemodule.c.'>new_time</a>(<a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self),
<a name='L4808'>                    <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self),
<a name='L4809'>                    <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self),
<a name='L4810'>                    <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(self),
<a name='L4811'>                    Py_None);
<a name='L4812'><font color='red'>}</font>
<a name='L4813'>
<a name='L4814'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4815'><a href='../S/2560.html#L4934' title='Refered from 4934 in Modules/_datetimemodule.c.'>datetime_gettimetz</a>(PyDateTime_DateTime *self)
<a name='L4816'><font color='red'>{</font>
<a name='L4817'>    <b>return</b> <a href='../S/2560.html#L725' title='Defined at 725 in Modules/_datetimemodule.c.'>new_time</a>(<a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(self),
<a name='L4818'>                    <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(self),
<a name='L4819'>                    <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(self),
<a name='L4820'>                    <a href='../S/2560.html#L48' title='Defined at 48 in Modules/_datetimemodule.c.'>DATE_GET_MICROSECOND</a>(self),
<a name='L4821'>                    <a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(self));
<a name='L4822'><font color='red'>}</font>
<a name='L4823'>
<a name='L4824'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4825'><a href='../S/2560.html#L4943' title='Refered from 4943 in Modules/_datetimemodule.c.'>datetime_utctimetuple</a>(PyDateTime_DateTime *self)
<a name='L4826'><font color='red'>{</font>
<a name='L4827'>    <b>int</b> y, m, d, hh, mm, ss;
<a name='L4828'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *tzinfo;
<a name='L4829'>    <a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *utcself;
<a name='L4830'>
<a name='L4831'>    tzinfo = <a href='../S/2560.html#L93' title='Defined at 93 in Modules/_datetimemodule.c.'>GET_DT_TZINFO</a>(self);
<a name='L4832'>    <b>if</b> (tzinfo == Py_None) <font color='red'>{</font>
<a name='L4833'>        utcself = self;
<a name='L4834'>        Py_INCREF(utcself);
<a name='L4835'>    <font color='red'>}</font>
<a name='L4836'>    <b>else</b> <font color='red'>{</font>
<a name='L4837'>        <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *offset;
<a name='L4838'>        offset = <a href='../S/2560.html#L920' title='Defined at 920 in Modules/_datetimemodule.c.'>call_utcoffset</a>(tzinfo, (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)self);
<a name='L4839'>        <b>if</b> (offset == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4840'>            <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4841'>        <b>if</b> (offset == Py_None) <font color='red'>{</font>
<a name='L4842'>            Py_DECREF(offset);
<a name='L4843'>            utcself = self;
<a name='L4844'>            Py_INCREF(utcself);
<a name='L4845'>        <font color='red'>}</font>
<a name='L4846'>        <b>else</b> <font color='red'>{</font>
<a name='L4847'>            utcself = (<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a> *)<a href='../S/2560.html#L4343' title='Defined at 4343 in Modules/_datetimemodule.c.'>add_datetime_timedelta</a>(self,
<a name='L4848'>                                                (<a href='../S/515.html#L41' title='Defined at 41 in Include/datetime.h.'>PyDateTime_Delta</a> *)offset, -1);
<a name='L4849'>            Py_DECREF(offset);
<a name='L4850'>            <b>if</b> (utcself == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L4851'>                <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4852'>        <font color='red'>}</font>
<a name='L4853'>    <font color='red'>}</font>
<a name='L4854'>    y = <a href='../S/2560.html#L42' title='Defined at 42 in Modules/_datetimemodule.c.'>GET_YEAR</a>(utcself);
<a name='L4855'>    m = <a href='../S/2560.html#L43' title='Defined at 43 in Modules/_datetimemodule.c.'>GET_MONTH</a>(utcself);
<a name='L4856'>    d = <a href='../S/2560.html#L44' title='Defined at 44 in Modules/_datetimemodule.c.'>GET_DAY</a>(utcself);
<a name='L4857'>    hh = <a href='../S/2560.html#L45' title='Defined at 45 in Modules/_datetimemodule.c.'>DATE_GET_HOUR</a>(utcself);
<a name='L4858'>    mm = <a href='../S/2560.html#L46' title='Defined at 46 in Modules/_datetimemodule.c.'>DATE_GET_MINUTE</a>(utcself);
<a name='L4859'>    ss = <a href='../S/2560.html#L47' title='Defined at 47 in Modules/_datetimemodule.c.'>DATE_GET_SECOND</a>(utcself);
<a name='L4860'>
<a name='L4861'>    Py_DECREF(utcself);
<a name='L4862'>    <b>return</b> <a href='../S/2560.html#L1351' title='Defined at 1351 in Modules/_datetimemodule.c.'>build_struct_time</a>(y, m, d, hh, mm, ss, 0);
<a name='L4863'><font color='red'>}</font>
<a name='L4864'>
<a name='L4865'><i><font color='green'>/* Pickle support, a simple use of __reduce__. */</font></i>
<a name='L4866'>
<a name='L4867'><i><font color='green'>/* Let basestate be the non-tzinfo data string.</font></i>
<a name='L4868'><i><font color='green'> * If tzinfo is None, this returns (basestate,), else (basestate, tzinfo).</font></i>
<a name='L4869'><i><font color='green'> * So it's a tuple in any (non-error) case.</font></i>
<a name='L4870'><i><font color='green'> * __getstate__ isn't exposed.</font></i>
<a name='L4871'><i><font color='green'> */</font></i>
<a name='L4872'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4873'><a href='../S/2560.html#L4893' title='Refered from 4893 in Modules/_datetimemodule.c.'>datetime_getstate</a>(PyDateTime_DateTime *self)
<a name='L4874'><font color='red'>{</font>
<a name='L4875'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *basestate;
<a name='L4876'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *<a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L4877'>
<a name='L4878'>    basestate = <a href='../S/2779.html#L70' title='Defined at 70 in Objects/bytesobject.c.'>PyBytes_FromStringAndSize</a>((<b>char</b> *)self-&gt;data,
<a name='L4879'>                                           <a href='../S/515.html#L31' title='Defined at 31 in Include/datetime.h.'>_PyDateTime_DATETIME_DATASIZE</a>);
<a name='L4880'>    <b>if</b> (basestate != <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>) <font color='red'>{</font>
<a name='L4881'>        <b>if</b> (! <a href='../S/2560.html#L90' title='Defined at 90 in Modules/_datetimemodule.c.'>HASTZINFO</a>(self) || self-&gt;tzinfo == Py_None)
<a name='L4882'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2823.html#L186' title='Defined at 186 in Objects/tupleobject.c.'>PyTuple_Pack</a>(1, basestate);
<a name='L4883'>        <b>else</b>
<a name='L4884'>            <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a> = <a href='../S/2823.html#L186' title='Defined at 186 in Objects/tupleobject.c.'>PyTuple_Pack</a>(2, basestate, self-&gt;tzinfo);
<a name='L4885'>        Py_DECREF(basestate);
<a name='L4886'>    <font color='red'>}</font>
<a name='L4887'>    <b>return</b> <a href='../S/2250.html#L579' title='Defined at 579 in Modules/_ctypes/callproc.c.'>result</a>;
<a name='L4888'><font color='red'>}</font>
<a name='L4889'>
<a name='L4890'><b>static</b> <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *
<a name='L4891'><a href='../S/2560.html#L4967' title='Refered from 4967 in Modules/_datetimemodule.c.'>datetime_reduce</a>(PyDateTime_DateTime *self, PyObject *arg)
<a name='L4892'><font color='red'>{</font>
<a name='L4893'>    <b>return</b> <a href='../D/4089.html' title='Multiple defined in 2 places.'>Py_BuildValue</a>("(ON)", <a href='../D/4259.html' title='Multiple defined in 5 places.'>Py_TYPE</a>(self), <a href='../S/2560.html#L4873' title='Defined at 4873 in Modules/_datetimemodule.c.'>datetime_getstate</a>(self));
<a name='L4894'><font color='red'>}</font>
<a name='L4895'>
<a name='L4896'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> datetime_methods[] = <font color='red'>{</font>
<a name='L4897'>
<a name='L4898'>    <i><font color='green'>/* Class methods: */</font></i>
<a name='L4899'>
<a name='L4900'>    <font color='red'>{</font>"now",         (PyCFunction)<a href='../S/2560.html#L4180' title='Defined at 4180 in Modules/_datetimemodule.c.'>datetime_now</a>,
<a name='L4901'>     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS | METH_CLASS,
<a name='L4902'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("[tz] -&gt; new datetime with tz's local day and time.")<font color='red'>}</font>,
<a name='L4903'>
<a name='L4904'>    <font color='red'>{</font>"utcnow",         (PyCFunction)<a href='../S/2560.html#L4208' title='Defined at 4208 in Modules/_datetimemodule.c.'>datetime_utcnow</a>,
<a name='L4905'>     <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a> | METH_CLASS,
<a name='L4906'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return a new datetime representing UTC day and time.")<font color='red'>}</font>,
<a name='L4907'>
<a name='L4908'>    <font color='red'>{</font>"fromtimestamp", (PyCFunction)<a href='../S/2560.html#L4215' title='Defined at 4215 in Modules/_datetimemodule.c.'>datetime_fromtimestamp</a>,
<a name='L4909'>     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS | METH_CLASS,
<a name='L4910'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("timestamp[, tz] -&gt; tz's local time from POSIX timestamp.")<font color='red'>}</font>,
<a name='L4911'>
<a name='L4912'>    <font color='red'>{</font>"utcfromtimestamp", (PyCFunction)<a href='../S/2560.html#L4243' title='Defined at 4243 in Modules/_datetimemodule.c.'>datetime_utcfromtimestamp</a>,
<a name='L4913'>     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_CLASS,
<a name='L4914'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("timestamp -&gt; UTC datetime from a POSIX timestamp "
<a name='L4915'>               "(like time.time()).")<font color='red'>}</font>,
<a name='L4916'>
<a name='L4917'>    <font color='red'>{</font>"strptime", (PyCFunction)<a href='../S/2560.html#L4256' title='Defined at 4256 in Modules/_datetimemodule.c.'>datetime_strptime</a>,
<a name='L4918'>     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_CLASS,
<a name='L4919'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("string, format -&gt; new datetime parsed from a string "
<a name='L4920'>               "(like time.strptime()).")<font color='red'>}</font>,
<a name='L4921'>
<a name='L4922'>    <font color='red'>{</font>"combine", (PyCFunction)<a href='../S/2560.html#L4275' title='Defined at 4275 in Modules/_datetimemodule.c.'>datetime_combine</a>,
<a name='L4923'>     <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS | METH_CLASS,
<a name='L4924'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("date, time -&gt; datetime with same date and time fields")<font color='red'>}</font>,
<a name='L4925'>
<a name='L4926'>    <i><font color='green'>/* Instance methods: */</font></i>
<a name='L4927'>
<a name='L4928'>    <font color='red'>{</font>"date",   (PyCFunction)<a href='../S/2560.html#L4797' title='Defined at 4797 in Modules/_datetimemodule.c.'>datetime_getdate</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4929'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return date object with same year, month and day.")<font color='red'>}</font>,
<a name='L4930'>
<a name='L4931'>    <font color='red'>{</font>"time",   (PyCFunction)<a href='../S/2560.html#L4805' title='Defined at 4805 in Modules/_datetimemodule.c.'>datetime_gettime</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4932'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return time object with same time but with tzinfo=None.")<font color='red'>}</font>,
<a name='L4933'>
<a name='L4934'>    <font color='red'>{</font>"timetz",   (PyCFunction)<a href='../S/2560.html#L4815' title='Defined at 4815 in Modules/_datetimemodule.c.'>datetime_gettimetz</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4935'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return time object with same time and tzinfo.")<font color='red'>}</font>,
<a name='L4936'>
<a name='L4937'>    <font color='red'>{</font>"ctime",       (PyCFunction)<a href='../S/2560.html#L4557' title='Defined at 4557 in Modules/_datetimemodule.c.'>datetime_ctime</a>,        <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4938'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return ctime() style string.")<font color='red'>}</font>,
<a name='L4939'>
<a name='L4940'>    <font color='red'>{</font>"timetuple",   (PyCFunction)<a href='../S/2560.html#L4772' title='Defined at 4772 in Modules/_datetimemodule.c.'>datetime_timetuple</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4941'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return time tuple, compatible with time.localtime().")<font color='red'>}</font>,
<a name='L4942'>
<a name='L4943'>    <font color='red'>{</font>"utctimetuple",   (PyCFunction)<a href='../S/2560.html#L4825' title='Defined at 4825 in Modules/_datetimemodule.c.'>datetime_utctimetuple</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4944'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return UTC time tuple, compatible with time.localtime().")<font color='red'>}</font>,
<a name='L4945'>
<a name='L4946'>    <font color='red'>{</font>"isoformat",   (PyCFunction)<a href='../S/2560.html#L4520' title='Defined at 4520 in Modules/_datetimemodule.c.'>datetime_isoformat</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L4947'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("[sep] -&gt; string in ISO 8601 format, "
<a name='L4948'>               "YYYY-MM-DDTHH:MM:SS[.mmmmmm][+HH:MM].\n\n"
<a name='L4949'>               "sep is used to separate the year from the time, and "
<a name='L4950'>               "defaults to 'T'.")<font color='red'>}</font>,
<a name='L4951'>
<a name='L4952'>    <font color='red'>{</font>"utcoffset",       (PyCFunction)<a href='../S/2560.html#L4321' title='Defined at 4321 in Modules/_datetimemodule.c.'>datetime_utcoffset</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4953'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return self.tzinfo.utcoffset(self).")<font color='red'>}</font>,
<a name='L4954'>
<a name='L4955'>    <font color='red'>{</font>"tzname",          (PyCFunction)<a href='../S/2560.html#L4331' title='Defined at 4331 in Modules/_datetimemodule.c.'>datetime_tzname</a>,   <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4956'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return self.tzinfo.tzname(self).")<font color='red'>}</font>,
<a name='L4957'>
<a name='L4958'>    <font color='red'>{</font>"dst",             (PyCFunction)<a href='../S/2560.html#L4326' title='Defined at 4326 in Modules/_datetimemodule.c.'>datetime_dst</a>, <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4959'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return self.tzinfo.dst(self).")<font color='red'>}</font>,
<a name='L4960'>
<a name='L4961'>    <font color='red'>{</font>"replace",     (PyCFunction)<a href='../S/2560.html#L4691' title='Defined at 4691 in Modules/_datetimemodule.c.'>datetime_replace</a>,      <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L4962'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("Return datetime with new specified fields.")<font color='red'>}</font>,
<a name='L4963'>
<a name='L4964'>    <font color='red'>{</font>"astimezone",  (PyCFunction)<a href='../S/2560.html#L4718' title='Defined at 4718 in Modules/_datetimemodule.c.'>datetime_astimezone</a>, <a href='../S/2858.html#L633' title='Defined at 633 in PC/bdist_wininst/install.c.'>METH_VARARGS</a> | METH_KEYWORDS,
<a name='L4965'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("tz -&gt; convert to local time in new timezone tz\n")<font color='red'>}</font>,
<a name='L4966'>
<a name='L4967'>    <font color='red'>{</font>"__reduce__", (PyCFunction)<a href='../S/2560.html#L4891' title='Defined at 4891 in Modules/_datetimemodule.c.'>datetime_reduce</a>,     <a href='../S/2858.html#L634' title='Defined at 634 in PC/bdist_wininst/install.c.'>METH_NOARGS</a>,
<a name='L4968'>     <a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("__reduce__() -&gt; (cls, state)")<font color='red'>}</font>,
<a name='L4969'>
<a name='L4970'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,      <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L4971'><font color='red'>}</font>;
<a name='L4972'>
<a name='L4973'><b>static</b> <b>char</b> datetime_doc[] =
<a name='L4974'><a href='../D/3130.html' title='Multiple defined in 4 places.'>PyDoc_STR</a>("datetime(year, month, day[, hour[, minute[, second[, microsecond[,tzinfo]]]]])\n\
<a name='L4975'>\n\
<a name='L4976'>The year, month and day arguments are required. tzinfo may be None, or an\n\
<a name='L4977'>instance of a tzinfo subclass. The remaining arguments may be ints or longs.\n");
<a name='L4978'>
<a name='L4979'><b>static</b> <a href='../S/544.html#L247' title='Defined at 247 in Include/object.h.'>PyNumberMethods</a> datetime_as_number = <font color='red'>{</font>
<a name='L4980'>    <a href='../S/2560.html#L4369' title='Defined at 4369 in Modules/_datetimemodule.c.'>datetime_add</a>,                               <i><font color='green'>/* nb_add */</font></i>
<a name='L4981'>    <a href='../S/2560.html#L4391' title='Defined at 4391 in Modules/_datetimemodule.c.'>datetime_subtract</a>,                          <i><font color='green'>/* nb_subtract */</font></i>
<a name='L4982'>    0,                                          <i><font color='green'>/* nb_multiply */</font></i>
<a name='L4983'>    0,                                          <i><font color='green'>/* nb_remainder */</font></i>
<a name='L4984'>    0,                                          <i><font color='green'>/* nb_divmod */</font></i>
<a name='L4985'>    0,                                          <i><font color='green'>/* nb_power */</font></i>
<a name='L4986'>    0,                                          <i><font color='green'>/* nb_negative */</font></i>
<a name='L4987'>    0,                                          <i><font color='green'>/* nb_positive */</font></i>
<a name='L4988'>    0,                                          <i><font color='green'>/* nb_absolute */</font></i>
<a name='L4989'>    0,                                          <i><font color='green'>/* nb_bool */</font></i>
<a name='L4990'><font color='red'>}</font>;
<a name='L4991'>
<a name='L4992'><b>static</b> <a href='../D/3899.html' title='Multiple defined in 3 places.'>PyTypeObject</a> PyDateTime_DateTimeType = <font color='red'>{</font>
<a name='L4993'>    <a href='../D/4042.html' title='Multiple defined in 3 places.'>PyVarObject_HEAD_INIT</a>(<a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, 0)
<a name='L4994'>    "datetime.datetime",                        <i><font color='green'>/* tp_name */</font></i>
<a name='L4995'>    <b>sizeof</b>(<a href='../S/515.html#L112' title='Defined at 112 in Include/datetime.h.'>PyDateTime_DateTime</a>),                <i><font color='green'>/* tp_basicsize */</font></i>
<a name='L4996'>    0,                                          <i><font color='green'>/* tp_itemsize */</font></i>
<a name='L4997'>    (<a href='../D/8095.html' title='Multiple defined in 2 places.'>destructor</a>)<a href='../S/2560.html#L4307' title='Defined at 4307 in Modules/_datetimemodule.c.'>datetime_dealloc</a>,               <i><font color='green'>/* tp_dealloc */</font></i>
<a name='L4998'>    0,                                          <i><font color='green'>/* tp_print */</font></i>
<a name='L4999'>    0,                                          <i><font color='green'>/* tp_getattr */</font></i>
<a name='L5000'>    0,                                          <i><font color='green'>/* tp_setattr */</font></i>
<a name='L5001'>    0,                                          <i><font color='green'>/* tp_reserved */</font></i>
<a name='L5002'>    (reprfunc)<a href='../S/2560.html#L4479' title='Defined at 4479 in Modules/_datetimemodule.c.'>datetime_repr</a>,                    <i><font color='green'>/* tp_repr */</font></i>
<a name='L5003'>    &amp;datetime_as_number,                        <i><font color='green'>/* tp_as_number */</font></i>
<a name='L5004'>    0,                                          <i><font color='green'>/* tp_as_sequence */</font></i>
<a name='L5005'>    0,                                          <i><font color='green'>/* tp_as_mapping */</font></i>
<a name='L5006'>    (hashfunc)<a href='../S/2560.html#L4644' title='Defined at 4644 in Modules/_datetimemodule.c.'>datetime_hash</a>,                    <i><font color='green'>/* tp_hash */</font></i>
<a name='L5007'>    0,                                          <i><font color='green'>/* tp_call */</font></i>
<a name='L5008'>    (reprfunc)<a href='../S/2560.html#L4514' title='Defined at 4514 in Modules/_datetimemodule.c.'>datetime_str</a>,                     <i><font color='green'>/* tp_str */</font></i>
<a name='L5009'>    <a href='../S/2803.html#L1046' title='Defined at 1046 in Objects/object.c.'>PyObject_GenericGetAttr</a>,                    <i><font color='green'>/* tp_getattro */</font></i>
<a name='L5010'>    0,                                          <i><font color='green'>/* tp_setattro */</font></i>
<a name='L5011'>    0,                                          <i><font color='green'>/* tp_as_buffer */</font></i>
<a name='L5012'>    Py_TPFLAGS_DEFAULT | Py_TPFLAGS_BASETYPE, <i><font color='green'>/* tp_flags */</font></i>
<a name='L5013'>    datetime_doc,                               <i><font color='green'>/* tp_doc */</font></i>
<a name='L5014'>    0,                                          <i><font color='green'>/* tp_traverse */</font></i>
<a name='L5015'>    0,                                          <i><font color='green'>/* tp_clear */</font></i>
<a name='L5016'>    <a href='../S/2560.html#L4568' title='Defined at 4568 in Modules/_datetimemodule.c.'>datetime_richcompare</a>,                       <i><font color='green'>/* tp_richcompare */</font></i>
<a name='L5017'>    0,                                          <i><font color='green'>/* tp_weaklistoffset */</font></i>
<a name='L5018'>    0,                                          <i><font color='green'>/* tp_iter */</font></i>
<a name='L5019'>    0,                                          <i><font color='green'>/* tp_iternext */</font></i>
<a name='L5020'>    datetime_methods,                           <i><font color='green'>/* tp_methods */</font></i>
<a name='L5021'>    0,                                          <i><font color='green'>/* tp_members */</font></i>
<a name='L5022'>    datetime_getset,                            <i><font color='green'>/* tp_getset */</font></i>
<a name='L5023'>    &amp;PyDateTime_DateType,                       <i><font color='green'>/* tp_base */</font></i>
<a name='L5024'>    0,                                          <i><font color='green'>/* tp_dict */</font></i>
<a name='L5025'>    0,                                          <i><font color='green'>/* tp_descr_get */</font></i>
<a name='L5026'>    0,                                          <i><font color='green'>/* tp_descr_set */</font></i>
<a name='L5027'>    0,                                          <i><font color='green'>/* tp_dictoffset */</font></i>
<a name='L5028'>    0,                                          <i><font color='green'>/* tp_init */</font></i>
<a name='L5029'>    <a href='../S/2560.html#L625' title='Defined at 625 in Modules/_datetimemodule.c.'>datetime_alloc</a>,                             <i><font color='green'>/* tp_alloc */</font></i>
<a name='L5030'>    <a href='../S/2560.html#L4023' title='Defined at 4023 in Modules/_datetimemodule.c.'>datetime_new</a>,                               <i><font color='green'>/* tp_new */</font></i>
<a name='L5031'>    0,                                          <i><font color='green'>/* tp_free */</font></i>
<a name='L5032'><font color='red'>}</font>;
<a name='L5033'>
<a name='L5034'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L5035'><i><font color='green'> * Module methods and initialization.</font></i>
<a name='L5036'><i><font color='green'> */</font></i>
<a name='L5037'>
<a name='L5038'><b>static</b> <a href='../D/3525.html' title='Multiple defined in 3 places.'>PyMethodDef</a> module_methods[] = <font color='red'>{</font>
<a name='L5039'>    <font color='red'>{</font><a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a><font color='red'>}</font>
<a name='L5040'><font color='red'>}</font>;
<a name='L5041'>
<a name='L5042'><i><font color='green'>/* C API.  Clients get at this via PyDateTime_IMPORT, defined in</font></i>
<a name='L5043'><i><font color='green'> * datetime.h.</font></i>
<a name='L5044'><i><font color='green'> */</font></i>
<a name='L5045'><b>static</b> <a href='../S/515.html#L159' title='Defined at 159 in Include/datetime.h.'>PyDateTime_CAPI</a> CAPI = <font color='red'>{</font>
<a name='L5046'>    &amp;PyDateTime_DateType,
<a name='L5047'>    &amp;PyDateTime_DateTimeType,
<a name='L5048'>    &amp;PyDateTime_TimeType,
<a name='L5049'>    &amp;PyDateTime_DeltaType,
<a name='L5050'>    &amp;PyDateTime_TZInfoType,
<a name='L5051'>    <a href='../S/2560.html#L660' title='Defined at 660 in Modules/_datetimemodule.c.'>new_date_ex</a>,
<a name='L5052'>    <a href='../S/2560.html#L675' title='Defined at 675 in Modules/_datetimemodule.c.'>new_datetime_ex</a>,
<a name='L5053'>    <a href='../S/2560.html#L703' title='Defined at 703 in Modules/_datetimemodule.c.'>new_time_ex</a>,
<a name='L5054'>    <a href='../S/2560.html#L735' title='Defined at 735 in Modules/_datetimemodule.c.'>new_delta_ex</a>,
<a name='L5055'>    <a href='../S/2560.html#L4215' title='Defined at 4215 in Modules/_datetimemodule.c.'>datetime_fromtimestamp</a>,
<a name='L5056'>    <a href='../S/2560.html#L2512' title='Defined at 2512 in Modules/_datetimemodule.c.'>date_fromtimestamp</a>
<a name='L5057'><font color='red'>}</font>;
<a name='L5058'>
<a name='L5059'>
<a name='L5060'>
<a name='L5061'><b>static</b> <b>struct</b> <a href='../D/3534.html' title='Multiple defined in 2 places.'>PyModuleDef</a> datetimemodule = <font color='red'>{</font>
<a name='L5062'>    <a href='../S/542.html#L33' title='Defined at 33 in Include/moduleobject.h.'>PyModuleDef_HEAD_INIT</a>,
<a name='L5063'>    "_datetime",
<a name='L5064'>    "Fast implementation of the datetime type.",
<a name='L5065'>    -1,
<a name='L5066'>    module_methods,
<a name='L5067'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L5068'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L5069'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>,
<a name='L5070'>    <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>
<a name='L5071'><font color='red'>}</font>;
<a name='L5072'>
<a name='L5073'><a href='../D/3482.html' title='Multiple defined in 10 places.'>PyMODINIT_FUNC</a>
<a name='L5074'><a href='../R/3024.html' title='Multiple refered from 2 places.'>PyInit__datetime</a>(<b>void</b>)
<a name='L5075'><font color='red'>{</font>
<a name='L5076'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *m;        <i><font color='green'>/* a module object */</font></i>
<a name='L5077'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *d;        <i><font color='green'>/* its dict */</font></i>
<a name='L5078'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *x;
<a name='L5079'>    <a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *delta;
<a name='L5080'>
<a name='L5081'>    m = PyModule_Create(&amp;datetimemodule);
<a name='L5082'>    <b>if</b> (m == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L5083'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5084'>
<a name='L5085'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;PyDateTime_DateType) &lt; 0)
<a name='L5086'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5087'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;PyDateTime_DateTimeType) &lt; 0)
<a name='L5088'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5089'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;PyDateTime_DeltaType) &lt; 0)
<a name='L5090'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5091'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;PyDateTime_TimeType) &lt; 0)
<a name='L5092'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5093'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;PyDateTime_TZInfoType) &lt; 0)
<a name='L5094'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5095'>    <b>if</b> (<a href='../S/2824.html#L3799' title='Defined at 3799 in Objects/typeobject.c.'>PyType_Ready</a>(&amp;PyDateTime_TimeZoneType) &lt; 0)
<a name='L5096'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5097'>
<a name='L5098'>    <i><font color='green'>/* timedelta values */</font></i>
<a name='L5099'>    d = PyDateTime_DeltaType.tp_dict;
<a name='L5100'>
<a name='L5101'>    x = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(0, 0, 1, 0);
<a name='L5102'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "resolution", x) &lt; 0)
<a name='L5103'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5104'>    Py_DECREF(x);
<a name='L5105'>
<a name='L5106'>    x = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(-<a href='../S/2560.html#L39' title='Defined at 39 in Modules/_datetimemodule.c.'>MAX_DELTA_DAYS</a>, 0, 0, 0);
<a name='L5107'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "min", x) &lt; 0)
<a name='L5108'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5109'>    Py_DECREF(x);
<a name='L5110'>
<a name='L5111'>    x = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(<a href='../S/2560.html#L39' title='Defined at 39 in Modules/_datetimemodule.c.'>MAX_DELTA_DAYS</a>, 24*3600-1, 1000000-1, 0);
<a name='L5112'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "max", x) &lt; 0)
<a name='L5113'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5114'>    Py_DECREF(x);
<a name='L5115'>
<a name='L5116'>    <i><font color='green'>/* date values */</font></i>
<a name='L5117'>    d = PyDateTime_DateType.tp_dict;
<a name='L5118'>
<a name='L5119'>    x = <a href='../S/2560.html#L670' title='Defined at 670 in Modules/_datetimemodule.c.'>new_date</a>(1, 1, 1);
<a name='L5120'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "min", x) &lt; 0)
<a name='L5121'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5122'>    Py_DECREF(x);
<a name='L5123'>
<a name='L5124'>    x = <a href='../S/2560.html#L670' title='Defined at 670 in Modules/_datetimemodule.c.'>new_date</a>(<a href='../S/2560.html#L31' title='Defined at 31 in Modules/_datetimemodule.c.'>MAXYEAR</a>, 12, 31);
<a name='L5125'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "max", x) &lt; 0)
<a name='L5126'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5127'>    Py_DECREF(x);
<a name='L5128'>
<a name='L5129'>    x = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(1, 0, 0, 0);
<a name='L5130'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "resolution", x) &lt; 0)
<a name='L5131'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5132'>    Py_DECREF(x);
<a name='L5133'>
<a name='L5134'>    <i><font color='green'>/* time values */</font></i>
<a name='L5135'>    d = PyDateTime_TimeType.tp_dict;
<a name='L5136'>
<a name='L5137'>    x = <a href='../S/2560.html#L725' title='Defined at 725 in Modules/_datetimemodule.c.'>new_time</a>(0, 0, 0, 0, Py_None);
<a name='L5138'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "min", x) &lt; 0)
<a name='L5139'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5140'>    Py_DECREF(x);
<a name='L5141'>
<a name='L5142'>    x = <a href='../S/2560.html#L725' title='Defined at 725 in Modules/_datetimemodule.c.'>new_time</a>(23, 59, 59, 999999, Py_None);
<a name='L5143'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "max", x) &lt; 0)
<a name='L5144'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5145'>    Py_DECREF(x);
<a name='L5146'>
<a name='L5147'>    x = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(0, 0, 1, 0);
<a name='L5148'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "resolution", x) &lt; 0)
<a name='L5149'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5150'>    Py_DECREF(x);
<a name='L5151'>
<a name='L5152'>    <i><font color='green'>/* datetime values */</font></i>
<a name='L5153'>    d = PyDateTime_DateTimeType.tp_dict;
<a name='L5154'>
<a name='L5155'>    x = <a href='../S/2560.html#L697' title='Defined at 697 in Modules/_datetimemodule.c.'>new_datetime</a>(1, 1, 1, 0, 0, 0, 0, Py_None);
<a name='L5156'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "min", x) &lt; 0)
<a name='L5157'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5158'>    Py_DECREF(x);
<a name='L5159'>
<a name='L5160'>    x = <a href='../S/2560.html#L697' title='Defined at 697 in Modules/_datetimemodule.c.'>new_datetime</a>(<a href='../S/2560.html#L31' title='Defined at 31 in Modules/_datetimemodule.c.'>MAXYEAR</a>, 12, 31, 23, 59, 59, 999999, Py_None);
<a name='L5161'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "max", x) &lt; 0)
<a name='L5162'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5163'>    Py_DECREF(x);
<a name='L5164'>
<a name='L5165'>    x = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(0, 0, 1, 0);
<a name='L5166'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "resolution", x) &lt; 0)
<a name='L5167'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5168'>    Py_DECREF(x);
<a name='L5169'>
<a name='L5170'>    <i><font color='green'>/* timezone values */</font></i>
<a name='L5171'>    d = PyDateTime_TimeZoneType.tp_dict;
<a name='L5172'>
<a name='L5173'>    delta = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(0, 0, 0, 0);
<a name='L5174'>    <b>if</b> (delta == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L5175'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5176'>    x = <a href='../S/2560.html#L777' title='Defined at 777 in Modules/_datetimemodule.c.'>create_timezone</a>(delta, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L5177'>    Py_DECREF(delta);
<a name='L5178'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "utc", x) &lt; 0)
<a name='L5179'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5180'>    PyDateTime_TimeZone_UTC = x;
<a name='L5181'>
<a name='L5182'>    delta = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(-1, 60, 0, 1); <i><font color='green'>/* -23:59 */</font></i>
<a name='L5183'>    <b>if</b> (delta == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L5184'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5185'>    x = <a href='../S/2560.html#L777' title='Defined at 777 in Modules/_datetimemodule.c.'>create_timezone</a>(delta, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L5186'>    Py_DECREF(delta);
<a name='L5187'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "min", x) &lt; 0)
<a name='L5188'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5189'>    Py_DECREF(x);
<a name='L5190'>
<a name='L5191'>    delta = <a href='../S/2560.html#L758' title='Defined at 758 in Modules/_datetimemodule.c.'>new_delta</a>(0, (23 * 60 + 59) * 60, 0, 0); <i><font color='green'>/* +23:59 */</font></i>
<a name='L5192'>    <b>if</b> (delta == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L5193'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5194'>    x = <a href='../S/2560.html#L777' title='Defined at 777 in Modules/_datetimemodule.c.'>create_timezone</a>(delta, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L5195'>    Py_DECREF(delta);
<a name='L5196'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || <a href='../S/2787.html#L2180' title='Defined at 2180 in Objects/dictobject.c.'>PyDict_SetItemString</a>(d, "max", x) &lt; 0)
<a name='L5197'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5198'>    Py_DECREF(x);
<a name='L5199'>
<a name='L5200'>    <i><font color='green'>/* module initialization */</font></i>
<a name='L5201'>    <a href='../S/3125.html#L554' title='Defined at 554 in Python/modsupport.c.'>PyModule_AddIntConstant</a>(m, "MINYEAR", <a href='../S/2560.html#L30' title='Defined at 30 in Modules/_datetimemodule.c.'>MINYEAR</a>);
<a name='L5202'>    <a href='../S/3125.html#L554' title='Defined at 554 in Python/modsupport.c.'>PyModule_AddIntConstant</a>(m, "MAXYEAR", <a href='../S/2560.html#L31' title='Defined at 31 in Modules/_datetimemodule.c.'>MAXYEAR</a>);
<a name='L5203'>
<a name='L5204'>    Py_INCREF(&amp;PyDateTime_DateType);
<a name='L5205'>    <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "date", (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) &amp;PyDateTime_DateType);
<a name='L5206'>
<a name='L5207'>    Py_INCREF(&amp;PyDateTime_DateTimeType);
<a name='L5208'>    <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "datetime",
<a name='L5209'>                       (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *)&amp;PyDateTime_DateTimeType);
<a name='L5210'>
<a name='L5211'>    Py_INCREF(&amp;PyDateTime_TimeType);
<a name='L5212'>    <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "time", (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) &amp;PyDateTime_TimeType);
<a name='L5213'>
<a name='L5214'>    Py_INCREF(&amp;PyDateTime_DeltaType);
<a name='L5215'>    <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "timedelta", (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) &amp;PyDateTime_DeltaType);
<a name='L5216'>
<a name='L5217'>    Py_INCREF(&amp;PyDateTime_TZInfoType);
<a name='L5218'>    <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "tzinfo", (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) &amp;PyDateTime_TZInfoType);
<a name='L5219'>
<a name='L5220'>    Py_INCREF(&amp;PyDateTime_TimeZoneType);
<a name='L5221'>    <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "timezone", (<a href='../D/3593.html' title='Multiple defined in 2 places.'>PyObject</a> *) &amp;PyDateTime_TimeZoneType);
<a name='L5222'>
<a name='L5223'>    x = <a href='../S/2780.html#L44' title='Defined at 44 in Objects/capsule.c.'>PyCapsule_New</a>(&amp;CAPI, <a href='../S/515.html#L161' title='Defined at 161 in Include/datetime.h.'>PyDateTime_CAPSULE_NAME</a>, <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>);
<a name='L5224'>    <b>if</b> (x == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L5225'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5226'>    <a href='../S/3125.html#L525' title='Defined at 525 in Python/modsupport.c.'>PyModule_AddObject</a>(m, "datetime_CAPI", x);
<a name='L5227'>
<a name='L5228'>    <i><font color='green'>/* A 4-year cycle has an extra leap day over what we'd get from</font></i>
<a name='L5229'><i><font color='green'>     * pasting together 4 single years.</font></i>
<a name='L5230'><i><font color='green'>     */</font></i>
<a name='L5231'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L252' title='Defined at 252 in Modules/_datetimemodule.c.'>DI4Y</a> == 4 * 365 + 1);
<a name='L5232'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L252' title='Defined at 252 in Modules/_datetimemodule.c.'>DI4Y</a> == <a href='../S/2560.html#L238' title='Defined at 238 in Modules/_datetimemodule.c.'>days_before_year</a>(4+1));
<a name='L5233'>
<a name='L5234'>    <i><font color='green'>/* Similarly, a 400-year cycle has an extra leap day over what we'd</font></i>
<a name='L5235'><i><font color='green'>     * get from pasting together 4 100-year cycles.</font></i>
<a name='L5236'><i><font color='green'>     */</font></i>
<a name='L5237'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L254' title='Defined at 254 in Modules/_datetimemodule.c.'>DI400Y</a> == 4 * <a href='../S/2560.html#L253' title='Defined at 253 in Modules/_datetimemodule.c.'>DI100Y</a> + 1);
<a name='L5238'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L254' title='Defined at 254 in Modules/_datetimemodule.c.'>DI400Y</a> == <a href='../S/2560.html#L238' title='Defined at 238 in Modules/_datetimemodule.c.'>days_before_year</a>(400+1));
<a name='L5239'>
<a name='L5240'>    <i><font color='green'>/* OTOH, a 100-year cycle has one fewer leap day than we'd get from</font></i>
<a name='L5241'><i><font color='green'>     * pasting together 25 4-year cycles.</font></i>
<a name='L5242'><i><font color='green'>     */</font></i>
<a name='L5243'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L253' title='Defined at 253 in Modules/_datetimemodule.c.'>DI100Y</a> == 25 * <a href='../S/2560.html#L252' title='Defined at 252 in Modules/_datetimemodule.c.'>DI4Y</a> - 1);
<a name='L5244'>    <a href='../D/6814.html' title='Multiple defined in 2 places.'>assert</a>(<a href='../S/2560.html#L253' title='Defined at 253 in Modules/_datetimemodule.c.'>DI100Y</a> == <a href='../S/2560.html#L238' title='Defined at 238 in Modules/_datetimemodule.c.'>days_before_year</a>(100+1));
<a name='L5245'>
<a name='L5246'>    us_per_us = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(1);
<a name='L5247'>    us_per_ms = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(1000);
<a name='L5248'>    us_per_second = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(1000000);
<a name='L5249'>    us_per_minute = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(60000000);
<a name='L5250'>    seconds_per_day = <a href='../S/2799.html#L176' title='Defined at 176 in Objects/longobject.c.'>PyLong_FromLong</a>(24 * 3600);
<a name='L5251'>    <b>if</b> (us_per_us == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || us_per_ms == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || us_per_second == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> ||
<a name='L5252'>        us_per_minute == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || seconds_per_day == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L5253'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5254'>
<a name='L5255'>    <i><font color='green'>/* The rest are too big for 32-bit ints, but even</font></i>
<a name='L5256'><i><font color='green'>     * us_per_week fits in 40 bits, so doubles should be exact.</font></i>
<a name='L5257'><i><font color='green'>     */</font></i>
<a name='L5258'>    us_per_hour = <a href='../S/2799.html#L274' title='Defined at 274 in Objects/longobject.c.'>PyLong_FromDouble</a>(3600000000.0);
<a name='L5259'>    us_per_day = <a href='../S/2799.html#L274' title='Defined at 274 in Objects/longobject.c.'>PyLong_FromDouble</a>(86400000000.0);
<a name='L5260'>    us_per_week = <a href='../S/2799.html#L274' title='Defined at 274 in Objects/longobject.c.'>PyLong_FromDouble</a>(604800000000.0);
<a name='L5261'>    <b>if</b> (us_per_hour == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || us_per_day == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a> || us_per_week == <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>)
<a name='L5262'>        <b>return</b> <a href='../S/2891.html#L5' title='Defined at 5 in PC/os2emx/dllentry.c.'>NULL</a>;
<a name='L5263'>    <b>return</b> m;
<a name='L5264'><font color='red'>}</font>
<a name='L5265'>
<a name='L5266'><i><font color='green'>/* ---------------------------------------------------------------------------</font></i>
<a name='L5267'><i><font color='green'>Some time zone algebra.  For a datetime x, let</font></i>
<a name='L5268'><i><font color='green'>    x.n = x stripped of its timezone -- its naive time.</font></i>
<a name='L5269'><i><font color='green'>    x.o = x.utcoffset(), and assuming that doesn't raise an exception or</font></i>
<a name='L5270'><i><font color='green'>      return None</font></i>
<a name='L5271'><i><font color='green'>    x.d = x.dst(), and assuming that doesn't raise an exception or</font></i>
<a name='L5272'><i><font color='green'>      return None</font></i>
<a name='L5273'><i><font color='green'>    x.s = x's standard offset, x.o - x.d</font></i>
<a name='L5274'><i><font color='green'></font></i>
<a name='L5275'><i><font color='green'>Now some derived rules, where k is a duration (timedelta).</font></i>
<a name='L5276'><i><font color='green'></font></i>
<a name='L5277'><i><font color='green'>1. x.o = x.s + x.d</font></i>
<a name='L5278'><i><font color='green'>   This follows from the definition of x.s.</font></i>
<a name='L5279'><i><font color='green'></font></i>
<a name='L5280'><i><font color='green'>2. If x and y have the same tzinfo member, x.s = y.s.</font></i>
<a name='L5281'><i><font color='green'>   This is actually a requirement, an assumption we need to make about</font></i>
<a name='L5282'><i><font color='green'>   sane tzinfo classes.</font></i>
<a name='L5283'><i><font color='green'></font></i>
<a name='L5284'><i><font color='green'>3. The naive UTC time corresponding to x is x.n - x.o.</font></i>
<a name='L5285'><i><font color='green'>   This is again a requirement for a sane tzinfo class.</font></i>
<a name='L5286'><i><font color='green'></font></i>
<a name='L5287'><i><font color='green'>4. (x+k).s = x.s</font></i>
<a name='L5288'><i><font color='green'>   This follows from #2, and that datimetimetz+timedelta preserves tzinfo.</font></i>
<a name='L5289'><i><font color='green'></font></i>
<a name='L5290'><i><font color='green'>5. (x+k).n = x.n + k</font></i>
<a name='L5291'><i><font color='green'>   Again follows from how arithmetic is defined.</font></i>
<a name='L5292'><i><font color='green'></font></i>
<a name='L5293'><i><font color='green'>Now we can explain tz.fromutc(x).  Let's assume it's an interesting case</font></i>
<a name='L5294'><i><font color='green'>(meaning that the various tzinfo methods exist, and don't blow up or return</font></i>
<a name='L5295'><i><font color='green'>None when called).</font></i>
<a name='L5296'><i><font color='green'></font></i>
<a name='L5297'><i><font color='green'>The function wants to return a datetime y with timezone tz, equivalent to x.</font></i>
<a name='L5298'><i><font color='green'>x is already in UTC.</font></i>
<a name='L5299'><i><font color='green'></font></i>
<a name='L5300'><i><font color='green'>By #3, we want</font></i>
<a name='L5301'><i><font color='green'></font></i>
<a name='L5302'><i><font color='green'>    y.n - y.o = x.n                             [1]</font></i>
<a name='L5303'><i><font color='green'></font></i>
<a name='L5304'><i><font color='green'>The algorithm starts by attaching tz to x.n, and calling that y.  So</font></i>
<a name='L5305'><i><font color='green'>x.n = y.n at the start.  Then it wants to add a duration k to y, so that [1]</font></i>
<a name='L5306'><i><font color='green'>becomes true; in effect, we want to solve [2] for k:</font></i>
<a name='L5307'><i><font color='green'></font></i>
<a name='L5308'><i><font color='green'>   (y+k).n - (y+k).o = x.n                      [2]</font></i>
<a name='L5309'><i><font color='green'></font></i>
<a name='L5310'><i><font color='green'>By #1, this is the same as</font></i>
<a name='L5311'><i><font color='green'></font></i>
<a name='L5312'><i><font color='green'>   (y+k).n - ((y+k).s + (y+k).d) = x.n          [3]</font></i>
<a name='L5313'><i><font color='green'></font></i>
<a name='L5314'><i><font color='green'>By #5, (y+k).n = y.n + k, which equals x.n + k because x.n=y.n at the start.</font></i>
<a name='L5315'><i><font color='green'>Substituting that into [3],</font></i>
<a name='L5316'><i><font color='green'></font></i>
<a name='L5317'><i><font color='green'>   x.n + k - (y+k).s - (y+k).d = x.n; the x.n terms cancel, leaving</font></i>
<a name='L5318'><i><font color='green'>   k - (y+k).s - (y+k).d = 0; rearranging,</font></i>
<a name='L5319'><i><font color='green'>   k = (y+k).s - (y+k).d; by #4, (y+k).s == y.s, so</font></i>
<a name='L5320'><i><font color='green'>   k = y.s - (y+k).d</font></i>
<a name='L5321'><i><font color='green'></font></i>
<a name='L5322'><i><font color='green'>On the RHS, (y+k).d can't be computed directly, but y.s can be, and we</font></i>
<a name='L5323'><i><font color='green'>approximate k by ignoring the (y+k).d term at first.  Note that k can't be</font></i>
<a name='L5324'><i><font color='green'>very large, since all offset-returning methods return a duration of magnitude</font></i>
<a name='L5325'><i><font color='green'>less than 24 hours.  For that reason, if y is firmly in std time, (y+k).d must</font></i>
<a name='L5326'><i><font color='green'>be 0, so ignoring it has no consequence then.</font></i>
<a name='L5327'><i><font color='green'></font></i>
<a name='L5328'><i><font color='green'>In any case, the new value is</font></i>
<a name='L5329'><i><font color='green'></font></i>
<a name='L5330'><i><font color='green'>    z = y + y.s                                 [4]</font></i>
<a name='L5331'><i><font color='green'></font></i>
<a name='L5332'><i><font color='green'>It's helpful to step back at look at [4] from a higher level:  it's simply</font></i>
<a name='L5333'><i><font color='green'>mapping from UTC to tz's standard time.</font></i>
<a name='L5334'><i><font color='green'></font></i>
<a name='L5335'><i><font color='green'>At this point, if</font></i>
<a name='L5336'><i><font color='green'></font></i>
<a name='L5337'><i><font color='green'>    z.n - z.o = x.n                             [5]</font></i>
<a name='L5338'><i><font color='green'></font></i>
<a name='L5339'><i><font color='green'>we have an equivalent time, and are almost done.  The insecurity here is</font></i>
<a name='L5340'><i><font color='green'>at the start of daylight time.  Picture US Eastern for concreteness.  The wall</font></i>
<a name='L5341'><i><font color='green'>time jumps from 1:59 to 3:00, and wall hours of the form 2:MM don't make good</font></i>
<a name='L5342'><i><font color='green'>sense then.  The docs ask that an Eastern tzinfo class consider such a time to</font></i>
<a name='L5343'><i><font color='green'>be EDT (because it's "after 2"), which is a redundant spelling of 1:MM EST</font></i>
<a name='L5344'><i><font color='green'>on the day DST starts.  We want to return the 1:MM EST spelling because that's</font></i>
<a name='L5345'><i><font color='green'>the only spelling that makes sense on the local wall clock.</font></i>
<a name='L5346'><i><font color='green'></font></i>
<a name='L5347'><i><font color='green'>In fact, if [5] holds at this point, we do have the standard-time spelling,</font></i>
<a name='L5348'><i><font color='green'>but that takes a bit of proof.  We first prove a stronger result.  What's the</font></i>
<a name='L5349'><i><font color='green'>difference between the LHS and RHS of [5]?  Let</font></i>
<a name='L5350'><i><font color='green'></font></i>
<a name='L5351'><i><font color='green'>    diff = x.n - (z.n - z.o)                    [6]</font></i>
<a name='L5352'><i><font color='green'></font></i>
<a name='L5353'><i><font color='green'>Now</font></i>
<a name='L5354'><i><font color='green'>    z.n =                       by [4]</font></i>
<a name='L5355'><i><font color='green'>    (y + y.s).n =               by #5</font></i>
<a name='L5356'><i><font color='green'>    y.n + y.s =                 since y.n = x.n</font></i>
<a name='L5357'><i><font color='green'>    x.n + y.s =                 since z and y are have the same tzinfo member,</font></i>
<a name='L5358'><i><font color='green'>                                    y.s = z.s by #2</font></i>
<a name='L5359'><i><font color='green'>    x.n + z.s</font></i>
<a name='L5360'><i><font color='green'></font></i>
<a name='L5361'><i><font color='green'>Plugging that back into [6] gives</font></i>
<a name='L5362'><i><font color='green'></font></i>
<a name='L5363'><i><font color='green'>    diff =</font></i>
<a name='L5364'><i><font color='green'>    x.n - ((x.n + z.s) - z.o) =     expanding</font></i>
<a name='L5365'><i><font color='green'>    x.n - x.n - z.s + z.o =         cancelling</font></i>
<a name='L5366'><i><font color='green'>    - z.s + z.o =                   by #2</font></i>
<a name='L5367'><i><font color='green'>    z.d</font></i>
<a name='L5368'><i><font color='green'></font></i>
<a name='L5369'><i><font color='green'>So diff = z.d.</font></i>
<a name='L5370'><i><font color='green'></font></i>
<a name='L5371'><i><font color='green'>If [5] is true now, diff = 0, so z.d = 0 too, and we have the standard-time</font></i>
<a name='L5372'><i><font color='green'>spelling we wanted in the endcase described above.  We're done.  Contrarily,</font></i>
<a name='L5373'><i><font color='green'>if z.d = 0, then we have a UTC equivalent, and are also done.</font></i>
<a name='L5374'><i><font color='green'></font></i>
<a name='L5375'><i><font color='green'>If [5] is not true now, diff = z.d != 0, and z.d is the offset we need to</font></i>
<a name='L5376'><i><font color='green'>add to z (in effect, z is in tz's standard time, and we need to shift the</font></i>
<a name='L5377'><i><font color='green'>local clock into tz's daylight time).</font></i>
<a name='L5378'><i><font color='green'></font></i>
<a name='L5379'><i><font color='green'>Let</font></i>
<a name='L5380'><i><font color='green'></font></i>
<a name='L5381'><i><font color='green'>    z' = z + z.d = z + diff                     [7]</font></i>
<a name='L5382'><i><font color='green'></font></i>
<a name='L5383'><i><font color='green'>and we can again ask whether</font></i>
<a name='L5384'><i><font color='green'></font></i>
<a name='L5385'><i><font color='green'>    z'.n - z'.o = x.n                           [8]</font></i>
<a name='L5386'><i><font color='green'></font></i>
<a name='L5387'><i><font color='green'>If so, we're done.  If not, the tzinfo class is insane, according to the</font></i>
<a name='L5388'><i><font color='green'>assumptions we've made.  This also requires a bit of proof.  As before, let's</font></i>
<a name='L5389'><i><font color='green'>compute the difference between the LHS and RHS of [8] (and skipping some of</font></i>
<a name='L5390'><i><font color='green'>the justifications for the kinds of substitutions we've done several times</font></i>
<a name='L5391'><i><font color='green'>already):</font></i>
<a name='L5392'><i><font color='green'></font></i>
<a name='L5393'><i><font color='green'>    diff' = x.n - (z'.n - z'.o) =           replacing z'.n via [7]</font></i>
<a name='L5394'><i><font color='green'>        x.n  - (z.n + diff - z'.o) =    replacing diff via [6]</font></i>
<a name='L5395'><i><font color='green'>        x.n - (z.n + x.n - (z.n - z.o) - z'.o) =</font></i>
<a name='L5396'><i><font color='green'>        x.n - z.n - x.n + z.n - z.o + z'.o =    cancel x.n</font></i>
<a name='L5397'><i><font color='green'>        - z.n + z.n - z.o + z'.o =              cancel z.n</font></i>
<a name='L5398'><i><font color='green'>        - z.o + z'.o =                      #1 twice</font></i>
<a name='L5399'><i><font color='green'>        -z.s - z.d + z'.s + z'.d =          z and z' have same tzinfo</font></i>
<a name='L5400'><i><font color='green'>        z'.d - z.d</font></i>
<a name='L5401'><i><font color='green'></font></i>
<a name='L5402'><i><font color='green'>So z' is UTC-equivalent to x iff z'.d = z.d at this point.  If they are equal,</font></i>
<a name='L5403'><i><font color='green'>we've found the UTC-equivalent so are done.  In fact, we stop with [7] and</font></i>
<a name='L5404'><i><font color='green'>return z', not bothering to compute z'.d.</font></i>
<a name='L5405'><i><font color='green'></font></i>
<a name='L5406'><i><font color='green'>How could z.d and z'd differ?  z' = z + z.d [7], so merely moving z' by</font></i>
<a name='L5407'><i><font color='green'>a dst() offset, and starting *from* a time already in DST (we know z.d != 0),</font></i>
<a name='L5408'><i><font color='green'>would have to change the result dst() returns:  we start in DST, and moving</font></i>
<a name='L5409'><i><font color='green'>a little further into it takes us out of DST.</font></i>
<a name='L5410'><i><font color='green'></font></i>
<a name='L5411'><i><font color='green'>There isn't a sane case where this can happen.  The closest it gets is at</font></i>
<a name='L5412'><i><font color='green'>the end of DST, where there's an hour in UTC with no spelling in a hybrid</font></i>
<a name='L5413'><i><font color='green'>tzinfo class.  In US Eastern, that's 5:MM UTC = 0:MM EST = 1:MM EDT.  During</font></i>
<a name='L5414'><i><font color='green'>that hour, on an Eastern clock 1:MM is taken as being in standard time (6:MM</font></i>
<a name='L5415'><i><font color='green'>UTC) because the docs insist on that, but 0:MM is taken as being in daylight</font></i>
<a name='L5416'><i><font color='green'>time (4:MM UTC).  There is no local time mapping to 5:MM UTC.  The local</font></i>
<a name='L5417'><i><font color='green'>clock jumps from 1:59 back to 1:00 again, and repeats the 1:MM hour in</font></i>
<a name='L5418'><i><font color='green'>standard time.  Since that's what the local clock *does*, we want to map both</font></i>
<a name='L5419'><i><font color='green'>UTC hours 5:MM and 6:MM to 1:MM Eastern.  The result is ambiguous</font></i>
<a name='L5420'><i><font color='green'>in local time, but so it goes -- it's the way the local clock works.</font></i>
<a name='L5421'><i><font color='green'></font></i>
<a name='L5422'><i><font color='green'>When x = 5:MM UTC is the input to this algorithm, x.o=0, y.o=-5 and y.d=0,</font></i>
<a name='L5423'><i><font color='green'>so z=0:MM.  z.d=60 (minutes) then, so [5] doesn't hold and we keep going.</font></i>
<a name='L5424'><i><font color='green'>z' = z + z.d = 1:MM then, and z'.d=0, and z'.d - z.d = -60 != 0 so [8]</font></i>
<a name='L5425'><i><font color='green'>(correctly) concludes that z' is not UTC-equivalent to x.</font></i>
<a name='L5426'><i><font color='green'></font></i>
<a name='L5427'><i><font color='green'>Because we know z.d said z was in daylight time (else [5] would have held and</font></i>
<a name='L5428'><i><font color='green'>we would have stopped then), and we know z.d != z'.d (else [8] would have held</font></i>
<a name='L5429'><i><font color='green'>and we would have stopped then), and there are only 2 possible values dst() can</font></i>
<a name='L5430'><i><font color='green'>return in Eastern, it follows that z'.d must be 0 (which it is in the example,</font></i>
<a name='L5431'><i><font color='green'>but the reasoning doesn't depend on the example -- it depends on there being</font></i>
<a name='L5432'><i><font color='green'>two possible dst() outcomes, one zero and the other non-zero).  Therefore</font></i>
<a name='L5433'><i><font color='green'>z' must be in standard time, and is the spelling we want in this case.</font></i>
<a name='L5434'><i><font color='green'></font></i>
<a name='L5435'><i><font color='green'>Note again that z' is not UTC-equivalent as far as the hybrid tzinfo class is</font></i>
<a name='L5436'><i><font color='green'>concerned (because it takes z' as being in standard time rather than the</font></i>
<a name='L5437'><i><font color='green'>daylight time we intend here), but returning it gives the real-life "local</font></i>
<a name='L5438'><i><font color='green'>clock repeats an hour" behavior when mapping the "unspellable" UTC hour into</font></i>
<a name='L5439'><i><font color='green'>tz.</font></i>
<a name='L5440'><i><font color='green'></font></i>
<a name='L5441'><i><font color='green'>When the input is 6:MM, z=1:MM and z.d=0, and we stop at once, again with</font></i>
<a name='L5442'><i><font color='green'>the 1:MM standard time spelling we want.</font></i>
<a name='L5443'><i><font color='green'></font></i>
<a name='L5444'><i><font color='green'>So how can this break?  One of the assumptions must be violated.  Two</font></i>
<a name='L5445'><i><font color='green'>possibilities:</font></i>
<a name='L5446'><i><font color='green'></font></i>
<a name='L5447'><i><font color='green'>1) [2] effectively says that y.s is invariant across all y belong to a given</font></i>
<a name='L5448'><i><font color='green'>   time zone.  This isn't true if, for political reasons or continental drift,</font></i>
<a name='L5449'><i><font color='green'>   a region decides to change its base offset from UTC.</font></i>
<a name='L5450'><i><font color='green'></font></i>
<a name='L5451'><i><font color='green'>2) There may be versions of "double daylight" time where the tail end of</font></i>
<a name='L5452'><i><font color='green'>   the analysis gives up a step too early.  I haven't thought about that</font></i>
<a name='L5453'><i><font color='green'>   enough to say.</font></i>
<a name='L5454'><i><font color='green'></font></i>
<a name='L5455'><i><font color='green'>In any case, it's clear that the default fromutc() is strong enough to handle</font></i>
<a name='L5456'><i><font color='green'>"almost all" time zones:  so long as the standard offset is invariant, it</font></i>
<a name='L5457'><i><font color='green'>doesn't matter if daylight time transition points change from year to year, or</font></i>
<a name='L5458'><i><font color='green'>if daylight time is skipped in some years; it doesn't matter how large or</font></i>
<a name='L5459'><i><font color='green'>small dst() may get within its bounds; and it doesn't even matter if some</font></i>
<a name='L5460'><i><font color='green'>perverse time zone returns a negative dst()).  So a breaking case must be</font></i>
<a name='L5461'><i><font color='green'>pretty bizarre, and a tzinfo subclass can override fromutc() if it is.</font></i>
<a name='L5462'><i><font color='green'>--------------------------------------------------------------------------- */</font></i>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L130'>[^]</a><a href='#L5074'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
